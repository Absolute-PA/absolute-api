'use strict';function a97_0x17ff(){const _0xe826cb=['Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','audio','12OwKHqs','join','log','findByIdAndRemove','length','decorate','filter','918273aRkRny','__esModule','Error\x20playing\x20sound:\x20','logger','1098295jxvBqC','includes','4LpVFYd','metadata','getAllProducts','error','assets','save','macOS','Linux\x20detected!\x20Playing\x20sound...','Product','productModel','object','defineProperty','__metadata','@nestjs/mongoose','detectOs','884937cvkUQO','updateProduct','@nestjs/common','__param','Logger','682892Yhyzav','create','1030986uvtRpg','2638600dqdsgY','exec','../common/utils','5767191DXljiM','Model','Playing\x20sound...','path','BassSample.mp3','ProductService','addProduct','findById','mongoose','function'];a97_0x17ff=function(){return _0xe826cb;};return a97_0x17ff();}const a97_0xa0e48b=a97_0x3a2c;(function(_0x562cb3,_0x1a5c53){const _0xaacd85=a97_0x3a2c,_0x23bc9f=_0x562cb3();while(!![]){try{const _0x57ca12=parseInt(_0xaacd85(0x1da))/0x1+parseInt(_0xaacd85(0x1c3))/0x2+-parseInt(_0xaacd85(0x1bc))/0x3*(parseInt(_0xaacd85(0x1e0))/0x4)+-parseInt(_0xaacd85(0x1de))/0x5*(parseInt(_0xaacd85(0x1d3))/0x6)+parseInt(_0xaacd85(0x1c1))/0x7+parseInt(_0xaacd85(0x1c4))/0x8+-parseInt(_0xaacd85(0x1c7))/0x9;if(_0x57ca12===_0x1a5c53)break;else _0x23bc9f['push'](_0x23bc9f['shift']());}catch(_0x47a744){_0x23bc9f['push'](_0x23bc9f['shift']());}}}(a97_0x17ff,0x76aa3));function a97_0x3a2c(_0x24193a,_0x147473){const _0x17ffcd=a97_0x17ff();return a97_0x3a2c=function(_0x3a2c32,_0x5cad5b){_0x3a2c32=_0x3a2c32-0x1b3;let _0x4c364c=_0x17ffcd[_0x3a2c32];return _0x4c364c;},a97_0x3a2c(_0x24193a,_0x147473);}var __decorate=this&&this['__decorate']||function(_0x2cea70,_0x471b9d,_0x502e30,_0xd15633){const _0x5cfc84=a97_0x3a2c;var _0x5ab87b=arguments[_0x5cfc84(0x1d7)],_0x3e2b90=_0x5ab87b<0x3?_0x471b9d:_0xd15633===null?_0xd15633=Object['getOwnPropertyDescriptor'](_0x471b9d,_0x502e30):_0xd15633,_0x47460f;if(typeof Reflect===_0x5cfc84(0x1b7)&&typeof Reflect[_0x5cfc84(0x1d8)]===_0x5cfc84(0x1d0))_0x3e2b90=Reflect[_0x5cfc84(0x1d8)](_0x2cea70,_0x471b9d,_0x502e30,_0xd15633);else{for(var _0x2c2d00=_0x2cea70['length']-0x1;_0x2c2d00>=0x0;_0x2c2d00--)if(_0x47460f=_0x2cea70[_0x2c2d00])_0x3e2b90=(_0x5ab87b<0x3?_0x47460f(_0x3e2b90):_0x5ab87b>0x3?_0x47460f(_0x471b9d,_0x502e30,_0x3e2b90):_0x47460f(_0x471b9d,_0x502e30))||_0x3e2b90;}return _0x5ab87b>0x3&&_0x3e2b90&&Object['defineProperty'](_0x471b9d,_0x502e30,_0x3e2b90),_0x3e2b90;},__metadata=this&&this[a97_0xa0e48b(0x1b9)]||function(_0x45a934,_0xfb43be){const _0x5be481=a97_0xa0e48b;if(typeof Reflect===_0x5be481(0x1b7)&&typeof Reflect[_0x5be481(0x1e1)]==='function')return Reflect['metadata'](_0x45a934,_0xfb43be);},__param=this&&this[a97_0xa0e48b(0x1bf)]||function(_0x37e2f9,_0x3248bb){return function(_0x7910e,_0x56524b){_0x3248bb(_0x7910e,_0x56524b,_0x37e2f9);};};Object[a97_0xa0e48b(0x1b8)](exports,a97_0xa0e48b(0x1db),{'value':!![]}),exports[a97_0xa0e48b(0x1cc)]=void 0x0;const common_1=require(a97_0xa0e48b(0x1be)),mongoose_1=require(a97_0xa0e48b(0x1cf)),mongoose_2=require(a97_0xa0e48b(0x1ba)),path=require(a97_0xa0e48b(0x1ca)),child_process_1=require('child_process'),utils_1=require(a97_0xa0e48b(0x1c6));let ProductService=class ProductService{constructor(_0x168c1){const _0x3c4a88=a97_0xa0e48b;this[_0x3c4a88(0x1b6)]=_0x168c1,this[_0x3c4a88(0x1dd)]=new common_1[(_0x3c4a88(0x1c0))](_0x3c4a88(0x1cc));}async['getFilteredProducts'](_0x19bf76){const _0x561b37=a97_0xa0e48b,{category:_0x92169b,search:_0x374d5d}=_0x19bf76;let _0x2429af=await this[_0x561b37(0x1e2)]();return _0x374d5d&&(_0x2429af=_0x2429af[_0x561b37(0x1d9)](_0x2ba169=>_0x2ba169['name'][_0x561b37(0x1df)](_0x374d5d)||_0x2ba169['description'][_0x561b37(0x1df)](_0x374d5d))),_0x92169b&&(_0x2429af=_0x2429af[_0x561b37(0x1d9)](_0x589ce1=>_0x589ce1['category']===_0x92169b)),_0x2429af;}async['getAllProducts'](){const _0x3a96b2=a97_0xa0e48b,_0x2a6512=await this[_0x3a96b2(0x1b6)]['find']()[_0x3a96b2(0x1c5)]();return _0x2a6512;}async['getProduct'](_0x37bd22){const _0x2585b5=a97_0xa0e48b,_0x17cd50=await this[_0x2585b5(0x1b6)][_0x2585b5(0x1ce)](_0x37bd22)[_0x2585b5(0x1c5)](),_0x4e31c6=path[_0x2585b5(0x1d4)](__dirname,'..','..',_0x2585b5(0x1e4),_0x2585b5(0x1d2),_0x2585b5(0x1cb));this[_0x2585b5(0x1dd)][_0x2585b5(0x1d5)](_0x2585b5(0x1c9),_0x4e31c6);if((0x0,utils_1['isRaspberryPi'])())this[_0x2585b5(0x1dd)]['log'](_0x2585b5(0x1d1)),(0x0,child_process_1['exec'])('omxplayer\x20'+_0x4e31c6,_0x5d22d8=>{const _0x1182fb=_0x2585b5;_0x5d22d8&&this[_0x1182fb(0x1dd)][_0x1182fb(0x1e3)](_0x1182fb(0x1dc)+_0x5d22d8);});else(0x0,utils_1[_0x2585b5(0x1bb)])()===_0x2585b5(0x1b3)?(this[_0x2585b5(0x1dd)]['log']('macOS\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x2585b5(0x1c5)])('afplay\x20'+_0x4e31c6,_0x950fb=>{const _0x3adf75=_0x2585b5;_0x950fb&&this['logger'][_0x3adf75(0x1e3)](_0x3adf75(0x1dc)+_0x950fb);})):(this[_0x2585b5(0x1dd)][_0x2585b5(0x1d5)](_0x2585b5(0x1b4)),(0x0,child_process_1[_0x2585b5(0x1c5)])('mpg123\x20'+_0x4e31c6,_0x255fb2=>{const _0x4fa977=_0x2585b5;_0x255fb2&&this['logger'][_0x4fa977(0x1e3)](_0x4fa977(0x1dc)+_0x255fb2);}));return _0x17cd50;}async[a97_0xa0e48b(0x1cd)](_0x22c7a0){const _0x4db809=a97_0xa0e48b,_0x3cc262=await this['productModel'][_0x4db809(0x1c2)](_0x22c7a0);return _0x3cc262[_0x4db809(0x1e5)]();}async[a97_0xa0e48b(0x1bd)](_0x1002ad,_0x4fc536){const _0x2666b2=a97_0xa0e48b,_0x413e16=await this[_0x2666b2(0x1b6)]['findByIdAndUpdate'](_0x1002ad,_0x4fc536,{'new':!![]});return _0x413e16;}async['deleteProduct'](_0x123360){const _0x2f6020=a97_0xa0e48b,_0x160230=await this[_0x2f6020(0x1b6)][_0x2f6020(0x1d6)](_0x123360);return _0x160230;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2['InjectModel'])(a97_0xa0e48b(0x1b5))),__metadata('design:paramtypes',[mongoose_1[a97_0xa0e48b(0x1c8)]])],ProductService),exports[a97_0xa0e48b(0x1cc)]=ProductService;