'use strict';function a94_0x245c(_0x1375b9,_0x295438){const _0x604776=a94_0x6047();return a94_0x245c=function(_0x245c6a,_0x2786e0){_0x245c6a=_0x245c6a-0xd5;let _0x13b0c5=_0x604776[_0x245c6a];return _0x13b0c5;},a94_0x245c(_0x1375b9,_0x295438);}const a94_0x3995d0=a94_0x245c;(function(_0x52c972,_0x19278d){const _0xe82ef0=a94_0x245c,_0x4967c0=_0x52c972();while(!![]){try{const _0x9d156b=-parseInt(_0xe82ef0(0x103))/0x1+-parseInt(_0xe82ef0(0xfe))/0x2+-parseInt(_0xe82ef0(0xf1))/0x3+-parseInt(_0xe82ef0(0xde))/0x4+-parseInt(_0xe82ef0(0x10b))/0x5*(-parseInt(_0xe82ef0(0xfc))/0x6)+parseInt(_0xe82ef0(0xeb))/0x7*(parseInt(_0xe82ef0(0xee))/0x8)+-parseInt(_0xe82ef0(0xd9))/0x9*(-parseInt(_0xe82ef0(0xd6))/0xa);if(_0x9d156b===_0x19278d)break;else _0x4967c0['push'](_0x4967c0['shift']());}catch(_0x28b113){_0x4967c0['push'](_0x4967c0['shift']());}}}(a94_0x6047,0xd2209));function a94_0x6047(){const _0x382d0e=['deleteProduct','category','411905OKNBTD','Product','filter','defineProperty','findByIdAndUpdate','ProductService','InjectModel','Model','1115sJiRYe','findById','getAllProducts','metadata','10NWcuOG','name','audio','14157225JcTXVl','create','length','exec','find','1260924MSoXNX','Playing\x20sound...','macOS\x20detected!\x20Playing\x20sound...','error','join','decorate','../common/utils','save','@nestjs/common','function','child_process','macOS','afplay\x20','3248RcaxuO','findByIdAndRemove','logger','27496iwBLPS','path','omxplayer\x20','1497210QfDqZJ','Error\x20playing\x20sound:\x20','@nestjs/mongoose','__metadata','mpg123\x20','design:paramtypes','productModel','__param','object','getFilteredProducts','updateProduct','4842TjglAD','log','2521734pcqJno','includes','getOwnPropertyDescriptor'];a94_0x6047=function(){return _0x382d0e;};return a94_0x6047();}var __decorate=this&&this['__decorate']||function(_0x59de29,_0x11cb3c,_0x3c57de,_0x20c360){const _0x5640d9=a94_0x245c;var _0x4ea97a=arguments['length'],_0x12c352=_0x4ea97a<0x3?_0x11cb3c:_0x20c360===null?_0x20c360=Object[_0x5640d9(0x100)](_0x11cb3c,_0x3c57de):_0x20c360,_0x4e4eb4;if(typeof Reflect===_0x5640d9(0xf9)&&typeof Reflect[_0x5640d9(0xe3)]===_0x5640d9(0xe7))_0x12c352=Reflect['decorate'](_0x59de29,_0x11cb3c,_0x3c57de,_0x20c360);else{for(var _0x2f4315=_0x59de29[_0x5640d9(0xdb)]-0x1;_0x2f4315>=0x0;_0x2f4315--)if(_0x4e4eb4=_0x59de29[_0x2f4315])_0x12c352=(_0x4ea97a<0x3?_0x4e4eb4(_0x12c352):_0x4ea97a>0x3?_0x4e4eb4(_0x11cb3c,_0x3c57de,_0x12c352):_0x4e4eb4(_0x11cb3c,_0x3c57de))||_0x12c352;}return _0x4ea97a>0x3&&_0x12c352&&Object[_0x5640d9(0x106)](_0x11cb3c,_0x3c57de,_0x12c352),_0x12c352;},__metadata=this&&this[a94_0x3995d0(0xf4)]||function(_0x1a8a48,_0x3f356b){const _0x52cbdf=a94_0x3995d0;if(typeof Reflect===_0x52cbdf(0xf9)&&typeof Reflect[_0x52cbdf(0xd5)]===_0x52cbdf(0xe7))return Reflect[_0x52cbdf(0xd5)](_0x1a8a48,_0x3f356b);},__param=this&&this[a94_0x3995d0(0xf8)]||function(_0x437901,_0x5a6ab5){return function(_0x4b7e00,_0xbd702a){_0x5a6ab5(_0x4b7e00,_0xbd702a,_0x437901);};};Object[a94_0x3995d0(0x106)](exports,'__esModule',{'value':!![]}),exports['ProductService']=void 0x0;const common_1=require(a94_0x3995d0(0xe6)),mongoose_1=require('mongoose'),mongoose_2=require(a94_0x3995d0(0xf3)),path=require(a94_0x3995d0(0xef)),child_process_1=require(a94_0x3995d0(0xe8)),utils_1=require(a94_0x3995d0(0xe4));let ProductService=class ProductService{constructor(_0x3c000f){const _0x2899b5=a94_0x3995d0;this[_0x2899b5(0xf7)]=_0x3c000f,this['logger']=new common_1['Logger'](_0x2899b5(0x108));}async[a94_0x3995d0(0xfa)](_0x1fe85e){const _0x195498=a94_0x3995d0,{category:_0x5b8198,search:_0x2d1346}=_0x1fe85e;let _0xb542ef=await this['getAllProducts']();return _0x2d1346&&(_0xb542ef=_0xb542ef[_0x195498(0x105)](_0x5a82eb=>_0x5a82eb[_0x195498(0xd7)]['includes'](_0x2d1346)||_0x5a82eb['description'][_0x195498(0xff)](_0x2d1346))),_0x5b8198&&(_0xb542ef=_0xb542ef[_0x195498(0x105)](_0xd20624=>_0xd20624[_0x195498(0x102)]===_0x5b8198)),_0xb542ef;}async[a94_0x3995d0(0x10d)](){const _0x19a128=a94_0x3995d0,_0x4f7dcf=await this['productModel'][_0x19a128(0xdd)]()['exec']();return _0x4f7dcf;}async['getProduct'](_0x58e220){const _0x57c955=a94_0x3995d0,_0x2dad32=await this[_0x57c955(0xf7)][_0x57c955(0x10c)](_0x58e220)[_0x57c955(0xdc)](),_0x22dbdc=path[_0x57c955(0xe2)](__dirname,'..','..','assets',_0x57c955(0xd8),'BassSample.mp3');this[_0x57c955(0xed)][_0x57c955(0xfd)](_0x57c955(0xdf),_0x22dbdc);if((0x0,utils_1['isRaspberryPi'])())this[_0x57c955(0xed)][_0x57c955(0xfd)]('Raspberry\x20Pi\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x57c955(0xdc)])(_0x57c955(0xf0)+_0x22dbdc,_0x2a5336=>{const _0x5822a4=_0x57c955;_0x2a5336&&this['logger'][_0x5822a4(0xe1)](_0x5822a4(0xf2)+_0x2a5336);});else(0x0,utils_1['detectOs'])()===_0x57c955(0xe9)?(this['logger']['log'](_0x57c955(0xe0)),(0x0,child_process_1[_0x57c955(0xdc)])(_0x57c955(0xea)+_0x22dbdc,_0x410d21=>{const _0x58d468=_0x57c955;_0x410d21&&this[_0x58d468(0xed)]['error'](_0x58d468(0xf2)+_0x410d21);})):(this['logger'][_0x57c955(0xfd)]('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x57c955(0xdc)])(_0x57c955(0xf5)+_0x22dbdc,_0x36e6ee=>{const _0x3d6477=_0x57c955;_0x36e6ee&&this['logger'][_0x3d6477(0xe1)]('Error\x20playing\x20sound:\x20'+_0x36e6ee);}));return _0x2dad32;}async['addProduct'](_0x27111a){const _0x5acbfd=a94_0x3995d0,_0x502551=await this[_0x5acbfd(0xf7)][_0x5acbfd(0xda)](_0x27111a);return _0x502551[_0x5acbfd(0xe5)]();}async[a94_0x3995d0(0xfb)](_0x56be24,_0x51b361){const _0x2049ec=a94_0x3995d0,_0x325aed=await this[_0x2049ec(0xf7)][_0x2049ec(0x107)](_0x56be24,_0x51b361,{'new':!![]});return _0x325aed;}async[a94_0x3995d0(0x101)](_0x5a3866){const _0x366b71=a94_0x3995d0,_0x5b2741=await this[_0x366b71(0xf7)][_0x366b71(0xec)](_0x5a3866);return _0x5b2741;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2[a94_0x3995d0(0x109)])(a94_0x3995d0(0x104))),__metadata(a94_0x3995d0(0xf6),[mongoose_1[a94_0x3995d0(0x10a)]])],ProductService),exports[a94_0x3995d0(0x108)]=ProductService;