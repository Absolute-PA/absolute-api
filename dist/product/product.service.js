'use strict';const a94_0x589581=a94_0x5a28;function a94_0x3987(){const _0x2120bf=['findByIdAndRemove','58887BqIAMj','46hJSQvE','3443077ggcxCF','detectOs','name','getProduct','audio','exec','__metadata','BassSample.mp3','path','omxplayer\x20','Model','function','assets','productModel','decorate','ProductService','object','error','Error\x20playing\x20sound:\x20','save','log','category','120uxPCHP','@nestjs/mongoose','logger','description','3798936idpcUf','getAllProducts','includes','Logger','getFilteredProducts','5043360ZDWoaB','__esModule','InjectModel','Injectable','mpg123\x20','mongoose','Product','filter','defineProperty','isRaspberryPi','@nestjs/common','macOS\x20detected!\x20Playing\x20sound...','metadata','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','join','Playing\x20sound...','1324352XGPkZF','afplay\x20','length','6ttnPGR','create','2940008rubXyd','10075492WYLpuw','6jTErVq','../common/utils'];a94_0x3987=function(){return _0x2120bf;};return a94_0x3987();}(function(_0x54f269,_0x2b8b40){const _0x341db6=a94_0x5a28,_0x2341be=_0x54f269();while(!![]){try{const _0x3ed9fe=parseInt(_0x341db6(0xbb))/0x1*(-parseInt(_0x341db6(0xbc))/0x2)+-parseInt(_0x341db6(0xb4))/0x3*(parseInt(_0x341db6(0xb6))/0x4)+-parseInt(_0x341db6(0xa1))/0x5*(parseInt(_0x341db6(0xb8))/0x6)+parseInt(_0x341db6(0xb7))/0x7+-parseInt(_0x341db6(0xb1))/0x8+-parseInt(_0x341db6(0x9c))/0x9+-parseInt(_0x341db6(0x98))/0xa*(-parseInt(_0x341db6(0x82))/0xb);if(_0x3ed9fe===_0x2b8b40)break;else _0x2341be['push'](_0x2341be['shift']());}catch(_0x884fb9){_0x2341be['push'](_0x2341be['shift']());}}}(a94_0x3987,0xbd23b));var __decorate=this&&this['__decorate']||function(_0x2252f2,_0x273926,_0x2f0386,_0x39667c){const _0x7e1c5b=a94_0x5a28;var _0x19dfd6=arguments[_0x7e1c5b(0xb3)],_0x1c24c6=_0x19dfd6<0x3?_0x273926:_0x39667c===null?_0x39667c=Object['getOwnPropertyDescriptor'](_0x273926,_0x2f0386):_0x39667c,_0x7de754;if(typeof Reflect===_0x7e1c5b(0x92)&&typeof Reflect['decorate']===_0x7e1c5b(0x8d))_0x1c24c6=Reflect[_0x7e1c5b(0x90)](_0x2252f2,_0x273926,_0x2f0386,_0x39667c);else{for(var _0x504497=_0x2252f2[_0x7e1c5b(0xb3)]-0x1;_0x504497>=0x0;_0x504497--)if(_0x7de754=_0x2252f2[_0x504497])_0x1c24c6=(_0x19dfd6<0x3?_0x7de754(_0x1c24c6):_0x19dfd6>0x3?_0x7de754(_0x273926,_0x2f0386,_0x1c24c6):_0x7de754(_0x273926,_0x2f0386))||_0x1c24c6;}return _0x19dfd6>0x3&&_0x1c24c6&&Object[_0x7e1c5b(0xa9)](_0x273926,_0x2f0386,_0x1c24c6),_0x1c24c6;},__metadata=this&&this[a94_0x589581(0x88)]||function(_0x2e195f,_0x5aa39a){const _0x5e53e3=a94_0x589581;if(typeof Reflect==='object'&&typeof Reflect[_0x5e53e3(0xad)]===_0x5e53e3(0x8d))return Reflect[_0x5e53e3(0xad)](_0x2e195f,_0x5aa39a);},__param=this&&this['__param']||function(_0x413788,_0xf41d57){return function(_0x16fb43,_0x2e88cb){_0xf41d57(_0x16fb43,_0x2e88cb,_0x413788);};};Object['defineProperty'](exports,a94_0x589581(0xa2),{'value':!![]}),exports[a94_0x589581(0x91)]=void 0x0;function a94_0x5a28(_0x812553,_0x2e09ea){const _0x398700=a94_0x3987();return a94_0x5a28=function(_0x5a282d,_0x2f47e8){_0x5a282d=_0x5a282d-0x82;let _0x3a38c6=_0x398700[_0x5a282d];return _0x3a38c6;},a94_0x5a28(_0x812553,_0x2e09ea);}const common_1=require(a94_0x589581(0xab)),mongoose_1=require(a94_0x589581(0xa6)),mongoose_2=require(a94_0x589581(0x99)),path=require(a94_0x589581(0x8a)),child_process_1=require('child_process'),utils_1=require(a94_0x589581(0xb9));let ProductService=class ProductService{constructor(_0x4dd629){const _0x5c593a=a94_0x589581;this[_0x5c593a(0x8f)]=_0x4dd629,this['logger']=new common_1[(_0x5c593a(0x9f))]('ProductService');}async[a94_0x589581(0xa0)](_0x19ff6b){const _0x4b3946=a94_0x589581,{category:_0x371627,search:_0x4124ab}=_0x19ff6b;let _0x5cb480=await this[_0x4b3946(0x9d)]();return _0x4124ab&&(_0x5cb480=_0x5cb480[_0x4b3946(0xa8)](_0x28b108=>_0x28b108[_0x4b3946(0x84)][_0x4b3946(0x9e)](_0x4124ab)||_0x28b108[_0x4b3946(0x9b)][_0x4b3946(0x9e)](_0x4124ab))),_0x371627&&(_0x5cb480=_0x5cb480[_0x4b3946(0xa8)](_0x35d94a=>_0x35d94a[_0x4b3946(0x97)]===_0x371627)),_0x5cb480;}async[a94_0x589581(0x9d)](){const _0x1160c9=a94_0x589581,_0xd5d664=await this[_0x1160c9(0x8f)]['find']()[_0x1160c9(0x87)]();return _0xd5d664;}async[a94_0x589581(0x85)](_0x1d1ca3){const _0x112405=a94_0x589581,_0x23a77f=await this[_0x112405(0x8f)]['findById'](_0x1d1ca3)[_0x112405(0x87)](),_0x204a58=path[_0x112405(0xaf)](__dirname,'..','..',_0x112405(0x8e),_0x112405(0x86),_0x112405(0x89));this['logger'][_0x112405(0x96)](_0x112405(0xb0),_0x204a58);if((0x0,utils_1[_0x112405(0xaa)])())this[_0x112405(0x9a)][_0x112405(0x96)](_0x112405(0xae)),(0x0,child_process_1[_0x112405(0x87)])(_0x112405(0x8b)+_0x204a58,_0x4deed9=>{const _0x5ad793=_0x112405;_0x4deed9&&this[_0x5ad793(0x9a)]['error'](_0x5ad793(0x94)+_0x4deed9);});else(0x0,utils_1[_0x112405(0x83)])()==='macOS'?(this[_0x112405(0x9a)][_0x112405(0x96)](_0x112405(0xac)),(0x0,child_process_1['exec'])(_0x112405(0xb2)+_0x204a58,_0x5edc52=>{const _0x4dbba5=_0x112405;_0x5edc52&&this[_0x4dbba5(0x9a)][_0x4dbba5(0x93)](_0x4dbba5(0x94)+_0x5edc52);})):(this['logger']['log']('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1['exec'])(_0x112405(0xa5)+_0x204a58,_0x5bd4dd=>{const _0x5480a9=_0x112405;_0x5bd4dd&&this['logger'][_0x5480a9(0x93)](_0x5480a9(0x94)+_0x5bd4dd);}));return _0x23a77f;}async['addProduct'](_0x4309af){const _0x4a2e84=a94_0x589581,_0x5c2f65=await this['productModel'][_0x4a2e84(0xb5)](_0x4309af);return _0x5c2f65[_0x4a2e84(0x95)]();}async['updateProduct'](_0x3f50fe,_0x2a97aa){const _0x2ecad3=a94_0x589581,_0x396ed5=await this[_0x2ecad3(0x8f)]['findByIdAndUpdate'](_0x3f50fe,_0x2a97aa,{'new':!![]});return _0x396ed5;}async['deleteProduct'](_0x3eb547){const _0x24e97e=a94_0x589581,_0x2cb813=await this[_0x24e97e(0x8f)][_0x24e97e(0xba)](_0x3eb547);return _0x2cb813;}};ProductService=__decorate([(0x0,common_1[a94_0x589581(0xa4)])(),__param(0x0,(0x0,mongoose_2[a94_0x589581(0xa3)])(a94_0x589581(0xa7))),__metadata('design:paramtypes',[mongoose_1[a94_0x589581(0x8c)]])],ProductService),exports[a94_0x589581(0x91)]=ProductService;