'use strict';const a97_0x522f4a=a97_0x5aac;(function(_0x2d4f28,_0x319f69){const _0x457ccb=a97_0x5aac,_0xd85e0c=_0x2d4f28();while(!![]){try{const _0x58b8c6=-parseInt(_0x457ccb(0x11f))/0x1+-parseInt(_0x457ccb(0x12a))/0x2*(parseInt(_0x457ccb(0x105))/0x3)+parseInt(_0x457ccb(0x111))/0x4*(-parseInt(_0x457ccb(0x124))/0x5)+-parseInt(_0x457ccb(0x112))/0x6+parseInt(_0x457ccb(0xf7))/0x7*(-parseInt(_0x457ccb(0xf9))/0x8)+-parseInt(_0x457ccb(0x108))/0x9*(parseInt(_0x457ccb(0x119))/0xa)+parseInt(_0x457ccb(0x11e))/0xb;if(_0x58b8c6===_0x319f69)break;else _0xd85e0c['push'](_0xd85e0c['shift']());}catch(_0x3d5554){_0xd85e0c['push'](_0xd85e0c['shift']());}}}(a97_0x27b4,0xcde40));function a97_0x27b4(){const _0x3560dd=['5quUMaH','audio','log','isRaspberryPi','__decorate','category','2rsjHlY','ProductService','find','addProduct','filter','updateProduct','BassSample.mp3','__param','getProduct','findByIdAndRemove','Playing\x20sound...','Linux\x20detected!\x20Playing\x20sound...','188041xhRSfd','getOwnPropertyDescriptor','480oRlTAZ','Product','path','metadata','productModel','function','logger','defineProperty','detectOs','description','exec','afplay\x20','1741422KYBjrJ','create','Injectable','33426YtoODf','getAllProducts','length','includes','@nestjs/mongoose','join','child_process','save','macOS\x20detected!\x20Playing\x20sound...','5384976NpVryZ','7961490OMtPqt','Logger','__esModule','Error\x20playing\x20sound:\x20','error','../common/utils','name','3980fnRzwh','@nestjs/common','InjectModel','__metadata','decorate','97043881lgXJWz','1635258PvMKpK','mongoose','assets','Model','object'];a97_0x27b4=function(){return _0x3560dd;};return a97_0x27b4();}var __decorate=this&&this[a97_0x522f4a(0x128)]||function(_0x36578d,_0x7e3a5,_0x48ce2e,_0x3b034d){const _0x2454e2=a97_0x522f4a;var _0x2e41f9=arguments[_0x2454e2(0x10a)],_0x285874=_0x2e41f9<0x3?_0x7e3a5:_0x3b034d===null?_0x3b034d=Object[_0x2454e2(0xf8)](_0x7e3a5,_0x48ce2e):_0x3b034d,_0x31bd04;if(typeof Reflect===_0x2454e2(0x123)&&typeof Reflect[_0x2454e2(0x11d)]===_0x2454e2(0xfe))_0x285874=Reflect[_0x2454e2(0x11d)](_0x36578d,_0x7e3a5,_0x48ce2e,_0x3b034d);else{for(var _0x27bad2=_0x36578d[_0x2454e2(0x10a)]-0x1;_0x27bad2>=0x0;_0x27bad2--)if(_0x31bd04=_0x36578d[_0x27bad2])_0x285874=(_0x2e41f9<0x3?_0x31bd04(_0x285874):_0x2e41f9>0x3?_0x31bd04(_0x7e3a5,_0x48ce2e,_0x285874):_0x31bd04(_0x7e3a5,_0x48ce2e))||_0x285874;}return _0x2e41f9>0x3&&_0x285874&&Object[_0x2454e2(0x100)](_0x7e3a5,_0x48ce2e,_0x285874),_0x285874;},__metadata=this&&this[a97_0x522f4a(0x11c)]||function(_0x1b9ff5,_0x58f7f1){const _0x3c7796=a97_0x522f4a;if(typeof Reflect===_0x3c7796(0x123)&&typeof Reflect[_0x3c7796(0xfc)]===_0x3c7796(0xfe))return Reflect[_0x3c7796(0xfc)](_0x1b9ff5,_0x58f7f1);},__param=this&&this[a97_0x522f4a(0xf2)]||function(_0x5d77d6,_0x28fb19){return function(_0x4c6948,_0x5dacd5){_0x28fb19(_0x4c6948,_0x5dacd5,_0x5d77d6);};};function a97_0x5aac(_0x1e23ab,_0x1e1d37){const _0x27b42d=a97_0x27b4();return a97_0x5aac=function(_0x5aac93,_0x5aaf97){_0x5aac93=_0x5aac93-0xef;let _0x3bd70f=_0x27b42d[_0x5aac93];return _0x3bd70f;},a97_0x5aac(_0x1e23ab,_0x1e1d37);}Object[a97_0x522f4a(0x100)](exports,a97_0x522f4a(0x114),{'value':!![]}),exports[a97_0x522f4a(0x12b)]=void 0x0;const common_1=require(a97_0x522f4a(0x11a)),mongoose_1=require(a97_0x522f4a(0x120)),mongoose_2=require(a97_0x522f4a(0x10c)),path=require(a97_0x522f4a(0xfb)),child_process_1=require(a97_0x522f4a(0x10e)),utils_1=require(a97_0x522f4a(0x117));let ProductService=class ProductService{constructor(_0x63781){const _0x2d6b18=a97_0x522f4a;this[_0x2d6b18(0xfd)]=_0x63781,this[_0x2d6b18(0xff)]=new common_1[(_0x2d6b18(0x113))]('ProductService');}async['getFilteredProducts'](_0x445021){const _0x138c3f=a97_0x522f4a,{category:_0x322cde,search:_0x51ec54}=_0x445021;let _0x1547ec=await this[_0x138c3f(0x109)]();return _0x51ec54&&(_0x1547ec=_0x1547ec[_0x138c3f(0xef)](_0x4c140d=>_0x4c140d[_0x138c3f(0x118)][_0x138c3f(0x10b)](_0x51ec54)||_0x4c140d[_0x138c3f(0x102)]['includes'](_0x51ec54))),_0x322cde&&(_0x1547ec=_0x1547ec['filter'](_0x235c27=>_0x235c27[_0x138c3f(0x129)]===_0x322cde)),_0x1547ec;}async[a97_0x522f4a(0x109)](){const _0x51cffb=a97_0x522f4a,_0x182960=await this[_0x51cffb(0xfd)][_0x51cffb(0x12c)]()[_0x51cffb(0x103)]();return _0x182960;}async[a97_0x522f4a(0xf3)](_0x371f73){const _0x5d5702=a97_0x522f4a,_0x1f83b0=await this[_0x5d5702(0xfd)]['findById'](_0x371f73)[_0x5d5702(0x103)](),_0x3820e8=path[_0x5d5702(0x10d)](__dirname,'..','..',_0x5d5702(0x121),_0x5d5702(0x125),_0x5d5702(0xf1));this[_0x5d5702(0xff)][_0x5d5702(0x126)](_0x5d5702(0xf5),_0x3820e8);if((0x0,utils_1[_0x5d5702(0x127)])())this[_0x5d5702(0xff)][_0x5d5702(0x126)]('Raspberry\x20Pi\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x5d5702(0x103)])('omxplayer\x20'+_0x3820e8,_0x36c623=>{const _0x5b5a48=_0x5d5702;_0x36c623&&this[_0x5b5a48(0xff)][_0x5b5a48(0x116)](_0x5b5a48(0x115)+_0x36c623);});else(0x0,utils_1[_0x5d5702(0x101)])()==='macOS'?(this[_0x5d5702(0xff)]['log'](_0x5d5702(0x110)),(0x0,child_process_1[_0x5d5702(0x103)])(_0x5d5702(0x104)+_0x3820e8,_0x4a1bae=>{const _0x4f866e=_0x5d5702;_0x4a1bae&&this[_0x4f866e(0xff)][_0x4f866e(0x116)]('Error\x20playing\x20sound:\x20'+_0x4a1bae);})):(this[_0x5d5702(0xff)]['log'](_0x5d5702(0xf6)),(0x0,child_process_1[_0x5d5702(0x103)])('mpg123\x20'+_0x3820e8,_0x9b742e=>{const _0x47e4a1=_0x5d5702;_0x9b742e&&this[_0x47e4a1(0xff)]['error'](_0x47e4a1(0x115)+_0x9b742e);}));return _0x1f83b0;}async[a97_0x522f4a(0x12d)](_0x18da4f){const _0x4e22ba=a97_0x522f4a,_0x582aec=await this[_0x4e22ba(0xfd)][_0x4e22ba(0x106)](_0x18da4f);return _0x582aec[_0x4e22ba(0x10f)]();}async[a97_0x522f4a(0xf0)](_0x2577ec,_0x412ef3){const _0x31b85b=a97_0x522f4a,_0x354802=await this[_0x31b85b(0xfd)]['findByIdAndUpdate'](_0x2577ec,_0x412ef3,{'new':!![]});return _0x354802;}async['deleteProduct'](_0x5bf266){const _0xa1b32=a97_0x522f4a,_0xa10e94=await this[_0xa1b32(0xfd)][_0xa1b32(0xf4)](_0x5bf266);return _0xa10e94;}};ProductService=__decorate([(0x0,common_1[a97_0x522f4a(0x107)])(),__param(0x0,(0x0,mongoose_2[a97_0x522f4a(0x11b)])(a97_0x522f4a(0xfa))),__metadata('design:paramtypes',[mongoose_1[a97_0x522f4a(0x122)]])],ProductService),exports['ProductService']=ProductService;