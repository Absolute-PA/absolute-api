'use strict';const a97_0x25bf4e=a97_0x3438;function a97_0x3438(_0x26d10d,_0x52dc78){const _0x300404=a97_0x3004();return a97_0x3438=function(_0x34388c,_0x114cb9){_0x34388c=_0x34388c-0xbb;let _0x52a6a9=_0x300404[_0x34388c];return _0x52a6a9;},a97_0x3438(_0x26d10d,_0x52dc78);}(function(_0xe14e12,_0x35411e){const _0x3aec92=a97_0x3438,_0x252ea9=_0xe14e12();while(!![]){try{const _0x3364cc=-parseInt(_0x3aec92(0xcd))/0x1*(-parseInt(_0x3aec92(0xf5))/0x2)+-parseInt(_0x3aec92(0xc6))/0x3*(-parseInt(_0x3aec92(0xc4))/0x4)+parseInt(_0x3aec92(0xd4))/0x5+parseInt(_0x3aec92(0xdf))/0x6*(parseInt(_0x3aec92(0xbf))/0x7)+-parseInt(_0x3aec92(0xe0))/0x8+-parseInt(_0x3aec92(0xe2))/0x9*(parseInt(_0x3aec92(0xc8))/0xa)+-parseInt(_0x3aec92(0xdc))/0xb;if(_0x3364cc===_0x35411e)break;else _0x252ea9['push'](_0x252ea9['shift']());}catch(_0x2319d3){_0x252ea9['push'](_0x252ea9['shift']());}}}(a97_0x3004,0xc5dd0));var __decorate=this&&this[a97_0x25bf4e(0xc5)]||function(_0x574f7c,_0x3d5e95,_0x5c71c5,_0x2a620b){const _0x559496=a97_0x25bf4e;var _0x17dbc0=arguments[_0x559496(0xce)],_0x5ae3d5=_0x17dbc0<0x3?_0x3d5e95:_0x2a620b===null?_0x2a620b=Object['getOwnPropertyDescriptor'](_0x3d5e95,_0x5c71c5):_0x2a620b,_0x555f47;if(typeof Reflect===_0x559496(0xbe)&&typeof Reflect[_0x559496(0xd9)]==='function')_0x5ae3d5=Reflect[_0x559496(0xd9)](_0x574f7c,_0x3d5e95,_0x5c71c5,_0x2a620b);else{for(var _0x1ad649=_0x574f7c[_0x559496(0xce)]-0x1;_0x1ad649>=0x0;_0x1ad649--)if(_0x555f47=_0x574f7c[_0x1ad649])_0x5ae3d5=(_0x17dbc0<0x3?_0x555f47(_0x5ae3d5):_0x17dbc0>0x3?_0x555f47(_0x3d5e95,_0x5c71c5,_0x5ae3d5):_0x555f47(_0x3d5e95,_0x5c71c5))||_0x5ae3d5;}return _0x17dbc0>0x3&&_0x5ae3d5&&Object['defineProperty'](_0x3d5e95,_0x5c71c5,_0x5ae3d5),_0x5ae3d5;},__metadata=this&&this['__metadata']||function(_0x23f643,_0x331b36){const _0x58686c=a97_0x25bf4e;if(typeof Reflect==='object'&&typeof Reflect[_0x58686c(0xc2)]===_0x58686c(0xea))return Reflect[_0x58686c(0xc2)](_0x23f643,_0x331b36);},__param=this&&this[a97_0x25bf4e(0xc3)]||function(_0x2da44e,_0x8e7419){return function(_0x156e8c,_0x1c4513){_0x8e7419(_0x156e8c,_0x1c4513,_0x2da44e);};};Object['defineProperty'](exports,a97_0x25bf4e(0xdd),{'value':!![]}),exports['ProductService']=void 0x0;const common_1=require(a97_0x25bf4e(0xe1)),mongoose_1=require(a97_0x25bf4e(0xcb)),mongoose_2=require('@nestjs/mongoose'),path=require('path'),child_process_1=require(a97_0x25bf4e(0xc1)),utils_1=require('../common/utils');function a97_0x3004(){const _0x50fef9=['Error\x20playing\x20sound:\x20','11813516ZxRiUh','__esModule','BassSample.mp3','898740ZSkNhw','749344GIpMMU','@nestjs/common','188019AynyqY','Model','getFilteredProducts','ProductService','Linux\x20detected!\x20Playing\x20sound...','exec','InjectModel','afplay\x20','function','findById','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','omxplayer\x20','macOS\x20detected!\x20Playing\x20sound...','Injectable','Logger','filter','design:paramtypes','save','productModel','2855170QmsEmJ','findByIdAndRemove','deleteProduct','log','error','object','70JsnDKK','join','child_process','metadata','__param','139800BYpdCK','__decorate','18BmTSgE','detectOs','670eyfVcN','findByIdAndUpdate','assets','mongoose','audio','1IVpSqu','length','find','macOS','Product','updateProduct','category','1212920VdKdVF','logger','addProduct','includes','create','decorate','description'];a97_0x3004=function(){return _0x50fef9;};return a97_0x3004();}let ProductService=class ProductService{constructor(_0x541359){const _0x395f81=a97_0x25bf4e;this[_0x395f81(0xf4)]=_0x541359,this[_0x395f81(0xd5)]=new common_1[(_0x395f81(0xf0))](_0x395f81(0xe5));}async[a97_0x25bf4e(0xe4)](_0x2bc59f){const _0x6a2eee=a97_0x25bf4e,{category:_0x2b41cb,search:_0x433d37}=_0x2bc59f;let _0x2f9290=await this['getAllProducts']();return _0x433d37&&(_0x2f9290=_0x2f9290[_0x6a2eee(0xf1)](_0x499010=>_0x499010['name'][_0x6a2eee(0xd7)](_0x433d37)||_0x499010[_0x6a2eee(0xda)][_0x6a2eee(0xd7)](_0x433d37))),_0x2b41cb&&(_0x2f9290=_0x2f9290['filter'](_0x2ac528=>_0x2ac528[_0x6a2eee(0xd3)]===_0x2b41cb)),_0x2f9290;}async['getAllProducts'](){const _0x37ad9f=a97_0x25bf4e,_0x36cef6=await this[_0x37ad9f(0xf4)][_0x37ad9f(0xcf)]()[_0x37ad9f(0xe7)]();return _0x36cef6;}async['getProduct'](_0x55cd1a){const _0x28a47f=a97_0x25bf4e,_0x2bf512=await this['productModel'][_0x28a47f(0xeb)](_0x55cd1a)['exec'](),_0x3d6c06=path[_0x28a47f(0xc0)](__dirname,'..','..',_0x28a47f(0xca),_0x28a47f(0xcc),_0x28a47f(0xde));this[_0x28a47f(0xd5)][_0x28a47f(0xbc)]('Playing\x20sound...',_0x3d6c06);if((0x0,utils_1['isRaspberryPi'])())this[_0x28a47f(0xd5)][_0x28a47f(0xbc)](_0x28a47f(0xec)),(0x0,child_process_1[_0x28a47f(0xe7)])(_0x28a47f(0xed)+_0x3d6c06,_0xf673cc=>{const _0x21d044=_0x28a47f;_0xf673cc&&this[_0x21d044(0xd5)][_0x21d044(0xbd)](_0x21d044(0xdb)+_0xf673cc);});else(0x0,utils_1[_0x28a47f(0xc7)])()===_0x28a47f(0xd0)?(this[_0x28a47f(0xd5)][_0x28a47f(0xbc)](_0x28a47f(0xee)),(0x0,child_process_1[_0x28a47f(0xe7)])(_0x28a47f(0xe9)+_0x3d6c06,_0x1d9711=>{const _0x3f6ccb=_0x28a47f;_0x1d9711&&this[_0x3f6ccb(0xd5)]['error']('Error\x20playing\x20sound:\x20'+_0x1d9711);})):(this['logger']['log'](_0x28a47f(0xe6)),(0x0,child_process_1[_0x28a47f(0xe7)])('mpg123\x20'+_0x3d6c06,_0x326577=>{const _0x450f28=_0x28a47f;_0x326577&&this[_0x450f28(0xd5)][_0x450f28(0xbd)](_0x450f28(0xdb)+_0x326577);}));return _0x2bf512;}async[a97_0x25bf4e(0xd6)](_0x7a5d14){const _0x4805c2=a97_0x25bf4e,_0x192471=await this[_0x4805c2(0xf4)][_0x4805c2(0xd8)](_0x7a5d14);return _0x192471[_0x4805c2(0xf3)]();}async[a97_0x25bf4e(0xd2)](_0x1767ed,_0x1e448a){const _0x27351d=a97_0x25bf4e,_0x17236b=await this[_0x27351d(0xf4)][_0x27351d(0xc9)](_0x1767ed,_0x1e448a,{'new':!![]});return _0x17236b;}async[a97_0x25bf4e(0xbb)](_0xa3c127){const _0x168eb9=a97_0x25bf4e,_0x5ba423=await this[_0x168eb9(0xf4)][_0x168eb9(0xf6)](_0xa3c127);return _0x5ba423;}};ProductService=__decorate([(0x0,common_1[a97_0x25bf4e(0xef)])(),__param(0x0,(0x0,mongoose_2[a97_0x25bf4e(0xe8)])(a97_0x25bf4e(0xd1))),__metadata(a97_0x25bf4e(0xf2),[mongoose_1[a97_0x25bf4e(0xe3)]])],ProductService),exports[a97_0x25bf4e(0xe5)]=ProductService;