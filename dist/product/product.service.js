'use strict';const a97_0x57a580=a97_0x9eb3;(function(_0x1e5a95,_0x4cc00f){const _0x415f2c=a97_0x9eb3,_0x30fd51=_0x1e5a95();while(!![]){try{const _0x53427a=-parseInt(_0x415f2c(0x126))/0x1*(parseInt(_0x415f2c(0x12d))/0x2)+parseInt(_0x415f2c(0x128))/0x3+-parseInt(_0x415f2c(0x131))/0x4*(parseInt(_0x415f2c(0x147))/0x5)+-parseInt(_0x415f2c(0x138))/0x6+parseInt(_0x415f2c(0x132))/0x7+parseInt(_0x415f2c(0x135))/0x8*(parseInt(_0x415f2c(0x133))/0x9)+parseInt(_0x415f2c(0x145))/0xa*(-parseInt(_0x415f2c(0x125))/0xb);if(_0x53427a===_0x4cc00f)break;else _0x30fd51['push'](_0x30fd51['shift']());}catch(_0xc0cbf7){_0x30fd51['push'](_0x30fd51['shift']());}}}(a97_0xc299,0x6674e));function a97_0x9eb3(_0x3663fb,_0x370dab){const _0xc299a1=a97_0xc299();return a97_0x9eb3=function(_0x9eb34e,_0x4df988){_0x9eb34e=_0x9eb34e-0x10e;let _0x77102b=_0xc299a1[_0x9eb34e];return _0x77102b;},a97_0x9eb3(_0x3663fb,_0x370dab);}var __decorate=this&&this['__decorate']||function(_0x2e0291,_0x1d3662,_0x3561c4,_0x2e1abe){const _0x58949a=a97_0x9eb3;var _0x219509=arguments['length'],_0x2897c7=_0x219509<0x3?_0x1d3662:_0x2e1abe===null?_0x2e1abe=Object[_0x58949a(0x116)](_0x1d3662,_0x3561c4):_0x2e1abe,_0x271471;if(typeof Reflect==='object'&&typeof Reflect[_0x58949a(0x118)]===_0x58949a(0x140))_0x2897c7=Reflect[_0x58949a(0x118)](_0x2e0291,_0x1d3662,_0x3561c4,_0x2e1abe);else{for(var _0x2cc102=_0x2e0291[_0x58949a(0x12c)]-0x1;_0x2cc102>=0x0;_0x2cc102--)if(_0x271471=_0x2e0291[_0x2cc102])_0x2897c7=(_0x219509<0x3?_0x271471(_0x2897c7):_0x219509>0x3?_0x271471(_0x1d3662,_0x3561c4,_0x2897c7):_0x271471(_0x1d3662,_0x3561c4))||_0x2897c7;}return _0x219509>0x3&&_0x2897c7&&Object[_0x58949a(0x10f)](_0x1d3662,_0x3561c4,_0x2897c7),_0x2897c7;},__metadata=this&&this[a97_0x57a580(0x11f)]||function(_0x46b062,_0x24f1e7){const _0x17f9e8=a97_0x57a580;if(typeof Reflect==='object'&&typeof Reflect[_0x17f9e8(0x12a)]===_0x17f9e8(0x140))return Reflect[_0x17f9e8(0x12a)](_0x46b062,_0x24f1e7);},__param=this&&this['__param']||function(_0x2024e5,_0x57b04a){return function(_0x38d231,_0xc856a4){_0x57b04a(_0x38d231,_0xc856a4,_0x2024e5);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a97_0x57a580(0x142)]=void 0x0;function a97_0xc299(){const _0x4664d4=['findById','macOS','@nestjs/common','Injectable','filter','function','deleteProduct','ProductService','mongoose','logger','1189150KUkHOl','design:paramtypes','246770bYCHOy','addProduct','defineProperty','join','@nestjs/mongoose','mpg123\x20','child_process','Error\x20playing\x20sound:\x20','audio','getOwnPropertyDescriptor','InjectModel','decorate','error','findByIdAndUpdate','includes','productModel','exec','BassSample.mp3','__metadata','getFilteredProducts','Linux\x20detected!\x20Playing\x20sound...','save','getProduct','Product','11PvoJTY','4595gfrwYJ','findByIdAndRemove','140064tRUxRh','Logger','metadata','Model','length','158rjpmBw','path','create','find','16mpwNFn','4795910TGIetA','4773699dhFEre','log','8OpLKYX','afplay\x20','name','979386ZKthqL','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','isRaspberryPi'];a97_0xc299=function(){return _0x4664d4;};return a97_0xc299();}const common_1=require(a97_0x57a580(0x13d)),mongoose_1=require(a97_0x57a580(0x143)),mongoose_2=require(a97_0x57a580(0x111)),path=require(a97_0x57a580(0x12e)),child_process_1=require(a97_0x57a580(0x113)),utils_1=require('../common/utils');let ProductService=class ProductService{constructor(_0x11b583){const _0x154a70=a97_0x57a580;this[_0x154a70(0x11c)]=_0x11b583,this[_0x154a70(0x144)]=new common_1[(_0x154a70(0x129))](_0x154a70(0x142));}async[a97_0x57a580(0x120)](_0x5e50a0){const _0x519b87=a97_0x57a580,{category:_0x258b48,search:_0x514bde}=_0x5e50a0;let _0xc6b660=await this['getAllProducts']();return _0x514bde&&(_0xc6b660=_0xc6b660[_0x519b87(0x13f)](_0x26d735=>_0x26d735[_0x519b87(0x137)][_0x519b87(0x11b)](_0x514bde)||_0x26d735['description'][_0x519b87(0x11b)](_0x514bde))),_0x258b48&&(_0xc6b660=_0xc6b660[_0x519b87(0x13f)](_0x282fc1=>_0x282fc1['category']===_0x258b48)),_0xc6b660;}async['getAllProducts'](){const _0x2e84cc=a97_0x57a580,_0x9a78a1=await this[_0x2e84cc(0x11c)][_0x2e84cc(0x130)]()[_0x2e84cc(0x11d)]();return _0x9a78a1;}async[a97_0x57a580(0x123)](_0x39f6bc){const _0x56104c=a97_0x57a580,_0x4e2ec4=await this[_0x56104c(0x11c)][_0x56104c(0x13b)](_0x39f6bc)[_0x56104c(0x11d)](),_0x1731b8=path[_0x56104c(0x110)](__dirname,'..','..','assets',_0x56104c(0x115),_0x56104c(0x11e));this[_0x56104c(0x144)]['log']('Playing\x20sound...',_0x1731b8);if((0x0,utils_1[_0x56104c(0x13a)])())this[_0x56104c(0x144)][_0x56104c(0x134)](_0x56104c(0x139)),(0x0,child_process_1['exec'])('omxplayer\x20'+_0x1731b8,_0x57dce1=>{const _0x1036fc=_0x56104c;_0x57dce1&&this[_0x1036fc(0x144)][_0x1036fc(0x119)]('Error\x20playing\x20sound:\x20'+_0x57dce1);});else(0x0,utils_1['detectOs'])()===_0x56104c(0x13c)?(this[_0x56104c(0x144)][_0x56104c(0x134)]('macOS\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x56104c(0x11d)])(_0x56104c(0x136)+_0x1731b8,_0x3acdbe=>{const _0x3f98e6=_0x56104c;_0x3acdbe&&this[_0x3f98e6(0x144)][_0x3f98e6(0x119)](_0x3f98e6(0x114)+_0x3acdbe);})):(this[_0x56104c(0x144)]['log'](_0x56104c(0x121)),(0x0,child_process_1[_0x56104c(0x11d)])(_0x56104c(0x112)+_0x1731b8,_0x24b637=>{const _0x344b86=_0x56104c;_0x24b637&&this['logger']['error'](_0x344b86(0x114)+_0x24b637);}));return _0x4e2ec4;}async[a97_0x57a580(0x10e)](_0xa816f2){const _0x16e8f7=a97_0x57a580,_0x439b1e=await this['productModel'][_0x16e8f7(0x12f)](_0xa816f2);return _0x439b1e[_0x16e8f7(0x122)]();}async['updateProduct'](_0x21fb25,_0x267b6b){const _0x49a043=a97_0x57a580,_0x1c0cfa=await this['productModel'][_0x49a043(0x11a)](_0x21fb25,_0x267b6b,{'new':!![]});return _0x1c0cfa;}async[a97_0x57a580(0x141)](_0x399564){const _0x4733dd=a97_0x57a580,_0x3a18a4=await this['productModel'][_0x4733dd(0x127)](_0x399564);return _0x3a18a4;}};ProductService=__decorate([(0x0,common_1[a97_0x57a580(0x13e)])(),__param(0x0,(0x0,mongoose_2[a97_0x57a580(0x117)])(a97_0x57a580(0x124))),__metadata(a97_0x57a580(0x146),[mongoose_1[a97_0x57a580(0x12b)]])],ProductService),exports[a97_0x57a580(0x142)]=ProductService;