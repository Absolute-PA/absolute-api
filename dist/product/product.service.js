'use strict';const a97_0x143c97=a97_0x24f0;function a97_0x3480(){const _0x4bb86a=['find','decorate','Product','BassSample.mp3','category','619098KsMKfe','productModel','../common/utils','exec','40liRwvq','macOS\x20detected!\x20Playing\x20sound...','child_process','@nestjs/common','444464SNstTO','ProductService','mongoose','InjectModel','__decorate','design:paramtypes','filter','log','__metadata','includes','defineProperty','Playing\x20sound...','isRaspberryPi','description','9904gKHrtw','14gOnxFY','length','logger','findById','error','getAllProducts','afplay\x20','__param','128238tYsgyU','4cdfsAC','assets','function','298045RgOBCz','Model','Error\x20playing\x20sound:\x20','1116fMPKOs','58598oelWIm','getFilteredProducts','name','481060bcHOmB','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','@nestjs/mongoose','object','detectOs','Injectable','create','getProduct'];a97_0x3480=function(){return _0x4bb86a;};return a97_0x3480();}(function(_0x4eca22,_0x9a1f92){const _0x207e91=a97_0x24f0,_0xef6621=_0x4eca22();while(!![]){try{const _0x2f5a28=parseInt(_0x207e91(0xc0))/0x1*(-parseInt(_0x207e91(0xb9))/0x2)+parseInt(_0x207e91(0xb8))/0x3+parseInt(_0x207e91(0xd8))/0x4+parseInt(_0x207e91(0xc3))/0x5+parseInt(_0x207e91(0xd0))/0x6*(-parseInt(_0x207e91(0xb0))/0x7)+parseInt(_0x207e91(0xaf))/0x8*(parseInt(_0x207e91(0xbf))/0x9)+-parseInt(_0x207e91(0xd4))/0xa*(-parseInt(_0x207e91(0xbc))/0xb);if(_0x2f5a28===_0x9a1f92)break;else _0xef6621['push'](_0xef6621['shift']());}catch(_0x1d5e9c){_0xef6621['push'](_0xef6621['shift']());}}}(a97_0x3480,0x2dff4));function a97_0x24f0(_0x3df1fd,_0x138e5d){const _0x34800b=a97_0x3480();return a97_0x24f0=function(_0x24f0d8,_0x7076e4){_0x24f0d8=_0x24f0d8-0xaf;let _0x134c57=_0x34800b[_0x24f0d8];return _0x134c57;},a97_0x24f0(_0x3df1fd,_0x138e5d);}var __decorate=this&&this[a97_0x143c97(0xdc)]||function(_0x14dfa6,_0x3a1874,_0x554f3b,_0x4d2409){const _0xcf9747=a97_0x143c97;var _0x3f55b6=arguments[_0xcf9747(0xb1)],_0x42fea2=_0x3f55b6<0x3?_0x3a1874:_0x4d2409===null?_0x4d2409=Object['getOwnPropertyDescriptor'](_0x3a1874,_0x554f3b):_0x4d2409,_0x4c4ddf;if(typeof Reflect===_0xcf9747(0xc6)&&typeof Reflect[_0xcf9747(0xcc)]===_0xcf9747(0xbb))_0x42fea2=Reflect[_0xcf9747(0xcc)](_0x14dfa6,_0x3a1874,_0x554f3b,_0x4d2409);else{for(var _0x1276ec=_0x14dfa6[_0xcf9747(0xb1)]-0x1;_0x1276ec>=0x0;_0x1276ec--)if(_0x4c4ddf=_0x14dfa6[_0x1276ec])_0x42fea2=(_0x3f55b6<0x3?_0x4c4ddf(_0x42fea2):_0x3f55b6>0x3?_0x4c4ddf(_0x3a1874,_0x554f3b,_0x42fea2):_0x4c4ddf(_0x3a1874,_0x554f3b))||_0x42fea2;}return _0x3f55b6>0x3&&_0x42fea2&&Object[_0xcf9747(0xe2)](_0x3a1874,_0x554f3b,_0x42fea2),_0x42fea2;},__metadata=this&&this[a97_0x143c97(0xe0)]||function(_0x2d4ff3,_0x980d92){const _0x1d3290=a97_0x143c97;if(typeof Reflect===_0x1d3290(0xc6)&&typeof Reflect['metadata']===_0x1d3290(0xbb))return Reflect['metadata'](_0x2d4ff3,_0x980d92);},__param=this&&this[a97_0x143c97(0xb7)]||function(_0x1b3aa9,_0x408e3d){return function(_0xf51799,_0x2f1c31){_0x408e3d(_0xf51799,_0x2f1c31,_0x1b3aa9);};};Object[a97_0x143c97(0xe2)](exports,'__esModule',{'value':!![]}),exports[a97_0x143c97(0xd9)]=void 0x0;const common_1=require(a97_0x143c97(0xd7)),mongoose_1=require(a97_0x143c97(0xda)),mongoose_2=require(a97_0x143c97(0xc5)),path=require('path'),child_process_1=require(a97_0x143c97(0xd6)),utils_1=require(a97_0x143c97(0xd2));let ProductService=class ProductService{constructor(_0x3861ed){const _0x5ba0ee=a97_0x143c97;this[_0x5ba0ee(0xd1)]=_0x3861ed,this[_0x5ba0ee(0xb2)]=new common_1['Logger'](_0x5ba0ee(0xd9));}async[a97_0x143c97(0xc1)](_0x19dbca){const _0x83522f=a97_0x143c97,{category:_0x272c25,search:_0x491c75}=_0x19dbca;let _0x3c6e20=await this[_0x83522f(0xb5)]();return _0x491c75&&(_0x3c6e20=_0x3c6e20[_0x83522f(0xde)](_0x5e21cc=>_0x5e21cc[_0x83522f(0xc2)][_0x83522f(0xe1)](_0x491c75)||_0x5e21cc[_0x83522f(0xe5)]['includes'](_0x491c75))),_0x272c25&&(_0x3c6e20=_0x3c6e20[_0x83522f(0xde)](_0x192b73=>_0x192b73[_0x83522f(0xcf)]===_0x272c25)),_0x3c6e20;}async[a97_0x143c97(0xb5)](){const _0x71ea84=a97_0x143c97,_0x31603d=await this['productModel'][_0x71ea84(0xcb)]()[_0x71ea84(0xd3)]();return _0x31603d;}async[a97_0x143c97(0xca)](_0x46d25c){const _0x2247d7=a97_0x143c97,_0x57bcbd=await this[_0x2247d7(0xd1)][_0x2247d7(0xb3)](_0x46d25c)[_0x2247d7(0xd3)](),_0x4e0868=path['join'](__dirname,'..','..',_0x2247d7(0xba),'audio',_0x2247d7(0xce));this['logger'][_0x2247d7(0xdf)](_0x2247d7(0xe3),_0x4e0868);if((0x0,utils_1[_0x2247d7(0xe4)])())this['logger'][_0x2247d7(0xdf)](_0x2247d7(0xc4)),(0x0,child_process_1[_0x2247d7(0xd3)])('omxplayer\x20'+_0x4e0868,_0x4a1061=>{const _0x458d17=_0x2247d7;_0x4a1061&&this[_0x458d17(0xb2)][_0x458d17(0xb4)]('Error\x20playing\x20sound:\x20'+_0x4a1061);});else(0x0,utils_1[_0x2247d7(0xc7)])()==='macOS'?(this[_0x2247d7(0xb2)][_0x2247d7(0xdf)](_0x2247d7(0xd5)),(0x0,child_process_1[_0x2247d7(0xd3)])(_0x2247d7(0xb6)+_0x4e0868,_0x591f2d=>{const _0xc4c896=_0x2247d7;_0x591f2d&&this['logger'][_0xc4c896(0xb4)](_0xc4c896(0xbe)+_0x591f2d);})):(this[_0x2247d7(0xb2)][_0x2247d7(0xdf)]('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x2247d7(0xd3)])('mpg123\x20'+_0x4e0868,_0x329571=>{const _0x20425c=_0x2247d7;_0x329571&&this['logger']['error'](_0x20425c(0xbe)+_0x329571);}));return _0x57bcbd;}async['addProduct'](_0x5d255f){const _0x3ebbb6=a97_0x143c97,_0x14dcf=await this[_0x3ebbb6(0xd1)][_0x3ebbb6(0xc9)](_0x5d255f);return _0x14dcf['save']();}async['updateProduct'](_0x274753,_0x528870){const _0x1eaf3b=await this['productModel']['findByIdAndUpdate'](_0x274753,_0x528870,{'new':!![]});return _0x1eaf3b;}async['deleteProduct'](_0x43734d){const _0x48fe6b=a97_0x143c97,_0x26392c=await this[_0x48fe6b(0xd1)]['findByIdAndRemove'](_0x43734d);return _0x26392c;}};ProductService=__decorate([(0x0,common_1[a97_0x143c97(0xc8)])(),__param(0x0,(0x0,mongoose_2[a97_0x143c97(0xdb)])(a97_0x143c97(0xcd))),__metadata(a97_0x143c97(0xdd),[mongoose_1[a97_0x143c97(0xbd)]])],ProductService),exports[a97_0x143c97(0xd9)]=ProductService;