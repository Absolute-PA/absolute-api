'use strict';function a97_0x542c(){const _0x36cdc5=['decorate','object','372TgNvgY','__metadata','metadata','@nestjs/common','logger','updateProduct','productModel','save','defineProperty','omxplayer\x20','Logger','getProduct','mpg123\x20','category','afplay\x20','filter','2863790PWwbTL','function','6724264HPeeKH','find','detectOs','2104002gPwhCO','getAllProducts','join','path','80809IrPCSN','name','macOS','audio','design:paramtypes','InjectModel','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','getFilteredProducts','__param','log','exec','252232AgaqrC','includes','Product','__esModule','error','Linux\x20detected!\x20Playing\x20sound...','findByIdAndRemove','child_process','create','isRaspberryPi','45115OUJODH','Model','deleteProduct','Error\x20playing\x20sound:\x20','length','macOS\x20detected!\x20Playing\x20sound...','1311912VbIYVr','Playing\x20sound...','findByIdAndUpdate','getOwnPropertyDescriptor','__decorate','ProductService'];a97_0x542c=function(){return _0x36cdc5;};return a97_0x542c();}const a97_0x4d1ea2=a97_0x47ae;function a97_0x47ae(_0x3e8f06,_0xdbacd){const _0x542cac=a97_0x542c();return a97_0x47ae=function(_0x47ae41,_0x2c3679){_0x47ae41=_0x47ae41-0x1b9;let _0x2bf6a5=_0x542cac[_0x47ae41];return _0x2bf6a5;},a97_0x47ae(_0x3e8f06,_0xdbacd);}(function(_0x5bc11a,_0x258a95){const _0x57bd0b=a97_0x47ae,_0x200999=_0x5bc11a();while(!![]){try{const _0x5b6817=parseInt(_0x57bd0b(0x1bd))/0x1+parseInt(_0x57bd0b(0x1d8))/0x2+parseInt(_0x57bd0b(0x1b9))/0x3+parseInt(_0x57bd0b(0x1c8))/0x4+-parseInt(_0x57bd0b(0x1f0))/0x5+parseInt(_0x57bd0b(0x1e0))/0x6*(parseInt(_0x57bd0b(0x1d2))/0x7)+-parseInt(_0x57bd0b(0x1f2))/0x8;if(_0x5b6817===_0x258a95)break;else _0x200999['push'](_0x200999['shift']());}catch(_0x4a35a7){_0x200999['push'](_0x200999['shift']());}}}(a97_0x542c,0x77020));var __decorate=this&&this[a97_0x4d1ea2(0x1dc)]||function(_0x322212,_0x39f5b7,_0x306e50,_0x5190b0){const _0x2ae23b=a97_0x4d1ea2;var _0x1184aa=arguments[_0x2ae23b(0x1d6)],_0x17bbd2=_0x1184aa<0x3?_0x39f5b7:_0x5190b0===null?_0x5190b0=Object[_0x2ae23b(0x1db)](_0x39f5b7,_0x306e50):_0x5190b0,_0x37aa15;if(typeof Reflect===_0x2ae23b(0x1df)&&typeof Reflect[_0x2ae23b(0x1de)]===_0x2ae23b(0x1f1))_0x17bbd2=Reflect[_0x2ae23b(0x1de)](_0x322212,_0x39f5b7,_0x306e50,_0x5190b0);else{for(var _0x3f86e9=_0x322212[_0x2ae23b(0x1d6)]-0x1;_0x3f86e9>=0x0;_0x3f86e9--)if(_0x37aa15=_0x322212[_0x3f86e9])_0x17bbd2=(_0x1184aa<0x3?_0x37aa15(_0x17bbd2):_0x1184aa>0x3?_0x37aa15(_0x39f5b7,_0x306e50,_0x17bbd2):_0x37aa15(_0x39f5b7,_0x306e50))||_0x17bbd2;}return _0x1184aa>0x3&&_0x17bbd2&&Object[_0x2ae23b(0x1e8)](_0x39f5b7,_0x306e50,_0x17bbd2),_0x17bbd2;},__metadata=this&&this[a97_0x4d1ea2(0x1e1)]||function(_0x196a09,_0x521ba1){const _0x1bdb88=a97_0x4d1ea2;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x1bdb88(0x1e2)](_0x196a09,_0x521ba1);},__param=this&&this[a97_0x4d1ea2(0x1c5)]||function(_0x390f4b,_0x5e7a74){return function(_0x322c02,_0x250e99){_0x5e7a74(_0x322c02,_0x250e99,_0x390f4b);};};Object[a97_0x4d1ea2(0x1e8)](exports,a97_0x4d1ea2(0x1cb),{'value':!![]}),exports[a97_0x4d1ea2(0x1dd)]=void 0x0;const common_1=require(a97_0x4d1ea2(0x1e3)),mongoose_1=require('mongoose'),mongoose_2=require('@nestjs/mongoose'),path=require(a97_0x4d1ea2(0x1bc)),child_process_1=require(a97_0x4d1ea2(0x1cf)),utils_1=require('../common/utils');let ProductService=class ProductService{constructor(_0x298417){const _0x349c66=a97_0x4d1ea2;this[_0x349c66(0x1e6)]=_0x298417,this[_0x349c66(0x1e4)]=new common_1[(_0x349c66(0x1ea))](_0x349c66(0x1dd));}async[a97_0x4d1ea2(0x1c4)](_0x1a8c86){const _0x461e06=a97_0x4d1ea2,{category:_0x21f9f1,search:_0x1dfc94}=_0x1a8c86;let _0x24a545=await this[_0x461e06(0x1ba)]();return _0x1dfc94&&(_0x24a545=_0x24a545['filter'](_0x3e93fa=>_0x3e93fa[_0x461e06(0x1be)][_0x461e06(0x1c9)](_0x1dfc94)||_0x3e93fa['description'][_0x461e06(0x1c9)](_0x1dfc94))),_0x21f9f1&&(_0x24a545=_0x24a545[_0x461e06(0x1ef)](_0x460f5d=>_0x460f5d[_0x461e06(0x1ed)]===_0x21f9f1)),_0x24a545;}async[a97_0x4d1ea2(0x1ba)](){const _0x271ef2=a97_0x4d1ea2,_0xd5505c=await this['productModel'][_0x271ef2(0x1f3)]()[_0x271ef2(0x1c7)]();return _0xd5505c;}async[a97_0x4d1ea2(0x1eb)](_0x324ec3){const _0x1ccf1f=a97_0x4d1ea2,_0x59d248=await this[_0x1ccf1f(0x1e6)]['findById'](_0x324ec3)[_0x1ccf1f(0x1c7)](),_0x3d29eb=path[_0x1ccf1f(0x1bb)](__dirname,'..','..','assets',_0x1ccf1f(0x1c0),'BassSample.mp3');this[_0x1ccf1f(0x1e4)]['log'](_0x1ccf1f(0x1d9),_0x3d29eb);if((0x0,utils_1[_0x1ccf1f(0x1d1)])())this[_0x1ccf1f(0x1e4)]['log'](_0x1ccf1f(0x1c3)),(0x0,child_process_1[_0x1ccf1f(0x1c7)])(_0x1ccf1f(0x1e9)+_0x3d29eb,_0x3ef3d1=>{const _0x21c123=_0x1ccf1f;_0x3ef3d1&&this[_0x21c123(0x1e4)]['error'](_0x21c123(0x1d5)+_0x3ef3d1);});else(0x0,utils_1[_0x1ccf1f(0x1f4)])()===_0x1ccf1f(0x1bf)?(this[_0x1ccf1f(0x1e4)]['log'](_0x1ccf1f(0x1d7)),(0x0,child_process_1['exec'])(_0x1ccf1f(0x1ee)+_0x3d29eb,_0x4c8220=>{const _0xa5ed37=_0x1ccf1f;_0x4c8220&&this['logger'][_0xa5ed37(0x1cc)](_0xa5ed37(0x1d5)+_0x4c8220);})):(this[_0x1ccf1f(0x1e4)][_0x1ccf1f(0x1c6)](_0x1ccf1f(0x1cd)),(0x0,child_process_1['exec'])(_0x1ccf1f(0x1ec)+_0x3d29eb,_0x149dcc=>{const _0x59292e=_0x1ccf1f;_0x149dcc&&this[_0x59292e(0x1e4)][_0x59292e(0x1cc)](_0x59292e(0x1d5)+_0x149dcc);}));return _0x59d248;}async['addProduct'](_0x23a61f){const _0x52ae80=a97_0x4d1ea2,_0x4c8686=await this[_0x52ae80(0x1e6)][_0x52ae80(0x1d0)](_0x23a61f);return _0x4c8686[_0x52ae80(0x1e7)]();}async[a97_0x4d1ea2(0x1e5)](_0x46f67f,_0x2cfb29){const _0x4e0e3a=a97_0x4d1ea2,_0x3f09bd=await this['productModel'][_0x4e0e3a(0x1da)](_0x46f67f,_0x2cfb29,{'new':!![]});return _0x3f09bd;}async[a97_0x4d1ea2(0x1d4)](_0x3b202b){const _0x121b65=a97_0x4d1ea2,_0x4f85b7=await this[_0x121b65(0x1e6)][_0x121b65(0x1ce)](_0x3b202b);return _0x4f85b7;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2[a97_0x4d1ea2(0x1c2)])(a97_0x4d1ea2(0x1ca))),__metadata(a97_0x4d1ea2(0x1c1),[mongoose_1[a97_0x4d1ea2(0x1d3)]])],ProductService),exports[a97_0x4d1ea2(0x1dd)]=ProductService;