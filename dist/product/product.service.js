'use strict';const a97_0x5eb098=a97_0x3a11;(function(_0xe04499,_0x448785){const _0x154c44=a97_0x3a11,_0x3163b4=_0xe04499();while(!![]){try{const _0x2ab6db=-parseInt(_0x154c44(0x1b6))/0x1*(-parseInt(_0x154c44(0x195))/0x2)+parseInt(_0x154c44(0x1b4))/0x3*(-parseInt(_0x154c44(0x19b))/0x4)+-parseInt(_0x154c44(0x193))/0x5+-parseInt(_0x154c44(0x1a4))/0x6+parseInt(_0x154c44(0x1b0))/0x7*(-parseInt(_0x154c44(0x1a6))/0x8)+-parseInt(_0x154c44(0x1a2))/0x9+parseInt(_0x154c44(0x1a3))/0xa;if(_0x2ab6db===_0x448785)break;else _0x3163b4['push'](_0x3163b4['shift']());}catch(_0x4ae2b4){_0x3163b4['push'](_0x3163b4['shift']());}}}(a97_0x5015,0x58d3a));var __decorate=this&&this[a97_0x5eb098(0x1ba)]||function(_0xdd88be,_0x3af259,_0x3d8311,_0x426aa0){const _0x2cac0c=a97_0x5eb098;var _0x261acf=arguments[_0x2cac0c(0x19a)],_0x34c04d=_0x261acf<0x3?_0x3af259:_0x426aa0===null?_0x426aa0=Object[_0x2cac0c(0x1ad)](_0x3af259,_0x3d8311):_0x426aa0,_0x19cbfc;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2cac0c(0x1b8))_0x34c04d=Reflect['decorate'](_0xdd88be,_0x3af259,_0x3d8311,_0x426aa0);else{for(var _0x1e60cd=_0xdd88be[_0x2cac0c(0x19a)]-0x1;_0x1e60cd>=0x0;_0x1e60cd--)if(_0x19cbfc=_0xdd88be[_0x1e60cd])_0x34c04d=(_0x261acf<0x3?_0x19cbfc(_0x34c04d):_0x261acf>0x3?_0x19cbfc(_0x3af259,_0x3d8311,_0x34c04d):_0x19cbfc(_0x3af259,_0x3d8311))||_0x34c04d;}return _0x261acf>0x3&&_0x34c04d&&Object['defineProperty'](_0x3af259,_0x3d8311,_0x34c04d),_0x34c04d;},__metadata=this&&this[a97_0x5eb098(0x1b9)]||function(_0x2a6fb0,_0x336184){const _0xdf78c4=a97_0x5eb098;if(typeof Reflect===_0xdf78c4(0x1bf)&&typeof Reflect['metadata']===_0xdf78c4(0x1b8))return Reflect[_0xdf78c4(0x1a1)](_0x2a6fb0,_0x336184);},__param=this&&this[a97_0x5eb098(0x189)]||function(_0x4f49fa,_0x50122d){return function(_0x5c2073,_0x2ac58f){_0x50122d(_0x5c2073,_0x2ac58f,_0x4f49fa);};};Object['defineProperty'](exports,a97_0x5eb098(0x190),{'value':!![]}),exports[a97_0x5eb098(0x194)]=void 0x0;const common_1=require(a97_0x5eb098(0x1ab)),mongoose_1=require(a97_0x5eb098(0x1a0)),mongoose_2=require(a97_0x5eb098(0x199)),path=require(a97_0x5eb098(0x192)),child_process_1=require(a97_0x5eb098(0x19e)),utils_1=require(a97_0x5eb098(0x197));function a97_0x3a11(_0x53a958,_0x174d7c){const _0x50152f=a97_0x5015();return a97_0x3a11=function(_0x3a1102,_0x263be4){_0x3a1102=_0x3a1102-0x188;let _0x1dccb=_0x50152f[_0x3a1102];return _0x1dccb;},a97_0x3a11(_0x53a958,_0x174d7c);}function a97_0x5015(){const _0x295b16=['Playing\x20sound...','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','create','findById','name','assets','__esModule','isRaspberryPi','path','939270PrqgRW','ProductService','677260eWtROF','mpg123\x20','../common/utils','InjectModel','@nestjs/mongoose','length','484VVgGPB','Error\x20playing\x20sound:\x20','logger','child_process','save','mongoose','metadata','620820StSbTH','10758370hNGFlj','4245666ZvEqHU','Logger','8bgSnER','findByIdAndUpdate','omxplayer\x20','productModel','findByIdAndRemove','@nestjs/common','join','getOwnPropertyDescriptor','BassSample.mp3','category','1388989NULeoA','design:paramtypes','includes','macOS\x20detected!\x20Playing\x20sound...','5613FhyFgb','find','2wGDLtQ','updateProduct','function','__metadata','__decorate','log','getAllProducts','Product','error','object','exec','__param'];a97_0x5015=function(){return _0x295b16;};return a97_0x5015();}let ProductService=class ProductService{constructor(_0x279e56){const _0x14f8a1=a97_0x5eb098;this[_0x14f8a1(0x1a9)]=_0x279e56,this[_0x14f8a1(0x19d)]=new common_1[(_0x14f8a1(0x1a5))](_0x14f8a1(0x194));}async['getFilteredProducts'](_0x5db24f){const _0x4ac484=a97_0x5eb098,{category:_0x345f88,search:_0x5d5442}=_0x5db24f;let _0x365890=await this['getAllProducts']();return _0x5d5442&&(_0x365890=_0x365890['filter'](_0x522a53=>_0x522a53[_0x4ac484(0x18e)][_0x4ac484(0x1b2)](_0x5d5442)||_0x522a53['description']['includes'](_0x5d5442))),_0x345f88&&(_0x365890=_0x365890['filter'](_0x5a27e4=>_0x5a27e4[_0x4ac484(0x1af)]===_0x345f88)),_0x365890;}async[a97_0x5eb098(0x1bc)](){const _0x3845d1=a97_0x5eb098,_0x74aad3=await this[_0x3845d1(0x1a9)][_0x3845d1(0x1b5)]()[_0x3845d1(0x188)]();return _0x74aad3;}async['getProduct'](_0x316798){const _0x4b1fd3=a97_0x5eb098,_0x4ab5cd=await this['productModel'][_0x4b1fd3(0x18d)](_0x316798)['exec'](),_0x36d726=path[_0x4b1fd3(0x1ac)](__dirname,'..','..',_0x4b1fd3(0x18f),'audio',_0x4b1fd3(0x1ae));this[_0x4b1fd3(0x19d)][_0x4b1fd3(0x1bb)](_0x4b1fd3(0x18a),_0x36d726);if((0x0,utils_1[_0x4b1fd3(0x191)])())this['logger'][_0x4b1fd3(0x1bb)](_0x4b1fd3(0x18b)),(0x0,child_process_1[_0x4b1fd3(0x188)])(_0x4b1fd3(0x1a8)+_0x36d726,_0x57a8fc=>{const _0x1e0d0c=_0x4b1fd3;_0x57a8fc&&this[_0x1e0d0c(0x19d)][_0x1e0d0c(0x1be)]('Error\x20playing\x20sound:\x20'+_0x57a8fc);});else(0x0,utils_1['detectOs'])()==='macOS'?(this['logger'][_0x4b1fd3(0x1bb)](_0x4b1fd3(0x1b3)),(0x0,child_process_1['exec'])('afplay\x20'+_0x36d726,_0x41ab8d=>{const _0x1b009b=_0x4b1fd3;_0x41ab8d&&this[_0x1b009b(0x19d)][_0x1b009b(0x1be)](_0x1b009b(0x19c)+_0x41ab8d);})):(this[_0x4b1fd3(0x19d)][_0x4b1fd3(0x1bb)]('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x4b1fd3(0x188)])(_0x4b1fd3(0x196)+_0x36d726,_0x709890=>{const _0x35f0e2=_0x4b1fd3;_0x709890&&this['logger'][_0x35f0e2(0x1be)]('Error\x20playing\x20sound:\x20'+_0x709890);}));return _0x4ab5cd;}async['addProduct'](_0x6de168){const _0x571e7a=a97_0x5eb098,_0x1c4f4e=await this[_0x571e7a(0x1a9)][_0x571e7a(0x18c)](_0x6de168);return _0x1c4f4e[_0x571e7a(0x19f)]();}async[a97_0x5eb098(0x1b7)](_0x2c70a8,_0x36f1c1){const _0x53f11b=a97_0x5eb098,_0x37b892=await this[_0x53f11b(0x1a9)][_0x53f11b(0x1a7)](_0x2c70a8,_0x36f1c1,{'new':!![]});return _0x37b892;}async['deleteProduct'](_0x537846){const _0x1dc4e2=a97_0x5eb098,_0x5af75f=await this[_0x1dc4e2(0x1a9)][_0x1dc4e2(0x1aa)](_0x537846);return _0x5af75f;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2[a97_0x5eb098(0x198)])(a97_0x5eb098(0x1bd))),__metadata(a97_0x5eb098(0x1b1),[mongoose_1['Model']])],ProductService),exports['ProductService']=ProductService;