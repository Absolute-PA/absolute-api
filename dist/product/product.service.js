'use strict';const a97_0x5db7e5=a97_0x1d95;(function(_0x26b853,_0x251449){const _0xc2e990=a97_0x1d95,_0x58296b=_0x26b853();while(!![]){try{const _0x4ee7fd=parseInt(_0xc2e990(0xab))/0x1+-parseInt(_0xc2e990(0xc8))/0x2+-parseInt(_0xc2e990(0xbb))/0x3+parseInt(_0xc2e990(0xc6))/0x4+parseInt(_0xc2e990(0xcb))/0x5+-parseInt(_0xc2e990(0xaa))/0x6*(parseInt(_0xc2e990(0x9b))/0x7)+parseInt(_0xc2e990(0x96))/0x8;if(_0x4ee7fd===_0x251449)break;else _0x58296b['push'](_0x58296b['shift']());}catch(_0x5dc658){_0x58296b['push'](_0x58296b['shift']());}}}(a97_0x28a6,0x2b483));var __decorate=this&&this[a97_0x5db7e5(0xc3)]||function(_0x2af580,_0x4a1dfd,_0x4d07fd,_0xbcfb22){const _0x1dbf42=a97_0x5db7e5;var _0x2309e2=arguments[_0x1dbf42(0xa0)],_0x254744=_0x2309e2<0x3?_0x4a1dfd:_0xbcfb22===null?_0xbcfb22=Object[_0x1dbf42(0xbc)](_0x4a1dfd,_0x4d07fd):_0xbcfb22,_0x38c3b9;if(typeof Reflect===_0x1dbf42(0x95)&&typeof Reflect[_0x1dbf42(0xc5)]===_0x1dbf42(0xc4))_0x254744=Reflect[_0x1dbf42(0xc5)](_0x2af580,_0x4a1dfd,_0x4d07fd,_0xbcfb22);else{for(var _0x3eada8=_0x2af580[_0x1dbf42(0xa0)]-0x1;_0x3eada8>=0x0;_0x3eada8--)if(_0x38c3b9=_0x2af580[_0x3eada8])_0x254744=(_0x2309e2<0x3?_0x38c3b9(_0x254744):_0x2309e2>0x3?_0x38c3b9(_0x4a1dfd,_0x4d07fd,_0x254744):_0x38c3b9(_0x4a1dfd,_0x4d07fd))||_0x254744;}return _0x2309e2>0x3&&_0x254744&&Object[_0x1dbf42(0xba)](_0x4a1dfd,_0x4d07fd,_0x254744),_0x254744;},__metadata=this&&this[a97_0x5db7e5(0xb8)]||function(_0x2fb725,_0x5a8f3e){const _0x45f67d=a97_0x5db7e5;if(typeof Reflect===_0x45f67d(0x95)&&typeof Reflect['metadata']===_0x45f67d(0xc4))return Reflect[_0x45f67d(0xb2)](_0x2fb725,_0x5a8f3e);},__param=this&&this[a97_0x5db7e5(0xa3)]||function(_0x263af4,_0x12c5cc){return function(_0x179d3d,_0x3c273d){_0x12c5cc(_0x179d3d,_0x3c273d,_0x263af4);};};Object[a97_0x5db7e5(0xba)](exports,'__esModule',{'value':!![]}),exports[a97_0x5db7e5(0xc0)]=void 0x0;function a97_0x1d95(_0x44b6a1,_0x349ffe){const _0x28a60d=a97_0x28a6();return a97_0x1d95=function(_0x1d9552,_0x3f6e43){_0x1d9552=_0x1d9552-0x93;let _0x2c1399=_0x28a60d[_0x1d9552];return _0x2c1399;},a97_0x1d95(_0x44b6a1,_0x349ffe);}const common_1=require(a97_0x5db7e5(0x9f)),mongoose_1=require('mongoose'),mongoose_2=require(a97_0x5db7e5(0xb0)),path=require(a97_0x5db7e5(0xb7)),child_process_1=require('child_process'),utils_1=require(a97_0x5db7e5(0xc2));function a97_0x28a6(){const _0x259271=['error','path','__metadata','Model','defineProperty','194664tcmGSY','getOwnPropertyDescriptor','find','Linux\x20detected!\x20Playing\x20sound...','Injectable','ProductService','isRaspberryPi','../common/utils','__decorate','function','decorate','598788XCTtEB','Playing\x20sound...','597738ZWjZth','BassSample.mp3','Error\x20playing\x20sound:\x20','1334735XlRCMg','findByIdAndUpdate','description','mpg123\x20','log','object','1597112qjaUqn','join','getProduct','getAllProducts','exec','30674tfAEvq','updateProduct','macOS','assets','@nestjs/common','length','filter','includes','__param','deleteProduct','save','name','InjectModel','macOS\x20detected!\x20Playing\x20sound...','design:paramtypes','354qcWRuj','183295calQIE','logger','productModel','detectOs','create','@nestjs/mongoose','Logger','metadata','omxplayer\x20','Product','addProduct'];a97_0x28a6=function(){return _0x259271;};return a97_0x28a6();}let ProductService=class ProductService{constructor(_0xac2f41){const _0x593647=a97_0x5db7e5;this[_0x593647(0xad)]=_0xac2f41,this[_0x593647(0xac)]=new common_1[(_0x593647(0xb1))](_0x593647(0xc0));}async['getFilteredProducts'](_0x40bc21){const _0x4c6611=a97_0x5db7e5,{category:_0xae971a,search:_0x34a1af}=_0x40bc21;let _0x13fb85=await this[_0x4c6611(0x99)]();return _0x34a1af&&(_0x13fb85=_0x13fb85[_0x4c6611(0xa1)](_0x8fb57e=>_0x8fb57e[_0x4c6611(0xa6)][_0x4c6611(0xa2)](_0x34a1af)||_0x8fb57e[_0x4c6611(0xcd)][_0x4c6611(0xa2)](_0x34a1af))),_0xae971a&&(_0x13fb85=_0x13fb85['filter'](_0x297a0b=>_0x297a0b['category']===_0xae971a)),_0x13fb85;}async['getAllProducts'](){const _0x489db2=a97_0x5db7e5,_0x50a5a6=await this[_0x489db2(0xad)][_0x489db2(0xbd)]()[_0x489db2(0x9a)]();return _0x50a5a6;}async[a97_0x5db7e5(0x98)](_0x2b63b4){const _0x3b6d7c=a97_0x5db7e5,_0x250be4=await this[_0x3b6d7c(0xad)]['findById'](_0x2b63b4)[_0x3b6d7c(0x9a)](),_0x5ada1c=path[_0x3b6d7c(0x97)](__dirname,'..','..',_0x3b6d7c(0x9e),'audio',_0x3b6d7c(0xc9));this['logger'][_0x3b6d7c(0x94)](_0x3b6d7c(0xc7),_0x5ada1c);if((0x0,utils_1[_0x3b6d7c(0xc1)])())this['logger'][_0x3b6d7c(0x94)]('Raspberry\x20Pi\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x3b6d7c(0x9a)])(_0x3b6d7c(0xb3)+_0x5ada1c,_0x2e1492=>{const _0x3fab4e=_0x3b6d7c;_0x2e1492&&this[_0x3fab4e(0xac)]['error'](_0x3fab4e(0xca)+_0x2e1492);});else(0x0,utils_1[_0x3b6d7c(0xae)])()===_0x3b6d7c(0x9d)?(this[_0x3b6d7c(0xac)]['log'](_0x3b6d7c(0xa8)),(0x0,child_process_1[_0x3b6d7c(0x9a)])('afplay\x20'+_0x5ada1c,_0x2ba4a8=>{const _0x266e16=_0x3b6d7c;_0x2ba4a8&&this['logger'][_0x266e16(0xb6)](_0x266e16(0xca)+_0x2ba4a8);})):(this[_0x3b6d7c(0xac)][_0x3b6d7c(0x94)](_0x3b6d7c(0xbe)),(0x0,child_process_1[_0x3b6d7c(0x9a)])(_0x3b6d7c(0x93)+_0x5ada1c,_0x488f31=>{const _0x44ae12=_0x3b6d7c;_0x488f31&&this[_0x44ae12(0xac)]['error'](_0x44ae12(0xca)+_0x488f31);}));return _0x250be4;}async[a97_0x5db7e5(0xb5)](_0x19c98b){const _0x58bd11=a97_0x5db7e5,_0x1d8b67=await this['productModel'][_0x58bd11(0xaf)](_0x19c98b);return _0x1d8b67[_0x58bd11(0xa5)]();}async[a97_0x5db7e5(0x9c)](_0x25ff04,_0x1e1914){const _0x55ff21=a97_0x5db7e5,_0xe2e711=await this[_0x55ff21(0xad)][_0x55ff21(0xcc)](_0x25ff04,_0x1e1914,{'new':!![]});return _0xe2e711;}async[a97_0x5db7e5(0xa4)](_0x20abe0){const _0x295aa2=a97_0x5db7e5,_0x3fa84d=await this[_0x295aa2(0xad)]['findByIdAndRemove'](_0x20abe0);return _0x3fa84d;}};ProductService=__decorate([(0x0,common_1[a97_0x5db7e5(0xbf)])(),__param(0x0,(0x0,mongoose_2[a97_0x5db7e5(0xa7)])(a97_0x5db7e5(0xb4))),__metadata(a97_0x5db7e5(0xa9),[mongoose_1[a97_0x5db7e5(0xb9)]])],ProductService),exports[a97_0x5db7e5(0xc0)]=ProductService;