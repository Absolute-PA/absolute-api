'use strict';const a97_0x365493=a97_0x5385;(function(_0x638abf,_0x4e37b3){const _0x352ed7=a97_0x5385,_0x295a12=_0x638abf();while(!![]){try{const _0x19ab49=-parseInt(_0x352ed7(0x159))/0x1*(-parseInt(_0x352ed7(0x152))/0x2)+-parseInt(_0x352ed7(0x179))/0x3*(parseInt(_0x352ed7(0x16e))/0x4)+parseInt(_0x352ed7(0x14a))/0x5+-parseInt(_0x352ed7(0x174))/0x6+-parseInt(_0x352ed7(0x15c))/0x7*(parseInt(_0x352ed7(0x157))/0x8)+-parseInt(_0x352ed7(0x154))/0x9+-parseInt(_0x352ed7(0x14f))/0xa*(-parseInt(_0x352ed7(0x16d))/0xb);if(_0x19ab49===_0x4e37b3)break;else _0x295a12['push'](_0x295a12['shift']());}catch(_0x23e093){_0x295a12['push'](_0x295a12['shift']());}}}(a97_0x43b3,0x755f9));var __decorate=this&&this[a97_0x365493(0x151)]||function(_0x5505ff,_0x3e0b03,_0x34164e,_0x49da48){const _0x168eaa=a97_0x365493;var _0x31027f=arguments[_0x168eaa(0x16a)],_0x3cf41d=_0x31027f<0x3?_0x3e0b03:_0x49da48===null?_0x49da48=Object[_0x168eaa(0x173)](_0x3e0b03,_0x34164e):_0x49da48,_0x46084c;if(typeof Reflect===_0x168eaa(0x16c)&&typeof Reflect['decorate']===_0x168eaa(0x178))_0x3cf41d=Reflect[_0x168eaa(0x17e)](_0x5505ff,_0x3e0b03,_0x34164e,_0x49da48);else{for(var _0x464f85=_0x5505ff['length']-0x1;_0x464f85>=0x0;_0x464f85--)if(_0x46084c=_0x5505ff[_0x464f85])_0x3cf41d=(_0x31027f<0x3?_0x46084c(_0x3cf41d):_0x31027f>0x3?_0x46084c(_0x3e0b03,_0x34164e,_0x3cf41d):_0x46084c(_0x3e0b03,_0x34164e))||_0x3cf41d;}return _0x31027f>0x3&&_0x3cf41d&&Object[_0x168eaa(0x155)](_0x3e0b03,_0x34164e,_0x3cf41d),_0x3cf41d;},__metadata=this&&this['__metadata']||function(_0x4171ce,_0x2faa3f){const _0x750f14=a97_0x365493;if(typeof Reflect===_0x750f14(0x16c)&&typeof Reflect['metadata']===_0x750f14(0x178))return Reflect[_0x750f14(0x16b)](_0x4171ce,_0x2faa3f);},__param=this&&this[a97_0x365493(0x149)]||function(_0x5942f7,_0x35b748){return function(_0x3cddd5,_0x1aa537){_0x35b748(_0x3cddd5,_0x1aa537,_0x5942f7);};};Object[a97_0x365493(0x155)](exports,'__esModule',{'value':!![]}),exports[a97_0x365493(0x15f)]=void 0x0;const common_1=require(a97_0x365493(0x146)),mongoose_1=require(a97_0x365493(0x145)),mongoose_2=require('@nestjs/mongoose'),path=require(a97_0x365493(0x172)),child_process_1=require(a97_0x365493(0x144)),utils_1=require(a97_0x365493(0x17c));function a97_0x43b3(){const _0x16f5d6=['184hXrBAH','addProduct','59581AtKMEd','productModel','macOS\x20detected!\x20Playing\x20sound...','61726YlWPHN','assets','Playing\x20sound...','ProductService','audio','afplay\x20','omxplayer\x20','create','Model','filter','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','description','error','name','length','metadata','object','1547821kMeDZG','36XRZJBf','exec','Product','logger','path','getOwnPropertyDescriptor','5424624hQTZpi','findById','updateProduct','InjectModel','function','226302PFMEwZ','deleteProduct','join','../common/utils','getAllProducts','decorate','save','BassSample.mp3','child_process','mongoose','@nestjs/common','Linux\x20detected!\x20Playing\x20sound...','getProduct','__param','3717940PjxIBB','design:paramtypes','includes','Error\x20playing\x20sound:\x20','macOS','100aaksxx','detectOs','__decorate','30spFwNS','Logger','7000452buWccG','defineProperty','log'];a97_0x43b3=function(){return _0x16f5d6;};return a97_0x43b3();}function a97_0x5385(_0x5a28c8,_0x298c3b){const _0x43b3c8=a97_0x43b3();return a97_0x5385=function(_0x538589,_0x5cc506){_0x538589=_0x538589-0x143;let _0x2708f6=_0x43b3c8[_0x538589];return _0x2708f6;},a97_0x5385(_0x5a28c8,_0x298c3b);}let ProductService=class ProductService{constructor(_0x40a6a6){const _0x58958b=a97_0x365493;this[_0x58958b(0x15a)]=_0x40a6a6,this[_0x58958b(0x171)]=new common_1[(_0x58958b(0x153))]('ProductService');}async['getFilteredProducts'](_0x14fbc8){const _0x496b2f=a97_0x365493,{category:_0x20b5a7,search:_0x3dce93}=_0x14fbc8;let _0x14147b=await this[_0x496b2f(0x17d)]();return _0x3dce93&&(_0x14147b=_0x14147b[_0x496b2f(0x165)](_0xe0cb6f=>_0xe0cb6f[_0x496b2f(0x169)][_0x496b2f(0x14c)](_0x3dce93)||_0xe0cb6f[_0x496b2f(0x167)][_0x496b2f(0x14c)](_0x3dce93))),_0x20b5a7&&(_0x14147b=_0x14147b['filter'](_0x1aa6b6=>_0x1aa6b6['category']===_0x20b5a7)),_0x14147b;}async[a97_0x365493(0x17d)](){const _0x4c9f42=a97_0x365493,_0x524e46=await this[_0x4c9f42(0x15a)]['find']()['exec']();return _0x524e46;}async[a97_0x365493(0x148)](_0x2e89c4){const _0xc9e27=a97_0x365493,_0x4daa17=await this[_0xc9e27(0x15a)][_0xc9e27(0x175)](_0x2e89c4)[_0xc9e27(0x16f)](),_0x3256f1=path[_0xc9e27(0x17b)](__dirname,'..','..',_0xc9e27(0x15d),_0xc9e27(0x160),_0xc9e27(0x143));this['logger']['log'](_0xc9e27(0x15e),_0x3256f1);if((0x0,utils_1['isRaspberryPi'])())this['logger'][_0xc9e27(0x156)](_0xc9e27(0x166)),(0x0,child_process_1[_0xc9e27(0x16f)])(_0xc9e27(0x162)+_0x3256f1,_0x280280=>{const _0x3ee4f4=_0xc9e27;_0x280280&&this[_0x3ee4f4(0x171)][_0x3ee4f4(0x168)](_0x3ee4f4(0x14d)+_0x280280);});else(0x0,utils_1[_0xc9e27(0x150)])()===_0xc9e27(0x14e)?(this['logger']['log'](_0xc9e27(0x15b)),(0x0,child_process_1[_0xc9e27(0x16f)])(_0xc9e27(0x161)+_0x3256f1,_0x563052=>{const _0x1bb5c9=_0xc9e27;_0x563052&&this[_0x1bb5c9(0x171)][_0x1bb5c9(0x168)]('Error\x20playing\x20sound:\x20'+_0x563052);})):(this['logger'][_0xc9e27(0x156)](_0xc9e27(0x147)),(0x0,child_process_1[_0xc9e27(0x16f)])('mpg123\x20'+_0x3256f1,_0x2df94a=>{const _0x5480a6=_0xc9e27;_0x2df94a&&this['logger'][_0x5480a6(0x168)](_0x5480a6(0x14d)+_0x2df94a);}));return _0x4daa17;}async[a97_0x365493(0x158)](_0xfc15b0){const _0x26ca43=a97_0x365493,_0x2b7cef=await this['productModel'][_0x26ca43(0x163)](_0xfc15b0);return _0x2b7cef[_0x26ca43(0x17f)]();}async[a97_0x365493(0x176)](_0x272e83,_0x408cb1){const _0x2a62dc=a97_0x365493,_0x244ca2=await this[_0x2a62dc(0x15a)]['findByIdAndUpdate'](_0x272e83,_0x408cb1,{'new':!![]});return _0x244ca2;}async[a97_0x365493(0x17a)](_0x812067){const _0x1832e1=await this['productModel']['findByIdAndRemove'](_0x812067);return _0x1832e1;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2[a97_0x365493(0x177)])(a97_0x365493(0x170))),__metadata(a97_0x365493(0x14b),[mongoose_1[a97_0x365493(0x164)]])],ProductService),exports[a97_0x365493(0x15f)]=ProductService;