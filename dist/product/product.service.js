'use strict';function a94_0x32f6(){const _0x4f903b=['logger','join','findByIdAndRemove','find','decorate','filter','exec','defineProperty','Product','path','name','audio','ProductService','length','26832WTuuEz','category','log','findById','omxplayer\x20','240804LYisOq','includes','updateProduct','@nestjs/mongoose','__esModule','190950RIGOgt','child_process','function','Playing\x20sound...','725080dknOJA','metadata','macOS','Model','getOwnPropertyDescriptor','40962dZeIhT','getProduct','afplay\x20','30TccCHB','productModel','create','418075YEcUOO','BassSample.mp3','mongoose','9zXqLdr','Error\x20playing\x20sound:\x20','macOS\x20detected!\x20Playing\x20sound...','@nestjs/common','getAllProducts','object','Logger','description','28412YJOPvS','Linux\x20detected!\x20Playing\x20sound...','getFilteredProducts','error','__decorate'];a94_0x32f6=function(){return _0x4f903b;};return a94_0x32f6();}const a94_0x368d4c=a94_0x76cc;(function(_0x4ba6f8,_0xa8cdab){const _0x36fd05=a94_0x76cc,_0x32f2eb=_0x4ba6f8();while(!![]){try{const _0x2d2ab7=parseInt(_0x36fd05(0x7f))/0x1+-parseInt(_0x36fd05(0x90))/0x2*(-parseInt(_0x36fd05(0x88))/0x3)+-parseInt(_0x36fd05(0x7a))/0x4+-parseInt(_0x36fd05(0x76))/0x5+parseInt(_0x36fd05(0x82))/0x6*(parseInt(_0x36fd05(0x85))/0x7)+-parseInt(_0x36fd05(0xa3))/0x8+parseInt(_0x36fd05(0x71))/0x9;if(_0x2d2ab7===_0xa8cdab)break;else _0x32f2eb['push'](_0x32f2eb['shift']());}catch(_0x4f2219){_0x32f2eb['push'](_0x32f2eb['shift']());}}}(a94_0x32f6,0x2d723));function a94_0x76cc(_0x50e5bf,_0x4c4ebc){const _0x32f665=a94_0x32f6();return a94_0x76cc=function(_0x76cc08,_0x13c87a){_0x76cc08=_0x76cc08-0x70;let _0x3a1cdc=_0x32f665[_0x76cc08];return _0x3a1cdc;},a94_0x76cc(_0x50e5bf,_0x4c4ebc);}var __decorate=this&&this[a94_0x368d4c(0x94)]||function(_0xd100e8,_0x5ba678,_0x2921e9,_0x11964d){const _0x36ce08=a94_0x368d4c;var _0x2bedb6=arguments['length'],_0x93e094=_0x2bedb6<0x3?_0x5ba678:_0x11964d===null?_0x11964d=Object[_0x36ce08(0x7e)](_0x5ba678,_0x2921e9):_0x11964d,_0x4e826b;if(typeof Reflect===_0x36ce08(0x8d)&&typeof Reflect['decorate']===_0x36ce08(0x78))_0x93e094=Reflect[_0x36ce08(0x99)](_0xd100e8,_0x5ba678,_0x2921e9,_0x11964d);else{for(var _0x4e71a8=_0xd100e8[_0x36ce08(0xa2)]-0x1;_0x4e71a8>=0x0;_0x4e71a8--)if(_0x4e826b=_0xd100e8[_0x4e71a8])_0x93e094=(_0x2bedb6<0x3?_0x4e826b(_0x93e094):_0x2bedb6>0x3?_0x4e826b(_0x5ba678,_0x2921e9,_0x93e094):_0x4e826b(_0x5ba678,_0x2921e9))||_0x93e094;}return _0x2bedb6>0x3&&_0x93e094&&Object[_0x36ce08(0x9c)](_0x5ba678,_0x2921e9,_0x93e094),_0x93e094;},__metadata=this&&this['__metadata']||function(_0xfa25cb,_0x453a71){const _0x561d32=a94_0x368d4c;if(typeof Reflect===_0x561d32(0x8d)&&typeof Reflect[_0x561d32(0x7b)]===_0x561d32(0x78))return Reflect[_0x561d32(0x7b)](_0xfa25cb,_0x453a71);},__param=this&&this['__param']||function(_0x319a95,_0xed2421){return function(_0x48f054,_0x33f8c4){_0xed2421(_0x48f054,_0x33f8c4,_0x319a95);};};Object[a94_0x368d4c(0x9c)](exports,a94_0x368d4c(0x75),{'value':!![]}),exports[a94_0x368d4c(0xa1)]=void 0x0;const common_1=require(a94_0x368d4c(0x8b)),mongoose_1=require(a94_0x368d4c(0x87)),mongoose_2=require(a94_0x368d4c(0x74)),path=require(a94_0x368d4c(0x9e)),child_process_1=require(a94_0x368d4c(0x77)),utils_1=require('../common/utils');let ProductService=class ProductService{constructor(_0x163be7){const _0x2b6247=a94_0x368d4c;this[_0x2b6247(0x83)]=_0x163be7,this[_0x2b6247(0x95)]=new common_1[(_0x2b6247(0x8e))](_0x2b6247(0xa1));}async[a94_0x368d4c(0x92)](_0x38c45a){const _0x242925=a94_0x368d4c,{category:_0x42edcc,search:_0x4e0fb8}=_0x38c45a;let _0xeeb189=await this[_0x242925(0x8c)]();return _0x4e0fb8&&(_0xeeb189=_0xeeb189['filter'](_0x911052=>_0x911052[_0x242925(0x9f)][_0x242925(0x72)](_0x4e0fb8)||_0x911052[_0x242925(0x8f)][_0x242925(0x72)](_0x4e0fb8))),_0x42edcc&&(_0xeeb189=_0xeeb189[_0x242925(0x9a)](_0x43be6f=>_0x43be6f[_0x242925(0xa4)]===_0x42edcc)),_0xeeb189;}async[a94_0x368d4c(0x8c)](){const _0x4a9f5a=a94_0x368d4c,_0x3f87a2=await this[_0x4a9f5a(0x83)][_0x4a9f5a(0x98)]()[_0x4a9f5a(0x9b)]();return _0x3f87a2;}async[a94_0x368d4c(0x80)](_0x25b1bd){const _0x1c1539=a94_0x368d4c,_0x17ee6f=await this['productModel'][_0x1c1539(0xa6)](_0x25b1bd)[_0x1c1539(0x9b)](),_0x3286e8=path[_0x1c1539(0x96)](__dirname,'..','..','assets',_0x1c1539(0xa0),_0x1c1539(0x86));this[_0x1c1539(0x95)][_0x1c1539(0xa5)](_0x1c1539(0x79),_0x3286e8);if((0x0,utils_1['isRaspberryPi'])())this['logger'][_0x1c1539(0xa5)]('Raspberry\x20Pi\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x1c1539(0x9b)])(_0x1c1539(0x70)+_0x3286e8,_0x13a945=>{_0x13a945&&this['logger']['error']('Error\x20playing\x20sound:\x20'+_0x13a945);});else(0x0,utils_1['detectOs'])()===_0x1c1539(0x7c)?(this['logger']['log'](_0x1c1539(0x8a)),(0x0,child_process_1[_0x1c1539(0x9b)])(_0x1c1539(0x81)+_0x3286e8,_0x3289f2=>{const _0x2f357a=_0x1c1539;_0x3289f2&&this[_0x2f357a(0x95)][_0x2f357a(0x93)](_0x2f357a(0x89)+_0x3289f2);})):(this[_0x1c1539(0x95)]['log'](_0x1c1539(0x91)),(0x0,child_process_1[_0x1c1539(0x9b)])('mpg123\x20'+_0x3286e8,_0x4f6a83=>{const _0x2c5430=_0x1c1539;_0x4f6a83&&this[_0x2c5430(0x95)][_0x2c5430(0x93)]('Error\x20playing\x20sound:\x20'+_0x4f6a83);}));return _0x17ee6f;}async['addProduct'](_0x37a826){const _0x1c6d07=a94_0x368d4c,_0x4e1d0f=await this[_0x1c6d07(0x83)][_0x1c6d07(0x84)](_0x37a826);return _0x4e1d0f['save']();}async[a94_0x368d4c(0x73)](_0x1082db,_0x340505){const _0x476bdc=await this['productModel']['findByIdAndUpdate'](_0x1082db,_0x340505,{'new':!![]});return _0x476bdc;}async['deleteProduct'](_0x5ba324){const _0x27aba0=a94_0x368d4c,_0x4596c7=await this[_0x27aba0(0x83)][_0x27aba0(0x97)](_0x5ba324);return _0x4596c7;}};ProductService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_2['InjectModel'])(a94_0x368d4c(0x9d))),__metadata('design:paramtypes',[mongoose_1[a94_0x368d4c(0x7d)]])],ProductService),exports[a94_0x368d4c(0xa1)]=ProductService;