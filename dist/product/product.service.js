'use strict';const a94_0x53c436=a94_0x2b6b;(function(_0x4afd5d,_0x402d75){const _0x22441c=a94_0x2b6b,_0x4f3ab0=_0x4afd5d();while(!![]){try{const _0x202c4c=parseInt(_0x22441c(0x148))/0x1+parseInt(_0x22441c(0x125))/0x2+-parseInt(_0x22441c(0x12a))/0x3+parseInt(_0x22441c(0x149))/0x4+parseInt(_0x22441c(0x122))/0x5+parseInt(_0x22441c(0x14e))/0x6*(parseInt(_0x22441c(0x133))/0x7)+-parseInt(_0x22441c(0x147))/0x8;if(_0x202c4c===_0x402d75)break;else _0x4f3ab0['push'](_0x4f3ab0['shift']());}catch(_0xa6f03d){_0x4f3ab0['push'](_0x4f3ab0['shift']());}}}(a94_0x49df,0x8b28f));function a94_0x49df(){const _0x2ca1a2=['__decorate','findByIdAndRemove','findById','__esModule','length','function','__metadata','InjectModel','macOS','16082080bkrMmz','84453Ctbxpo','1444904ueFXSl','addProduct','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','Logger','log','35184RaWOxj','assets','__param','includes','logger','Product','object','join','isRaspberryPi','name','updateProduct','Error\x20playing\x20sound:\x20','omxplayer\x20','../common/utils','mongoose','@nestjs/common','2961205eUOxFZ','defineProperty','create','1741366SOIxGY','getProduct','deleteProduct','find','getAllProducts','729384nwhKeR','detectOs','afplay\x20','ProductService','error','Model','getFilteredProducts','mpg123\x20','decorate','1092ZNzKcW','metadata','Playing\x20sound...','Injectable','exec','filter','BassSample.mp3','category','@nestjs/mongoose','child_process','productModel'];a94_0x49df=function(){return _0x2ca1a2;};return a94_0x49df();}function a94_0x2b6b(_0x15c715,_0x150ff1){const _0x49df22=a94_0x49df();return a94_0x2b6b=function(_0x2b6bef,_0x4b1f68){_0x2b6bef=_0x2b6bef-0x11d;let _0x2abdfc=_0x49df22[_0x2b6bef];return _0x2abdfc;},a94_0x2b6b(_0x15c715,_0x150ff1);}var __decorate=this&&this[a94_0x53c436(0x13e)]||function(_0x27cf1e,_0x537ecf,_0x51ad3c,_0x4bb18f){const _0x4b2222=a94_0x53c436;var _0x13b615=arguments['length'],_0x5e8cf3=_0x13b615<0x3?_0x537ecf:_0x4bb18f===null?_0x4bb18f=Object['getOwnPropertyDescriptor'](_0x537ecf,_0x51ad3c):_0x4bb18f,_0x1dd23c;if(typeof Reflect===_0x4b2222(0x154)&&typeof Reflect[_0x4b2222(0x132)]===_0x4b2222(0x143))_0x5e8cf3=Reflect['decorate'](_0x27cf1e,_0x537ecf,_0x51ad3c,_0x4bb18f);else{for(var _0x8b3cee=_0x27cf1e[_0x4b2222(0x142)]-0x1;_0x8b3cee>=0x0;_0x8b3cee--)if(_0x1dd23c=_0x27cf1e[_0x8b3cee])_0x5e8cf3=(_0x13b615<0x3?_0x1dd23c(_0x5e8cf3):_0x13b615>0x3?_0x1dd23c(_0x537ecf,_0x51ad3c,_0x5e8cf3):_0x1dd23c(_0x537ecf,_0x51ad3c))||_0x5e8cf3;}return _0x13b615>0x3&&_0x5e8cf3&&Object[_0x4b2222(0x123)](_0x537ecf,_0x51ad3c,_0x5e8cf3),_0x5e8cf3;},__metadata=this&&this[a94_0x53c436(0x144)]||function(_0x4510da,_0x4ae744){const _0x51752c=a94_0x53c436;if(typeof Reflect===_0x51752c(0x154)&&typeof Reflect[_0x51752c(0x134)]===_0x51752c(0x143))return Reflect[_0x51752c(0x134)](_0x4510da,_0x4ae744);},__param=this&&this[a94_0x53c436(0x150)]||function(_0x2a1b85,_0x364b94){return function(_0x3daa7d,_0x5f432c){_0x364b94(_0x3daa7d,_0x5f432c,_0x2a1b85);};};Object['defineProperty'](exports,a94_0x53c436(0x141),{'value':!![]}),exports[a94_0x53c436(0x12d)]=void 0x0;const common_1=require(a94_0x53c436(0x121)),mongoose_1=require(a94_0x53c436(0x120)),mongoose_2=require(a94_0x53c436(0x13b)),path=require('path'),child_process_1=require(a94_0x53c436(0x13c)),utils_1=require(a94_0x53c436(0x11f));let ProductService=class ProductService{constructor(_0x1ffd1f){const _0x4050a0=a94_0x53c436;this[_0x4050a0(0x13d)]=_0x1ffd1f,this['logger']=new common_1[(_0x4050a0(0x14c))](_0x4050a0(0x12d));}async[a94_0x53c436(0x130)](_0x200dec){const _0x40a67b=a94_0x53c436,{category:_0x2ebd08,search:_0x5a623c}=_0x200dec;let _0x17bd5e=await this[_0x40a67b(0x129)]();return _0x5a623c&&(_0x17bd5e=_0x17bd5e[_0x40a67b(0x138)](_0x2277fc=>_0x2277fc[_0x40a67b(0x157)]['includes'](_0x5a623c)||_0x2277fc['description'][_0x40a67b(0x151)](_0x5a623c))),_0x2ebd08&&(_0x17bd5e=_0x17bd5e[_0x40a67b(0x138)](_0x10ffec=>_0x10ffec[_0x40a67b(0x13a)]===_0x2ebd08)),_0x17bd5e;}async['getAllProducts'](){const _0x749016=a94_0x53c436,_0x249a9a=await this[_0x749016(0x13d)][_0x749016(0x128)]()[_0x749016(0x137)]();return _0x249a9a;}async[a94_0x53c436(0x126)](_0xc7123f){const _0x5d15c4=a94_0x53c436,_0x5b7873=await this[_0x5d15c4(0x13d)][_0x5d15c4(0x140)](_0xc7123f)[_0x5d15c4(0x137)](),_0x52df8d=path[_0x5d15c4(0x155)](__dirname,'..','..',_0x5d15c4(0x14f),'audio',_0x5d15c4(0x139));this[_0x5d15c4(0x152)][_0x5d15c4(0x14d)](_0x5d15c4(0x135),_0x52df8d);if((0x0,utils_1[_0x5d15c4(0x156)])())this[_0x5d15c4(0x152)][_0x5d15c4(0x14d)](_0x5d15c4(0x14b)),(0x0,child_process_1[_0x5d15c4(0x137)])(_0x5d15c4(0x11e)+_0x52df8d,_0x1def0d=>{const _0xd1c2=_0x5d15c4;_0x1def0d&&this[_0xd1c2(0x152)]['error'](_0xd1c2(0x11d)+_0x1def0d);});else(0x0,utils_1[_0x5d15c4(0x12b)])()===_0x5d15c4(0x146)?(this[_0x5d15c4(0x152)][_0x5d15c4(0x14d)]('macOS\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x5d15c4(0x137)])(_0x5d15c4(0x12c)+_0x52df8d,_0x57b751=>{const _0x10532e=_0x5d15c4;_0x57b751&&this[_0x10532e(0x152)][_0x10532e(0x12e)](_0x10532e(0x11d)+_0x57b751);})):(this[_0x5d15c4(0x152)][_0x5d15c4(0x14d)]('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1['exec'])(_0x5d15c4(0x131)+_0x52df8d,_0x22e751=>{const _0x31c5fe=_0x5d15c4;_0x22e751&&this[_0x31c5fe(0x152)][_0x31c5fe(0x12e)]('Error\x20playing\x20sound:\x20'+_0x22e751);}));return _0x5b7873;}async[a94_0x53c436(0x14a)](_0x339e71){const _0x41457f=a94_0x53c436,_0x3bd5ed=await this[_0x41457f(0x13d)][_0x41457f(0x124)](_0x339e71);return _0x3bd5ed['save']();}async[a94_0x53c436(0x158)](_0x4e6182,_0x3ef39b){const _0x305cab=a94_0x53c436,_0x16fdca=await this[_0x305cab(0x13d)]['findByIdAndUpdate'](_0x4e6182,_0x3ef39b,{'new':!![]});return _0x16fdca;}async[a94_0x53c436(0x127)](_0xd9b151){const _0x28f6ce=a94_0x53c436,_0x47aa5f=await this['productModel'][_0x28f6ce(0x13f)](_0xd9b151);return _0x47aa5f;}};ProductService=__decorate([(0x0,common_1[a94_0x53c436(0x136)])(),__param(0x0,(0x0,mongoose_2[a94_0x53c436(0x145)])(a94_0x53c436(0x153))),__metadata('design:paramtypes',[mongoose_1[a94_0x53c436(0x12f)]])],ProductService),exports[a94_0x53c436(0x12d)]=ProductService;