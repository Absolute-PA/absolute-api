'use strict';const a97_0x26b05f=a97_0x27fd;function a97_0x18b9(){const _0x15f5eb=['__param','141174wLRLiK','name','deleteProduct','find','Product','logger','@nestjs/mongoose','detectOs','@nestjs/common','error','defineProperty','isRaspberryPi','filter','design:paramtypes','mpg123\x20','path','object','300JAMbsR','__decorate','metadata','length','InjectModel','log','join','includes','updateProduct','findByIdAndRemove','macOS\x20detected!\x20Playing\x20sound...','Logger','category','__esModule','child_process','exec','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','omxplayer\x20','productModel','findByIdAndUpdate','1285130tSvIqI','afplay\x20','1730583MceJUa','../common/utils','assets','218uqMtvD','2105yNEOeF','11BiMjuO','__metadata','Model','77784UjmezP','Linux\x20detected!\x20Playing\x20sound...','mongoose','290139MsxbSQ','function','getOwnPropertyDescriptor','macOS','Playing\x20sound...','11464YgDMJy','8WFNhjy','getFilteredProducts','ProductService','Error\x20playing\x20sound:\x20','getAllProducts','create','Injectable'];a97_0x18b9=function(){return _0x15f5eb;};return a97_0x18b9();}(function(_0x1485ee,_0x4bd264){const _0x3881f2=a97_0x27fd,_0xe3307d=_0x1485ee();while(!![]){try{const _0x25a496=parseInt(_0x3881f2(0x11f))/0x1*(-parseInt(_0x3881f2(0x11e))/0x2)+parseInt(_0x3881f2(0x126))/0x3+-parseInt(_0x3881f2(0x12b))/0x4*(-parseInt(_0x3881f2(0x145))/0x5)+parseInt(_0x3881f2(0x134))/0x6+parseInt(_0x3881f2(0x123))/0x7*(-parseInt(_0x3881f2(0x12c))/0x8)+parseInt(_0x3881f2(0x11b))/0x9+parseInt(_0x3881f2(0x159))/0xa*(-parseInt(_0x3881f2(0x120))/0xb);if(_0x25a496===_0x4bd264)break;else _0xe3307d['push'](_0xe3307d['shift']());}catch(_0xb32fa4){_0xe3307d['push'](_0xe3307d['shift']());}}}(a97_0x18b9,0x1c2db));function a97_0x27fd(_0x3150fe,_0x2f39f9){const _0x18b9ce=a97_0x18b9();return a97_0x27fd=function(_0x27fd4e,_0x4395e0){_0x27fd4e=_0x27fd4e-0x11b;let _0x47ac05=_0x18b9ce[_0x27fd4e];return _0x47ac05;},a97_0x27fd(_0x3150fe,_0x2f39f9);}var __decorate=this&&this[a97_0x26b05f(0x146)]||function(_0x20046a,_0x38db71,_0x579711,_0x3de241){const _0x2fddfb=a97_0x26b05f;var _0x137c7d=arguments['length'],_0x42ce20=_0x137c7d<0x3?_0x38db71:_0x3de241===null?_0x3de241=Object[_0x2fddfb(0x128)](_0x38db71,_0x579711):_0x3de241,_0x4be180;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2fddfb(0x127))_0x42ce20=Reflect['decorate'](_0x20046a,_0x38db71,_0x579711,_0x3de241);else{for(var _0x3fd7ca=_0x20046a[_0x2fddfb(0x148)]-0x1;_0x3fd7ca>=0x0;_0x3fd7ca--)if(_0x4be180=_0x20046a[_0x3fd7ca])_0x42ce20=(_0x137c7d<0x3?_0x4be180(_0x42ce20):_0x137c7d>0x3?_0x4be180(_0x38db71,_0x579711,_0x42ce20):_0x4be180(_0x38db71,_0x579711))||_0x42ce20;}return _0x137c7d>0x3&&_0x42ce20&&Object[_0x2fddfb(0x13e)](_0x38db71,_0x579711,_0x42ce20),_0x42ce20;},__metadata=this&&this[a97_0x26b05f(0x121)]||function(_0x1f9032,_0x177df7){const _0x2e1ca1=a97_0x26b05f;if(typeof Reflect===_0x2e1ca1(0x144)&&typeof Reflect[_0x2e1ca1(0x147)]===_0x2e1ca1(0x127))return Reflect['metadata'](_0x1f9032,_0x177df7);},__param=this&&this[a97_0x26b05f(0x133)]||function(_0x3546d8,_0x5e4233){return function(_0x4621bd,_0x361687){_0x5e4233(_0x4621bd,_0x361687,_0x3546d8);};};Object[a97_0x26b05f(0x13e)](exports,a97_0x26b05f(0x152),{'value':!![]}),exports[a97_0x26b05f(0x12e)]=void 0x0;const common_1=require(a97_0x26b05f(0x13c)),mongoose_1=require(a97_0x26b05f(0x125)),mongoose_2=require(a97_0x26b05f(0x13a)),path=require(a97_0x26b05f(0x143)),child_process_1=require(a97_0x26b05f(0x153)),utils_1=require(a97_0x26b05f(0x11c));let ProductService=class ProductService{constructor(_0x21a04d){const _0x36504a=a97_0x26b05f;this[_0x36504a(0x157)]=_0x21a04d,this[_0x36504a(0x139)]=new common_1[(_0x36504a(0x150))](_0x36504a(0x12e));}async[a97_0x26b05f(0x12d)](_0xbf761c){const _0x57020c=a97_0x26b05f,{category:_0x4f1e72,search:_0x27e266}=_0xbf761c;let _0x2f500d=await this[_0x57020c(0x130)]();return _0x27e266&&(_0x2f500d=_0x2f500d[_0x57020c(0x140)](_0x1945fe=>_0x1945fe[_0x57020c(0x135)]['includes'](_0x27e266)||_0x1945fe['description'][_0x57020c(0x14c)](_0x27e266))),_0x4f1e72&&(_0x2f500d=_0x2f500d[_0x57020c(0x140)](_0x488c1c=>_0x488c1c[_0x57020c(0x151)]===_0x4f1e72)),_0x2f500d;}async[a97_0x26b05f(0x130)](){const _0x4d3d83=a97_0x26b05f,_0xda870e=await this[_0x4d3d83(0x157)][_0x4d3d83(0x137)]()[_0x4d3d83(0x154)]();return _0xda870e;}async['getProduct'](_0x193c5f){const _0x2ab395=a97_0x26b05f,_0x5aa76f=await this[_0x2ab395(0x157)]['findById'](_0x193c5f)['exec'](),_0x112b4b=path[_0x2ab395(0x14b)](__dirname,'..','..',_0x2ab395(0x11d),'audio','BassSample.mp3');this[_0x2ab395(0x139)][_0x2ab395(0x14a)](_0x2ab395(0x12a),_0x112b4b);if((0x0,utils_1[_0x2ab395(0x13f)])())this['logger'][_0x2ab395(0x14a)](_0x2ab395(0x155)),(0x0,child_process_1[_0x2ab395(0x154)])(_0x2ab395(0x156)+_0x112b4b,_0x4c5d83=>{const _0xae4a60=_0x2ab395;_0x4c5d83&&this[_0xae4a60(0x139)][_0xae4a60(0x13d)]('Error\x20playing\x20sound:\x20'+_0x4c5d83);});else(0x0,utils_1[_0x2ab395(0x13b)])()===_0x2ab395(0x129)?(this[_0x2ab395(0x139)]['log'](_0x2ab395(0x14f)),(0x0,child_process_1[_0x2ab395(0x154)])(_0x2ab395(0x15a)+_0x112b4b,_0x416786=>{const _0x3ffab0=_0x2ab395;_0x416786&&this[_0x3ffab0(0x139)][_0x3ffab0(0x13d)](_0x3ffab0(0x12f)+_0x416786);})):(this['logger'][_0x2ab395(0x14a)](_0x2ab395(0x124)),(0x0,child_process_1['exec'])(_0x2ab395(0x142)+_0x112b4b,_0x4f4320=>{const _0x35cfcd=_0x2ab395;_0x4f4320&&this[_0x35cfcd(0x139)][_0x35cfcd(0x13d)](_0x35cfcd(0x12f)+_0x4f4320);}));return _0x5aa76f;}async['addProduct'](_0xd6da3a){const _0x584e8c=a97_0x26b05f,_0x40f5e3=await this[_0x584e8c(0x157)][_0x584e8c(0x131)](_0xd6da3a);return _0x40f5e3['save']();}async[a97_0x26b05f(0x14d)](_0x5b266f,_0x302486){const _0xfb8223=a97_0x26b05f,_0x43e58b=await this[_0xfb8223(0x157)][_0xfb8223(0x158)](_0x5b266f,_0x302486,{'new':!![]});return _0x43e58b;}async[a97_0x26b05f(0x136)](_0xf4e5ee){const _0x4a0aaf=a97_0x26b05f,_0x3a8a66=await this[_0x4a0aaf(0x157)][_0x4a0aaf(0x14e)](_0xf4e5ee);return _0x3a8a66;}};ProductService=__decorate([(0x0,common_1[a97_0x26b05f(0x132)])(),__param(0x0,(0x0,mongoose_2[a97_0x26b05f(0x149)])(a97_0x26b05f(0x138))),__metadata(a97_0x26b05f(0x141),[mongoose_1[a97_0x26b05f(0x122)]])],ProductService),exports[a97_0x26b05f(0x12e)]=ProductService;