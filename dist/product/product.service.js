'use strict';const a94_0x458150=a94_0x2d4a;(function(_0x150dca,_0x27a65e){const _0x47ef65=a94_0x2d4a,_0x3f1cf3=_0x150dca();while(!![]){try{const _0x5f030e=parseInt(_0x47ef65(0x12e))/0x1+parseInt(_0x47ef65(0x162))/0x2+-parseInt(_0x47ef65(0x145))/0x3+parseInt(_0x47ef65(0x157))/0x4+parseInt(_0x47ef65(0x140))/0x5*(parseInt(_0x47ef65(0x138))/0x6)+parseInt(_0x47ef65(0x13f))/0x7*(-parseInt(_0x47ef65(0x141))/0x8)+-parseInt(_0x47ef65(0x150))/0x9;if(_0x5f030e===_0x27a65e)break;else _0x3f1cf3['push'](_0x3f1cf3['shift']());}catch(_0x232cd0){_0x3f1cf3['push'](_0x3f1cf3['shift']());}}}(a94_0x3882,0x8a2c8));var __decorate=this&&this[a94_0x458150(0x15b)]||function(_0x18b806,_0x32bd80,_0xb58015,_0x57d34a){const _0x24ea0e=a94_0x458150;var _0x1663db=arguments[_0x24ea0e(0x136)],_0x8d9733=_0x1663db<0x3?_0x32bd80:_0x57d34a===null?_0x57d34a=Object[_0x24ea0e(0x14c)](_0x32bd80,_0xb58015):_0x57d34a,_0xee35d2;if(typeof Reflect===_0x24ea0e(0x144)&&typeof Reflect[_0x24ea0e(0x149)]===_0x24ea0e(0x12b))_0x8d9733=Reflect[_0x24ea0e(0x149)](_0x18b806,_0x32bd80,_0xb58015,_0x57d34a);else{for(var _0x433f6b=_0x18b806[_0x24ea0e(0x136)]-0x1;_0x433f6b>=0x0;_0x433f6b--)if(_0xee35d2=_0x18b806[_0x433f6b])_0x8d9733=(_0x1663db<0x3?_0xee35d2(_0x8d9733):_0x1663db>0x3?_0xee35d2(_0x32bd80,_0xb58015,_0x8d9733):_0xee35d2(_0x32bd80,_0xb58015))||_0x8d9733;}return _0x1663db>0x3&&_0x8d9733&&Object[_0x24ea0e(0x147)](_0x32bd80,_0xb58015,_0x8d9733),_0x8d9733;},__metadata=this&&this[a94_0x458150(0x12d)]||function(_0x3cdb1d,_0x33bbd0){const _0x2f429d=a94_0x458150;if(typeof Reflect===_0x2f429d(0x144)&&typeof Reflect[_0x2f429d(0x151)]===_0x2f429d(0x12b))return Reflect[_0x2f429d(0x151)](_0x3cdb1d,_0x33bbd0);},__param=this&&this[a94_0x458150(0x158)]||function(_0x4ce2c9,_0x39e270){return function(_0x3a35ae,_0xec6b98){_0x39e270(_0x3a35ae,_0xec6b98,_0x4ce2c9);};};function a94_0x2d4a(_0x1ebbb4,_0xb63119){const _0x388215=a94_0x3882();return a94_0x2d4a=function(_0x2d4a40,_0xb68566){_0x2d4a40=_0x2d4a40-0x124;let _0x27e587=_0x388215[_0x2d4a40];return _0x27e587;},a94_0x2d4a(_0x1ebbb4,_0xb63119);}function a94_0x3882(){const _0x1bbfef=['log','ProductService','function','design:paramtypes','__metadata','966492tDJvNv','Error\x20playing\x20sound:\x20','Logger','macOS\x20detected!\x20Playing\x20sound...','macOS','filter','exec','save','length','join','12GXBYXy','getAllProducts','omxplayer\x20','Playing\x20sound...','@nestjs/common','includes','deleteProduct','962479RdllrS','2204165sbhuTj','56zoxVvU','InjectModel','mpg123\x20','object','780060KonPZh','getFilteredProducts','defineProperty','assets','decorate','Product','BassSample.mp3','getOwnPropertyDescriptor','audio','Model','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','12467880bFrlUT','metadata','create','Linux\x20detected!\x20Playing\x20sound...','@nestjs/mongoose','../common/utils','category','3764272sBrJtU','__param','logger','findById','__decorate','name','error','description','isRaspberryPi','Injectable','detectOs','769106UTuIiA','path','addProduct','findByIdAndRemove','productModel','updateProduct','child_process'];a94_0x3882=function(){return _0x1bbfef;};return a94_0x3882();}Object[a94_0x458150(0x147)](exports,'__esModule',{'value':!![]}),exports['ProductService']=void 0x0;const common_1=require(a94_0x458150(0x13c)),mongoose_1=require('mongoose'),mongoose_2=require(a94_0x458150(0x154)),path=require(a94_0x458150(0x163)),child_process_1=require(a94_0x458150(0x128)),utils_1=require(a94_0x458150(0x155));let ProductService=class ProductService{constructor(_0x2b33cb){const _0x23eae8=a94_0x458150;this['productModel']=_0x2b33cb,this['logger']=new common_1[(_0x23eae8(0x130))](_0x23eae8(0x12a));}async[a94_0x458150(0x146)](_0x13f1e6){const _0x71a5ea=a94_0x458150,{category:_0x27edea,search:_0x356c81}=_0x13f1e6;let _0x560551=await this['getAllProducts']();return _0x356c81&&(_0x560551=_0x560551[_0x71a5ea(0x133)](_0x87feff=>_0x87feff[_0x71a5ea(0x15c)]['includes'](_0x356c81)||_0x87feff[_0x71a5ea(0x15e)][_0x71a5ea(0x13d)](_0x356c81))),_0x27edea&&(_0x560551=_0x560551[_0x71a5ea(0x133)](_0x189a56=>_0x189a56[_0x71a5ea(0x156)]===_0x27edea)),_0x560551;}async[a94_0x458150(0x139)](){const _0x1e2f44=a94_0x458150,_0x477846=await this['productModel']['find']()[_0x1e2f44(0x134)]();return _0x477846;}async['getProduct'](_0x3b91f4){const _0x21c5f9=a94_0x458150,_0x4fc4ab=await this['productModel'][_0x21c5f9(0x15a)](_0x3b91f4)[_0x21c5f9(0x134)](),_0x3af11f=path[_0x21c5f9(0x137)](__dirname,'..','..',_0x21c5f9(0x148),_0x21c5f9(0x14d),_0x21c5f9(0x14b));this['logger'][_0x21c5f9(0x129)](_0x21c5f9(0x13b),_0x3af11f);if((0x0,utils_1[_0x21c5f9(0x15f)])())this['logger'][_0x21c5f9(0x129)](_0x21c5f9(0x14f)),(0x0,child_process_1[_0x21c5f9(0x134)])(_0x21c5f9(0x13a)+_0x3af11f,_0xd57646=>{const _0x12f739=_0x21c5f9;_0xd57646&&this[_0x12f739(0x159)]['error'](_0x12f739(0x12f)+_0xd57646);});else(0x0,utils_1[_0x21c5f9(0x161)])()===_0x21c5f9(0x132)?(this[_0x21c5f9(0x159)][_0x21c5f9(0x129)](_0x21c5f9(0x131)),(0x0,child_process_1['exec'])('afplay\x20'+_0x3af11f,_0x1b881d=>{const _0xae21f5=_0x21c5f9;_0x1b881d&&this[_0xae21f5(0x159)][_0xae21f5(0x15d)](_0xae21f5(0x12f)+_0x1b881d);})):(this[_0x21c5f9(0x159)][_0x21c5f9(0x129)](_0x21c5f9(0x153)),(0x0,child_process_1[_0x21c5f9(0x134)])(_0x21c5f9(0x143)+_0x3af11f,_0x288e5d=>{const _0x2a1b07=_0x21c5f9;_0x288e5d&&this['logger'][_0x2a1b07(0x15d)](_0x2a1b07(0x12f)+_0x288e5d);}));return _0x4fc4ab;}async[a94_0x458150(0x124)](_0x5b155c){const _0xe89c2e=a94_0x458150,_0x5af56a=await this[_0xe89c2e(0x126)][_0xe89c2e(0x152)](_0x5b155c);return _0x5af56a[_0xe89c2e(0x135)]();}async[a94_0x458150(0x127)](_0x3db1a2,_0x1be32a){const _0x36d4a2=a94_0x458150,_0x58a6f9=await this[_0x36d4a2(0x126)]['findByIdAndUpdate'](_0x3db1a2,_0x1be32a,{'new':!![]});return _0x58a6f9;}async[a94_0x458150(0x13e)](_0x57a56b){const _0x1e263a=a94_0x458150,_0x4ad6db=await this[_0x1e263a(0x126)][_0x1e263a(0x125)](_0x57a56b);return _0x4ad6db;}};ProductService=__decorate([(0x0,common_1[a94_0x458150(0x160)])(),__param(0x0,(0x0,mongoose_2[a94_0x458150(0x142)])(a94_0x458150(0x14a))),__metadata(a94_0x458150(0x12c),[mongoose_1[a94_0x458150(0x14e)]])],ProductService),exports['ProductService']=ProductService;