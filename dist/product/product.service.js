'use strict';const a97_0x3619c6=a97_0x2783;(function(_0x27ba86,_0x2be5fa){const _0x3d21de=a97_0x2783,_0x35be6e=_0x27ba86();while(!![]){try{const _0x54d491=parseInt(_0x3d21de(0x101))/0x1*(parseInt(_0x3d21de(0xd0))/0x2)+-parseInt(_0x3d21de(0xff))/0x3+parseInt(_0x3d21de(0x108))/0x4*(-parseInt(_0x3d21de(0xcf))/0x5)+parseInt(_0x3d21de(0x105))/0x6+parseInt(_0x3d21de(0xce))/0x7*(-parseInt(_0x3d21de(0xe9))/0x8)+parseInt(_0x3d21de(0xdb))/0x9+parseInt(_0x3d21de(0xdd))/0xa;if(_0x54d491===_0x2be5fa)break;else _0x35be6e['push'](_0x35be6e['shift']());}catch(_0x36f53d){_0x35be6e['push'](_0x35be6e['shift']());}}}(a97_0x6e55,0x2e788));function a97_0x2783(_0x273e85,_0x24388b){const _0x6e55ed=a97_0x6e55();return a97_0x2783=function(_0x278318,_0x2162db){_0x278318=_0x278318-0xcc;let _0x1cc1f2=_0x6e55ed[_0x278318];return _0x1cc1f2;},a97_0x2783(_0x273e85,_0x24388b);}var __decorate=this&&this[a97_0x3619c6(0xeb)]||function(_0x38a6fa,_0x35744b,_0x34fb7b,_0x362381){const _0xb1215d=a97_0x3619c6;var _0x49c917=arguments['length'],_0x97e750=_0x49c917<0x3?_0x35744b:_0x362381===null?_0x362381=Object['getOwnPropertyDescriptor'](_0x35744b,_0x34fb7b):_0x362381,_0x19c17a;if(typeof Reflect===_0xb1215d(0xd4)&&typeof Reflect[_0xb1215d(0xe2)]===_0xb1215d(0xd2))_0x97e750=Reflect[_0xb1215d(0xe2)](_0x38a6fa,_0x35744b,_0x34fb7b,_0x362381);else{for(var _0x494bd1=_0x38a6fa[_0xb1215d(0xcc)]-0x1;_0x494bd1>=0x0;_0x494bd1--)if(_0x19c17a=_0x38a6fa[_0x494bd1])_0x97e750=(_0x49c917<0x3?_0x19c17a(_0x97e750):_0x49c917>0x3?_0x19c17a(_0x35744b,_0x34fb7b,_0x97e750):_0x19c17a(_0x35744b,_0x34fb7b))||_0x97e750;}return _0x49c917>0x3&&_0x97e750&&Object['defineProperty'](_0x35744b,_0x34fb7b,_0x97e750),_0x97e750;},__metadata=this&&this[a97_0x3619c6(0x107)]||function(_0xd40e70,_0x4fdc30){const _0x59ff78=a97_0x3619c6;if(typeof Reflect===_0x59ff78(0xd4)&&typeof Reflect[_0x59ff78(0xe8)]===_0x59ff78(0xd2))return Reflect[_0x59ff78(0xe8)](_0xd40e70,_0x4fdc30);},__param=this&&this['__param']||function(_0x299eec,_0xaf9f3b){return function(_0x5b79d7,_0x47ac56){_0xaf9f3b(_0x5b79d7,_0x47ac56,_0x299eec);};};Object[a97_0x3619c6(0xef)](exports,a97_0x3619c6(0xdf),{'value':!![]}),exports[a97_0x3619c6(0xf1)]=void 0x0;const common_1=require(a97_0x3619c6(0xd5)),mongoose_1=require(a97_0x3619c6(0xec)),mongoose_2=require(a97_0x3619c6(0xf7)),path=require(a97_0x3619c6(0xd9)),child_process_1=require(a97_0x3619c6(0xea)),utils_1=require(a97_0x3619c6(0xda));function a97_0x6e55(){const _0x1408e5=['__decorate','mongoose','findById','productModel','defineProperty','logger','ProductService','Error\x20playing\x20sound:\x20','Injectable','afplay\x20','findByIdAndRemove','design:paramtypes','@nestjs/mongoose','detectOs','Playing\x20sound...','save','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','omxplayer\x20','join','description','580692XtPbBy','category','3OcKcbf','Logger','find','BassSample.mp3','1073652WENQox','assets','__metadata','4vjczOm','length','mpg123\x20','7ArxePU','1059775qOdMuX','178076mZyDdj','Model','function','filter','object','@nestjs/common','macOS','log','deleteProduct','path','../common/utils','600939wicLse','isRaspberryPi','3020550DZtQlK','error','__esModule','exec','getAllProducts','decorate','updateProduct','InjectModel','addProduct','create','includes','metadata','1752152opRdSe','child_process'];a97_0x6e55=function(){return _0x1408e5;};return a97_0x6e55();}let ProductService=class ProductService{constructor(_0x4650db){const _0x33b59b=a97_0x3619c6;this[_0x33b59b(0xee)]=_0x4650db,this[_0x33b59b(0xf0)]=new common_1[(_0x33b59b(0x102))](_0x33b59b(0xf1));}async['getFilteredProducts'](_0x197da0){const _0x26a935=a97_0x3619c6,{category:_0x32fdcd,search:_0x5095aa}=_0x197da0;let _0x2166c5=await this[_0x26a935(0xe1)]();return _0x5095aa&&(_0x2166c5=_0x2166c5[_0x26a935(0xd3)](_0x19fbe5=>_0x19fbe5['name']['includes'](_0x5095aa)||_0x19fbe5[_0x26a935(0xfe)][_0x26a935(0xe7)](_0x5095aa))),_0x32fdcd&&(_0x2166c5=_0x2166c5['filter'](_0x46ea6f=>_0x46ea6f[_0x26a935(0x100)]===_0x32fdcd)),_0x2166c5;}async[a97_0x3619c6(0xe1)](){const _0x564e62=a97_0x3619c6,_0x2f129f=await this['productModel'][_0x564e62(0x103)]()[_0x564e62(0xe0)]();return _0x2f129f;}async['getProduct'](_0xb7db7c){const _0x42ffc8=a97_0x3619c6,_0x19bdf1=await this[_0x42ffc8(0xee)][_0x42ffc8(0xed)](_0xb7db7c)[_0x42ffc8(0xe0)](),_0x472d6f=path[_0x42ffc8(0xfd)](__dirname,'..','..',_0x42ffc8(0x106),'audio',_0x42ffc8(0x104));this[_0x42ffc8(0xf0)]['log'](_0x42ffc8(0xf9),_0x472d6f);if((0x0,utils_1[_0x42ffc8(0xdc)])())this['logger']['log'](_0x42ffc8(0xfb)),(0x0,child_process_1['exec'])(_0x42ffc8(0xfc)+_0x472d6f,_0x1b9b3d=>{const _0x44791a=_0x42ffc8;_0x1b9b3d&&this[_0x44791a(0xf0)]['error'](_0x44791a(0xf2)+_0x1b9b3d);});else(0x0,utils_1[_0x42ffc8(0xf8)])()===_0x42ffc8(0xd6)?(this[_0x42ffc8(0xf0)][_0x42ffc8(0xd7)]('macOS\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x42ffc8(0xe0)])(_0x42ffc8(0xf4)+_0x472d6f,_0x43887d=>{const _0x5360c9=_0x42ffc8;_0x43887d&&this['logger']['error'](_0x5360c9(0xf2)+_0x43887d);})):(this['logger']['log']('Linux\x20detected!\x20Playing\x20sound...'),(0x0,child_process_1[_0x42ffc8(0xe0)])(_0x42ffc8(0xcd)+_0x472d6f,_0x53d4d5=>{const _0x3a19ea=_0x42ffc8;_0x53d4d5&&this['logger'][_0x3a19ea(0xde)](_0x3a19ea(0xf2)+_0x53d4d5);}));return _0x19bdf1;}async[a97_0x3619c6(0xe5)](_0x306621){const _0x1b7f18=a97_0x3619c6,_0x5bd6a8=await this[_0x1b7f18(0xee)][_0x1b7f18(0xe6)](_0x306621);return _0x5bd6a8[_0x1b7f18(0xfa)]();}async[a97_0x3619c6(0xe3)](_0x42e603,_0x548312){const _0x12327f=a97_0x3619c6,_0x39a7fd=await this[_0x12327f(0xee)]['findByIdAndUpdate'](_0x42e603,_0x548312,{'new':!![]});return _0x39a7fd;}async[a97_0x3619c6(0xd8)](_0x202e5a){const _0x4aad97=a97_0x3619c6,_0x4a2d96=await this[_0x4aad97(0xee)][_0x4aad97(0xf5)](_0x202e5a);return _0x4a2d96;}};ProductService=__decorate([(0x0,common_1[a97_0x3619c6(0xf3)])(),__param(0x0,(0x0,mongoose_2[a97_0x3619c6(0xe4)])('Product')),__metadata(a97_0x3619c6(0xf6),[mongoose_1[a97_0x3619c6(0xd1)]])],ProductService),exports[a97_0x3619c6(0xf1)]=ProductService;