'use strict';const a94_0x2f69b8=a94_0x9913;(function(_0x442ec2,_0x133bd6){const _0x4bf941=a94_0x9913,_0x3219df=_0x442ec2();while(!![]){try{const _0x500b9e=-parseInt(_0x4bf941(0x1fa))/0x1+-parseInt(_0x4bf941(0x20d))/0x2+parseInt(_0x4bf941(0x1f1))/0x3+-parseInt(_0x4bf941(0x1e6))/0x4*(parseInt(_0x4bf941(0x205))/0x5)+parseInt(_0x4bf941(0x20c))/0x6+parseInt(_0x4bf941(0x1fd))/0x7*(-parseInt(_0x4bf941(0x1e7))/0x8)+-parseInt(_0x4bf941(0x1f9))/0x9*(-parseInt(_0x4bf941(0x206))/0xa);if(_0x500b9e===_0x133bd6)break;else _0x3219df['push'](_0x3219df['shift']());}catch(_0x4c52b7){_0x3219df['push'](_0x3219df['shift']());}}}(a94_0x1f1f,0xbce28));function a94_0x1f1f(){const _0xa73e11=['mongoose','__decorate','log','InjectModel','4420riwQZi','170MgPXgC','filter','@nestjs/common','productModel','metadata','__metadata','8368218ezvgWw','2660510ZUejDM','../common/utils','Logger','includes','length','detectOs','findByIdAndUpdate','logger','name','updateProduct','getAllProducts','Raspberry\x20Pi\x20detected!\x20Playing\x20sound...','Injectable','description','244UoYAUu','4952720ZdGfjK','isRaspberryPi','error','findById','decorate','mpg123\x20','defineProperty','Error\x20playing\x20sound:\x20','exec','assets','1683468qXNuMV','child_process','Linux\x20detected!\x20Playing\x20sound...','macOS','ProductService','audio','afplay\x20','object','948069dssLWJ','969715NvksDG','findByIdAndRemove','path','7cXEVUv','macOS\x20detected!\x20Playing\x20sound...','function','category'];a94_0x1f1f=function(){return _0xa73e11;};return a94_0x1f1f();}var __decorate=this&&this[a94_0x2f69b8(0x202)]||function(_0x25b850,_0x2f62e7,_0x57252a,_0x4b95dd){const _0x1e8495=a94_0x2f69b8;var _0x3141be=arguments['length'],_0x3c0060=_0x3141be<0x3?_0x2f62e7:_0x4b95dd===null?_0x4b95dd=Object['getOwnPropertyDescriptor'](_0x2f62e7,_0x57252a):_0x4b95dd,_0x56f26f;if(typeof Reflect===_0x1e8495(0x1f8)&&typeof Reflect['decorate']===_0x1e8495(0x1ff))_0x3c0060=Reflect[_0x1e8495(0x1eb)](_0x25b850,_0x2f62e7,_0x57252a,_0x4b95dd);else{for(var _0x53a99f=_0x25b850[_0x1e8495(0x211)]-0x1;_0x53a99f>=0x0;_0x53a99f--)if(_0x56f26f=_0x25b850[_0x53a99f])_0x3c0060=(_0x3141be<0x3?_0x56f26f(_0x3c0060):_0x3141be>0x3?_0x56f26f(_0x2f62e7,_0x57252a,_0x3c0060):_0x56f26f(_0x2f62e7,_0x57252a))||_0x3c0060;}return _0x3141be>0x3&&_0x3c0060&&Object[_0x1e8495(0x1ed)](_0x2f62e7,_0x57252a,_0x3c0060),_0x3c0060;},__metadata=this&&this[a94_0x2f69b8(0x20b)]||function(_0x4b631a,_0x187be3){const _0x2a5d39=a94_0x2f69b8;if(typeof Reflect===_0x2a5d39(0x1f8)&&typeof Reflect[_0x2a5d39(0x20a)]===_0x2a5d39(0x1ff))return Reflect[_0x2a5d39(0x20a)](_0x4b631a,_0x187be3);},__param=this&&this['__param']||function(_0x4093c4,_0x50b074){return function(_0x2a3284,_0x588b49){_0x50b074(_0x2a3284,_0x588b49,_0x4093c4);};};Object[a94_0x2f69b8(0x1ed)](exports,'__esModule',{'value':!![]}),exports['ProductService']=void 0x0;const common_1=require(a94_0x2f69b8(0x208)),mongoose_1=require(a94_0x2f69b8(0x201)),mongoose_2=require('@nestjs/mongoose'),path=require(a94_0x2f69b8(0x1fc)),child_process_1=require(a94_0x2f69b8(0x1f2)),utils_1=require(a94_0x2f69b8(0x20e));function a94_0x9913(_0x6ea7ee,_0x496c4d){const _0x1f1fdb=a94_0x1f1f();return a94_0x9913=function(_0x99137,_0x13a2bb){_0x99137=_0x99137-0x1dd;let _0x45bcb9=_0x1f1fdb[_0x99137];return _0x45bcb9;},a94_0x9913(_0x6ea7ee,_0x496c4d);}let ProductService=class ProductService{constructor(_0x46e4fa){const _0x5b6688=a94_0x2f69b8;this[_0x5b6688(0x209)]=_0x46e4fa,this[_0x5b6688(0x1df)]=new common_1[(_0x5b6688(0x20f))](_0x5b6688(0x1f5));}async['getFilteredProducts'](_0x5a35bf){const _0x202edc=a94_0x2f69b8,{category:_0x3c4fca,search:_0x1a71aa}=_0x5a35bf;let _0x4ff869=await this[_0x202edc(0x1e2)]();return _0x1a71aa&&(_0x4ff869=_0x4ff869[_0x202edc(0x207)](_0x388c59=>_0x388c59[_0x202edc(0x1e0)]['includes'](_0x1a71aa)||_0x388c59[_0x202edc(0x1e5)][_0x202edc(0x210)](_0x1a71aa))),_0x3c4fca&&(_0x4ff869=_0x4ff869[_0x202edc(0x207)](_0x188166=>_0x188166[_0x202edc(0x200)]===_0x3c4fca)),_0x4ff869;}async[a94_0x2f69b8(0x1e2)](){const _0x99140d=await this['productModel']['find']()['exec']();return _0x99140d;}async['getProduct'](_0x36ad09){const _0x38523f=a94_0x2f69b8,_0x408603=await this[_0x38523f(0x209)][_0x38523f(0x1ea)](_0x36ad09)[_0x38523f(0x1ef)](),_0xcdb7c6=path['join'](__dirname,'..','..',_0x38523f(0x1f0),_0x38523f(0x1f6),'BassSample.mp3');this[_0x38523f(0x1df)]['log']('Playing\x20sound...',_0xcdb7c6);if((0x0,utils_1[_0x38523f(0x1e8)])())this[_0x38523f(0x1df)][_0x38523f(0x203)](_0x38523f(0x1e3)),(0x0,child_process_1[_0x38523f(0x1ef)])('omxplayer\x20'+_0xcdb7c6,_0x1fb8f1=>{const _0x495b2a=_0x38523f;_0x1fb8f1&&this[_0x495b2a(0x1df)]['error'](_0x495b2a(0x1ee)+_0x1fb8f1);});else(0x0,utils_1[_0x38523f(0x1dd)])()===_0x38523f(0x1f4)?(this[_0x38523f(0x1df)][_0x38523f(0x203)](_0x38523f(0x1fe)),(0x0,child_process_1[_0x38523f(0x1ef)])(_0x38523f(0x1f7)+_0xcdb7c6,_0x4d1c94=>{const _0x1d7b45=_0x38523f;_0x4d1c94&&this['logger'][_0x1d7b45(0x1e9)]('Error\x20playing\x20sound:\x20'+_0x4d1c94);})):(this[_0x38523f(0x1df)][_0x38523f(0x203)](_0x38523f(0x1f3)),(0x0,child_process_1[_0x38523f(0x1ef)])(_0x38523f(0x1ec)+_0xcdb7c6,_0x3ebcd7=>{const _0x3e5cc3=_0x38523f;_0x3ebcd7&&this[_0x3e5cc3(0x1df)][_0x3e5cc3(0x1e9)]('Error\x20playing\x20sound:\x20'+_0x3ebcd7);}));return _0x408603;}async['addProduct'](_0x1c3bef){const _0x45ea51=a94_0x2f69b8,_0x43dce2=await this[_0x45ea51(0x209)]['create'](_0x1c3bef);return _0x43dce2['save']();}async[a94_0x2f69b8(0x1e1)](_0x2250e5,_0x31fb78){const _0xd2f84=a94_0x2f69b8,_0x178821=await this[_0xd2f84(0x209)][_0xd2f84(0x1de)](_0x2250e5,_0x31fb78,{'new':!![]});return _0x178821;}async['deleteProduct'](_0x566c19){const _0x31482c=a94_0x2f69b8,_0x37567c=await this[_0x31482c(0x209)][_0x31482c(0x1fb)](_0x566c19);return _0x37567c;}};ProductService=__decorate([(0x0,common_1[a94_0x2f69b8(0x1e4)])(),__param(0x0,(0x0,mongoose_2[a94_0x2f69b8(0x204)])('Product')),__metadata('design:paramtypes',[mongoose_1['Model']])],ProductService),exports[a94_0x2f69b8(0x1f5)]=ProductService;