'use strict';const a17_0xd22476=a17_0x4a61;function a17_0x2fa1(){const _0x15b57b=['Processor','design:type','__metadata','playTextToAudio','name','3591TCMtVI','decorate','logger','prototype','metadata','design:paramtypes','length','10239ZJDPQs','209bJGeDK','toString','attrs','7662020AhMkqJ','TextToAudio','defineProperty','@nestjs/common','textToAudioId','__esModule','1918440Vxxbae','1916HsSsje','audit','1251DBecvP','function','TextToAudioProcessor','19496acUnXV','@nestjs/event-emitter','Job','@agent-ly/nestjs-agenda','agenda','2188RKARqb','PlayTextToAudio','log','5668812waDYcB','AuditService','create','1090wMtgJp','EventEmitter2','design:returntype','job','42183ODJreO','../common/events','data','auditService','JobType','object','__decorate'];a17_0x2fa1=function(){return _0x15b57b;};return a17_0x2fa1();}(function(_0x4b8e5a,_0x326ad0){const _0x1ddf9c=a17_0x4a61,_0x3f4683=_0x4b8e5a();while(!![]){try{const _0x59b957=parseInt(_0x1ddf9c(0xe1))/0x1*(parseInt(_0x1ddf9c(0xb7))/0x2)+parseInt(_0x1ddf9c(0xd4))/0x3*(-parseInt(_0x1ddf9c(0xdf))/0x4)+parseInt(_0x1ddf9c(0xd8))/0x5+parseInt(_0x1ddf9c(0xba))/0x6+-parseInt(_0x1ddf9c(0xcd))/0x7*(-parseInt(_0x1ddf9c(0xe4))/0x8)+parseInt(_0x1ddf9c(0xc1))/0x9*(parseInt(_0x1ddf9c(0xbd))/0xa)+parseInt(_0x1ddf9c(0xd5))/0xb*(-parseInt(_0x1ddf9c(0xde))/0xc);if(_0x59b957===_0x326ad0)break;else _0x3f4683['push'](_0x3f4683['shift']());}catch(_0x477d19){_0x3f4683['push'](_0x3f4683['shift']());}}}(a17_0x2fa1,0xe426b));var __decorate=this&&this[a17_0xd22476(0xc7)]||function(_0x1d90bc,_0x28202c,_0x5cf2fa,_0x408b83){const _0x49dbbb=a17_0xd22476;var _0x4dd413=arguments[_0x49dbbb(0xd3)],_0x52315a=_0x4dd413<0x3?_0x28202c:_0x408b83===null?_0x408b83=Object['getOwnPropertyDescriptor'](_0x28202c,_0x5cf2fa):_0x408b83,_0x556282;if(typeof Reflect===_0x49dbbb(0xc6)&&typeof Reflect['decorate']===_0x49dbbb(0xe2))_0x52315a=Reflect[_0x49dbbb(0xce)](_0x1d90bc,_0x28202c,_0x5cf2fa,_0x408b83);else{for(var _0x4f913f=_0x1d90bc[_0x49dbbb(0xd3)]-0x1;_0x4f913f>=0x0;_0x4f913f--)if(_0x556282=_0x1d90bc[_0x4f913f])_0x52315a=(_0x4dd413<0x3?_0x556282(_0x52315a):_0x4dd413>0x3?_0x556282(_0x28202c,_0x5cf2fa,_0x52315a):_0x556282(_0x28202c,_0x5cf2fa))||_0x52315a;}return _0x4dd413>0x3&&_0x52315a&&Object['defineProperty'](_0x28202c,_0x5cf2fa,_0x52315a),_0x52315a;},__metadata=this&&this[a17_0xd22476(0xca)]||function(_0x2dd7a8,_0x165fd9){const _0x1639bd=a17_0xd22476;if(typeof Reflect===_0x1639bd(0xc6)&&typeof Reflect[_0x1639bd(0xd1)]===_0x1639bd(0xe2))return Reflect['metadata'](_0x2dd7a8,_0x165fd9);},TextToAudioProcessor_1;Object[a17_0xd22476(0xda)](exports,a17_0xd22476(0xdd),{'value':!![]}),exports[a17_0xd22476(0xe3)]=void 0x0;function a17_0x4a61(_0x44078e,_0x1c99f2){const _0x2fa13c=a17_0x2fa1();return a17_0x4a61=function(_0x4a617b,_0x1226d3){_0x4a617b=_0x4a617b-0xb3;let _0x39e2c5=_0x2fa13c[_0x4a617b];return _0x39e2c5;},a17_0x4a61(_0x44078e,_0x1c99f2);}const common_1=require(a17_0xd22476(0xdb)),nestjs_agenda_1=require(a17_0xd22476(0xb5)),agenda_1=require(a17_0xd22476(0xb6)),event_emitter_1=require(a17_0xd22476(0xb3)),enums_1=require('../common/enums'),events_1=require(a17_0xd22476(0xc2)),audit_service_1=require('../audit/audit.service');let TextToAudioProcessor=TextToAudioProcessor_1=class TextToAudioProcessor{constructor(_0xc7ed6e,_0x1b2a7b){const _0xd9bad1=a17_0xd22476;this['eventEmitter']=_0xc7ed6e,this[_0xd9bad1(0xc4)]=_0x1b2a7b,this[_0xd9bad1(0xcf)]=new common_1['Logger'](TextToAudioProcessor_1[_0xd9bad1(0xcc)]);}async[a17_0xd22476(0xcb)](_0x293bec){const _0x1a9d1d=a17_0xd22476,_0x2b729a={'textToAudioId':_0x293bec['attrs']['data'][_0x1a9d1d(0xdc)],'jobId':_0x293bec[_0x1a9d1d(0xd7)]['_id'][_0x1a9d1d(0xd6)](),'durationInSecond':_0x293bec['attrs'][_0x1a9d1d(0xc3)]['durationInSecond']};console[_0x1a9d1d(0xb9)](_0x293bec,_0x1a9d1d(0xc0)),this['auditService'][_0x1a9d1d(0xbc)](_0x293bec[_0x1a9d1d(0xd7)][_0x1a9d1d(0xc3)][_0x1a9d1d(0xe0)]),this['eventEmitter']['emit'](events_1['SoundEvent'][_0x1a9d1d(0xd9)],_0x2b729a);}};__decorate([(0x0,nestjs_agenda_1['Define'])(enums_1[a17_0xd22476(0xc5)][a17_0xd22476(0xb8)]),__metadata(a17_0xd22476(0xc9),Function),__metadata('design:paramtypes',[agenda_1[a17_0xd22476(0xb4)]]),__metadata(a17_0xd22476(0xbf),Promise)],TextToAudioProcessor[a17_0xd22476(0xd0)],a17_0xd22476(0xcb),null),TextToAudioProcessor=TextToAudioProcessor_1=__decorate([(0x0,nestjs_agenda_1[a17_0xd22476(0xc8)])(),__metadata(a17_0xd22476(0xd2),[event_emitter_1[a17_0xd22476(0xbe)],audit_service_1[a17_0xd22476(0xbb)]])],TextToAudioProcessor),exports[a17_0xd22476(0xe3)]=TextToAudioProcessor;