'use strict';function a15_0x1879(_0x15539e,_0x368c24){const _0x27731c=a15_0x2773();return a15_0x1879=function(_0x187917,_0x1795a2){_0x187917=_0x187917-0x194;let _0x1be862=_0x27731c[_0x187917];return _0x1be862;},a15_0x1879(_0x15539e,_0x368c24);}const a15_0x1d233d=a15_0x1879;(function(_0x4b07c0,_0x4c89c5){const _0x3d4011=a15_0x1879,_0x450fb9=_0x4b07c0();while(!![]){try{const _0x248519=-parseInt(_0x3d4011(0x1b9))/0x1*(-parseInt(_0x3d4011(0x1aa))/0x2)+-parseInt(_0x3d4011(0x1ab))/0x3*(-parseInt(_0x3d4011(0x195))/0x4)+parseInt(_0x3d4011(0x1a3))/0x5*(parseInt(_0x3d4011(0x1a7))/0x6)+-parseInt(_0x3d4011(0x1a9))/0x7*(-parseInt(_0x3d4011(0x1c1))/0x8)+parseInt(_0x3d4011(0x19f))/0x9*(-parseInt(_0x3d4011(0x1bc))/0xa)+-parseInt(_0x3d4011(0x194))/0xb*(parseInt(_0x3d4011(0x1b7))/0xc)+parseInt(_0x3d4011(0x1ac))/0xd;if(_0x248519===_0x4c89c5)break;else _0x450fb9['push'](_0x450fb9['shift']());}catch(_0x57728c){_0x450fb9['push'](_0x450fb9['shift']());}}}(a15_0x2773,0xa3522));var __decorate=this&&this[a15_0x1d233d(0x19c)]||function(_0x467679,_0x39054b,_0x5337c8,_0x35bd62){const _0x844cc8=a15_0x1d233d;var _0xa262b3=arguments[_0x844cc8(0x1b5)],_0x3973a6=_0xa262b3<0x3?_0x39054b:_0x35bd62===null?_0x35bd62=Object['getOwnPropertyDescriptor'](_0x39054b,_0x5337c8):_0x35bd62,_0x5cca1d;if(typeof Reflect===_0x844cc8(0x1b2)&&typeof Reflect[_0x844cc8(0x1be)]===_0x844cc8(0x1b6))_0x3973a6=Reflect[_0x844cc8(0x1be)](_0x467679,_0x39054b,_0x5337c8,_0x35bd62);else{for(var _0x3347f0=_0x467679['length']-0x1;_0x3347f0>=0x0;_0x3347f0--)if(_0x5cca1d=_0x467679[_0x3347f0])_0x3973a6=(_0xa262b3<0x3?_0x5cca1d(_0x3973a6):_0xa262b3>0x3?_0x5cca1d(_0x39054b,_0x5337c8,_0x3973a6):_0x5cca1d(_0x39054b,_0x5337c8))||_0x3973a6;}return _0xa262b3>0x3&&_0x3973a6&&Object[_0x844cc8(0x1a4)](_0x39054b,_0x5337c8,_0x3973a6),_0x3973a6;},__metadata=this&&this[a15_0x1d233d(0x1bf)]||function(_0x217552,_0x2d8bd8){const _0x285f20=a15_0x1d233d;if(typeof Reflect==='object'&&typeof Reflect[_0x285f20(0x1b8)]===_0x285f20(0x1b6))return Reflect['metadata'](_0x217552,_0x2d8bd8);},MusicProcessor_1;Object[a15_0x1d233d(0x1a4)](exports,a15_0x1d233d(0x1b1),{'value':!![]}),exports['MusicProcessor']=void 0x0;const common_1=require(a15_0x1d233d(0x1b0)),nestjs_agenda_1=require(a15_0x1d233d(0x19d)),agenda_1=require('agenda'),event_emitter_1=require('@nestjs/event-emitter'),enums_1=require(a15_0x1d233d(0x1c4)),events_1=require('../common/events'),audit_service_1=require('../audit/audit.service');let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x1b9aea,_0x1fbfae){const _0x6c939a=a15_0x1d233d;this[_0x6c939a(0x1a0)]=_0x1b9aea,this[_0x6c939a(0x1bd)]=_0x1fbfae,this[_0x6c939a(0x19a)]=new common_1['Logger'](MusicProcessor_1[_0x6c939a(0x1ae)]);}async[a15_0x1d233d(0x1a5)](_0x24d1f8){const _0x451b7e=a15_0x1d233d,_0x4e3ca8={'playlistId':_0x24d1f8['attrs'][_0x451b7e(0x1c0)][_0x451b7e(0x19b)],'jobId':_0x24d1f8[_0x451b7e(0x197)][_0x451b7e(0x1b4)][_0x451b7e(0x196)](),'durationInSecond':_0x24d1f8[_0x451b7e(0x197)][_0x451b7e(0x1c0)]['durationInSecond']};this['auditService'][_0x451b7e(0x198)](_0x24d1f8['attrs']['data'][_0x451b7e(0x1ba)]),this[_0x451b7e(0x1a0)][_0x451b7e(0x19e)](events_1[_0x451b7e(0x1c3)][_0x451b7e(0x1bb)],_0x4e3ca8);}};function a15_0x2773(){const _0x85696e=['create','AuditService','logger','playlistId','__decorate','@agent-ly/nestjs-agenda','emit','640611xAEduU','eventEmitter','Processor','EventEmitter2','25XLKysn','defineProperty','playMusic','Job','282840GPnsNm','design:returntype','28EhUwui','510520sDuDtz','15279byHZmA','6128629DhQjxE','design:type','name','prototype','@nestjs/common','__esModule','object','Define','_id','length','function','24aVktwR','metadata','3vXHqIh','audit','Play','110fzvPWp','auditService','decorate','__metadata','data','1804112dXXiGm','JobType','PlaylistEvent','../common/enums','6309215uWgQKr','176begOqK','toString','attrs'];a15_0x2773=function(){return _0x85696e;};return a15_0x2773();}__decorate([(0x0,nestjs_agenda_1[a15_0x1d233d(0x1b3)])(enums_1[a15_0x1d233d(0x1c2)]['PlayMusic']),__metadata(a15_0x1d233d(0x1ad),Function),__metadata('design:paramtypes',[agenda_1[a15_0x1d233d(0x1a6)]]),__metadata(a15_0x1d233d(0x1a8),Promise)],MusicProcessor[a15_0x1d233d(0x1af)],a15_0x1d233d(0x1a5),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x1d233d(0x1a1)])(),__metadata('design:paramtypes',[event_emitter_1[a15_0x1d233d(0x1a2)],audit_service_1[a15_0x1d233d(0x199)]])],MusicProcessor),exports['MusicProcessor']=MusicProcessor;