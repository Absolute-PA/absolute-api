'use strict';const a15_0xbdb95f=a15_0x9565;(function(_0x2a2b2b,_0x504bea){const _0x3f4868=a15_0x9565,_0x255fe6=_0x2a2b2b();while(!![]){try{const _0x5c9a3c=-parseInt(_0x3f4868(0x1aa))/0x1+-parseInt(_0x3f4868(0x1a8))/0x2+parseInt(_0x3f4868(0x196))/0x3+parseInt(_0x3f4868(0x194))/0x4*(parseInt(_0x3f4868(0x18e))/0x5)+-parseInt(_0x3f4868(0x19e))/0x6*(parseInt(_0x3f4868(0x1a6))/0x7)+-parseInt(_0x3f4868(0x19d))/0x8*(parseInt(_0x3f4868(0x182))/0x9)+-parseInt(_0x3f4868(0x1a3))/0xa*(-parseInt(_0x3f4868(0x1a5))/0xb);if(_0x5c9a3c===_0x504bea)break;else _0x255fe6['push'](_0x255fe6['shift']());}catch(_0x34d3f8){_0x255fe6['push'](_0x255fe6['shift']());}}}(a15_0x560b,0x40ced));var __decorate=this&&this[a15_0xbdb95f(0x1a1)]||function(_0x4aacbf,_0x430e23,_0x377ac3,_0xf08302){const _0xcddfc2=a15_0xbdb95f;var _0x199052=arguments[_0xcddfc2(0x18b)],_0x211e44=_0x199052<0x3?_0x430e23:_0xf08302===null?_0xf08302=Object['getOwnPropertyDescriptor'](_0x430e23,_0x377ac3):_0xf08302,_0x21f67b;if(typeof Reflect===_0xcddfc2(0x198)&&typeof Reflect['decorate']===_0xcddfc2(0x19b))_0x211e44=Reflect[_0xcddfc2(0x19f)](_0x4aacbf,_0x430e23,_0x377ac3,_0xf08302);else{for(var _0xdb3efd=_0x4aacbf[_0xcddfc2(0x18b)]-0x1;_0xdb3efd>=0x0;_0xdb3efd--)if(_0x21f67b=_0x4aacbf[_0xdb3efd])_0x211e44=(_0x199052<0x3?_0x21f67b(_0x211e44):_0x199052>0x3?_0x21f67b(_0x430e23,_0x377ac3,_0x211e44):_0x21f67b(_0x430e23,_0x377ac3))||_0x211e44;}return _0x199052>0x3&&_0x211e44&&Object[_0xcddfc2(0x17e)](_0x430e23,_0x377ac3,_0x211e44),_0x211e44;},__metadata=this&&this[a15_0xbdb95f(0x18f)]||function(_0x47cec4,_0x4a5bc9){const _0x4eef4c=a15_0xbdb95f;if(typeof Reflect===_0x4eef4c(0x198)&&typeof Reflect[_0x4eef4c(0x186)]===_0x4eef4c(0x19b))return Reflect[_0x4eef4c(0x186)](_0x47cec4,_0x4a5bc9);},MusicProcessor_1;Object[a15_0xbdb95f(0x17e)](exports,a15_0xbdb95f(0x1a9),{'value':!![]}),exports[a15_0xbdb95f(0x193)]=void 0x0;const common_1=require('@nestjs/common'),nestjs_agenda_1=require(a15_0xbdb95f(0x190)),agenda_1=require(a15_0xbdb95f(0x180)),event_emitter_1=require(a15_0xbdb95f(0x183)),enums_1=require('../common/enums'),events_1=require(a15_0xbdb95f(0x187)),audit_service_1=require(a15_0xbdb95f(0x1ab));function a15_0x560b(){const _0x3fb21e=['logger','__decorate','PlaylistEvent','3733810ZDcNss','EventEmitter2','22niXEan','7ulxzjB','JobType','637858igVBAk','__esModule','360538eoFnhH','../audit/audit.service','defineProperty','Processor','agenda','Define','605601unaAJi','@nestjs/event-emitter','data','Play','metadata','../common/events','durationInSecond','design:type','design:returntype','length','auditService','emit','15xxmxJd','__metadata','@agent-ly/nestjs-agenda','create','AuditService','MusicProcessor','191628cHPVwb','name','1382124ckPVWL','eventEmitter','object','prototype','attrs','function','playMusic','16dIblxP','1630158lyHMqh','decorate'];a15_0x560b=function(){return _0x3fb21e;};return a15_0x560b();}function a15_0x9565(_0x15fe03,_0x2b2fec){const _0x560b5b=a15_0x560b();return a15_0x9565=function(_0x9565e0,_0x290395){_0x9565e0=_0x9565e0-0x17e;let _0x31c873=_0x560b5b[_0x9565e0];return _0x31c873;},a15_0x9565(_0x15fe03,_0x2b2fec);}let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x1f41ce,_0x1faad5){const _0x5bdf95=a15_0xbdb95f;this[_0x5bdf95(0x197)]=_0x1f41ce,this[_0x5bdf95(0x18c)]=_0x1faad5,this[_0x5bdf95(0x1a0)]=new common_1['Logger'](MusicProcessor_1[_0x5bdf95(0x195)]);}async['playMusic'](_0x8e36e4){const _0x107fd4=a15_0xbdb95f,_0x4e92b9={'playlistId':_0x8e36e4['attrs'][_0x107fd4(0x184)]['playlistId'],'jobId':_0x8e36e4[_0x107fd4(0x19a)]['_id']['toString'](),'durationInSecond':_0x8e36e4[_0x107fd4(0x19a)][_0x107fd4(0x184)][_0x107fd4(0x188)]};this['auditService'][_0x107fd4(0x191)](_0x8e36e4[_0x107fd4(0x19a)][_0x107fd4(0x184)]['audit']),this[_0x107fd4(0x197)][_0x107fd4(0x18d)](events_1[_0x107fd4(0x1a2)][_0x107fd4(0x185)],_0x4e92b9);}};__decorate([(0x0,nestjs_agenda_1[a15_0xbdb95f(0x181)])(enums_1[a15_0xbdb95f(0x1a7)]['PlayMusic']),__metadata(a15_0xbdb95f(0x189),Function),__metadata('design:paramtypes',[agenda_1['Job']]),__metadata(a15_0xbdb95f(0x18a),Promise)],MusicProcessor[a15_0xbdb95f(0x199)],a15_0xbdb95f(0x19c),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0xbdb95f(0x17f)])(),__metadata('design:paramtypes',[event_emitter_1[a15_0xbdb95f(0x1a4)],audit_service_1[a15_0xbdb95f(0x192)]])],MusicProcessor),exports[a15_0xbdb95f(0x193)]=MusicProcessor;