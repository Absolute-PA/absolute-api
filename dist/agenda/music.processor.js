'use strict';function a15_0x250d(_0x104b08,_0x1437cf){const _0x3be4c9=a15_0x3be4();return a15_0x250d=function(_0x250d4f,_0x261c1a){_0x250d4f=_0x250d4f-0x7e;let _0x1784f1=_0x3be4c9[_0x250d4f];return _0x1784f1;},a15_0x250d(_0x104b08,_0x1437cf);}const a15_0x2b146f=a15_0x250d;function a15_0x3be4(){const _0x19a1ab=['Processor','__esModule','audit','../audit/audit.service','design:paramtypes','1315CweRnT','attrs','6856598tdhmcE','create','40780qkIiJP','../common/enums','toString','emit','@nestjs/event-emitter','4742520hUgTVN','logger','design:returntype','eventEmitter','../common/events','defineProperty','PlaylistEvent','MusicProcessor','1238643NEVkkR','11BCnKvH','AuditService','Logger','Define','agenda','12UbspJz','@agent-ly/nestjs-agenda','metadata','data','9485050BICsYc','JobType','playMusic','__decorate','310091oDFobn','auditService','2MygcOZ','348UopAxu','durationInSecond','function','decorate','design:type'];a15_0x3be4=function(){return _0x19a1ab;};return a15_0x3be4();}(function(_0x454443,_0x36e2c9){const _0x15aa47=a15_0x250d,_0x3d7e88=_0x454443();while(!![]){try{const _0x37fe68=parseInt(_0x15aa47(0x88))/0x1*(parseInt(_0x15aa47(0x8a))/0x2)+-parseInt(_0x15aa47(0x8b))/0x3*(-parseInt(_0x15aa47(0x99))/0x4)+-parseInt(_0x15aa47(0x95))/0x5*(-parseInt(_0x15aa47(0x80))/0x6)+parseInt(_0x15aa47(0x97))/0x7+-parseInt(_0x15aa47(0x9e))/0x8+-parseInt(_0x15aa47(0xa6))/0x9+parseInt(_0x15aa47(0x84))/0xa*(-parseInt(_0x15aa47(0xa7))/0xb);if(_0x37fe68===_0x36e2c9)break;else _0x3d7e88['push'](_0x3d7e88['shift']());}catch(_0x505dc1){_0x3d7e88['push'](_0x3d7e88['shift']());}}}(a15_0x3be4,0xc1ccc));var __decorate=this&&this[a15_0x2b146f(0x87)]||function(_0x30f9fd,_0x40e798,_0x478242,_0x13f484){const _0x5a4c9a=a15_0x2b146f;var _0x29cca0=arguments['length'],_0x5d0079=_0x29cca0<0x3?_0x40e798:_0x13f484===null?_0x13f484=Object['getOwnPropertyDescriptor'](_0x40e798,_0x478242):_0x13f484,_0x5ceee4;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x5a4c9a(0x8d))_0x5d0079=Reflect[_0x5a4c9a(0x8e)](_0x30f9fd,_0x40e798,_0x478242,_0x13f484);else{for(var _0xd4b416=_0x30f9fd['length']-0x1;_0xd4b416>=0x0;_0xd4b416--)if(_0x5ceee4=_0x30f9fd[_0xd4b416])_0x5d0079=(_0x29cca0<0x3?_0x5ceee4(_0x5d0079):_0x29cca0>0x3?_0x5ceee4(_0x40e798,_0x478242,_0x5d0079):_0x5ceee4(_0x40e798,_0x478242))||_0x5d0079;}return _0x29cca0>0x3&&_0x5d0079&&Object[_0x5a4c9a(0xa3)](_0x40e798,_0x478242,_0x5d0079),_0x5d0079;},__metadata=this&&this['__metadata']||function(_0xb063e4,_0x34adcf){const _0x5577d2=a15_0x2b146f;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5577d2(0x8d))return Reflect[_0x5577d2(0x82)](_0xb063e4,_0x34adcf);},MusicProcessor_1;Object[a15_0x2b146f(0xa3)](exports,a15_0x2b146f(0x91),{'value':!![]}),exports['MusicProcessor']=void 0x0;const common_1=require('@nestjs/common'),nestjs_agenda_1=require(a15_0x2b146f(0x81)),agenda_1=require(a15_0x2b146f(0x7f)),event_emitter_1=require(a15_0x2b146f(0x9d)),enums_1=require(a15_0x2b146f(0x9a)),events_1=require(a15_0x2b146f(0xa2)),audit_service_1=require(a15_0x2b146f(0x93));let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x157323,_0x252598){const _0x6763f8=a15_0x2b146f;this[_0x6763f8(0xa1)]=_0x157323,this[_0x6763f8(0x89)]=_0x252598,this[_0x6763f8(0x9f)]=new common_1[(_0x6763f8(0xa9))](MusicProcessor_1['name']);}async[a15_0x2b146f(0x86)](_0x28562d){const _0x56abe9=a15_0x2b146f,_0x5d06ec={'playlistId':_0x28562d[_0x56abe9(0x96)]['data']['playlistId'],'jobId':_0x28562d[_0x56abe9(0x96)]['_id'][_0x56abe9(0x9b)](),'durationInSecond':_0x28562d['attrs'][_0x56abe9(0x83)][_0x56abe9(0x8c)]};this['auditService'][_0x56abe9(0x98)](_0x28562d[_0x56abe9(0x96)][_0x56abe9(0x83)][_0x56abe9(0x92)]),this[_0x56abe9(0xa1)][_0x56abe9(0x9c)](events_1[_0x56abe9(0xa4)]['Play'],_0x5d06ec);}};__decorate([(0x0,nestjs_agenda_1[a15_0x2b146f(0x7e)])(enums_1[a15_0x2b146f(0x85)]['PlayMusic']),__metadata(a15_0x2b146f(0x8f),Function),__metadata(a15_0x2b146f(0x94),[agenda_1['Job']]),__metadata(a15_0x2b146f(0xa0),Promise)],MusicProcessor['prototype'],a15_0x2b146f(0x86),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x2b146f(0x90)])(),__metadata(a15_0x2b146f(0x94),[event_emitter_1['EventEmitter2'],audit_service_1[a15_0x2b146f(0xa8)]])],MusicProcessor),exports[a15_0x2b146f(0xa5)]=MusicProcessor;