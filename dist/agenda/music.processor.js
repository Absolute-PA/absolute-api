'use strict';function a15_0x1285(){const _0x40a2b5=['playMusic','Define','design:paramtypes','44WfNTyR','prototype','__esModule','PlayMusic','defineProperty','578367lfcQOj','../common/enums','98746tMLhmO','Job','Logger','playlistId','attrs','53571HRwSzo','MusicProcessor','@agent-ly/nestjs-agenda','Play','999399YdPnUk','1rCFgCZ','320095dRHHra','durationInSecond','AuditService','function','length','toString','Processor','design:type','_id','eventEmitter','../common/events','456wGAdYH','13975764IZhgRH','metadata','PlaylistEvent','data','@nestjs/event-emitter','auditService','logger','audit','design:returntype','create','decorate','object','name','2771470FUqboU','16TogdUy','__metadata','getOwnPropertyDescriptor','__decorate','@nestjs/common','emit'];a15_0x1285=function(){return _0x40a2b5;};return a15_0x1285();}const a15_0x37a217=a15_0x1d64;(function(_0x4eb096,_0x33ef22){const _0x364e7c=a15_0x1d64,_0x16ee23=_0x4eb096();while(!![]){try{const _0x5dc602=-parseInt(_0x364e7c(0xc2))/0x1*(-parseInt(_0x364e7c(0xb8))/0x2)+parseInt(_0x364e7c(0xc1))/0x3+parseInt(_0x364e7c(0xe6))/0x4*(-parseInt(_0x364e7c(0xc3))/0x5)+-parseInt(_0x364e7c(0xce))/0x6*(parseInt(_0x364e7c(0xbd))/0x7)+-parseInt(_0x364e7c(0xdd))/0x8*(parseInt(_0x364e7c(0xeb))/0x9)+parseInt(_0x364e7c(0xdc))/0xa+parseInt(_0x364e7c(0xcf))/0xb;if(_0x5dc602===_0x33ef22)break;else _0x16ee23['push'](_0x16ee23['shift']());}catch(_0x385c17){_0x16ee23['push'](_0x16ee23['shift']());}}}(a15_0x1285,0x7dee6));function a15_0x1d64(_0x552420,_0x477bb1){const _0x12859e=a15_0x1285();return a15_0x1d64=function(_0x1d6476,_0x1d8355){_0x1d6476=_0x1d6476-0xb7;let _0x700ee1=_0x12859e[_0x1d6476];return _0x700ee1;},a15_0x1d64(_0x552420,_0x477bb1);}var __decorate=this&&this[a15_0x37a217(0xe0)]||function(_0x31c8ea,_0x5e8098,_0x59ee5e,_0x2951da){const _0x1a3fac=a15_0x37a217;var _0x4fd0bb=arguments[_0x1a3fac(0xc7)],_0x4d0ee2=_0x4fd0bb<0x3?_0x5e8098:_0x2951da===null?_0x2951da=Object[_0x1a3fac(0xdf)](_0x5e8098,_0x59ee5e):_0x2951da,_0x23fba1;if(typeof Reflect===_0x1a3fac(0xda)&&typeof Reflect['decorate']===_0x1a3fac(0xc6))_0x4d0ee2=Reflect[_0x1a3fac(0xd9)](_0x31c8ea,_0x5e8098,_0x59ee5e,_0x2951da);else{for(var _0x38ad32=_0x31c8ea[_0x1a3fac(0xc7)]-0x1;_0x38ad32>=0x0;_0x38ad32--)if(_0x23fba1=_0x31c8ea[_0x38ad32])_0x4d0ee2=(_0x4fd0bb<0x3?_0x23fba1(_0x4d0ee2):_0x4fd0bb>0x3?_0x23fba1(_0x5e8098,_0x59ee5e,_0x4d0ee2):_0x23fba1(_0x5e8098,_0x59ee5e))||_0x4d0ee2;}return _0x4fd0bb>0x3&&_0x4d0ee2&&Object[_0x1a3fac(0xea)](_0x5e8098,_0x59ee5e,_0x4d0ee2),_0x4d0ee2;},__metadata=this&&this[a15_0x37a217(0xde)]||function(_0x39f567,_0x59552e){const _0xd715c=a15_0x37a217;if(typeof Reflect===_0xd715c(0xda)&&typeof Reflect[_0xd715c(0xd0)]===_0xd715c(0xc6))return Reflect['metadata'](_0x39f567,_0x59552e);},MusicProcessor_1;Object['defineProperty'](exports,a15_0x37a217(0xe8),{'value':!![]}),exports[a15_0x37a217(0xbe)]=void 0x0;const common_1=require(a15_0x37a217(0xe1)),nestjs_agenda_1=require(a15_0x37a217(0xbf)),agenda_1=require('agenda'),event_emitter_1=require(a15_0x37a217(0xd3)),enums_1=require(a15_0x37a217(0xb7)),events_1=require(a15_0x37a217(0xcd)),audit_service_1=require('../audit/audit.service');let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x2571dc,_0x1769b6){const _0x4f9d12=a15_0x37a217;this[_0x4f9d12(0xcc)]=_0x2571dc,this[_0x4f9d12(0xd4)]=_0x1769b6,this[_0x4f9d12(0xd5)]=new common_1[(_0x4f9d12(0xba))](MusicProcessor_1[_0x4f9d12(0xdb)]);}async[a15_0x37a217(0xe3)](_0x1cd62f){const _0x2daf85=a15_0x37a217,_0x1b34ba={'playlistId':_0x1cd62f[_0x2daf85(0xbc)]['data'][_0x2daf85(0xbb)],'jobId':_0x1cd62f[_0x2daf85(0xbc)][_0x2daf85(0xcb)][_0x2daf85(0xc8)](),'durationInSecond':_0x1cd62f['attrs'][_0x2daf85(0xd2)][_0x2daf85(0xc4)]};this[_0x2daf85(0xd4)][_0x2daf85(0xd8)](_0x1cd62f[_0x2daf85(0xbc)][_0x2daf85(0xd2)][_0x2daf85(0xd6)]),this[_0x2daf85(0xcc)][_0x2daf85(0xe2)](events_1[_0x2daf85(0xd1)][_0x2daf85(0xc0)],_0x1b34ba);}};__decorate([(0x0,nestjs_agenda_1[a15_0x37a217(0xe4)])(enums_1['JobType'][a15_0x37a217(0xe9)]),__metadata(a15_0x37a217(0xca),Function),__metadata(a15_0x37a217(0xe5),[agenda_1[a15_0x37a217(0xb9)]]),__metadata(a15_0x37a217(0xd7),Promise)],MusicProcessor[a15_0x37a217(0xe7)],a15_0x37a217(0xe3),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x37a217(0xc9)])(),__metadata(a15_0x37a217(0xe5),[event_emitter_1['EventEmitter2'],audit_service_1[a15_0x37a217(0xc5)]])],MusicProcessor),exports[a15_0x37a217(0xbe)]=MusicProcessor;