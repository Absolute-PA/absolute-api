'use strict';const a15_0x2fd527=a15_0x1ee0;(function(_0x406018,_0x357d60){const _0x1b4e04=a15_0x1ee0,_0x1a17a4=_0x406018();while(!![]){try{const _0x35ae7f=-parseInt(_0x1b4e04(0x19a))/0x1*(parseInt(_0x1b4e04(0x18b))/0x2)+-parseInt(_0x1b4e04(0x1b3))/0x3*(-parseInt(_0x1b4e04(0x1a8))/0x4)+parseInt(_0x1b4e04(0x1a0))/0x5*(parseInt(_0x1b4e04(0x1a6))/0x6)+-parseInt(_0x1b4e04(0x1a2))/0x7+-parseInt(_0x1b4e04(0x197))/0x8*(parseInt(_0x1b4e04(0x1b4))/0x9)+parseInt(_0x1b4e04(0x198))/0xa*(parseInt(_0x1b4e04(0x18e))/0xb)+-parseInt(_0x1b4e04(0x1b2))/0xc*(parseInt(_0x1b4e04(0x1b5))/0xd);if(_0x35ae7f===_0x357d60)break;else _0x1a17a4['push'](_0x1a17a4['shift']());}catch(_0x3348ca){_0x1a17a4['push'](_0x1a17a4['shift']());}}}(a15_0x3e21,0x2320c));function a15_0x3e21(){const _0x4be9b7=['AuditService','length','attrs','getOwnPropertyDescriptor','auditService','eventEmitter','design:returntype','8GlKNcI','170ZwnzrM','data','6781ZjnpIW','name','audit','object','__decorate','defineProperty','109380aFpPty','@nestjs/event-emitter','495509vPAqPa','../audit/audit.service','toString','__metadata','48WuVLMV','../common/events','12BMxfgc','prototype','function','Processor','@agent-ly/nestjs-agenda','Define','decorate','create','EventEmitter2','PlayMusic','809868tlGTQf','186645gmkOWF','874116jCwmAj','13vJXGTF','PlaylistEvent','durationInSecond','2QMLVSw','MusicProcessor','playMusic','15796ykMjDm','design:paramtypes'];a15_0x3e21=function(){return _0x4be9b7;};return a15_0x3e21();}function a15_0x1ee0(_0x16e672,_0x1d72b1){const _0x3e21f0=a15_0x3e21();return a15_0x1ee0=function(_0x1ee072,_0xc54a25){_0x1ee072=_0x1ee072-0x189;let _0x70e683=_0x3e21f0[_0x1ee072];return _0x70e683;},a15_0x1ee0(_0x16e672,_0x1d72b1);}var __decorate=this&&this[a15_0x2fd527(0x19e)]||function(_0x1b3b91,_0x2f7fa6,_0x1ddb55,_0x1731d4){const _0x4b2cfb=a15_0x2fd527;var _0x139df1=arguments[_0x4b2cfb(0x191)],_0x3fda67=_0x139df1<0x3?_0x2f7fa6:_0x1731d4===null?_0x1731d4=Object[_0x4b2cfb(0x193)](_0x2f7fa6,_0x1ddb55):_0x1731d4,_0x152418;if(typeof Reflect===_0x4b2cfb(0x19d)&&typeof Reflect['decorate']===_0x4b2cfb(0x1aa))_0x3fda67=Reflect[_0x4b2cfb(0x1ae)](_0x1b3b91,_0x2f7fa6,_0x1ddb55,_0x1731d4);else{for(var _0x7e521d=_0x1b3b91[_0x4b2cfb(0x191)]-0x1;_0x7e521d>=0x0;_0x7e521d--)if(_0x152418=_0x1b3b91[_0x7e521d])_0x3fda67=(_0x139df1<0x3?_0x152418(_0x3fda67):_0x139df1>0x3?_0x152418(_0x2f7fa6,_0x1ddb55,_0x3fda67):_0x152418(_0x2f7fa6,_0x1ddb55))||_0x3fda67;}return _0x139df1>0x3&&_0x3fda67&&Object[_0x4b2cfb(0x19f)](_0x2f7fa6,_0x1ddb55,_0x3fda67),_0x3fda67;},__metadata=this&&this[a15_0x2fd527(0x1a5)]||function(_0x16f3bf,_0x5016dd){const _0x2d2e31=a15_0x2fd527;if(typeof Reflect===_0x2d2e31(0x19d)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x16f3bf,_0x5016dd);},MusicProcessor_1;Object[a15_0x2fd527(0x19f)](exports,'__esModule',{'value':!![]}),exports[a15_0x2fd527(0x18c)]=void 0x0;const common_1=require('@nestjs/common'),nestjs_agenda_1=require(a15_0x2fd527(0x1ac)),agenda_1=require('agenda'),event_emitter_1=require(a15_0x2fd527(0x1a1)),enums_1=require('../common/enums'),events_1=require(a15_0x2fd527(0x1a7)),audit_service_1=require(a15_0x2fd527(0x1a3));let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x59d02d,_0x25ea51){const _0x2b3b83=a15_0x2fd527;this[_0x2b3b83(0x195)]=_0x59d02d,this[_0x2b3b83(0x194)]=_0x25ea51,this['logger']=new common_1['Logger'](MusicProcessor_1[_0x2b3b83(0x19b)]);}async[a15_0x2fd527(0x18d)](_0x3023c1){const _0x4558f6=a15_0x2fd527,_0x50e173={'playlistId':_0x3023c1[_0x4558f6(0x192)][_0x4558f6(0x199)]['playlistId'],'jobId':_0x3023c1[_0x4558f6(0x192)]['_id'][_0x4558f6(0x1a4)](),'durationInSecond':_0x3023c1[_0x4558f6(0x192)][_0x4558f6(0x199)][_0x4558f6(0x18a)]};this['auditService'][_0x4558f6(0x1af)](_0x3023c1[_0x4558f6(0x192)][_0x4558f6(0x199)][_0x4558f6(0x19c)]),this['eventEmitter']['emit'](events_1[_0x4558f6(0x189)]['Play'],_0x50e173);}};__decorate([(0x0,nestjs_agenda_1[a15_0x2fd527(0x1ad)])(enums_1['JobType'][a15_0x2fd527(0x1b1)]),__metadata('design:type',Function),__metadata(a15_0x2fd527(0x18f),[agenda_1['Job']]),__metadata(a15_0x2fd527(0x196),Promise)],MusicProcessor[a15_0x2fd527(0x1a9)],a15_0x2fd527(0x18d),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x2fd527(0x1ab)])(),__metadata(a15_0x2fd527(0x18f),[event_emitter_1[a15_0x2fd527(0x1b0)],audit_service_1[a15_0x2fd527(0x190)]])],MusicProcessor),exports['MusicProcessor']=MusicProcessor;