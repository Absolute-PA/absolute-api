'use strict';function a15_0x25a5(){const _0x31d045=['function','18522ebkmCV','64915rDwSQw','create','emit','decorate','logger','1653183lCYzwP','AuditService','design:type','9658957RKrBNK','Processor','30IWNPba','172qAruAO','audit','7556bcHptV','toString','defineProperty','Play','2981352vjryyh','PlaylistEvent','Logger','../common/events','3260VAKYUq','../audit/audit.service','attrs','MusicProcessor','116MoJGYb','@nestjs/event-emitter','eventEmitter','__metadata','metadata','@agent-ly/nestjs-agenda','design:paramtypes','299369tIDDgW','prototype','getOwnPropertyDescriptor','../common/enums','playMusic','Job','EventEmitter2','@nestjs/common','PlayMusic','data','name','auditService','design:returntype'];a15_0x25a5=function(){return _0x31d045;};return a15_0x25a5();}const a15_0x3bfac9=a15_0x595b;(function(_0x300811,_0x18588c){const _0x4979c6=a15_0x595b,_0x15ddb0=_0x300811();while(!![]){try{const _0x4d85ed=-parseInt(_0x4979c6(0x1f7))/0x1*(parseInt(_0x4979c6(0x203))/0x2)+parseInt(_0x4979c6(0x1ef))/0x3+-parseInt(_0x4979c6(0x1f5))/0x4*(parseInt(_0x4979c6(0x219))/0x5)+-parseInt(_0x4979c6(0x1f4))/0x6*(-parseInt(_0x4979c6(0x20a))/0x7)+parseInt(_0x4979c6(0x1fb))/0x8+-parseInt(_0x4979c6(0x218))/0x9*(parseInt(_0x4979c6(0x1ff))/0xa)+parseInt(_0x4979c6(0x1f2))/0xb;if(_0x4d85ed===_0x18588c)break;else _0x15ddb0['push'](_0x15ddb0['shift']());}catch(_0x33e72f){_0x15ddb0['push'](_0x15ddb0['shift']());}}}(a15_0x25a5,0x55043));function a15_0x595b(_0x1f35a4,_0xe499cf){const _0x25a5c7=a15_0x25a5();return a15_0x595b=function(_0x595be4,_0x384459){_0x595be4=_0x595be4-0x1ed;let _0x130f7b=_0x25a5c7[_0x595be4];return _0x130f7b;},a15_0x595b(_0x1f35a4,_0xe499cf);}var __decorate=this&&this['__decorate']||function(_0x45f742,_0x88b243,_0x1d3854,_0x69d26d){const _0x2fc9f9=a15_0x595b;var _0x1b45ec=arguments['length'],_0x3570d2=_0x1b45ec<0x3?_0x88b243:_0x69d26d===null?_0x69d26d=Object[_0x2fc9f9(0x20c)](_0x88b243,_0x1d3854):_0x69d26d,_0x1283ec;if(typeof Reflect==='object'&&typeof Reflect[_0x2fc9f9(0x1ed)]===_0x2fc9f9(0x217))_0x3570d2=Reflect[_0x2fc9f9(0x1ed)](_0x45f742,_0x88b243,_0x1d3854,_0x69d26d);else{for(var _0x5d0945=_0x45f742['length']-0x1;_0x5d0945>=0x0;_0x5d0945--)if(_0x1283ec=_0x45f742[_0x5d0945])_0x3570d2=(_0x1b45ec<0x3?_0x1283ec(_0x3570d2):_0x1b45ec>0x3?_0x1283ec(_0x88b243,_0x1d3854,_0x3570d2):_0x1283ec(_0x88b243,_0x1d3854))||_0x3570d2;}return _0x1b45ec>0x3&&_0x3570d2&&Object[_0x2fc9f9(0x1f9)](_0x88b243,_0x1d3854,_0x3570d2),_0x3570d2;},__metadata=this&&this[a15_0x3bfac9(0x206)]||function(_0x3f2b82,_0x1867d5){const _0x53e825=a15_0x3bfac9;if(typeof Reflect==='object'&&typeof Reflect[_0x53e825(0x207)]===_0x53e825(0x217))return Reflect[_0x53e825(0x207)](_0x3f2b82,_0x1867d5);},MusicProcessor_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x3bfac9(0x202)]=void 0x0;const common_1=require(a15_0x3bfac9(0x211)),nestjs_agenda_1=require(a15_0x3bfac9(0x208)),agenda_1=require('agenda'),event_emitter_1=require(a15_0x3bfac9(0x204)),enums_1=require(a15_0x3bfac9(0x20d)),events_1=require(a15_0x3bfac9(0x1fe)),audit_service_1=require(a15_0x3bfac9(0x200));let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x51fea4,_0x3bbe8d){const _0x243b6f=a15_0x3bfac9;this[_0x243b6f(0x205)]=_0x51fea4,this[_0x243b6f(0x215)]=_0x3bbe8d,this[_0x243b6f(0x1ee)]=new common_1[(_0x243b6f(0x1fd))](MusicProcessor_1[_0x243b6f(0x214)]);}async[a15_0x3bfac9(0x20e)](_0x24c62c){const _0x52defb=a15_0x3bfac9,_0x1138b0={'playlistId':_0x24c62c[_0x52defb(0x201)][_0x52defb(0x213)]['playlistId'],'jobId':_0x24c62c[_0x52defb(0x201)]['_id'][_0x52defb(0x1f8)](),'durationInSecond':_0x24c62c['attrs'][_0x52defb(0x213)]['durationInSecond']};this['auditService'][_0x52defb(0x21a)](_0x24c62c[_0x52defb(0x201)]['data'][_0x52defb(0x1f6)]),this[_0x52defb(0x205)][_0x52defb(0x21b)](events_1[_0x52defb(0x1fc)][_0x52defb(0x1fa)],_0x1138b0);}};__decorate([(0x0,nestjs_agenda_1['Define'])(enums_1['JobType'][a15_0x3bfac9(0x212)]),__metadata(a15_0x3bfac9(0x1f1),Function),__metadata(a15_0x3bfac9(0x209),[agenda_1[a15_0x3bfac9(0x20f)]]),__metadata(a15_0x3bfac9(0x216),Promise)],MusicProcessor[a15_0x3bfac9(0x20b)],a15_0x3bfac9(0x20e),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x3bfac9(0x1f3)])(),__metadata(a15_0x3bfac9(0x209),[event_emitter_1[a15_0x3bfac9(0x210)],audit_service_1[a15_0x3bfac9(0x1f0)]])],MusicProcessor),exports['MusicProcessor']=MusicProcessor;