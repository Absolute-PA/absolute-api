'use strict';function a15_0x2e0c(){const _0x1524c3=['data','audit','auditService','EventEmitter2','@agent-ly/nestjs-agenda','eventEmitter','1009028VRmKIH','name','../common/enums','Play','metadata','PlaylistEvent','3008910Wldtjl','22SZxCkF','3cUyrVH','@nestjs/common','length','durationInSecond','MusicProcessor','object','_id','create','attrs','emit','1504935QnpBpq','design:returntype','479020nziAMm','design:paramtypes','function','__metadata','../audit/audit.service','getOwnPropertyDescriptor','254715AAYDNy','18gOqPhI','Define','413tKGoEX','18268SQhQpL','Processor','32568iTWNZG','JobType','decorate','design:type','Job','../common/events','toString','__decorate','logger','playMusic'];a15_0x2e0c=function(){return _0x1524c3;};return a15_0x2e0c();}function a15_0x2959(_0x567d7d,_0xa3744c){const _0x2e0cd3=a15_0x2e0c();return a15_0x2959=function(_0x2959b4,_0xea67f8){_0x2959b4=_0x2959b4-0x186;let _0x3efe34=_0x2e0cd3[_0x2959b4];return _0x3efe34;},a15_0x2959(_0x567d7d,_0xa3744c);}const a15_0x5d561b=a15_0x2959;(function(_0x354074,_0x3a301d){const _0x358538=a15_0x2959,_0x26c705=_0x354074();while(!![]){try{const _0x1ea96f=parseInt(_0x358538(0x198))/0x1+parseInt(_0x358538(0x18e))/0x2+-parseInt(_0x358538(0x1b2))/0x3*(-parseInt(_0x358538(0x1aa))/0x4)+-parseInt(_0x358538(0x194))/0x5*(parseInt(_0x358538(0x195))/0x6)+-parseInt(_0x358538(0x197))/0x7*(-parseInt(_0x358538(0x19a))/0x8)+parseInt(_0x358538(0x18c))/0x9+parseInt(_0x358538(0x1b0))/0xa*(-parseInt(_0x358538(0x1b1))/0xb);if(_0x1ea96f===_0x3a301d)break;else _0x26c705['push'](_0x26c705['shift']());}catch(_0x46884b){_0x26c705['push'](_0x26c705['shift']());}}}(a15_0x2e0c,0x27c0c));var __decorate=this&&this[a15_0x5d561b(0x1a1)]||function(_0x18d2e0,_0x6403ca,_0x5a8718,_0xeee933){const _0x19f513=a15_0x5d561b;var _0x4aa118=arguments[_0x19f513(0x1b4)],_0x56d81a=_0x4aa118<0x3?_0x6403ca:_0xeee933===null?_0xeee933=Object[_0x19f513(0x193)](_0x6403ca,_0x5a8718):_0xeee933,_0xbbfc01;if(typeof Reflect===_0x19f513(0x187)&&typeof Reflect[_0x19f513(0x19c)]===_0x19f513(0x190))_0x56d81a=Reflect[_0x19f513(0x19c)](_0x18d2e0,_0x6403ca,_0x5a8718,_0xeee933);else{for(var _0x3b4388=_0x18d2e0[_0x19f513(0x1b4)]-0x1;_0x3b4388>=0x0;_0x3b4388--)if(_0xbbfc01=_0x18d2e0[_0x3b4388])_0x56d81a=(_0x4aa118<0x3?_0xbbfc01(_0x56d81a):_0x4aa118>0x3?_0xbbfc01(_0x6403ca,_0x5a8718,_0x56d81a):_0xbbfc01(_0x6403ca,_0x5a8718))||_0x56d81a;}return _0x4aa118>0x3&&_0x56d81a&&Object['defineProperty'](_0x6403ca,_0x5a8718,_0x56d81a),_0x56d81a;},__metadata=this&&this[a15_0x5d561b(0x191)]||function(_0x2d8534,_0x4a43f5){const _0x1a0a13=a15_0x5d561b;if(typeof Reflect===_0x1a0a13(0x187)&&typeof Reflect[_0x1a0a13(0x1ae)]==='function')return Reflect['metadata'](_0x2d8534,_0x4a43f5);},MusicProcessor_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x5d561b(0x186)]=void 0x0;const common_1=require(a15_0x5d561b(0x1b3)),nestjs_agenda_1=require(a15_0x5d561b(0x1a8)),agenda_1=require('agenda'),event_emitter_1=require('@nestjs/event-emitter'),enums_1=require(a15_0x5d561b(0x1ac)),events_1=require(a15_0x5d561b(0x19f)),audit_service_1=require(a15_0x5d561b(0x192));let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x538d6f,_0x3f0745){const _0x43b8b8=a15_0x5d561b;this[_0x43b8b8(0x1a9)]=_0x538d6f,this[_0x43b8b8(0x1a6)]=_0x3f0745,this[_0x43b8b8(0x1a2)]=new common_1['Logger'](MusicProcessor_1[_0x43b8b8(0x1ab)]);}async[a15_0x5d561b(0x1a3)](_0x5914c4){const _0x21f3c6=a15_0x5d561b,_0x58d6f9={'playlistId':_0x5914c4['attrs']['data']['playlistId'],'jobId':_0x5914c4['attrs'][_0x21f3c6(0x188)][_0x21f3c6(0x1a0)](),'durationInSecond':_0x5914c4[_0x21f3c6(0x18a)][_0x21f3c6(0x1a4)][_0x21f3c6(0x1b5)]};this[_0x21f3c6(0x1a6)][_0x21f3c6(0x189)](_0x5914c4[_0x21f3c6(0x18a)][_0x21f3c6(0x1a4)][_0x21f3c6(0x1a5)]),this[_0x21f3c6(0x1a9)][_0x21f3c6(0x18b)](events_1[_0x21f3c6(0x1af)][_0x21f3c6(0x1ad)],_0x58d6f9);}};__decorate([(0x0,nestjs_agenda_1[a15_0x5d561b(0x196)])(enums_1[a15_0x5d561b(0x19b)]['PlayMusic']),__metadata(a15_0x5d561b(0x19d),Function),__metadata(a15_0x5d561b(0x18f),[agenda_1[a15_0x5d561b(0x19e)]]),__metadata(a15_0x5d561b(0x18d),Promise)],MusicProcessor['prototype'],a15_0x5d561b(0x1a3),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x5d561b(0x199)])(),__metadata(a15_0x5d561b(0x18f),[event_emitter_1[a15_0x5d561b(0x1a7)],audit_service_1['AuditService']])],MusicProcessor),exports[a15_0x5d561b(0x186)]=MusicProcessor;