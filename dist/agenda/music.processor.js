'use strict';const a15_0x2a2265=a15_0x3ba1;(function(_0x5c14b9,_0x29ecf0){const _0x308738=a15_0x3ba1,_0x49fe1a=_0x5c14b9();while(!![]){try{const _0x198e64=-parseInt(_0x308738(0x1e9))/0x1+parseInt(_0x308738(0x1de))/0x2*(-parseInt(_0x308738(0x1df))/0x3)+-parseInt(_0x308738(0x1ec))/0x4+parseInt(_0x308738(0x1db))/0x5+parseInt(_0x308738(0x1d2))/0x6+-parseInt(_0x308738(0x1c9))/0x7+parseInt(_0x308738(0x1f3))/0x8*(parseInt(_0x308738(0x1e2))/0x9);if(_0x198e64===_0x29ecf0)break;else _0x49fe1a['push'](_0x49fe1a['shift']());}catch(_0x2d2458){_0x49fe1a['push'](_0x49fe1a['shift']());}}}(a15_0x3432,0xdc1a1));function a15_0x3432(){const _0x26125e=['durationInSecond','design:paramtypes','auditService','4249567LUtBae','decorate','toString','function','MusicProcessor','prototype','name','AuditService','metadata','6395448ZvUYLd','Processor','@agent-ly/nestjs-agenda','__metadata','PlayMusic','Job','create','audit','data','149365mebMrw','playlistId','length','2rTLGOe','2790393RMOheK','../common/enums','getOwnPropertyDescriptor','18OPEOGB','@nestjs/event-emitter','../common/events','EventEmitter2','attrs','../audit/audit.service','design:returntype','1419410XButMp','__decorate','logger','364512eAJnZU','defineProperty','JobType','playMusic','Logger','emit','__esModule','11414024EyaKsA','object'];a15_0x3432=function(){return _0x26125e;};return a15_0x3432();}var __decorate=this&&this[a15_0x2a2265(0x1ea)]||function(_0x2ec25d,_0x409a1d,_0x438bf5,_0x1cfba1){const _0x194f10=a15_0x2a2265;var _0xc5e154=arguments[_0x194f10(0x1dd)],_0x35ccc0=_0xc5e154<0x3?_0x409a1d:_0x1cfba1===null?_0x1cfba1=Object[_0x194f10(0x1e1)](_0x409a1d,_0x438bf5):_0x1cfba1,_0x74b0b9;if(typeof Reflect===_0x194f10(0x1c5)&&typeof Reflect['decorate']===_0x194f10(0x1cc))_0x35ccc0=Reflect[_0x194f10(0x1ca)](_0x2ec25d,_0x409a1d,_0x438bf5,_0x1cfba1);else{for(var _0x58c03e=_0x2ec25d[_0x194f10(0x1dd)]-0x1;_0x58c03e>=0x0;_0x58c03e--)if(_0x74b0b9=_0x2ec25d[_0x58c03e])_0x35ccc0=(_0xc5e154<0x3?_0x74b0b9(_0x35ccc0):_0xc5e154>0x3?_0x74b0b9(_0x409a1d,_0x438bf5,_0x35ccc0):_0x74b0b9(_0x409a1d,_0x438bf5))||_0x35ccc0;}return _0xc5e154>0x3&&_0x35ccc0&&Object[_0x194f10(0x1ed)](_0x409a1d,_0x438bf5,_0x35ccc0),_0x35ccc0;},__metadata=this&&this[a15_0x2a2265(0x1d5)]||function(_0x25d89c,_0x1108ba){const _0x4a6a8c=a15_0x2a2265;if(typeof Reflect==='object'&&typeof Reflect[_0x4a6a8c(0x1d1)]===_0x4a6a8c(0x1cc))return Reflect[_0x4a6a8c(0x1d1)](_0x25d89c,_0x1108ba);},MusicProcessor_1;Object['defineProperty'](exports,a15_0x2a2265(0x1f2),{'value':!![]}),exports[a15_0x2a2265(0x1cd)]=void 0x0;const common_1=require('@nestjs/common'),nestjs_agenda_1=require(a15_0x2a2265(0x1d4)),agenda_1=require('agenda'),event_emitter_1=require(a15_0x2a2265(0x1e3)),enums_1=require(a15_0x2a2265(0x1e0)),events_1=require(a15_0x2a2265(0x1e4)),audit_service_1=require(a15_0x2a2265(0x1e7));let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0x47a670,_0x2756a5){const _0x24a310=a15_0x2a2265;this['eventEmitter']=_0x47a670,this[_0x24a310(0x1c8)]=_0x2756a5,this[_0x24a310(0x1eb)]=new common_1[(_0x24a310(0x1f0))](MusicProcessor_1[_0x24a310(0x1cf)]);}async['playMusic'](_0x3f4161){const _0x5a6f15=a15_0x2a2265,_0x27a560={'playlistId':_0x3f4161[_0x5a6f15(0x1e6)][_0x5a6f15(0x1da)][_0x5a6f15(0x1dc)],'jobId':_0x3f4161[_0x5a6f15(0x1e6)]['_id'][_0x5a6f15(0x1cb)](),'durationInSecond':_0x3f4161[_0x5a6f15(0x1e6)][_0x5a6f15(0x1da)][_0x5a6f15(0x1c6)]};this['auditService'][_0x5a6f15(0x1d8)](_0x3f4161[_0x5a6f15(0x1e6)][_0x5a6f15(0x1da)][_0x5a6f15(0x1d9)]),this['eventEmitter'][_0x5a6f15(0x1f1)](events_1['PlaylistEvent']['Play'],_0x27a560);}};function a15_0x3ba1(_0x3d9139,_0x1685fc){const _0x3432c0=a15_0x3432();return a15_0x3ba1=function(_0x3ba14d,_0x3b01a2){_0x3ba14d=_0x3ba14d-0x1c5;let _0x18fe91=_0x3432c0[_0x3ba14d];return _0x18fe91;},a15_0x3ba1(_0x3d9139,_0x1685fc);}__decorate([(0x0,nestjs_agenda_1['Define'])(enums_1[a15_0x2a2265(0x1ee)][a15_0x2a2265(0x1d6)]),__metadata('design:type',Function),__metadata(a15_0x2a2265(0x1c7),[agenda_1[a15_0x2a2265(0x1d7)]]),__metadata(a15_0x2a2265(0x1e8),Promise)],MusicProcessor[a15_0x2a2265(0x1ce)],a15_0x2a2265(0x1ef),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x2a2265(0x1d3)])(),__metadata('design:paramtypes',[event_emitter_1[a15_0x2a2265(0x1e5)],audit_service_1[a15_0x2a2265(0x1d0)]])],MusicProcessor),exports[a15_0x2a2265(0x1cd)]=MusicProcessor;