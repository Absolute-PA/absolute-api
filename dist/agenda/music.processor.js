'use strict';const a15_0x4052d1=a15_0x5267;function a15_0x31a9(){const _0x2fe3c4=['21294OikNUo','2326770jNJjdw','633HNShio','data','../common/events','logger','11764TRiRYv','attrs','1296puSyqu','audit','design:returntype','1FwqlFE','__metadata','Play','playMusic','auditService','name','object','16tKSEzo','EventEmitter2','Define','eventEmitter','function','metadata','765940tIkrqF','defineProperty','create','design:paramtypes','3480312rSyTBW','emit','agenda','__esModule','decorate','JobType','49520pwCTGA','prototype','MusicProcessor','design:type','@nestjs/common','Processor','@nestjs/event-emitter','PlaylistEvent','1686771hXuWTY'];a15_0x31a9=function(){return _0x2fe3c4;};return a15_0x31a9();}(function(_0x58bd17,_0x31a8cd){const _0x599b7f=a15_0x5267,_0x315852=_0x58bd17();while(!![]){try{const _0x2694de=parseInt(_0x599b7f(0x10a))/0x1*(-parseInt(_0x599b7f(0x121))/0x2)+parseInt(_0x599b7f(0x12c))/0x3*(-parseInt(_0x599b7f(0x105))/0x4)+parseInt(_0x599b7f(0x117))/0x5+-parseInt(_0x599b7f(0x107))/0x6*(-parseInt(_0x599b7f(0x12a))/0x7)+parseInt(_0x599b7f(0x111))/0x8*(parseInt(_0x599b7f(0x129))/0x9)+parseInt(_0x599b7f(0x12b))/0xa+-parseInt(_0x599b7f(0x11b))/0xb;if(_0x2694de===_0x31a8cd)break;else _0x315852['push'](_0x315852['shift']());}catch(_0x53ca45){_0x315852['push'](_0x315852['shift']());}}}(a15_0x31a9,0x6f588));var __decorate=this&&this['__decorate']||function(_0x54969d,_0x48f26d,_0x1b738e,_0x57ba39){const _0x5e5177=a15_0x5267;var _0xc16f66=arguments['length'],_0x28dc12=_0xc16f66<0x3?_0x48f26d:_0x57ba39===null?_0x57ba39=Object['getOwnPropertyDescriptor'](_0x48f26d,_0x1b738e):_0x57ba39,_0x246a55;if(typeof Reflect===_0x5e5177(0x110)&&typeof Reflect['decorate']===_0x5e5177(0x115))_0x28dc12=Reflect[_0x5e5177(0x11f)](_0x54969d,_0x48f26d,_0x1b738e,_0x57ba39);else{for(var _0x18b853=_0x54969d['length']-0x1;_0x18b853>=0x0;_0x18b853--)if(_0x246a55=_0x54969d[_0x18b853])_0x28dc12=(_0xc16f66<0x3?_0x246a55(_0x28dc12):_0xc16f66>0x3?_0x246a55(_0x48f26d,_0x1b738e,_0x28dc12):_0x246a55(_0x48f26d,_0x1b738e))||_0x28dc12;}return _0xc16f66>0x3&&_0x28dc12&&Object[_0x5e5177(0x118)](_0x48f26d,_0x1b738e,_0x28dc12),_0x28dc12;},__metadata=this&&this[a15_0x4052d1(0x10b)]||function(_0x3144f6,_0xd84e4d){const _0x2838ac=a15_0x4052d1;if(typeof Reflect===_0x2838ac(0x110)&&typeof Reflect['metadata']===_0x2838ac(0x115))return Reflect[_0x2838ac(0x116)](_0x3144f6,_0xd84e4d);},MusicProcessor_1;Object[a15_0x4052d1(0x118)](exports,a15_0x4052d1(0x11e),{'value':!![]}),exports['MusicProcessor']=void 0x0;const common_1=require(a15_0x4052d1(0x125)),nestjs_agenda_1=require('@agent-ly/nestjs-agenda'),agenda_1=require(a15_0x4052d1(0x11d)),event_emitter_1=require(a15_0x4052d1(0x127)),enums_1=require('../common/enums'),events_1=require(a15_0x4052d1(0x103)),audit_service_1=require('../audit/audit.service');let MusicProcessor=MusicProcessor_1=class MusicProcessor{constructor(_0xb0359f,_0x39a776){const _0xebbecb=a15_0x4052d1;this[_0xebbecb(0x114)]=_0xb0359f,this[_0xebbecb(0x10e)]=_0x39a776,this[_0xebbecb(0x104)]=new common_1['Logger'](MusicProcessor_1[_0xebbecb(0x10f)]);}async[a15_0x4052d1(0x10d)](_0x2a97b2){const _0x1a631a=a15_0x4052d1,_0x1d5274={'playlistId':_0x2a97b2[_0x1a631a(0x106)][_0x1a631a(0x12d)]['playlistId'],'jobId':_0x2a97b2[_0x1a631a(0x106)]['_id']['toString'](),'durationInSecond':_0x2a97b2[_0x1a631a(0x106)]['data']['durationInSecond']};this[_0x1a631a(0x10e)][_0x1a631a(0x119)](_0x2a97b2[_0x1a631a(0x106)][_0x1a631a(0x12d)][_0x1a631a(0x108)]),this[_0x1a631a(0x114)][_0x1a631a(0x11c)](events_1[_0x1a631a(0x128)][_0x1a631a(0x10c)],_0x1d5274);}};function a15_0x5267(_0x54ea69,_0x5ed964){const _0x31a9c2=a15_0x31a9();return a15_0x5267=function(_0x526706,_0x13074f){_0x526706=_0x526706-0x103;let _0x324178=_0x31a9c2[_0x526706];return _0x324178;},a15_0x5267(_0x54ea69,_0x5ed964);}__decorate([(0x0,nestjs_agenda_1[a15_0x4052d1(0x113)])(enums_1[a15_0x4052d1(0x120)]['PlayMusic']),__metadata(a15_0x4052d1(0x124),Function),__metadata(a15_0x4052d1(0x11a),[agenda_1['Job']]),__metadata(a15_0x4052d1(0x109),Promise)],MusicProcessor[a15_0x4052d1(0x122)],a15_0x4052d1(0x10d),null),MusicProcessor=MusicProcessor_1=__decorate([(0x0,nestjs_agenda_1[a15_0x4052d1(0x126)])(),__metadata(a15_0x4052d1(0x11a),[event_emitter_1[a15_0x4052d1(0x112)],audit_service_1['AuditService']])],MusicProcessor),exports[a15_0x4052d1(0x123)]=MusicProcessor;