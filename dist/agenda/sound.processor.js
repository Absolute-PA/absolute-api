'use strict';function a16_0x26e7(){const _0x3b01a9=['logger','toString','playSound','Play','14oiXXVW','decorate','@agent-ly/nestjs-agenda','824530SIicaj','function','4754065fQQzUs','name','design:paramtypes','design:returntype','Define','prototype','attrs','4831728roDJOU','metadata','length','12867075QvnRWh','soundId','emit','AuditService','EventEmitter2','652627yBgjXA','defineProperty','__metadata','Job','6752340CquUpa','object','SoundEvent','SoundProcessor','JobType','Processor','@nestjs/common','data','437848ihLfVk','create','4iBRxyZ','eventEmitter'];a16_0x26e7=function(){return _0x3b01a9;};return a16_0x26e7();}const a16_0xfb227f=a16_0x2bb7;(function(_0x523f30,_0x400d47){const _0x53d4d=a16_0x2bb7,_0x31e45b=_0x523f30();while(!![]){try{const _0x4d0fb3=-parseInt(_0x53d4d(0x19e))/0x1+-parseInt(_0x53d4d(0x18d))/0x2+-parseInt(_0x53d4d(0x196))/0x3+-parseInt(_0x53d4d(0x184))/0x4*(-parseInt(_0x53d4d(0x18f))/0x5)+parseInt(_0x53d4d(0x1a2))/0x6+parseInt(_0x53d4d(0x18a))/0x7*(parseInt(_0x53d4d(0x182))/0x8)+parseInt(_0x53d4d(0x199))/0x9;if(_0x4d0fb3===_0x400d47)break;else _0x31e45b['push'](_0x31e45b['shift']());}catch(_0x363906){_0x31e45b['push'](_0x31e45b['shift']());}}}(a16_0x26e7,0xe5760));var __decorate=this&&this['__decorate']||function(_0x1667db,_0x5ad897,_0x1e3241,_0x3c4e36){const _0x966d99=a16_0x2bb7;var _0x1c305d=arguments[_0x966d99(0x198)],_0x5b756c=_0x1c305d<0x3?_0x5ad897:_0x3c4e36===null?_0x3c4e36=Object['getOwnPropertyDescriptor'](_0x5ad897,_0x1e3241):_0x3c4e36,_0xb90211;if(typeof Reflect==='object'&&typeof Reflect[_0x966d99(0x18b)]===_0x966d99(0x18e))_0x5b756c=Reflect['decorate'](_0x1667db,_0x5ad897,_0x1e3241,_0x3c4e36);else{for(var _0x69dddf=_0x1667db[_0x966d99(0x198)]-0x1;_0x69dddf>=0x0;_0x69dddf--)if(_0xb90211=_0x1667db[_0x69dddf])_0x5b756c=(_0x1c305d<0x3?_0xb90211(_0x5b756c):_0x1c305d>0x3?_0xb90211(_0x5ad897,_0x1e3241,_0x5b756c):_0xb90211(_0x5ad897,_0x1e3241))||_0x5b756c;}return _0x1c305d>0x3&&_0x5b756c&&Object[_0x966d99(0x19f)](_0x5ad897,_0x1e3241,_0x5b756c),_0x5b756c;},__metadata=this&&this[a16_0xfb227f(0x1a0)]||function(_0x45a707,_0x502d62){const _0x439238=a16_0xfb227f;if(typeof Reflect===_0x439238(0x1a3)&&typeof Reflect[_0x439238(0x197)]===_0x439238(0x18e))return Reflect['metadata'](_0x45a707,_0x502d62);},SoundProcessor_1;function a16_0x2bb7(_0xc873db,_0x17fa39){const _0x26e790=a16_0x26e7();return a16_0x2bb7=function(_0x2bb75a,_0x394a2b){_0x2bb75a=_0x2bb75a-0x17e;let _0x2eae50=_0x26e790[_0x2bb75a];return _0x2eae50;},a16_0x2bb7(_0xc873db,_0x17fa39);}Object[a16_0xfb227f(0x19f)](exports,'__esModule',{'value':!![]}),exports[a16_0xfb227f(0x1a5)]=void 0x0;const common_1=require(a16_0xfb227f(0x180)),nestjs_agenda_1=require(a16_0xfb227f(0x18c)),agenda_1=require('agenda'),event_emitter_1=require('@nestjs/event-emitter'),enums_1=require('../common/enums'),events_1=require('../common/events'),audit_service_1=require('../audit/audit.service');let SoundProcessor=SoundProcessor_1=class SoundProcessor{constructor(_0x126640,_0x1eedb4){const _0x25232d=a16_0xfb227f;this[_0x25232d(0x185)]=_0x126640,this['auditService']=_0x1eedb4,this[_0x25232d(0x186)]=new common_1['Logger'](SoundProcessor_1[_0x25232d(0x190)]);}async[a16_0xfb227f(0x188)](_0x295a1f){const _0x37c5d6=a16_0xfb227f,_0x276829={'soundId':_0x295a1f[_0x37c5d6(0x195)][_0x37c5d6(0x181)][_0x37c5d6(0x19a)],'jobId':_0x295a1f[_0x37c5d6(0x195)]['_id'][_0x37c5d6(0x187)](),'durationInSecond':_0x295a1f['attrs'][_0x37c5d6(0x181)]['durationInSecond']};this['auditService'][_0x37c5d6(0x183)](_0x295a1f[_0x37c5d6(0x195)][_0x37c5d6(0x181)]['audit']),this[_0x37c5d6(0x185)][_0x37c5d6(0x19b)](events_1[_0x37c5d6(0x1a4)][_0x37c5d6(0x189)],_0x276829);}};__decorate([(0x0,nestjs_agenda_1[a16_0xfb227f(0x193)])(enums_1[a16_0xfb227f(0x17e)]['PlaySound']),__metadata('design:type',Function),__metadata('design:paramtypes',[agenda_1[a16_0xfb227f(0x1a1)]]),__metadata(a16_0xfb227f(0x192),Promise)],SoundProcessor[a16_0xfb227f(0x194)],a16_0xfb227f(0x188),null),SoundProcessor=SoundProcessor_1=__decorate([(0x0,nestjs_agenda_1[a16_0xfb227f(0x17f)])(),__metadata(a16_0xfb227f(0x191),[event_emitter_1[a16_0xfb227f(0x19d)],audit_service_1[a16_0xfb227f(0x19c)]])],SoundProcessor),exports[a16_0xfb227f(0x1a5)]=SoundProcessor;