'use strict';const a161_0x11cbb0=a161_0x4a2e;(function(_0x30d3cf,_0xa6c362){const _0x5ee947=a161_0x4a2e,_0x17b569=_0x30d3cf();while(!![]){try{const _0x2e7ef0=-parseInt(_0x5ee947(0x1e3))/0x1+parseInt(_0x5ee947(0x1fd))/0x2*(parseInt(_0x5ee947(0x1cc))/0x3)+parseInt(_0x5ee947(0x1e1))/0x4*(parseInt(_0x5ee947(0x1ff))/0x5)+-parseInt(_0x5ee947(0x1dd))/0x6*(-parseInt(_0x5ee947(0x1e4))/0x7)+-parseInt(_0x5ee947(0x1dc))/0x8*(-parseInt(_0x5ee947(0x1e9))/0x9)+parseInt(_0x5ee947(0x1f1))/0xa+-parseInt(_0x5ee947(0x1cb))/0xb;if(_0x2e7ef0===_0xa6c362)break;else _0x17b569['push'](_0x17b569['shift']());}catch(_0xe7d851){_0x17b569['push'](_0x17b569['shift']());}}}(a161_0x5a37,0x91777));var __decorate=this&&this[a161_0x11cbb0(0x1d3)]||function(_0xecbf50,_0x41c3b4,_0x12bff8,_0x5e94d7){const _0x50348d=a161_0x11cbb0;var _0x2f1975=arguments[_0x50348d(0x204)],_0xf4a4f5=_0x2f1975<0x3?_0x41c3b4:_0x5e94d7===null?_0x5e94d7=Object[_0x50348d(0x1ea)](_0x41c3b4,_0x12bff8):_0x5e94d7,_0x344ed5;if(typeof Reflect==='object'&&typeof Reflect[_0x50348d(0x1f8)]===_0x50348d(0x1e0))_0xf4a4f5=Reflect[_0x50348d(0x1f8)](_0xecbf50,_0x41c3b4,_0x12bff8,_0x5e94d7);else{for(var _0x1c618a=_0xecbf50[_0x50348d(0x204)]-0x1;_0x1c618a>=0x0;_0x1c618a--)if(_0x344ed5=_0xecbf50[_0x1c618a])_0xf4a4f5=(_0x2f1975<0x3?_0x344ed5(_0xf4a4f5):_0x2f1975>0x3?_0x344ed5(_0x41c3b4,_0x12bff8,_0xf4a4f5):_0x344ed5(_0x41c3b4,_0x12bff8))||_0xf4a4f5;}return _0x2f1975>0x3&&_0xf4a4f5&&Object['defineProperty'](_0x41c3b4,_0x12bff8,_0xf4a4f5),_0xf4a4f5;},__metadata=this&&this[a161_0x11cbb0(0x1e7)]||function(_0x28f769,_0x546c2e){const _0x1e3bf1=a161_0x11cbb0;if(typeof Reflect===_0x1e3bf1(0x1e5)&&typeof Reflect[_0x1e3bf1(0x1c7)]===_0x1e3bf1(0x1e0))return Reflect['metadata'](_0x28f769,_0x546c2e);},__param=this&&this['__param']||function(_0x64c013,_0x432040){return function(_0x166b95,_0x1a19e5){_0x432040(_0x166b95,_0x1a19e5,_0x64c013);};},VoiceController_1;function a161_0x4a2e(_0x285559,_0x3cbe87){const _0x5a37cf=a161_0x5a37();return a161_0x4a2e=function(_0x4a2e42,_0x5dcaaf){_0x4a2e42=_0x4a2e42-0x1c6;let _0x5b1a77=_0x5a37cf[_0x4a2e42];return _0x5b1a77;},a161_0x4a2e(_0x285559,_0x3cbe87);}Object[a161_0x11cbb0(0x1f5)](exports,a161_0x11cbb0(0x1c8),{'value':!![]}),exports[a161_0x11cbb0(0x1db)]=void 0x0;const common_1=require(a161_0x11cbb0(0x200)),path_1=require('path'),upload_service_1=require(a161_0x11cbb0(0x1f2)),role_enum_1=require('../auth/enums/role.enum'),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a161_0x11cbb0(0x1d7)),roles_guard_1=require(a161_0x11cbb0(0x1e6)),audio_player_1=require('../common/audio/audio-player'),update_upload_dto_1=require(a161_0x11cbb0(0x205));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x2a46dd){const _0x4e6c91=a161_0x11cbb0;this[_0x4e6c91(0x1ca)]=_0x2a46dd,this[_0x4e6c91(0x1ce)]=new common_1[(_0x4e6c91(0x1d8))](VoiceController_1[_0x4e6c91(0x1f0)]);}async[a161_0x11cbb0(0x202)](_0x1c2eb4,_0xc301ef,_0x5622d0){const _0x58ceb6=a161_0x11cbb0;try{const _0x5c8fba=(0x0,path_1[_0x58ceb6(0x1d9)])(process[_0x58ceb6(0x1d1)](),_0x1c2eb4);audio_player_1[_0x58ceb6(0x1fc)]['play'](_0x5c8fba,_0xc301ef),_0x5622d0[_0x58ceb6(0x1fb)](_0x58ceb6(0x1e8)+_0x5c8fba);}catch(_0xf535c0){return this[_0x58ceb6(0x1ce)]['error'](_0xf535c0),'';}}[a161_0x11cbb0(0x1c6)](){const _0x36741d=a161_0x11cbb0;return this[_0x36741d(0x1ca)]['getAllVoicesRecorded']();}[a161_0x11cbb0(0x1f4)](_0x2f9095){const _0x24edc5=a161_0x11cbb0;return this[_0x24edc5(0x1ca)][_0x24edc5(0x1f4)](_0x2f9095);}[a161_0x11cbb0(0x1d2)](_0xa75b73,_0x9f7547){return this['uploadService']['updateVoiceRecord'](_0x9f7547);}};function a161_0x5a37(){const _0x1051d3=['design:paramtypes','prototype','cwd','updateVoiceRecord','__decorate','design:returntype','Delete','User','../auth/guards/jwt.guard','Logger','join','Param','VoiceController','2475384vgwbNt','426NAfMQo','voice','Body','function','20784JvCNUX','UploadService','860474eHtcdX','33957WlpExl','object','../auth/guards/roles.guard','__metadata','Success\x20play\x20sound:\x20','18shzSZw','getOwnPropertyDescriptor','Query','RolesGuard','Get','/:id','JwtAuthGuard','name','8255620pKxFgy','../upload/upload.service','Put','deleteVoiceRecord','defineProperty','Post','Roles','decorate','filePath','Admin','send','AudioPlayer','998dfKRev','design:type','925uUZjfG','@nestjs/common','UseGuards','playAudioFile','volume','length','../upload/dto/update-upload.dto','getAllVoicesRecord','metadata','__esModule','Role','uploadService','22459635rQPEgT','4497BBDuaC','/play/','logger'];a161_0x5a37=function(){return _0x1051d3;};return a161_0x5a37();}__decorate([(0x0,common_1[a161_0x11cbb0(0x1f6)])(a161_0x11cbb0(0x1cd)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x11cbb0(0x1ec)]),(0x0,roles_decorator_1[a161_0x11cbb0(0x1f7)])(role_enum_1[a161_0x11cbb0(0x1c9)][a161_0x11cbb0(0x1fa)],role_enum_1[a161_0x11cbb0(0x1c9)]['User']),__param(0x0,(0x0,common_1[a161_0x11cbb0(0x1eb)])(a161_0x11cbb0(0x1f9))),__param(0x1,(0x0,common_1[a161_0x11cbb0(0x1eb)])(a161_0x11cbb0(0x203))),__param(0x2,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata('design:type',Function),__metadata(a161_0x11cbb0(0x1cf),[String,Number,Object]),__metadata(a161_0x11cbb0(0x1d4),Promise)],VoiceController[a161_0x11cbb0(0x1d0)],a161_0x11cbb0(0x202),null),__decorate([(0x0,common_1[a161_0x11cbb0(0x1ed)])('/'),(0x0,common_1[a161_0x11cbb0(0x201)])(jwt_guard_1[a161_0x11cbb0(0x1ef)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a161_0x11cbb0(0x1f7)])(role_enum_1[a161_0x11cbb0(0x1c9)][a161_0x11cbb0(0x1fa)],role_enum_1['Role'][a161_0x11cbb0(0x1d6)]),__metadata(a161_0x11cbb0(0x1fe),Function),__metadata('design:paramtypes',[]),__metadata(a161_0x11cbb0(0x1d4),void 0x0)],VoiceController[a161_0x11cbb0(0x1d0)],a161_0x11cbb0(0x1c6),null),__decorate([(0x0,common_1[a161_0x11cbb0(0x1d5)])(a161_0x11cbb0(0x1ee)),(0x0,common_1[a161_0x11cbb0(0x201)])(jwt_guard_1[a161_0x11cbb0(0x1ef)],roles_guard_1[a161_0x11cbb0(0x1ec)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x11cbb0(0x1c9)][a161_0x11cbb0(0x1fa)],role_enum_1[a161_0x11cbb0(0x1c9)][a161_0x11cbb0(0x1d6)]),__param(0x0,(0x0,common_1[a161_0x11cbb0(0x1da)])('id')),__metadata(a161_0x11cbb0(0x1fe),Function),__metadata(a161_0x11cbb0(0x1cf),[String]),__metadata(a161_0x11cbb0(0x1d4),void 0x0)],VoiceController[a161_0x11cbb0(0x1d0)],'deleteVoiceRecord',null),__decorate([(0x0,common_1[a161_0x11cbb0(0x1f3)])(a161_0x11cbb0(0x1ee)),(0x0,common_1[a161_0x11cbb0(0x201)])(jwt_guard_1[a161_0x11cbb0(0x1ef)],roles_guard_1[a161_0x11cbb0(0x1ec)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x11cbb0(0x1c9)][a161_0x11cbb0(0x1fa)],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1[a161_0x11cbb0(0x1da)])('id')),__param(0x1,(0x0,common_1[a161_0x11cbb0(0x1df)])()),__metadata(a161_0x11cbb0(0x1fe),Function),__metadata(a161_0x11cbb0(0x1cf),[String,update_upload_dto_1['UpdateUploadDto']]),__metadata(a161_0x11cbb0(0x1d4),void 0x0)],VoiceController[a161_0x11cbb0(0x1d0)],'updateVoiceRecord',null),VoiceController=VoiceController_1=__decorate([(0x0,common_1['Controller'])(a161_0x11cbb0(0x1de)),__metadata(a161_0x11cbb0(0x1cf),[upload_service_1[a161_0x11cbb0(0x1e2)]])],VoiceController),exports[a161_0x11cbb0(0x1db)]=VoiceController;