'use strict';const a158_0x5594bb=a158_0x4734;(function(_0x445db0,_0x38d73f){const _0x57958b=a158_0x4734,_0x1eb8e7=_0x445db0();while(!![]){try{const _0x3f7d02=-parseInt(_0x57958b(0x9e))/0x1+parseInt(_0x57958b(0x8f))/0x2*(parseInt(_0x57958b(0x97))/0x3)+parseInt(_0x57958b(0x70))/0x4+parseInt(_0x57958b(0x9b))/0x5+parseInt(_0x57958b(0x6f))/0x6+-parseInt(_0x57958b(0x9f))/0x7+-parseInt(_0x57958b(0xa4))/0x8;if(_0x3f7d02===_0x38d73f)break;else _0x1eb8e7['push'](_0x1eb8e7['shift']());}catch(_0x5542eb){_0x1eb8e7['push'](_0x1eb8e7['shift']());}}}(a158_0x2889,0x39228));var __decorate=this&&this[a158_0x5594bb(0x71)]||function(_0x34db30,_0x1dd1a7,_0x12e128,_0x169611){const _0x3ba315=a158_0x5594bb;var _0x3cc904=arguments[_0x3ba315(0x95)],_0x329228=_0x3cc904<0x3?_0x1dd1a7:_0x169611===null?_0x169611=Object['getOwnPropertyDescriptor'](_0x1dd1a7,_0x12e128):_0x169611,_0x45cd9b;if(typeof Reflect==='object'&&typeof Reflect[_0x3ba315(0x76)]===_0x3ba315(0x7c))_0x329228=Reflect[_0x3ba315(0x76)](_0x34db30,_0x1dd1a7,_0x12e128,_0x169611);else{for(var _0x2290b9=_0x34db30['length']-0x1;_0x2290b9>=0x0;_0x2290b9--)if(_0x45cd9b=_0x34db30[_0x2290b9])_0x329228=(_0x3cc904<0x3?_0x45cd9b(_0x329228):_0x3cc904>0x3?_0x45cd9b(_0x1dd1a7,_0x12e128,_0x329228):_0x45cd9b(_0x1dd1a7,_0x12e128))||_0x329228;}return _0x3cc904>0x3&&_0x329228&&Object['defineProperty'](_0x1dd1a7,_0x12e128,_0x329228),_0x329228;},__metadata=this&&this[a158_0x5594bb(0x7d)]||function(_0xf99276,_0x474633){const _0x1c3f14=a158_0x5594bb;if(typeof Reflect===_0x1c3f14(0x81)&&typeof Reflect[_0x1c3f14(0x91)]==='function')return Reflect[_0x1c3f14(0x91)](_0xf99276,_0x474633);},__param=this&&this[a158_0x5594bb(0x78)]||function(_0x4d339b,_0x30698a){return function(_0x40424d,_0x189f0a){_0x30698a(_0x40424d,_0x189f0a,_0x4d339b);};},VoiceController_1;Object[a158_0x5594bb(0x88)](exports,a158_0x5594bb(0x6b),{'value':!![]}),exports[a158_0x5594bb(0x6c)]=void 0x0;function a158_0x4734(_0x135063,_0x32e74b){const _0x288900=a158_0x2889();return a158_0x4734=function(_0x473429,_0x953dd0){_0x473429=_0x473429-0x68;let _0xb7acfe=_0x288900[_0x473429];return _0xb7acfe;},a158_0x4734(_0x135063,_0x32e74b);}const common_1=require(a158_0x5594bb(0x7a)),path_1=require(a158_0x5594bb(0x73)),upload_service_1=require(a158_0x5594bb(0x82)),role_enum_1=require(a158_0x5594bb(0x8c)),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a158_0x5594bb(0x80)),roles_guard_1=require(a158_0x5594bb(0x90)),audio_player_1=require(a158_0x5594bb(0x77)),update_upload_dto_1=require('../upload/dto/update-upload.dto');function a158_0x2889(){const _0x3a2cb5=['deleteVoiceRecord','playAudioFile','../auth/guards/jwt.guard','object','../upload/upload.service','volume','UpdateUploadDto','design:paramtypes','send','design:returntype','defineProperty','Body','/:id','User','../auth/enums/role.enum','name','RolesGuard','42038KxufKL','../auth/guards/roles.guard','metadata','error','filePath','design:type','length','Admin','45TFuPZk','Roles','Delete','logger','500900fsoPgd','Post','Put','209273ZZJMgX','73283LGUDzS','Query','UseGuards','AudioPlayer','UploadService','1408944hmgUEM','Controller','getAllVoicesRecord','Role','__esModule','VoiceController','updateVoiceRecord','prototype','458940GgXCtI','551716jqQbZl','__decorate','uploadService','path','play','Param','decorate','../common/audio/audio-player','__param','JwtAuthGuard','@nestjs/common','Get','function','__metadata'];a158_0x2889=function(){return _0x3a2cb5;};return a158_0x2889();}let VoiceController=VoiceController_1=class VoiceController{constructor(_0x333733){const _0x5208db=a158_0x5594bb;this[_0x5208db(0x72)]=_0x333733,this[_0x5208db(0x9a)]=new common_1['Logger'](VoiceController_1[_0x5208db(0x8d)]);}async[a158_0x5594bb(0x7f)](_0x196381,_0x15bf98,_0x10d712){const _0x2bd06d=a158_0x5594bb;try{const _0x430b3b=(0x0,path_1['join'])(process['cwd'](),_0x196381);audio_player_1[_0x2bd06d(0xa2)][_0x2bd06d(0x74)](_0x430b3b,_0x15bf98),_0x10d712[_0x2bd06d(0x86)]('Success\x20play\x20sound:\x20'+_0x430b3b);}catch(_0x317da9){return this[_0x2bd06d(0x9a)][_0x2bd06d(0x92)](_0x317da9),'';}}[a158_0x5594bb(0x69)](){return this['uploadService']['getAllVoicesRecorded']();}[a158_0x5594bb(0x7e)](_0x4b7474){const _0x36f0e4=a158_0x5594bb;return this[_0x36f0e4(0x72)]['deleteVoiceRecord'](_0x4b7474);}[a158_0x5594bb(0x6d)](_0x3b67f4,_0x3f810b){const _0x325551=a158_0x5594bb;return this[_0x325551(0x72)][_0x325551(0x6d)](_0x3f810b);}};__decorate([(0x0,common_1[a158_0x5594bb(0x9c)])('/play/'),(0x0,common_1[a158_0x5594bb(0xa1)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x5594bb(0x8e)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a158_0x5594bb(0x6a)][a158_0x5594bb(0x96)],role_enum_1['Role'][a158_0x5594bb(0x8b)]),__param(0x0,(0x0,common_1[a158_0x5594bb(0xa0)])(a158_0x5594bb(0x93))),__param(0x1,(0x0,common_1[a158_0x5594bb(0xa0)])(a158_0x5594bb(0x83))),__param(0x2,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata('design:type',Function),__metadata('design:paramtypes',[String,Number,Object]),__metadata(a158_0x5594bb(0x87),Promise)],VoiceController['prototype'],a158_0x5594bb(0x7f),null),__decorate([(0x0,common_1[a158_0x5594bb(0x7b)])('/'),(0x0,common_1[a158_0x5594bb(0xa1)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x5594bb(0x8e)]),(0x0,roles_decorator_1[a158_0x5594bb(0x98)])(role_enum_1[a158_0x5594bb(0x6a)][a158_0x5594bb(0x96)],role_enum_1[a158_0x5594bb(0x6a)][a158_0x5594bb(0x8b)]),__metadata(a158_0x5594bb(0x94),Function),__metadata(a158_0x5594bb(0x85),[]),__metadata(a158_0x5594bb(0x87),void 0x0)],VoiceController[a158_0x5594bb(0x6e)],a158_0x5594bb(0x69),null),__decorate([(0x0,common_1[a158_0x5594bb(0x99)])(a158_0x5594bb(0x8a)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x5594bb(0x8e)]),(0x0,roles_decorator_1[a158_0x5594bb(0x98)])(role_enum_1[a158_0x5594bb(0x6a)]['Admin'],role_enum_1[a158_0x5594bb(0x6a)]['User']),__param(0x0,(0x0,common_1[a158_0x5594bb(0x75)])('id')),__metadata('design:type',Function),__metadata(a158_0x5594bb(0x85),[String]),__metadata(a158_0x5594bb(0x87),void 0x0)],VoiceController[a158_0x5594bb(0x6e)],'deleteVoiceRecord',null),__decorate([(0x0,common_1[a158_0x5594bb(0x9d)])('/:id'),(0x0,common_1[a158_0x5594bb(0xa1)])(jwt_guard_1[a158_0x5594bb(0x79)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0x5594bb(0x98)])(role_enum_1[a158_0x5594bb(0x6a)][a158_0x5594bb(0x96)],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1[a158_0x5594bb(0x75)])('id')),__param(0x1,(0x0,common_1[a158_0x5594bb(0x89)])()),__metadata('design:type',Function),__metadata(a158_0x5594bb(0x85),[String,update_upload_dto_1[a158_0x5594bb(0x84)]]),__metadata(a158_0x5594bb(0x87),void 0x0)],VoiceController[a158_0x5594bb(0x6e)],a158_0x5594bb(0x6d),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0x5594bb(0x68)])('voice'),__metadata(a158_0x5594bb(0x85),[upload_service_1[a158_0x5594bb(0xa3)]])],VoiceController),exports[a158_0x5594bb(0x6c)]=VoiceController;