'use strict';const a158_0xc24cc5=a158_0x1688;function a158_0x12b7(){const _0x10791f=['deleteVoiceRecord','VoiceController','logger','Post','__metadata','30445821pCcZqG','decorate','../auth/guards/roles.guard','RolesGuard','object','Query','play','Res','3Scpwtv','__decorate','filePath','Body','../auth/guards/jwt.guard','prototype','metadata','send','Delete','2904640HUBWup','2766354UfCBhf','Success\x20play\x20sound:\x20','playAudioFile','@nestjs/common','/play/','length','uploadService','defineProperty','3789444FSWPIo','UploadService','name','AudioPlayer','Role','function','Logger','voice','design:type','UseGuards','Get','Controller','User','/:id','design:returntype','getOwnPropertyDescriptor','Admin','UpdateUploadDto','__param','315446jixVKL','3052750oIxGIm','path','__esModule','JwtAuthGuard','updateVoiceRecord','Param','../auth/enums/role.enum','Roles','design:paramtypes','12092780UDzLvR','../auth/decorators/roles.decorator','join','15ITuXcs','Put','getAllVoicesRecord'];a158_0x12b7=function(){return _0x10791f;};return a158_0x12b7();}(function(_0x27701b,_0x43690f){const _0x53840c=a158_0x1688,_0x29a0b9=_0x27701b();while(!![]){try{const _0x5f0683=-parseInt(_0x53840c(0x150))/0x1+parseInt(_0x53840c(0x151))/0x2*(parseInt(_0x53840c(0x16d))/0x3)+-parseInt(_0x53840c(0x13d))/0x4+-parseInt(_0x53840c(0x15d))/0x5*(parseInt(_0x53840c(0x135))/0x6)+-parseInt(_0x53840c(0x15a))/0x7+parseInt(_0x53840c(0x176))/0x8+parseInt(_0x53840c(0x165))/0x9;if(_0x5f0683===_0x43690f)break;else _0x29a0b9['push'](_0x29a0b9['shift']());}catch(_0x2d8a7f){_0x29a0b9['push'](_0x29a0b9['shift']());}}}(a158_0x12b7,0xdb6f0));function a158_0x1688(_0x46627c,_0x22c67a){const _0x12b723=a158_0x12b7();return a158_0x1688=function(_0x1688f4,_0x34322f){_0x1688f4=_0x1688f4-0x135;let _0x1629fb=_0x12b723[_0x1688f4];return _0x1629fb;},a158_0x1688(_0x46627c,_0x22c67a);}var __decorate=this&&this[a158_0xc24cc5(0x16e)]||function(_0x4144ce,_0x5f0a8c,_0x4f36bf,_0x496efd){const _0xf82a1=a158_0xc24cc5;var _0x684dde=arguments['length'],_0x18e074=_0x684dde<0x3?_0x5f0a8c:_0x496efd===null?_0x496efd=Object[_0xf82a1(0x14c)](_0x5f0a8c,_0x4f36bf):_0x496efd,_0x45764a;if(typeof Reflect===_0xf82a1(0x169)&&typeof Reflect[_0xf82a1(0x166)]===_0xf82a1(0x142))_0x18e074=Reflect['decorate'](_0x4144ce,_0x5f0a8c,_0x4f36bf,_0x496efd);else{for(var _0x326266=_0x4144ce[_0xf82a1(0x13a)]-0x1;_0x326266>=0x0;_0x326266--)if(_0x45764a=_0x4144ce[_0x326266])_0x18e074=(_0x684dde<0x3?_0x45764a(_0x18e074):_0x684dde>0x3?_0x45764a(_0x5f0a8c,_0x4f36bf,_0x18e074):_0x45764a(_0x5f0a8c,_0x4f36bf))||_0x18e074;}return _0x684dde>0x3&&_0x18e074&&Object[_0xf82a1(0x13c)](_0x5f0a8c,_0x4f36bf,_0x18e074),_0x18e074;},__metadata=this&&this[a158_0xc24cc5(0x164)]||function(_0x10cc4b,_0x41b236){const _0x588aed=a158_0xc24cc5;if(typeof Reflect===_0x588aed(0x169)&&typeof Reflect['metadata']===_0x588aed(0x142))return Reflect[_0x588aed(0x173)](_0x10cc4b,_0x41b236);},__param=this&&this[a158_0xc24cc5(0x14f)]||function(_0x376dd5,_0x4016aa){return function(_0xac945c,_0x554284){_0x4016aa(_0xac945c,_0x554284,_0x376dd5);};},VoiceController_1;Object[a158_0xc24cc5(0x13c)](exports,a158_0xc24cc5(0x153),{'value':!![]}),exports['VoiceController']=void 0x0;const common_1=require(a158_0xc24cc5(0x138)),path_1=require(a158_0xc24cc5(0x152)),upload_service_1=require('../upload/upload.service'),role_enum_1=require(a158_0xc24cc5(0x157)),roles_decorator_1=require(a158_0xc24cc5(0x15b)),jwt_guard_1=require(a158_0xc24cc5(0x171)),roles_guard_1=require(a158_0xc24cc5(0x167)),audio_player_1=require('../common/audio/audio-player'),update_upload_dto_1=require('../upload/dto/update-upload.dto');let VoiceController=VoiceController_1=class VoiceController{constructor(_0xbac287){const _0x178877=a158_0xc24cc5;this[_0x178877(0x13b)]=_0xbac287,this['logger']=new common_1[(_0x178877(0x143))](VoiceController_1[_0x178877(0x13f)]);}async[a158_0xc24cc5(0x137)](_0x4ab421,_0x8f4c57,_0x5be5ff){const _0x1a4ece=a158_0xc24cc5;try{const _0x5c19ec=(0x0,path_1[_0x1a4ece(0x15c)])(process['cwd'](),_0x4ab421);audio_player_1[_0x1a4ece(0x140)][_0x1a4ece(0x16b)](_0x5c19ec,_0x8f4c57),_0x5be5ff[_0x1a4ece(0x174)](_0x1a4ece(0x136)+_0x5c19ec);}catch(_0x27f599){return this[_0x1a4ece(0x162)]['error'](_0x27f599),'';}}[a158_0xc24cc5(0x15f)](){return this['uploadService']['getAllVoicesRecorded']();}['deleteVoiceRecord'](_0x596bff){const _0x57f90f=a158_0xc24cc5;return this['uploadService'][_0x57f90f(0x160)](_0x596bff);}[a158_0xc24cc5(0x155)](_0x20da7b,_0x542a60){const _0x43e7f2=a158_0xc24cc5;return this[_0x43e7f2(0x13b)][_0x43e7f2(0x155)](_0x542a60);}};__decorate([(0x0,common_1[a158_0xc24cc5(0x163)])(a158_0xc24cc5(0x139)),(0x0,common_1[a158_0xc24cc5(0x146)])(jwt_guard_1[a158_0xc24cc5(0x154)],roles_guard_1[a158_0xc24cc5(0x168)]),(0x0,roles_decorator_1[a158_0xc24cc5(0x158)])(role_enum_1[a158_0xc24cc5(0x141)][a158_0xc24cc5(0x14d)],role_enum_1['Role'][a158_0xc24cc5(0x149)]),__param(0x0,(0x0,common_1[a158_0xc24cc5(0x16a)])(a158_0xc24cc5(0x16f))),__param(0x1,(0x0,common_1[a158_0xc24cc5(0x16a)])('volume')),__param(0x2,(0x0,common_1[a158_0xc24cc5(0x16c)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata(a158_0xc24cc5(0x159),[String,Number,Object]),__metadata(a158_0xc24cc5(0x14b),Promise)],VoiceController[a158_0xc24cc5(0x172)],a158_0xc24cc5(0x137),null),__decorate([(0x0,common_1[a158_0xc24cc5(0x147)])('/'),(0x0,common_1[a158_0xc24cc5(0x146)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0xc24cc5(0x168)]),(0x0,roles_decorator_1[a158_0xc24cc5(0x158)])(role_enum_1['Role'][a158_0xc24cc5(0x14d)],role_enum_1[a158_0xc24cc5(0x141)][a158_0xc24cc5(0x149)]),__metadata(a158_0xc24cc5(0x145),Function),__metadata(a158_0xc24cc5(0x159),[]),__metadata(a158_0xc24cc5(0x14b),void 0x0)],VoiceController['prototype'],a158_0xc24cc5(0x15f),null),__decorate([(0x0,common_1[a158_0xc24cc5(0x175)])('/:id'),(0x0,common_1[a158_0xc24cc5(0x146)])(jwt_guard_1[a158_0xc24cc5(0x154)],roles_guard_1[a158_0xc24cc5(0x168)]),(0x0,roles_decorator_1[a158_0xc24cc5(0x158)])(role_enum_1['Role']['Admin'],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1[a158_0xc24cc5(0x156)])('id')),__metadata(a158_0xc24cc5(0x145),Function),__metadata(a158_0xc24cc5(0x159),[String]),__metadata(a158_0xc24cc5(0x14b),void 0x0)],VoiceController['prototype'],a158_0xc24cc5(0x160),null),__decorate([(0x0,common_1[a158_0xc24cc5(0x15e)])(a158_0xc24cc5(0x14a)),(0x0,common_1[a158_0xc24cc5(0x146)])(jwt_guard_1[a158_0xc24cc5(0x154)],roles_guard_1[a158_0xc24cc5(0x168)]),(0x0,roles_decorator_1[a158_0xc24cc5(0x158)])(role_enum_1[a158_0xc24cc5(0x141)][a158_0xc24cc5(0x14d)],role_enum_1[a158_0xc24cc5(0x141)][a158_0xc24cc5(0x149)]),__param(0x0,(0x0,common_1[a158_0xc24cc5(0x156)])('id')),__param(0x1,(0x0,common_1[a158_0xc24cc5(0x170)])()),__metadata(a158_0xc24cc5(0x145),Function),__metadata(a158_0xc24cc5(0x159),[String,update_upload_dto_1[a158_0xc24cc5(0x14e)]]),__metadata('design:returntype',void 0x0)],VoiceController['prototype'],'updateVoiceRecord',null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0xc24cc5(0x148)])(a158_0xc24cc5(0x144)),__metadata(a158_0xc24cc5(0x159),[upload_service_1[a158_0xc24cc5(0x13e)]])],VoiceController),exports[a158_0xc24cc5(0x161)]=VoiceController;