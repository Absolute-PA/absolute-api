'use strict';const a158_0x1ac6d1=a158_0x4608;function a158_0x5d50(){const _0xcbd681=['metadata','logger','Post','28buxdZJ','send','Put','defineProperty','cwd','../upload/upload.service','object','uploadService','play','../auth/guards/jwt.guard','User','UseGuards','getAllVoicesRecorded','Admin','__decorate','26qQofJN','/:id','prototype','design:type','467595laZRJC','Role','Controller','VoiceController','Logger','../auth/enums/role.enum','UpdateUploadDto','../auth/decorators/roles.decorator','Param','design:returntype','design:paramtypes','RolesGuard','getOwnPropertyDescriptor','529780JIVIbK','__metadata','playAudioFile','../upload/dto/update-upload.dto','updateVoiceRecord','function','Res','getAllVoicesRecord','/play/','605213IcptZd','158919jVgRga','Roles','length','JwtAuthGuard','__esModule','@nestjs/common','2253104Rfvelu','decorate','1876806gFUUCw','error','AudioPlayer','__param','path','../auth/guards/roles.guard','5998878SPxbbH','deleteVoiceRecord','Get','Delete','volume'];a158_0x5d50=function(){return _0xcbd681;};return a158_0x5d50();}(function(_0x2933dd,_0x59a1f9){const _0x51c3df=a158_0x4608,_0x53e731=_0x2933dd();while(!![]){try{const _0x282ff1=parseInt(_0x51c3df(0x1a2))/0x1+parseInt(_0x51c3df(0x188))/0x2*(parseInt(_0x51c3df(0x1a3))/0x3)+parseInt(_0x51c3df(0x199))/0x4+parseInt(_0x51c3df(0x18c))/0x5+-parseInt(_0x51c3df(0x16b))/0x6+-parseInt(_0x51c3df(0x179))/0x7*(parseInt(_0x51c3df(0x169))/0x8)+parseInt(_0x51c3df(0x171))/0x9;if(_0x282ff1===_0x59a1f9)break;else _0x53e731['push'](_0x53e731['shift']());}catch(_0x23cde9){_0x53e731['push'](_0x53e731['shift']());}}}(a158_0x5d50,0xb6607));function a158_0x4608(_0x2956ac,_0x256e29){const _0x5d50b2=a158_0x5d50();return a158_0x4608=function(_0x460802,_0x5bfb6e){_0x460802=_0x460802-0x166;let _0x4fc07c=_0x5d50b2[_0x460802];return _0x4fc07c;},a158_0x4608(_0x2956ac,_0x256e29);}var __decorate=this&&this[a158_0x1ac6d1(0x187)]||function(_0x21b93f,_0x3fbaba,_0x4365c9,_0x4a3e3b){const _0x4ab847=a158_0x1ac6d1;var _0x3db739=arguments['length'],_0x3697f9=_0x3db739<0x3?_0x3fbaba:_0x4a3e3b===null?_0x4a3e3b=Object[_0x4ab847(0x198)](_0x3fbaba,_0x4365c9):_0x4a3e3b,_0xaabde9;if(typeof Reflect===_0x4ab847(0x17f)&&typeof Reflect[_0x4ab847(0x16a)]===_0x4ab847(0x19e))_0x3697f9=Reflect['decorate'](_0x21b93f,_0x3fbaba,_0x4365c9,_0x4a3e3b);else{for(var _0x29f350=_0x21b93f[_0x4ab847(0x1a5)]-0x1;_0x29f350>=0x0;_0x29f350--)if(_0xaabde9=_0x21b93f[_0x29f350])_0x3697f9=(_0x3db739<0x3?_0xaabde9(_0x3697f9):_0x3db739>0x3?_0xaabde9(_0x3fbaba,_0x4365c9,_0x3697f9):_0xaabde9(_0x3fbaba,_0x4365c9))||_0x3697f9;}return _0x3db739>0x3&&_0x3697f9&&Object[_0x4ab847(0x17c)](_0x3fbaba,_0x4365c9,_0x3697f9),_0x3697f9;},__metadata=this&&this[a158_0x1ac6d1(0x19a)]||function(_0x1f10fd,_0x2a425a){const _0x5c8149=a158_0x1ac6d1;if(typeof Reflect===_0x5c8149(0x17f)&&typeof Reflect['metadata']===_0x5c8149(0x19e))return Reflect[_0x5c8149(0x176)](_0x1f10fd,_0x2a425a);},__param=this&&this[a158_0x1ac6d1(0x16e)]||function(_0x4a895a,_0x241bd7){return function(_0xe23ea1,_0xd450f8){_0x241bd7(_0xe23ea1,_0xd450f8,_0x4a895a);};},VoiceController_1;Object['defineProperty'](exports,a158_0x1ac6d1(0x167),{'value':!![]}),exports[a158_0x1ac6d1(0x18f)]=void 0x0;const common_1=require(a158_0x1ac6d1(0x168)),path_1=require(a158_0x1ac6d1(0x16f)),upload_service_1=require(a158_0x1ac6d1(0x17e)),role_enum_1=require(a158_0x1ac6d1(0x191)),roles_decorator_1=require(a158_0x1ac6d1(0x193)),jwt_guard_1=require(a158_0x1ac6d1(0x182)),roles_guard_1=require(a158_0x1ac6d1(0x170)),audio_player_1=require('../common/audio/audio-player'),update_upload_dto_1=require(a158_0x1ac6d1(0x19c));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x1df0e0){const _0x3b8d05=a158_0x1ac6d1;this[_0x3b8d05(0x180)]=_0x1df0e0,this['logger']=new common_1[(_0x3b8d05(0x190))](VoiceController_1['name']);}async[a158_0x1ac6d1(0x19b)](_0x210e03,_0x29afca,_0x45053c){const _0xc53419=a158_0x1ac6d1;try{const _0x4df83b=(0x0,path_1['join'])(process[_0xc53419(0x17d)](),_0x210e03);audio_player_1[_0xc53419(0x16d)][_0xc53419(0x181)](_0x4df83b,_0x29afca),_0x45053c[_0xc53419(0x17a)]('Success\x20play\x20sound:\x20'+_0x4df83b);}catch(_0x21b638){return this[_0xc53419(0x177)][_0xc53419(0x16c)](_0x21b638),'';}}[a158_0x1ac6d1(0x1a0)](){const _0xab2e80=a158_0x1ac6d1;return this[_0xab2e80(0x180)][_0xab2e80(0x185)]();}[a158_0x1ac6d1(0x172)](_0x3057eb){return this['uploadService']['deleteVoiceRecord'](_0x3057eb);}[a158_0x1ac6d1(0x19d)](_0xd67336,_0x50d4ba){const _0x42dc20=a158_0x1ac6d1;return this['uploadService'][_0x42dc20(0x19d)](_0x50d4ba);}};__decorate([(0x0,common_1[a158_0x1ac6d1(0x178)])(a158_0x1ac6d1(0x1a1)),(0x0,common_1[a158_0x1ac6d1(0x184)])(jwt_guard_1[a158_0x1ac6d1(0x166)],roles_guard_1[a158_0x1ac6d1(0x197)]),(0x0,roles_decorator_1[a158_0x1ac6d1(0x1a4)])(role_enum_1[a158_0x1ac6d1(0x18d)][a158_0x1ac6d1(0x186)],role_enum_1[a158_0x1ac6d1(0x18d)]['User']),__param(0x0,(0x0,common_1['Query'])('filePath')),__param(0x1,(0x0,common_1['Query'])(a158_0x1ac6d1(0x175))),__param(0x2,(0x0,common_1[a158_0x1ac6d1(0x19f)])({'passthrough':!![]})),__metadata(a158_0x1ac6d1(0x18b),Function),__metadata(a158_0x1ac6d1(0x196),[String,Number,Object]),__metadata(a158_0x1ac6d1(0x195),Promise)],VoiceController[a158_0x1ac6d1(0x18a)],a158_0x1ac6d1(0x19b),null),__decorate([(0x0,common_1[a158_0x1ac6d1(0x173)])('/'),(0x0,common_1[a158_0x1ac6d1(0x184)])(jwt_guard_1[a158_0x1ac6d1(0x166)],roles_guard_1[a158_0x1ac6d1(0x197)]),(0x0,roles_decorator_1[a158_0x1ac6d1(0x1a4)])(role_enum_1[a158_0x1ac6d1(0x18d)][a158_0x1ac6d1(0x186)],role_enum_1[a158_0x1ac6d1(0x18d)][a158_0x1ac6d1(0x183)]),__metadata(a158_0x1ac6d1(0x18b),Function),__metadata(a158_0x1ac6d1(0x196),[]),__metadata('design:returntype',void 0x0)],VoiceController['prototype'],a158_0x1ac6d1(0x1a0),null),__decorate([(0x0,common_1[a158_0x1ac6d1(0x174)])(a158_0x1ac6d1(0x189)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x1ac6d1(0x197)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a158_0x1ac6d1(0x186)],role_enum_1[a158_0x1ac6d1(0x18d)]['User']),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a158_0x1ac6d1(0x18b),Function),__metadata(a158_0x1ac6d1(0x196),[String]),__metadata(a158_0x1ac6d1(0x195),void 0x0)],VoiceController[a158_0x1ac6d1(0x18a)],'deleteVoiceRecord',null),__decorate([(0x0,common_1[a158_0x1ac6d1(0x17b)])(a158_0x1ac6d1(0x189)),(0x0,common_1['UseGuards'])(jwt_guard_1[a158_0x1ac6d1(0x166)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0x1ac6d1(0x1a4)])(role_enum_1[a158_0x1ac6d1(0x18d)]['Admin'],role_enum_1[a158_0x1ac6d1(0x18d)][a158_0x1ac6d1(0x183)]),__param(0x0,(0x0,common_1[a158_0x1ac6d1(0x194)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata('design:type',Function),__metadata(a158_0x1ac6d1(0x196),[String,update_upload_dto_1[a158_0x1ac6d1(0x192)]]),__metadata(a158_0x1ac6d1(0x195),void 0x0)],VoiceController['prototype'],a158_0x1ac6d1(0x19d),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0x1ac6d1(0x18e)])('voice'),__metadata(a158_0x1ac6d1(0x196),[upload_service_1['UploadService']])],VoiceController),exports['VoiceController']=VoiceController;