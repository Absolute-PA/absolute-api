'use strict';function a158_0x2e20(){const _0x27e113=['/:id','cwd','play','User','getOwnPropertyDescriptor','18666qTelkK','RolesGuard','1101MPFrEY','4319910uLhEcV','defineProperty','Admin','deleteVoiceRecord','__decorate','updateVoiceRecord','object','length','Role','name','getAllVoicesRecorded','285887mnzkML','JwtAuthGuard','Put','join','1772kPTJQH','path','696778NBKHtz','__esModule','design:returntype','Success\x20play\x20sound:\x20','__metadata','function','8FixppP','Post','UpdateUploadDto','UseGuards','error','../upload/upload.service','../auth/guards/roles.guard','../auth/guards/jwt.guard','voice','design:paramtypes','/play/','logger','VoiceController','decorate','prototype','@nestjs/common','metadata','../upload/dto/update-upload.dto','AudioPlayer','374485quKdZE','getAllVoicesRecord','UploadService','Roles','483255WZybxI','design:type','Param','8RwIGqJ','uploadService','../common/audio/audio-player','Logger'];a158_0x2e20=function(){return _0x27e113;};return a158_0x2e20();}const a158_0x59bb10=a158_0x3123;(function(_0x826f96,_0x191d7a){const _0x1fe10d=a158_0x3123,_0x4fdbc1=_0x826f96();while(!![]){try{const _0x593528=parseInt(_0x1fe10d(0x1f4))/0x1+-parseInt(_0x1fe10d(0x1f2))/0x2*(-parseInt(_0x1fe10d(0x21f))/0x3)+-parseInt(_0x1fe10d(0x214))/0x4*(parseInt(_0x1fe10d(0x20d))/0x5)+parseInt(_0x1fe10d(0x21d))/0x6+-parseInt(_0x1fe10d(0x1ee))/0x7+-parseInt(_0x1fe10d(0x1fa))/0x8*(parseInt(_0x1fe10d(0x211))/0x9)+-parseInt(_0x1fe10d(0x220))/0xa;if(_0x593528===_0x191d7a)break;else _0x4fdbc1['push'](_0x4fdbc1['shift']());}catch(_0x13ae31){_0x4fdbc1['push'](_0x4fdbc1['shift']());}}}(a158_0x2e20,0x5523a));function a158_0x3123(_0x6bfb05,_0x315928){const _0x2e20ab=a158_0x2e20();return a158_0x3123=function(_0x3123ec,_0x4b5f41){_0x3123ec=_0x3123ec-0x1e5;let _0x370307=_0x2e20ab[_0x3123ec];return _0x370307;},a158_0x3123(_0x6bfb05,_0x315928);}var __decorate=this&&this[a158_0x59bb10(0x1e7)]||function(_0x270ffa,_0x5ac8c0,_0x26bb1c,_0x214939){const _0x483282=a158_0x59bb10;var _0x56770f=arguments['length'],_0x573d36=_0x56770f<0x3?_0x5ac8c0:_0x214939===null?_0x214939=Object[_0x483282(0x21c)](_0x5ac8c0,_0x26bb1c):_0x214939,_0x4e39ff;if(typeof Reflect===_0x483282(0x1e9)&&typeof Reflect[_0x483282(0x207)]===_0x483282(0x1f9))_0x573d36=Reflect['decorate'](_0x270ffa,_0x5ac8c0,_0x26bb1c,_0x214939);else{for(var _0x85d45c=_0x270ffa[_0x483282(0x1ea)]-0x1;_0x85d45c>=0x0;_0x85d45c--)if(_0x4e39ff=_0x270ffa[_0x85d45c])_0x573d36=(_0x56770f<0x3?_0x4e39ff(_0x573d36):_0x56770f>0x3?_0x4e39ff(_0x5ac8c0,_0x26bb1c,_0x573d36):_0x4e39ff(_0x5ac8c0,_0x26bb1c))||_0x573d36;}return _0x56770f>0x3&&_0x573d36&&Object[_0x483282(0x221)](_0x5ac8c0,_0x26bb1c,_0x573d36),_0x573d36;},__metadata=this&&this[a158_0x59bb10(0x1f8)]||function(_0x24eb1d,_0x1fbe85){const _0x28d6f6=a158_0x59bb10;if(typeof Reflect==='object'&&typeof Reflect[_0x28d6f6(0x20a)]==='function')return Reflect[_0x28d6f6(0x20a)](_0x24eb1d,_0x1fbe85);},__param=this&&this['__param']||function(_0x2a981b,_0x2984e2){return function(_0x574c16,_0x103b4c){_0x2984e2(_0x574c16,_0x103b4c,_0x2a981b);};},VoiceController_1;Object[a158_0x59bb10(0x221)](exports,a158_0x59bb10(0x1f5),{'value':!![]}),exports['VoiceController']=void 0x0;const common_1=require(a158_0x59bb10(0x209)),path_1=require(a158_0x59bb10(0x1f3)),upload_service_1=require(a158_0x59bb10(0x1ff)),role_enum_1=require('../auth/enums/role.enum'),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a158_0x59bb10(0x201)),roles_guard_1=require(a158_0x59bb10(0x200)),audio_player_1=require(a158_0x59bb10(0x216)),update_upload_dto_1=require(a158_0x59bb10(0x20b));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x4b5c23){const _0x8aee8c=a158_0x59bb10;this[_0x8aee8c(0x215)]=_0x4b5c23,this[_0x8aee8c(0x205)]=new common_1[(_0x8aee8c(0x217))](VoiceController_1[_0x8aee8c(0x1ec)]);}async['playAudioFile'](_0x8a60e7,_0x47d168,_0x7e228f){const _0x1eb018=a158_0x59bb10;try{const _0xe6c023=(0x0,path_1[_0x1eb018(0x1f1)])(process[_0x1eb018(0x219)](),_0x8a60e7);audio_player_1[_0x1eb018(0x20c)][_0x1eb018(0x21a)](_0xe6c023,_0x47d168),_0x7e228f['send'](_0x1eb018(0x1f7)+_0xe6c023);}catch(_0x5d100d){return this[_0x1eb018(0x205)][_0x1eb018(0x1fe)](_0x5d100d),'';}}['getAllVoicesRecord'](){const _0x1f7807=a158_0x59bb10;return this['uploadService'][_0x1f7807(0x1ed)]();}[a158_0x59bb10(0x1e6)](_0x5a4892){const _0x5217f5=a158_0x59bb10;return this[_0x5217f5(0x215)][_0x5217f5(0x1e6)](_0x5a4892);}[a158_0x59bb10(0x1e8)](_0x482230,_0x918119){const _0x11c230=a158_0x59bb10;return this['uploadService'][_0x11c230(0x1e8)](_0x918119);}};__decorate([(0x0,common_1[a158_0x59bb10(0x1fb)])(a158_0x59bb10(0x204)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0x59bb10(0x210)])(role_enum_1[a158_0x59bb10(0x1eb)][a158_0x59bb10(0x1e5)],role_enum_1[a158_0x59bb10(0x1eb)][a158_0x59bb10(0x21b)]),__param(0x0,(0x0,common_1['Query'])('filePath')),__param(0x1,(0x0,common_1['Query'])('volume')),__param(0x2,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a158_0x59bb10(0x212),Function),__metadata(a158_0x59bb10(0x203),[String,Number,Object]),__metadata(a158_0x59bb10(0x1f6),Promise)],VoiceController['prototype'],'playAudioFile',null),__decorate([(0x0,common_1['Get'])('/'),(0x0,common_1[a158_0x59bb10(0x1fd)])(jwt_guard_1[a158_0x59bb10(0x1ef)],roles_guard_1[a158_0x59bb10(0x21e)]),(0x0,roles_decorator_1[a158_0x59bb10(0x210)])(role_enum_1['Role'][a158_0x59bb10(0x1e5)],role_enum_1[a158_0x59bb10(0x1eb)][a158_0x59bb10(0x21b)]),__metadata('design:type',Function),__metadata(a158_0x59bb10(0x203),[]),__metadata(a158_0x59bb10(0x1f6),void 0x0)],VoiceController[a158_0x59bb10(0x208)],a158_0x59bb10(0x20e),null),__decorate([(0x0,common_1['Delete'])(a158_0x59bb10(0x218)),(0x0,common_1[a158_0x59bb10(0x1fd)])(jwt_guard_1[a158_0x59bb10(0x1ef)],roles_guard_1[a158_0x59bb10(0x21e)]),(0x0,roles_decorator_1[a158_0x59bb10(0x210)])(role_enum_1[a158_0x59bb10(0x1eb)][a158_0x59bb10(0x1e5)],role_enum_1[a158_0x59bb10(0x1eb)][a158_0x59bb10(0x21b)]),__param(0x0,(0x0,common_1[a158_0x59bb10(0x213)])('id')),__metadata(a158_0x59bb10(0x212),Function),__metadata('design:paramtypes',[String]),__metadata(a158_0x59bb10(0x1f6),void 0x0)],VoiceController[a158_0x59bb10(0x208)],a158_0x59bb10(0x1e6),null),__decorate([(0x0,common_1[a158_0x59bb10(0x1f0)])('/:id'),(0x0,common_1[a158_0x59bb10(0x1fd)])(jwt_guard_1[a158_0x59bb10(0x1ef)],roles_guard_1[a158_0x59bb10(0x21e)]),(0x0,roles_decorator_1[a158_0x59bb10(0x210)])(role_enum_1['Role'][a158_0x59bb10(0x1e5)],role_enum_1['Role'][a158_0x59bb10(0x21b)]),__param(0x0,(0x0,common_1[a158_0x59bb10(0x213)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a158_0x59bb10(0x212),Function),__metadata(a158_0x59bb10(0x203),[String,update_upload_dto_1[a158_0x59bb10(0x1fc)]]),__metadata('design:returntype',void 0x0)],VoiceController[a158_0x59bb10(0x208)],a158_0x59bb10(0x1e8),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1['Controller'])(a158_0x59bb10(0x202)),__metadata(a158_0x59bb10(0x203),[upload_service_1[a158_0x59bb10(0x20f)]])],VoiceController),exports[a158_0x59bb10(0x206)]=VoiceController;