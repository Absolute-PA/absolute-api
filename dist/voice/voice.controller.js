'use strict';const a161_0x4baca2=a161_0x1ebc;function a161_0x16d3(){const _0x397d45=['AudioPlayer','filePath','3AvmzmQ','../upload/upload.service','send','Body','Res','voice','updateVoiceRecord','error','Controller','../auth/enums/role.enum','Admin','398753UqzzMq','User','../auth/guards/roles.guard','function','../common/audio/audio-player','../upload/dto/update-upload.dto','name','join','Success\x20play\x20sound:\x20','uploadService','getAllVoicesRecorded','metadata','Roles','914168EIpuAE','390884cyURgX','1947043oKFTvU','UseGuards','2138802baRQwj','JwtAuthGuard','volume','design:returntype','__param','UpdateUploadDto','8NVULqR','path','Get','decorate','Logger','Role','VoiceController','deleteVoiceRecord','logger','defineProperty','/:id','../auth/guards/jwt.guard','design:paramtypes','design:type','10155546zJGYkr','__esModule','getAllVoicesRecord','RolesGuard','Query','cwd','prototype','UploadService','1982135obYpjN','/play/','object','Delete'];a161_0x16d3=function(){return _0x397d45;};return a161_0x16d3();}function a161_0x1ebc(_0x211e34,_0x5c2737){const _0x16d37c=a161_0x16d3();return a161_0x1ebc=function(_0x1ebc79,_0x547d7e){_0x1ebc79=_0x1ebc79-0xed;let _0x56e05a=_0x16d37c[_0x1ebc79];return _0x56e05a;},a161_0x1ebc(_0x211e34,_0x5c2737);}(function(_0x176ccd,_0x8616d2){const _0x11e20a=a161_0x1ebc,_0x38fa2c=_0x176ccd();while(!![]){try{const _0xace1bd=parseInt(_0x11e20a(0xfd))/0x1+parseInt(_0x11e20a(0x10a))/0x2+parseInt(_0x11e20a(0xf2))/0x3*(parseInt(_0x11e20a(0x10b))/0x4)+parseInt(_0x11e20a(0x12a))/0x5+parseInt(_0x11e20a(0x10e))/0x6+-parseInt(_0x11e20a(0x10c))/0x7*(parseInt(_0x11e20a(0x114))/0x8)+-parseInt(_0x11e20a(0x122))/0x9;if(_0xace1bd===_0x8616d2)break;else _0x38fa2c['push'](_0x38fa2c['shift']());}catch(_0x568c81){_0x38fa2c['push'](_0x38fa2c['shift']());}}}(a161_0x16d3,0x49385));var __decorate=this&&this['__decorate']||function(_0x56057e,_0x33fbbd,_0x2ffb11,_0x25509b){const _0x1c29e7=a161_0x1ebc;var _0x1b14f8=arguments['length'],_0x46ea88=_0x1b14f8<0x3?_0x33fbbd:_0x25509b===null?_0x25509b=Object['getOwnPropertyDescriptor'](_0x33fbbd,_0x2ffb11):_0x25509b,_0x57e026;if(typeof Reflect===_0x1c29e7(0xee)&&typeof Reflect[_0x1c29e7(0x117)]===_0x1c29e7(0x100))_0x46ea88=Reflect['decorate'](_0x56057e,_0x33fbbd,_0x2ffb11,_0x25509b);else{for(var _0x5d42ec=_0x56057e['length']-0x1;_0x5d42ec>=0x0;_0x5d42ec--)if(_0x57e026=_0x56057e[_0x5d42ec])_0x46ea88=(_0x1b14f8<0x3?_0x57e026(_0x46ea88):_0x1b14f8>0x3?_0x57e026(_0x33fbbd,_0x2ffb11,_0x46ea88):_0x57e026(_0x33fbbd,_0x2ffb11))||_0x46ea88;}return _0x1b14f8>0x3&&_0x46ea88&&Object[_0x1c29e7(0x11d)](_0x33fbbd,_0x2ffb11,_0x46ea88),_0x46ea88;},__metadata=this&&this['__metadata']||function(_0x28b4c1,_0x19b69c){const _0x478f2c=a161_0x1ebc;if(typeof Reflect==='object'&&typeof Reflect[_0x478f2c(0x108)]===_0x478f2c(0x100))return Reflect[_0x478f2c(0x108)](_0x28b4c1,_0x19b69c);},__param=this&&this[a161_0x4baca2(0x112)]||function(_0x58d6fa,_0x25bb8d){return function(_0x1d2c18,_0x1cf80d){_0x25bb8d(_0x1d2c18,_0x1cf80d,_0x58d6fa);};},VoiceController_1;Object['defineProperty'](exports,a161_0x4baca2(0x123),{'value':!![]}),exports[a161_0x4baca2(0x11a)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require(a161_0x4baca2(0x115)),upload_service_1=require(a161_0x4baca2(0xf3)),role_enum_1=require(a161_0x4baca2(0xfb)),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a161_0x4baca2(0x11f)),roles_guard_1=require(a161_0x4baca2(0xff)),audio_player_1=require(a161_0x4baca2(0x101)),update_upload_dto_1=require(a161_0x4baca2(0x102));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x1dcc28){const _0xe3b2cf=a161_0x4baca2;this['uploadService']=_0x1dcc28,this['logger']=new common_1[(_0xe3b2cf(0x118))](VoiceController_1[_0xe3b2cf(0x103)]);}async['playAudioFile'](_0x4a2302,_0x3dcbdf,_0x14fa0f){const _0x4ede3f=a161_0x4baca2;try{const _0x31cafa=(0x0,path_1[_0x4ede3f(0x104)])(process[_0x4ede3f(0x127)](),_0x4a2302);audio_player_1[_0x4ede3f(0xf0)]['play'](_0x31cafa,_0x3dcbdf),_0x14fa0f[_0x4ede3f(0xf4)](_0x4ede3f(0x105)+_0x31cafa);}catch(_0x28bf92){return this[_0x4ede3f(0x11c)][_0x4ede3f(0xf9)](_0x28bf92),'';}}[a161_0x4baca2(0x124)](){const _0xc93edc=a161_0x4baca2;return this[_0xc93edc(0x106)][_0xc93edc(0x107)]();}[a161_0x4baca2(0x11b)](_0x2a65d6){const _0x1e21bc=a161_0x4baca2;return this['uploadService'][_0x1e21bc(0x11b)](_0x2a65d6);}[a161_0x4baca2(0xf8)](_0x20ca69,_0x101c6a){const _0x40ca3e=a161_0x4baca2;return this[_0x40ca3e(0x106)]['updateVoiceRecord'](_0x101c6a);}};__decorate([(0x0,common_1['Post'])(a161_0x4baca2(0xed)),(0x0,common_1[a161_0x4baca2(0x10d)])(jwt_guard_1[a161_0x4baca2(0x10f)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a161_0x4baca2(0x109)])(role_enum_1[a161_0x4baca2(0x119)]['Admin'],role_enum_1[a161_0x4baca2(0x119)]['User']),__param(0x0,(0x0,common_1[a161_0x4baca2(0x126)])(a161_0x4baca2(0xf1))),__param(0x1,(0x0,common_1[a161_0x4baca2(0x126)])(a161_0x4baca2(0x110))),__param(0x2,(0x0,common_1[a161_0x4baca2(0xf6)])({'passthrough':!![]})),__metadata(a161_0x4baca2(0x121),Function),__metadata('design:paramtypes',[String,Number,Object]),__metadata(a161_0x4baca2(0x111),Promise)],VoiceController['prototype'],'playAudioFile',null),__decorate([(0x0,common_1[a161_0x4baca2(0x116)])('/'),(0x0,common_1[a161_0x4baca2(0x10d)])(jwt_guard_1[a161_0x4baca2(0x10f)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a161_0x4baca2(0x109)])(role_enum_1[a161_0x4baca2(0x119)][a161_0x4baca2(0xfc)],role_enum_1[a161_0x4baca2(0x119)][a161_0x4baca2(0xfe)]),__metadata(a161_0x4baca2(0x121),Function),__metadata(a161_0x4baca2(0x120),[]),__metadata(a161_0x4baca2(0x111),void 0x0)],VoiceController[a161_0x4baca2(0x128)],a161_0x4baca2(0x124),null),__decorate([(0x0,common_1[a161_0x4baca2(0xef)])(a161_0x4baca2(0x11e)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x4baca2(0x125)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x4baca2(0x119)][a161_0x4baca2(0xfc)],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a161_0x4baca2(0x121),Function),__metadata(a161_0x4baca2(0x120),[String]),__metadata(a161_0x4baca2(0x111),void 0x0)],VoiceController[a161_0x4baca2(0x128)],a161_0x4baca2(0x11b),null),__decorate([(0x0,common_1['Put'])(a161_0x4baca2(0x11e)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x4baca2(0x125)]),(0x0,roles_decorator_1[a161_0x4baca2(0x109)])(role_enum_1[a161_0x4baca2(0x119)][a161_0x4baca2(0xfc)],role_enum_1[a161_0x4baca2(0x119)][a161_0x4baca2(0xfe)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a161_0x4baca2(0xf5)])()),__metadata(a161_0x4baca2(0x121),Function),__metadata(a161_0x4baca2(0x120),[String,update_upload_dto_1[a161_0x4baca2(0x113)]]),__metadata(a161_0x4baca2(0x111),void 0x0)],VoiceController[a161_0x4baca2(0x128)],a161_0x4baca2(0xf8),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a161_0x4baca2(0xfa)])(a161_0x4baca2(0xf7)),__metadata(a161_0x4baca2(0x120),[upload_service_1[a161_0x4baca2(0x129)]])],VoiceController),exports[a161_0x4baca2(0x11a)]=VoiceController;