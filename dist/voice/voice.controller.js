'use strict';const a161_0x4faa26=a161_0x491c;function a161_0x14c4(){const _0x3bf5b2=['decorate','uploadService','Param','path','VoiceController','8GXZNUf','getAllVoicesRecord','metadata','Body','/:id','RolesGuard','voice','199389WErtSg','function','Roles','UseGuards','defineProperty','Role','logger','playAudioFile','../auth/enums/role.enum','Query','design:returntype','design:paramtypes','JwtAuthGuard','object','Put','@nestjs/common','Post','User','join','send','Res','Delete','AudioPlayer','../common/audio/audio-player','UploadService','247140ZuxRst','design:type','Get','__decorate','466434gHEixe','UpdateUploadDto','__metadata','Success\x20play\x20sound:\x20','15851043cPvcTX','../upload/upload.service','play','__param','575274gKNxhZ','error','Admin','Logger','filePath','/play/','2642125BnetTu','7QfPcVY','prototype','../upload/dto/update-upload.dto','deleteVoiceRecord','4441192QXLaAB'];a161_0x14c4=function(){return _0x3bf5b2;};return a161_0x14c4();}(function(_0x441bbd,_0x504be2){const _0x301f99=a161_0x491c,_0x335715=_0x441bbd();while(!![]){try{const _0x2750b5=-parseInt(_0x301f99(0xdb))/0x1+parseInt(_0x301f99(0xd7))/0x2+parseInt(_0x301f99(0xfb))/0x3*(-parseInt(_0x301f99(0xf4))/0x4)+-parseInt(_0x301f99(0xe9))/0x5+-parseInt(_0x301f99(0xe3))/0x6*(-parseInt(_0x301f99(0xea))/0x7)+-parseInt(_0x301f99(0xee))/0x8+parseInt(_0x301f99(0xdf))/0x9;if(_0x2750b5===_0x504be2)break;else _0x335715['push'](_0x335715['shift']());}catch(_0x4d52ef){_0x335715['push'](_0x335715['shift']());}}}(a161_0x14c4,0x48b0e));var __decorate=this&&this[a161_0x4faa26(0xda)]||function(_0x3d213b,_0x8ff058,_0x5c8537,_0x2a39e9){const _0x5c654b=a161_0x4faa26;var _0xc2e4f1=arguments['length'],_0x1fdb3f=_0xc2e4f1<0x3?_0x8ff058:_0x2a39e9===null?_0x2a39e9=Object['getOwnPropertyDescriptor'](_0x8ff058,_0x5c8537):_0x2a39e9,_0x476f49;if(typeof Reflect===_0x5c654b(0xcb)&&typeof Reflect[_0x5c654b(0xef)]===_0x5c654b(0xfc))_0x1fdb3f=Reflect[_0x5c654b(0xef)](_0x3d213b,_0x8ff058,_0x5c8537,_0x2a39e9);else{for(var _0x1e3aa9=_0x3d213b['length']-0x1;_0x1e3aa9>=0x0;_0x1e3aa9--)if(_0x476f49=_0x3d213b[_0x1e3aa9])_0x1fdb3f=(_0xc2e4f1<0x3?_0x476f49(_0x1fdb3f):_0xc2e4f1>0x3?_0x476f49(_0x8ff058,_0x5c8537,_0x1fdb3f):_0x476f49(_0x8ff058,_0x5c8537))||_0x1fdb3f;}return _0xc2e4f1>0x3&&_0x1fdb3f&&Object[_0x5c654b(0xff)](_0x8ff058,_0x5c8537,_0x1fdb3f),_0x1fdb3f;},__metadata=this&&this[a161_0x4faa26(0xdd)]||function(_0x6389a9,_0x1ec19f){const _0x522a2d=a161_0x4faa26;if(typeof Reflect===_0x522a2d(0xcb)&&typeof Reflect['metadata']==='function')return Reflect[_0x522a2d(0xf6)](_0x6389a9,_0x1ec19f);},__param=this&&this[a161_0x4faa26(0xe2)]||function(_0x4de44d,_0x44fe7f){return function(_0x4779aa,_0xf7d9dd){_0x44fe7f(_0x4779aa,_0xf7d9dd,_0x4de44d);};},VoiceController_1;Object[a161_0x4faa26(0xff)](exports,'__esModule',{'value':!![]}),exports[a161_0x4faa26(0xf3)]=void 0x0;const common_1=require(a161_0x4faa26(0xcd)),path_1=require(a161_0x4faa26(0xf2)),upload_service_1=require(a161_0x4faa26(0xe0)),role_enum_1=require(a161_0x4faa26(0xc6)),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require('../auth/guards/roles.guard'),audio_player_1=require(a161_0x4faa26(0xd5)),update_upload_dto_1=require(a161_0x4faa26(0xec));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x44e3f4){const _0x404cab=a161_0x4faa26;this[_0x404cab(0xf0)]=_0x44e3f4,this[_0x404cab(0xc4)]=new common_1[(_0x404cab(0xe6))](VoiceController_1['name']);}async['playAudioFile'](_0x58ba3f,_0x5671c8,_0x10583b){const _0x564eb7=a161_0x4faa26;try{const _0xc1b44d=(0x0,path_1[_0x564eb7(0xd0)])(process['cwd'](),_0x58ba3f);audio_player_1[_0x564eb7(0xd4)][_0x564eb7(0xe1)](_0xc1b44d,_0x5671c8),_0x10583b[_0x564eb7(0xd1)](_0x564eb7(0xde)+_0xc1b44d);}catch(_0x17b0ce){return this[_0x564eb7(0xc4)][_0x564eb7(0xe4)](_0x17b0ce),'';}}['getAllVoicesRecord'](){const _0x184015=a161_0x4faa26;return this[_0x184015(0xf0)]['getAllVoicesRecorded']();}[a161_0x4faa26(0xed)](_0x51d813){const _0x5491c8=a161_0x4faa26;return this['uploadService'][_0x5491c8(0xed)](_0x51d813);}['updateVoiceRecord'](_0x2a885d,_0x316a7d){const _0x262bf3=a161_0x4faa26;return this[_0x262bf3(0xf0)]['updateVoiceRecord'](_0x316a7d);}};function a161_0x491c(_0xefce8b,_0x5a86a9){const _0x14c4c9=a161_0x14c4();return a161_0x491c=function(_0x491cad,_0x1e6a98){_0x491cad=_0x491cad-0xc4;let _0x229eb8=_0x14c4c9[_0x491cad];return _0x229eb8;},a161_0x491c(_0xefce8b,_0x5a86a9);}__decorate([(0x0,common_1[a161_0x4faa26(0xce)])(a161_0x4faa26(0xe8)),(0x0,common_1[a161_0x4faa26(0xfe)])(jwt_guard_1[a161_0x4faa26(0xca)],roles_guard_1[a161_0x4faa26(0xf9)]),(0x0,roles_decorator_1[a161_0x4faa26(0xfd)])(role_enum_1[a161_0x4faa26(0x100)][a161_0x4faa26(0xe5)],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1[a161_0x4faa26(0xc7)])(a161_0x4faa26(0xe7))),__param(0x1,(0x0,common_1[a161_0x4faa26(0xc7)])('volume')),__param(0x2,(0x0,common_1[a161_0x4faa26(0xd2)])({'passthrough':!![]})),__metadata(a161_0x4faa26(0xd8),Function),__metadata('design:paramtypes',[String,Number,Object]),__metadata('design:returntype',Promise)],VoiceController['prototype'],a161_0x4faa26(0xc5),null),__decorate([(0x0,common_1[a161_0x4faa26(0xd9)])('/'),(0x0,common_1[a161_0x4faa26(0xfe)])(jwt_guard_1[a161_0x4faa26(0xca)],roles_guard_1[a161_0x4faa26(0xf9)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x4faa26(0x100)][a161_0x4faa26(0xe5)],role_enum_1[a161_0x4faa26(0x100)][a161_0x4faa26(0xcf)]),__metadata('design:type',Function),__metadata(a161_0x4faa26(0xc9),[]),__metadata(a161_0x4faa26(0xc8),void 0x0)],VoiceController['prototype'],a161_0x4faa26(0xf5),null),__decorate([(0x0,common_1[a161_0x4faa26(0xd3)])(a161_0x4faa26(0xf8)),(0x0,common_1[a161_0x4faa26(0xfe)])(jwt_guard_1[a161_0x4faa26(0xca)],roles_guard_1[a161_0x4faa26(0xf9)]),(0x0,roles_decorator_1[a161_0x4faa26(0xfd)])(role_enum_1['Role'][a161_0x4faa26(0xe5)],role_enum_1[a161_0x4faa26(0x100)][a161_0x4faa26(0xcf)]),__param(0x0,(0x0,common_1[a161_0x4faa26(0xf1)])('id')),__metadata('design:type',Function),__metadata(a161_0x4faa26(0xc9),[String]),__metadata(a161_0x4faa26(0xc8),void 0x0)],VoiceController[a161_0x4faa26(0xeb)],a161_0x4faa26(0xed),null),__decorate([(0x0,common_1[a161_0x4faa26(0xcc)])('/:id'),(0x0,common_1[a161_0x4faa26(0xfe)])(jwt_guard_1[a161_0x4faa26(0xca)],roles_guard_1[a161_0x4faa26(0xf9)]),(0x0,roles_decorator_1[a161_0x4faa26(0xfd)])(role_enum_1[a161_0x4faa26(0x100)][a161_0x4faa26(0xe5)],role_enum_1['Role'][a161_0x4faa26(0xcf)]),__param(0x0,(0x0,common_1[a161_0x4faa26(0xf1)])('id')),__param(0x1,(0x0,common_1[a161_0x4faa26(0xf7)])()),__metadata(a161_0x4faa26(0xd8),Function),__metadata(a161_0x4faa26(0xc9),[String,update_upload_dto_1[a161_0x4faa26(0xdc)]]),__metadata(a161_0x4faa26(0xc8),void 0x0)],VoiceController['prototype'],'updateVoiceRecord',null),VoiceController=VoiceController_1=__decorate([(0x0,common_1['Controller'])(a161_0x4faa26(0xfa)),__metadata('design:paramtypes',[upload_service_1[a161_0x4faa26(0xd6)]])],VoiceController),exports[a161_0x4faa26(0xf3)]=VoiceController;