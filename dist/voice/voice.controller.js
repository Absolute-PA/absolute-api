'use strict';const a158_0xb9eb94=a158_0x5044;(function(_0x31e21c,_0x56cdb5){const _0x602c64=a158_0x5044,_0x52c18c=_0x31e21c();while(!![]){try{const _0x3ff434=-parseInt(_0x602c64(0x7b))/0x1+-parseInt(_0x602c64(0x8f))/0x2+parseInt(_0x602c64(0xb1))/0x3+-parseInt(_0x602c64(0x85))/0x4*(-parseInt(_0x602c64(0xaa))/0x5)+-parseInt(_0x602c64(0xba))/0x6+parseInt(_0x602c64(0x9f))/0x7*(-parseInt(_0x602c64(0x86))/0x8)+parseInt(_0x602c64(0x93))/0x9;if(_0x3ff434===_0x56cdb5)break;else _0x52c18c['push'](_0x52c18c['shift']());}catch(_0x35133f){_0x52c18c['push'](_0x52c18c['shift']());}}}(a158_0x23ab,0xe2158));var __decorate=this&&this[a158_0xb9eb94(0xb9)]||function(_0x37382d,_0x25090f,_0x20ff15,_0x3f0b78){const _0x3796b7=a158_0xb9eb94;var _0x4e881c=arguments[_0x3796b7(0x83)],_0x368804=_0x4e881c<0x3?_0x25090f:_0x3f0b78===null?_0x3f0b78=Object[_0x3796b7(0x9e)](_0x25090f,_0x20ff15):_0x3f0b78,_0xd68ae3;if(typeof Reflect==='object'&&typeof Reflect[_0x3796b7(0xb7)]===_0x3796b7(0x8b))_0x368804=Reflect[_0x3796b7(0xb7)](_0x37382d,_0x25090f,_0x20ff15,_0x3f0b78);else{for(var _0x48b0d7=_0x37382d['length']-0x1;_0x48b0d7>=0x0;_0x48b0d7--)if(_0xd68ae3=_0x37382d[_0x48b0d7])_0x368804=(_0x4e881c<0x3?_0xd68ae3(_0x368804):_0x4e881c>0x3?_0xd68ae3(_0x25090f,_0x20ff15,_0x368804):_0xd68ae3(_0x25090f,_0x20ff15))||_0x368804;}return _0x4e881c>0x3&&_0x368804&&Object[_0x3796b7(0x92)](_0x25090f,_0x20ff15,_0x368804),_0x368804;},__metadata=this&&this[a158_0xb9eb94(0x8e)]||function(_0x5a7b80,_0x6abb28){const _0x1b526f=a158_0xb9eb94;if(typeof Reflect===_0x1b526f(0x8c)&&typeof Reflect[_0x1b526f(0x82)]===_0x1b526f(0x8b))return Reflect[_0x1b526f(0x82)](_0x5a7b80,_0x6abb28);},__param=this&&this[a158_0xb9eb94(0x7e)]||function(_0x23c7f5,_0xba104e){return function(_0x41e890,_0xe165c){_0xba104e(_0x41e890,_0xe165c,_0x23c7f5);};},VoiceController_1;function a158_0x5044(_0x16f58f,_0x17f3d9){const _0x23ab13=a158_0x23ab();return a158_0x5044=function(_0x5044c0,_0x53f3c4){_0x5044c0=_0x5044c0-0x7b;let _0xc0d0eb=_0x23ab13[_0x5044c0];return _0xc0d0eb;},a158_0x5044(_0x16f58f,_0x17f3d9);}function a158_0x23ab(){const _0x39c73e=['584EGAtaB','path','Role','Admin','deleteVoiceRecord','function','object','UpdateUploadDto','__metadata','1946936TOUVWC','../auth/decorators/roles.decorator','User','defineProperty','26089974lFzcWl','Get','../common/audio/audio-player','Body','Delete','/play/','uploadService','filePath','play','voice','../upload/dto/update-upload.dto','getOwnPropertyDescriptor','26978SpgtSj','cwd','UploadService','design:returntype','__esModule','RolesGuard','getAllVoicesRecorded','Success\x20play\x20sound:\x20','getAllVoicesRecord','Put','logger','65QzuIyK','Logger','Roles','UseGuards','AudioPlayer','JwtAuthGuard','Res','68814lVIBgs','prototype','../auth/guards/roles.guard','VoiceController','Controller','volume','decorate','design:type','__decorate','139296qlNoyl','Post','updateVoiceRecord','join','1736464KqVvJH','../auth/guards/jwt.guard','/:id','__param','Query','Param','playAudioFile','metadata','length','design:paramtypes','313448lLSymg'];a158_0x23ab=function(){return _0x39c73e;};return a158_0x23ab();}Object['defineProperty'](exports,a158_0xb9eb94(0xa3),{'value':!![]}),exports[a158_0xb9eb94(0xb4)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require(a158_0xb9eb94(0x87)),upload_service_1=require('../upload/upload.service'),role_enum_1=require('../auth/enums/role.enum'),roles_decorator_1=require(a158_0xb9eb94(0x90)),jwt_guard_1=require(a158_0xb9eb94(0x7c)),roles_guard_1=require(a158_0xb9eb94(0xb3)),audio_player_1=require(a158_0xb9eb94(0x95)),update_upload_dto_1=require(a158_0xb9eb94(0x9d));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x216180){const _0x312946=a158_0xb9eb94;this[_0x312946(0x99)]=_0x216180,this[_0x312946(0xa9)]=new common_1[(_0x312946(0xab))](VoiceController_1['name']);}async[a158_0xb9eb94(0x81)](_0x1164ae,_0x43c847,_0x5ab85d){const _0x26c951=a158_0xb9eb94;try{const _0x450915=(0x0,path_1[_0x26c951(0xbd)])(process[_0x26c951(0xa0)](),_0x1164ae);audio_player_1[_0x26c951(0xae)][_0x26c951(0x9b)](_0x450915,_0x43c847),_0x5ab85d['send'](_0x26c951(0xa6)+_0x450915);}catch(_0x335c90){return this['logger']['error'](_0x335c90),'';}}[a158_0xb9eb94(0xa7)](){const _0x38f148=a158_0xb9eb94;return this['uploadService'][_0x38f148(0xa5)]();}[a158_0xb9eb94(0x8a)](_0x5a3d1f){const _0x735555=a158_0xb9eb94;return this[_0x735555(0x99)]['deleteVoiceRecord'](_0x5a3d1f);}[a158_0xb9eb94(0xbc)](_0x46dfd5,_0x1ff8a0){const _0x4c5ec8=a158_0xb9eb94;return this[_0x4c5ec8(0x99)]['updateVoiceRecord'](_0x1ff8a0);}};__decorate([(0x0,common_1[a158_0xb9eb94(0xbb)])(a158_0xb9eb94(0x98)),(0x0,common_1[a158_0xb9eb94(0xad)])(jwt_guard_1[a158_0xb9eb94(0xaf)],roles_guard_1[a158_0xb9eb94(0xa4)]),(0x0,roles_decorator_1[a158_0xb9eb94(0xac)])(role_enum_1[a158_0xb9eb94(0x88)]['Admin'],role_enum_1[a158_0xb9eb94(0x88)][a158_0xb9eb94(0x91)]),__param(0x0,(0x0,common_1[a158_0xb9eb94(0x7f)])(a158_0xb9eb94(0x9a))),__param(0x1,(0x0,common_1[a158_0xb9eb94(0x7f)])(a158_0xb9eb94(0xb6))),__param(0x2,(0x0,common_1[a158_0xb9eb94(0xb0)])({'passthrough':!![]})),__metadata(a158_0xb9eb94(0xb8),Function),__metadata(a158_0xb9eb94(0x84),[String,Number,Object]),__metadata(a158_0xb9eb94(0xa2),Promise)],VoiceController[a158_0xb9eb94(0xb2)],'playAudioFile',null),__decorate([(0x0,common_1[a158_0xb9eb94(0x94)])('/'),(0x0,common_1['UseGuards'])(jwt_guard_1[a158_0xb9eb94(0xaf)],roles_guard_1[a158_0xb9eb94(0xa4)]),(0x0,roles_decorator_1[a158_0xb9eb94(0xac)])(role_enum_1[a158_0xb9eb94(0x88)][a158_0xb9eb94(0x89)],role_enum_1['Role'][a158_0xb9eb94(0x91)]),__metadata(a158_0xb9eb94(0xb8),Function),__metadata(a158_0xb9eb94(0x84),[]),__metadata(a158_0xb9eb94(0xa2),void 0x0)],VoiceController[a158_0xb9eb94(0xb2)],a158_0xb9eb94(0xa7),null),__decorate([(0x0,common_1[a158_0xb9eb94(0x97)])(a158_0xb9eb94(0x7d)),(0x0,common_1[a158_0xb9eb94(0xad)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0xb9eb94(0xa4)]),(0x0,roles_decorator_1[a158_0xb9eb94(0xac)])(role_enum_1[a158_0xb9eb94(0x88)][a158_0xb9eb94(0x89)],role_enum_1[a158_0xb9eb94(0x88)]['User']),__param(0x0,(0x0,common_1[a158_0xb9eb94(0x80)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata(a158_0xb9eb94(0xa2),void 0x0)],VoiceController[a158_0xb9eb94(0xb2)],a158_0xb9eb94(0x8a),null),__decorate([(0x0,common_1[a158_0xb9eb94(0xa8)])(a158_0xb9eb94(0x7d)),(0x0,common_1[a158_0xb9eb94(0xad)])(jwt_guard_1[a158_0xb9eb94(0xaf)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0xb9eb94(0xac)])(role_enum_1['Role'][a158_0xb9eb94(0x89)],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a158_0xb9eb94(0x96)])()),__metadata(a158_0xb9eb94(0xb8),Function),__metadata(a158_0xb9eb94(0x84),[String,update_upload_dto_1[a158_0xb9eb94(0x8d)]]),__metadata(a158_0xb9eb94(0xa2),void 0x0)],VoiceController[a158_0xb9eb94(0xb2)],'updateVoiceRecord',null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0xb9eb94(0xb5)])(a158_0xb9eb94(0x9c)),__metadata(a158_0xb9eb94(0x84),[upload_service_1[a158_0xb9eb94(0xa1)]])],VoiceController),exports[a158_0xb9eb94(0xb4)]=VoiceController;