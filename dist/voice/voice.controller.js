'use strict';const a161_0x131d88=a161_0x3dc1;(function(_0x28b39f,_0x597905){const _0x33ea3a=a161_0x3dc1,_0x426fc0=_0x28b39f();while(!![]){try{const _0x2ed70e=-parseInt(_0x33ea3a(0x8f))/0x1+parseInt(_0x33ea3a(0xb8))/0x2+parseInt(_0x33ea3a(0x9e))/0x3+parseInt(_0x33ea3a(0xbb))/0x4+-parseInt(_0x33ea3a(0x8e))/0x5*(parseInt(_0x33ea3a(0x98))/0x6)+parseInt(_0x33ea3a(0x86))/0x7+-parseInt(_0x33ea3a(0x8b))/0x8*(parseInt(_0x33ea3a(0xa8))/0x9);if(_0x2ed70e===_0x597905)break;else _0x426fc0['push'](_0x426fc0['shift']());}catch(_0x5cdd67){_0x426fc0['push'](_0x426fc0['shift']());}}}(a161_0x1fbd,0x27978));function a161_0x3dc1(_0x2977e8,_0x205edc){const _0x1fbd76=a161_0x1fbd();return a161_0x3dc1=function(_0x3dc129,_0x3b81a1){_0x3dc129=_0x3dc129-0x85;let _0x8b08e9=_0x1fbd76[_0x3dc129];return _0x8b08e9;},a161_0x3dc1(_0x2977e8,_0x205edc);}var __decorate=this&&this[a161_0x131d88(0x9d)]||function(_0x50b54f,_0x4b5c69,_0x1e226b,_0xe685aa){const _0x27d87d=a161_0x131d88;var _0x1826a8=arguments[_0x27d87d(0xa5)],_0x3a4711=_0x1826a8<0x3?_0x4b5c69:_0xe685aa===null?_0xe685aa=Object['getOwnPropertyDescriptor'](_0x4b5c69,_0x1e226b):_0xe685aa,_0x5e6e68;if(typeof Reflect===_0x27d87d(0x85)&&typeof Reflect[_0x27d87d(0x8c)]===_0x27d87d(0xb9))_0x3a4711=Reflect[_0x27d87d(0x8c)](_0x50b54f,_0x4b5c69,_0x1e226b,_0xe685aa);else{for(var _0x274191=_0x50b54f[_0x27d87d(0xa5)]-0x1;_0x274191>=0x0;_0x274191--)if(_0x5e6e68=_0x50b54f[_0x274191])_0x3a4711=(_0x1826a8<0x3?_0x5e6e68(_0x3a4711):_0x1826a8>0x3?_0x5e6e68(_0x4b5c69,_0x1e226b,_0x3a4711):_0x5e6e68(_0x4b5c69,_0x1e226b))||_0x3a4711;}return _0x1826a8>0x3&&_0x3a4711&&Object[_0x27d87d(0x88)](_0x4b5c69,_0x1e226b,_0x3a4711),_0x3a4711;},__metadata=this&&this[a161_0x131d88(0xbc)]||function(_0x4df637,_0x57338f){const _0x5d5ad0=a161_0x131d88;if(typeof Reflect===_0x5d5ad0(0x85)&&typeof Reflect[_0x5d5ad0(0xbe)]===_0x5d5ad0(0xb9))return Reflect[_0x5d5ad0(0xbe)](_0x4df637,_0x57338f);},__param=this&&this[a161_0x131d88(0xbd)]||function(_0x38e64a,_0x4e14f5){return function(_0x27c18a,_0x238eb9){_0x4e14f5(_0x27c18a,_0x238eb9,_0x38e64a);};},VoiceController_1;Object[a161_0x131d88(0x88)](exports,'__esModule',{'value':!![]}),exports[a161_0x131d88(0x90)]=void 0x0;const common_1=require(a161_0x131d88(0xc1)),path_1=require('path'),upload_service_1=require('../upload/upload.service'),role_enum_1=require(a161_0x131d88(0x97)),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a161_0x131d88(0xad)),roles_guard_1=require('../auth/guards/roles.guard'),audio_player_1=require(a161_0x131d88(0xa0)),update_upload_dto_1=require(a161_0x131d88(0xba));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x43e06){const _0x565ddb=a161_0x131d88;this[_0x565ddb(0x9c)]=_0x43e06,this[_0x565ddb(0x87)]=new common_1[(_0x565ddb(0x9b))](VoiceController_1[_0x565ddb(0xa7)]);}async[a161_0x131d88(0xa6)](_0x7787bd,_0x164e30,_0x4973f6){const _0xacb47b=a161_0x131d88;try{const _0x1b5c8e=(0x0,path_1[_0xacb47b(0xa2)])(process[_0xacb47b(0xb1)](),_0x7787bd);audio_player_1[_0xacb47b(0x94)]['play'](_0x1b5c8e,_0x164e30),_0x4973f6[_0xacb47b(0xaf)]('Success\x20play\x20sound:\x20'+_0x1b5c8e);}catch(_0x19ac12){return this[_0xacb47b(0x87)][_0xacb47b(0xb7)](_0x19ac12),'';}}[a161_0x131d88(0xab)](){const _0x1a694e=a161_0x131d88;return this[_0x1a694e(0x9c)]['getAllVoicesRecorded']();}[a161_0x131d88(0x93)](_0x50308f){const _0x3c8fbb=a161_0x131d88;return this[_0x3c8fbb(0x9c)][_0x3c8fbb(0x93)](_0x50308f);}['updateVoiceRecord'](_0x112986,_0x246ceb){const _0xce764b=a161_0x131d88;return this[_0xce764b(0x9c)]['updateVoiceRecord'](_0x246ceb);}};__decorate([(0x0,common_1['Post'])('/play/'),(0x0,common_1[a161_0x131d88(0xb5)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x131d88(0xb2)]),(0x0,roles_decorator_1[a161_0x131d88(0x9a)])(role_enum_1[a161_0x131d88(0x96)][a161_0x131d88(0x92)],role_enum_1[a161_0x131d88(0x96)][a161_0x131d88(0xb0)]),__param(0x0,(0x0,common_1[a161_0x131d88(0xaa)])(a161_0x131d88(0xae))),__param(0x1,(0x0,common_1[a161_0x131d88(0xaa)])(a161_0x131d88(0x8d))),__param(0x2,(0x0,common_1[a161_0x131d88(0x89)])({'passthrough':!![]})),__metadata(a161_0x131d88(0x8a),Function),__metadata(a161_0x131d88(0xb3),[String,Number,Object]),__metadata(a161_0x131d88(0xa1),Promise)],VoiceController[a161_0x131d88(0xa4)],a161_0x131d88(0xa6),null),__decorate([(0x0,common_1[a161_0x131d88(0xbf)])('/'),(0x0,common_1[a161_0x131d88(0xb5)])(jwt_guard_1[a161_0x131d88(0xa9)],roles_guard_1[a161_0x131d88(0xb2)]),(0x0,roles_decorator_1[a161_0x131d88(0x9a)])(role_enum_1[a161_0x131d88(0x96)][a161_0x131d88(0x92)],role_enum_1['Role'][a161_0x131d88(0xb0)]),__metadata(a161_0x131d88(0x8a),Function),__metadata('design:paramtypes',[]),__metadata(a161_0x131d88(0xa1),void 0x0)],VoiceController[a161_0x131d88(0xa4)],a161_0x131d88(0xab),null),__decorate([(0x0,common_1[a161_0x131d88(0xb6)])(a161_0x131d88(0x95)),(0x0,common_1[a161_0x131d88(0xb5)])(jwt_guard_1[a161_0x131d88(0xa9)],roles_guard_1[a161_0x131d88(0xb2)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x131d88(0x96)][a161_0x131d88(0x92)],role_enum_1[a161_0x131d88(0x96)][a161_0x131d88(0xb0)]),__param(0x0,(0x0,common_1[a161_0x131d88(0x91)])('id')),__metadata(a161_0x131d88(0x8a),Function),__metadata(a161_0x131d88(0xb3),[String]),__metadata('design:returntype',void 0x0)],VoiceController[a161_0x131d88(0xa4)],a161_0x131d88(0x93),null),__decorate([(0x0,common_1[a161_0x131d88(0xa3)])(a161_0x131d88(0x95)),(0x0,common_1[a161_0x131d88(0xb5)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x131d88(0xb2)]),(0x0,roles_decorator_1[a161_0x131d88(0x9a)])(role_enum_1[a161_0x131d88(0x96)]['Admin'],role_enum_1['Role']['User']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a161_0x131d88(0xc0)])()),__metadata(a161_0x131d88(0x8a),Function),__metadata(a161_0x131d88(0xb3),[String,update_upload_dto_1[a161_0x131d88(0xb4)]]),__metadata('design:returntype',void 0x0)],VoiceController[a161_0x131d88(0xa4)],'updateVoiceRecord',null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a161_0x131d88(0x99)])(a161_0x131d88(0x9f)),__metadata(a161_0x131d88(0xb3),[upload_service_1[a161_0x131d88(0xac)]])],VoiceController),exports[a161_0x131d88(0x90)]=VoiceController;function a161_0x1fbd(){const _0x18b22c=['824752RvfJlm','__metadata','__param','metadata','Get','Body','@nestjs/common','object','1296918SgGXFb','logger','defineProperty','Res','design:type','1512esZeBm','decorate','volume','149915rOnrrz','299568eCtoYV','VoiceController','Param','Admin','deleteVoiceRecord','AudioPlayer','/:id','Role','../auth/enums/role.enum','6ISdpvZ','Controller','Roles','Logger','uploadService','__decorate','74412aqaDnF','voice','../common/audio/audio-player','design:returntype','join','Put','prototype','length','playAudioFile','name','765QbkUiM','JwtAuthGuard','Query','getAllVoicesRecord','UploadService','../auth/guards/jwt.guard','filePath','send','User','cwd','RolesGuard','design:paramtypes','UpdateUploadDto','UseGuards','Delete','error','183036HWiWIX','function','../upload/dto/update-upload.dto'];a161_0x1fbd=function(){return _0x18b22c;};return a161_0x1fbd();}