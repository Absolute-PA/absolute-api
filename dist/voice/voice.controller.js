'use strict';const a161_0x127955=a161_0x659f;(function(_0x158fbb,_0x2aadc1){const _0x22834c=a161_0x659f,_0xd39c80=_0x158fbb();while(!![]){try{const _0x43e564=parseInt(_0x22834c(0x18f))/0x1*(-parseInt(_0x22834c(0x1a9))/0x2)+-parseInt(_0x22834c(0x19e))/0x3*(parseInt(_0x22834c(0x199))/0x4)+parseInt(_0x22834c(0x1c8))/0x5+parseInt(_0x22834c(0x198))/0x6+parseInt(_0x22834c(0x1ad))/0x7*(parseInt(_0x22834c(0x1c7))/0x8)+-parseInt(_0x22834c(0x1bd))/0x9+-parseInt(_0x22834c(0x191))/0xa*(-parseInt(_0x22834c(0x1c4))/0xb);if(_0x43e564===_0x2aadc1)break;else _0xd39c80['push'](_0xd39c80['shift']());}catch(_0x4a3701){_0xd39c80['push'](_0xd39c80['shift']());}}}(a161_0x56ab,0xc9525));function a161_0x659f(_0x5223ce,_0x4a1e98){const _0x56abbf=a161_0x56ab();return a161_0x659f=function(_0x659ff8,_0x184dfa){_0x659ff8=_0x659ff8-0x18c;let _0x5ea552=_0x56abbf[_0x659ff8];return _0x5ea552;},a161_0x659f(_0x5223ce,_0x4a1e98);}var __decorate=this&&this[a161_0x127955(0x1ab)]||function(_0x587d1b,_0xafa81f,_0x27ca67,_0x27b726){const _0x276570=a161_0x127955;var _0x1afa08=arguments[_0x276570(0x195)],_0x1999a7=_0x1afa08<0x3?_0xafa81f:_0x27b726===null?_0x27b726=Object[_0x276570(0x18c)](_0xafa81f,_0x27ca67):_0x27b726,_0x346fcc;if(typeof Reflect===_0x276570(0x193)&&typeof Reflect['decorate']===_0x276570(0x1a6))_0x1999a7=Reflect['decorate'](_0x587d1b,_0xafa81f,_0x27ca67,_0x27b726);else{for(var _0x5df538=_0x587d1b[_0x276570(0x195)]-0x1;_0x5df538>=0x0;_0x5df538--)if(_0x346fcc=_0x587d1b[_0x5df538])_0x1999a7=(_0x1afa08<0x3?_0x346fcc(_0x1999a7):_0x1afa08>0x3?_0x346fcc(_0xafa81f,_0x27ca67,_0x1999a7):_0x346fcc(_0xafa81f,_0x27ca67))||_0x1999a7;}return _0x1afa08>0x3&&_0x1999a7&&Object[_0x276570(0x19f)](_0xafa81f,_0x27ca67,_0x1999a7),_0x1999a7;},__metadata=this&&this[a161_0x127955(0x1c1)]||function(_0x468e94,_0x4186a9){const _0x472dbb=a161_0x127955;if(typeof Reflect===_0x472dbb(0x193)&&typeof Reflect[_0x472dbb(0x1b2)]===_0x472dbb(0x1a6))return Reflect['metadata'](_0x468e94,_0x4186a9);},__param=this&&this['__param']||function(_0x257a4c,_0x4881e4){return function(_0x3bea29,_0x2b1287){_0x4881e4(_0x3bea29,_0x2b1287,_0x257a4c);};},VoiceController_1;Object['defineProperty'](exports,a161_0x127955(0x194),{'value':!![]}),exports[a161_0x127955(0x1b5)]=void 0x0;function a161_0x56ab(){const _0x5b8a8b=['AudioPlayer','logger','getAllVoicesRecorded','getAllVoicesRecord','169521BZPVln','defineProperty','Res','voice','send','updateVoiceRecord','path','../auth/guards/roles.guard','function','prototype','../auth/guards/jwt.guard','964JhZTBJ','Get','__decorate','Delete','21PMEeaa','uploadService','Query','../auth/enums/role.enum','design:paramtypes','metadata','volume','UseGuards','VoiceController','filePath','JwtAuthGuard','deleteVoiceRecord','design:type','Success\x20play\x20sound:\x20','../upload/dto/update-upload.dto','Param','5463711DTquFw','Logger','join','Roles','__metadata','RolesGuard','playAudioFile','737upaBPD','User','Put','2319808ZJpNXH','870025QBSTLh','design:returntype','/:id','@nestjs/common','../auth/decorators/roles.decorator','Role','getOwnPropertyDescriptor','../upload/upload.service','Post','2604BEumHR','error','187810vUKTiE','Admin','object','__esModule','length','/play/','UploadService','6036822nqSygB','44AWBBIx'];a161_0x56ab=function(){return _0x5b8a8b;};return a161_0x56ab();}const common_1=require(a161_0x127955(0x1cb)),path_1=require(a161_0x127955(0x1a4)),upload_service_1=require(a161_0x127955(0x18d)),role_enum_1=require(a161_0x127955(0x1b0)),roles_decorator_1=require(a161_0x127955(0x1cc)),jwt_guard_1=require(a161_0x127955(0x1a8)),roles_guard_1=require(a161_0x127955(0x1a5)),audio_player_1=require('../common/audio/audio-player'),update_upload_dto_1=require(a161_0x127955(0x1bb));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x3212bb){const _0x47e89a=a161_0x127955;this['uploadService']=_0x3212bb,this[_0x47e89a(0x19b)]=new common_1[(_0x47e89a(0x1be))](VoiceController_1['name']);}async['playAudioFile'](_0x516dfd,_0x27c68e,_0x4f9864){const _0x1b5661=a161_0x127955;try{const _0x86d2e5=(0x0,path_1[_0x1b5661(0x1bf)])(process['cwd'](),_0x516dfd);audio_player_1[_0x1b5661(0x19a)]['play'](_0x86d2e5,_0x27c68e),_0x4f9864[_0x1b5661(0x1a2)](_0x1b5661(0x1ba)+_0x86d2e5);}catch(_0x134ce8){return this[_0x1b5661(0x19b)][_0x1b5661(0x190)](_0x134ce8),'';}}[a161_0x127955(0x19d)](){const _0x2e25f4=a161_0x127955;return this[_0x2e25f4(0x1ae)][_0x2e25f4(0x19c)]();}['deleteVoiceRecord'](_0x59b9ad){const _0x2f075d=a161_0x127955;return this[_0x2f075d(0x1ae)][_0x2f075d(0x1b8)](_0x59b9ad);}['updateVoiceRecord'](_0x59a61e,_0x3c1876){const _0x33a224=a161_0x127955;return this[_0x33a224(0x1ae)][_0x33a224(0x1a3)](_0x3c1876);}};__decorate([(0x0,common_1[a161_0x127955(0x18e)])(a161_0x127955(0x196)),(0x0,common_1[a161_0x127955(0x1b4)])(jwt_guard_1[a161_0x127955(0x1b7)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a161_0x127955(0x1c0)])(role_enum_1[a161_0x127955(0x1cd)][a161_0x127955(0x192)],role_enum_1[a161_0x127955(0x1cd)]['User']),__param(0x0,(0x0,common_1['Query'])(a161_0x127955(0x1b6))),__param(0x1,(0x0,common_1[a161_0x127955(0x1af)])(a161_0x127955(0x1b3))),__param(0x2,(0x0,common_1[a161_0x127955(0x1a0)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata(a161_0x127955(0x1b1),[String,Number,Object]),__metadata('design:returntype',Promise)],VoiceController[a161_0x127955(0x1a7)],a161_0x127955(0x1c3),null),__decorate([(0x0,common_1[a161_0x127955(0x1aa)])('/'),(0x0,common_1[a161_0x127955(0x1b4)])(jwt_guard_1[a161_0x127955(0x1b7)],roles_guard_1[a161_0x127955(0x1c2)]),(0x0,roles_decorator_1[a161_0x127955(0x1c0)])(role_enum_1[a161_0x127955(0x1cd)][a161_0x127955(0x192)],role_enum_1[a161_0x127955(0x1cd)]['User']),__metadata('design:type',Function),__metadata(a161_0x127955(0x1b1),[]),__metadata(a161_0x127955(0x1c9),void 0x0)],VoiceController[a161_0x127955(0x1a7)],a161_0x127955(0x19d),null),__decorate([(0x0,common_1[a161_0x127955(0x1ac)])(a161_0x127955(0x1ca)),(0x0,common_1['UseGuards'])(jwt_guard_1[a161_0x127955(0x1b7)],roles_guard_1[a161_0x127955(0x1c2)]),(0x0,roles_decorator_1[a161_0x127955(0x1c0)])(role_enum_1[a161_0x127955(0x1cd)]['Admin'],role_enum_1['Role'][a161_0x127955(0x1c5)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a161_0x127955(0x1b9),Function),__metadata(a161_0x127955(0x1b1),[String]),__metadata(a161_0x127955(0x1c9),void 0x0)],VoiceController[a161_0x127955(0x1a7)],a161_0x127955(0x1b8),null),__decorate([(0x0,common_1[a161_0x127955(0x1c6)])(a161_0x127955(0x1ca)),(0x0,common_1[a161_0x127955(0x1b4)])(jwt_guard_1[a161_0x127955(0x1b7)],roles_guard_1[a161_0x127955(0x1c2)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x127955(0x1cd)]['Admin'],role_enum_1[a161_0x127955(0x1cd)]['User']),__param(0x0,(0x0,common_1[a161_0x127955(0x1bc)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a161_0x127955(0x1b9),Function),__metadata(a161_0x127955(0x1b1),[String,update_upload_dto_1['UpdateUploadDto']]),__metadata(a161_0x127955(0x1c9),void 0x0)],VoiceController[a161_0x127955(0x1a7)],a161_0x127955(0x1a3),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1['Controller'])(a161_0x127955(0x1a1)),__metadata(a161_0x127955(0x1b1),[upload_service_1[a161_0x127955(0x197)]])],VoiceController),exports[a161_0x127955(0x1b5)]=VoiceController;