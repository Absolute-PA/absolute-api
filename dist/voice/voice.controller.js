'use strict';const a158_0x33f928=a158_0x5931;(function(_0x142cb3,_0x28f1c9){const _0x462644=a158_0x5931,_0x5df801=_0x142cb3();while(!![]){try{const _0x1b691f=-parseInt(_0x462644(0x176))/0x1+-parseInt(_0x462644(0x159))/0x2*(-parseInt(_0x462644(0x166))/0x3)+-parseInt(_0x462644(0x15a))/0x4*(parseInt(_0x462644(0x19b))/0x5)+parseInt(_0x462644(0x181))/0x6*(-parseInt(_0x462644(0x18a))/0x7)+-parseInt(_0x462644(0x165))/0x8*(-parseInt(_0x462644(0x18d))/0x9)+-parseInt(_0x462644(0x172))/0xa*(-parseInt(_0x462644(0x193))/0xb)+parseInt(_0x462644(0x198))/0xc;if(_0x1b691f===_0x28f1c9)break;else _0x5df801['push'](_0x5df801['shift']());}catch(_0x2c5f68){_0x5df801['push'](_0x5df801['shift']());}}}(a158_0x5f2c,0xa203e));function a158_0x5931(_0x17bcc8,_0x431c72){const _0x5f2c91=a158_0x5f2c();return a158_0x5931=function(_0x5931d7,_0x1d977c){_0x5931d7=_0x5931d7-0x159;let _0x2a591c=_0x5f2c91[_0x5931d7];return _0x2a591c;},a158_0x5931(_0x17bcc8,_0x431c72);}function a158_0x5f2c(){const _0x17b09a=['../upload/dto/update-upload.dto','../auth/guards/roles.guard','AudioPlayer','User','Post','getAllVoicesRecord','function','../auth/enums/role.enum','78QzcdxE','Success\x20play\x20sound:\x20','logger','playAudioFile','play','Res','Body','UseGuards','__param','628747CYugbF','design:type','/:id','9bzNgxP','Query','__esModule','defineProperty','length','../auth/guards/jwt.guard','3051323cxDbdp','__metadata','Controller','UploadService','design:paramtypes','19864248QykqzZ','design:returntype','getAllVoicesRecorded','264490iCFKbz','13432ntiTzs','8oTmhCS','cwd','decorate','path','Get','voice','Logger','send','Role','Admin','../upload/upload.service','1423016zcrbtu','159PZNAth','prototype','join','uploadService','Delete','RolesGuard','JwtAuthGuard','../common/audio/audio-player','Param','Roles','deleteVoiceRecord','VoiceController','30qEmKYU','getOwnPropertyDescriptor','object','updateVoiceRecord','1084275eVaIhT','/play/','metadata'];a158_0x5f2c=function(){return _0x17b09a;};return a158_0x5f2c();}var __decorate=this&&this['__decorate']||function(_0x5a2dd7,_0x1a7862,_0x5d1ac2,_0xdacc42){const _0x5a1e6f=a158_0x5931;var _0x1d3fd2=arguments[_0x5a1e6f(0x191)],_0x4b5bad=_0x1d3fd2<0x3?_0x1a7862:_0xdacc42===null?_0xdacc42=Object[_0x5a1e6f(0x173)](_0x1a7862,_0x5d1ac2):_0xdacc42,_0x3ece66;if(typeof Reflect===_0x5a1e6f(0x174)&&typeof Reflect[_0x5a1e6f(0x15c)]===_0x5a1e6f(0x17f))_0x4b5bad=Reflect[_0x5a1e6f(0x15c)](_0x5a2dd7,_0x1a7862,_0x5d1ac2,_0xdacc42);else{for(var _0x4f282e=_0x5a2dd7['length']-0x1;_0x4f282e>=0x0;_0x4f282e--)if(_0x3ece66=_0x5a2dd7[_0x4f282e])_0x4b5bad=(_0x1d3fd2<0x3?_0x3ece66(_0x4b5bad):_0x1d3fd2>0x3?_0x3ece66(_0x1a7862,_0x5d1ac2,_0x4b5bad):_0x3ece66(_0x1a7862,_0x5d1ac2))||_0x4b5bad;}return _0x1d3fd2>0x3&&_0x4b5bad&&Object[_0x5a1e6f(0x190)](_0x1a7862,_0x5d1ac2,_0x4b5bad),_0x4b5bad;},__metadata=this&&this[a158_0x33f928(0x194)]||function(_0x2d7b54,_0x3f23d9){const _0x1e507d=a158_0x33f928;if(typeof Reflect===_0x1e507d(0x174)&&typeof Reflect[_0x1e507d(0x178)]==='function')return Reflect[_0x1e507d(0x178)](_0x2d7b54,_0x3f23d9);},__param=this&&this[a158_0x33f928(0x189)]||function(_0x1469f7,_0x581616){return function(_0x2ee28b,_0x3093c9){_0x581616(_0x2ee28b,_0x3093c9,_0x1469f7);};},VoiceController_1;Object['defineProperty'](exports,a158_0x33f928(0x18f),{'value':!![]}),exports[a158_0x33f928(0x171)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require(a158_0x33f928(0x15d)),upload_service_1=require(a158_0x33f928(0x164)),role_enum_1=require(a158_0x33f928(0x180)),roles_decorator_1=require('../auth/decorators/roles.decorator'),jwt_guard_1=require(a158_0x33f928(0x192)),roles_guard_1=require(a158_0x33f928(0x17a)),audio_player_1=require(a158_0x33f928(0x16d)),update_upload_dto_1=require(a158_0x33f928(0x179));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x32fe1c){const _0x2ed90b=a158_0x33f928;this[_0x2ed90b(0x169)]=_0x32fe1c,this[_0x2ed90b(0x183)]=new common_1[(_0x2ed90b(0x160))](VoiceController_1['name']);}async[a158_0x33f928(0x184)](_0x595054,_0x236517,_0x79c128){const _0x1b5e87=a158_0x33f928;try{const _0x5976e4=(0x0,path_1[_0x1b5e87(0x168)])(process[_0x1b5e87(0x15b)](),_0x595054);audio_player_1[_0x1b5e87(0x17b)][_0x1b5e87(0x185)](_0x5976e4,_0x236517),_0x79c128[_0x1b5e87(0x161)](_0x1b5e87(0x182)+_0x5976e4);}catch(_0x5a1882){return this[_0x1b5e87(0x183)]['error'](_0x5a1882),'';}}[a158_0x33f928(0x17e)](){const _0x5b0ca9=a158_0x33f928;return this[_0x5b0ca9(0x169)][_0x5b0ca9(0x19a)]();}[a158_0x33f928(0x170)](_0x1c76bb){const _0x660c76=a158_0x33f928;return this[_0x660c76(0x169)]['deleteVoiceRecord'](_0x1c76bb);}[a158_0x33f928(0x175)](_0x252840,_0x31182d){const _0x2f0e25=a158_0x33f928;return this['uploadService'][_0x2f0e25(0x175)](_0x31182d);}};__decorate([(0x0,common_1[a158_0x33f928(0x17d)])(a158_0x33f928(0x177)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x33f928(0x16b)]),(0x0,roles_decorator_1[a158_0x33f928(0x16f)])(role_enum_1['Role'][a158_0x33f928(0x163)],role_enum_1[a158_0x33f928(0x162)][a158_0x33f928(0x17c)]),__param(0x0,(0x0,common_1['Query'])('filePath')),__param(0x1,(0x0,common_1[a158_0x33f928(0x18e)])('volume')),__param(0x2,(0x0,common_1[a158_0x33f928(0x186)])({'passthrough':!![]})),__metadata(a158_0x33f928(0x18b),Function),__metadata(a158_0x33f928(0x197),[String,Number,Object]),__metadata(a158_0x33f928(0x199),Promise)],VoiceController[a158_0x33f928(0x167)],a158_0x33f928(0x184),null),__decorate([(0x0,common_1[a158_0x33f928(0x15e)])('/'),(0x0,common_1[a158_0x33f928(0x188)])(jwt_guard_1[a158_0x33f928(0x16c)],roles_guard_1[a158_0x33f928(0x16b)]),(0x0,roles_decorator_1[a158_0x33f928(0x16f)])(role_enum_1[a158_0x33f928(0x162)][a158_0x33f928(0x163)],role_enum_1[a158_0x33f928(0x162)]['User']),__metadata(a158_0x33f928(0x18b),Function),__metadata(a158_0x33f928(0x197),[]),__metadata(a158_0x33f928(0x199),void 0x0)],VoiceController[a158_0x33f928(0x167)],a158_0x33f928(0x17e),null),__decorate([(0x0,common_1[a158_0x33f928(0x16a)])(a158_0x33f928(0x18c)),(0x0,common_1[a158_0x33f928(0x188)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x33f928(0x16b)]),(0x0,roles_decorator_1[a158_0x33f928(0x16f)])(role_enum_1[a158_0x33f928(0x162)][a158_0x33f928(0x163)],role_enum_1[a158_0x33f928(0x162)][a158_0x33f928(0x17c)]),__param(0x0,(0x0,common_1[a158_0x33f928(0x16e)])('id')),__metadata(a158_0x33f928(0x18b),Function),__metadata('design:paramtypes',[String]),__metadata(a158_0x33f928(0x199),void 0x0)],VoiceController[a158_0x33f928(0x167)],a158_0x33f928(0x170),null),__decorate([(0x0,common_1['Put'])(a158_0x33f928(0x18c)),(0x0,common_1['UseGuards'])(jwt_guard_1[a158_0x33f928(0x16c)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0x33f928(0x16f)])(role_enum_1['Role']['Admin'],role_enum_1[a158_0x33f928(0x162)][a158_0x33f928(0x17c)]),__param(0x0,(0x0,common_1[a158_0x33f928(0x16e)])('id')),__param(0x1,(0x0,common_1[a158_0x33f928(0x187)])()),__metadata(a158_0x33f928(0x18b),Function),__metadata(a158_0x33f928(0x197),[String,update_upload_dto_1['UpdateUploadDto']]),__metadata(a158_0x33f928(0x199),void 0x0)],VoiceController['prototype'],a158_0x33f928(0x175),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0x33f928(0x195)])(a158_0x33f928(0x15f)),__metadata(a158_0x33f928(0x197),[upload_service_1[a158_0x33f928(0x196)]])],VoiceController),exports[a158_0x33f928(0x171)]=VoiceController;