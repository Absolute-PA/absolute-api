'use strict';function a158_0x58a7(_0x21e355,_0x12091a){const _0x3ec822=a158_0x3ec8();return a158_0x58a7=function(_0x58a7c7,_0x1ddc7d){_0x58a7c7=_0x58a7c7-0x86;let _0x5a64b6=_0x3ec822[_0x58a7c7];return _0x5a64b6;},a158_0x58a7(_0x21e355,_0x12091a);}const a158_0x12df35=a158_0x58a7;function a158_0x3ec8(){const _0x3d5650=['Query','prototype','../auth/guards/jwt.guard','UseGuards','User','1388550VgmrQw','/:id','Roles','1645808eNSgdp','Get','../auth/decorators/roles.decorator','deleteVoiceRecord','length','playAudioFile','__param','Role','getOwnPropertyDescriptor','function','Put','Admin','design:type','882mARRIx','Controller','Param','Body','defineProperty','updateVoiceRecord','Delete','VoiceController','Post','Res','JwtAuthGuard','voice','/play/','__decorate','design:paramtypes','17985Uvgdle','volume','object','__metadata','send','../upload/dto/update-upload.dto','UploadService','Success\x20play\x20sound:\x20','26179oFrgpQ','error','@nestjs/common','4860440JKZHOh','4280353VxXVXr','UpdateUploadDto','RolesGuard','1403694MzzeoG','getAllVoicesRecord','getAllVoicesRecorded','uploadService','logger','decorate','metadata','design:returntype','../upload/upload.service'];a158_0x3ec8=function(){return _0x3d5650;};return a158_0x3ec8();}(function(_0x34a036,_0x46eecb){const _0xcde2db=a158_0x58a7,_0x52b6f4=_0x34a036();while(!![]){try{const _0x42bcdb=parseInt(_0xcde2db(0xa1))/0x1+parseInt(_0xcde2db(0xb6))/0x2+-parseInt(_0xcde2db(0xa8))/0x3+-parseInt(_0xcde2db(0xb9))/0x4+-parseInt(_0xcde2db(0x99))/0x5*(-parseInt(_0xcde2db(0x8a))/0x6)+parseInt(_0xcde2db(0xa5))/0x7+-parseInt(_0xcde2db(0xa4))/0x8;if(_0x42bcdb===_0x46eecb)break;else _0x52b6f4['push'](_0x52b6f4['shift']());}catch(_0x4c6942){_0x52b6f4['push'](_0x52b6f4['shift']());}}}(a158_0x3ec8,0x5b41b));var __decorate=this&&this[a158_0x12df35(0x97)]||function(_0x25fe39,_0x3d8535,_0x2251c9,_0x5a7beb){const _0x30b0d1=a158_0x12df35;var _0x522319=arguments[_0x30b0d1(0xbd)],_0x4a40dc=_0x522319<0x3?_0x3d8535:_0x5a7beb===null?_0x5a7beb=Object[_0x30b0d1(0xc1)](_0x3d8535,_0x2251c9):_0x5a7beb,_0xccc3a0;if(typeof Reflect===_0x30b0d1(0x9b)&&typeof Reflect[_0x30b0d1(0xad)]==='function')_0x4a40dc=Reflect[_0x30b0d1(0xad)](_0x25fe39,_0x3d8535,_0x2251c9,_0x5a7beb);else{for(var _0x115a52=_0x25fe39[_0x30b0d1(0xbd)]-0x1;_0x115a52>=0x0;_0x115a52--)if(_0xccc3a0=_0x25fe39[_0x115a52])_0x4a40dc=(_0x522319<0x3?_0xccc3a0(_0x4a40dc):_0x522319>0x3?_0xccc3a0(_0x3d8535,_0x2251c9,_0x4a40dc):_0xccc3a0(_0x3d8535,_0x2251c9))||_0x4a40dc;}return _0x522319>0x3&&_0x4a40dc&&Object[_0x30b0d1(0x8e)](_0x3d8535,_0x2251c9,_0x4a40dc),_0x4a40dc;},__metadata=this&&this[a158_0x12df35(0x9c)]||function(_0x55814f,_0x315f6e){const _0x26c06e=a158_0x12df35;if(typeof Reflect==='object'&&typeof Reflect[_0x26c06e(0xae)]===_0x26c06e(0x86))return Reflect[_0x26c06e(0xae)](_0x55814f,_0x315f6e);},__param=this&&this[a158_0x12df35(0xbf)]||function(_0x5d43df,_0x5cba1c){return function(_0x4f9354,_0x2aeb18){_0x5cba1c(_0x4f9354,_0x2aeb18,_0x5d43df);};},VoiceController_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['VoiceController']=void 0x0;const common_1=require(a158_0x12df35(0xa3)),path_1=require('path'),upload_service_1=require(a158_0x12df35(0xb0)),role_enum_1=require('../auth/enums/role.enum'),roles_decorator_1=require(a158_0x12df35(0xbb)),jwt_guard_1=require(a158_0x12df35(0xb3)),roles_guard_1=require('../auth/guards/roles.guard'),audio_player_1=require('../common/audio/audio-player'),update_upload_dto_1=require(a158_0x12df35(0x9e));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x1368f9){const _0x1aeab7=a158_0x12df35;this[_0x1aeab7(0xab)]=_0x1368f9,this[_0x1aeab7(0xac)]=new common_1['Logger'](VoiceController_1['name']);}async[a158_0x12df35(0xbe)](_0x3be903,_0x3a430d,_0xf25fb2){const _0x37bccc=a158_0x12df35;try{const _0x2a7502=(0x0,path_1['join'])(process['cwd'](),_0x3be903);audio_player_1['AudioPlayer']['play'](_0x2a7502,_0x3a430d),_0xf25fb2[_0x37bccc(0x9d)](_0x37bccc(0xa0)+_0x2a7502);}catch(_0x1502e6){return this['logger'][_0x37bccc(0xa2)](_0x1502e6),'';}}[a158_0x12df35(0xa9)](){const _0xe58e49=a158_0x12df35;return this[_0xe58e49(0xab)][_0xe58e49(0xaa)]();}[a158_0x12df35(0xbc)](_0xfbff3a){return this['uploadService']['deleteVoiceRecord'](_0xfbff3a);}[a158_0x12df35(0x8f)](_0x7ce055,_0x1f3bfc){const _0xeaef7c=a158_0x12df35;return this[_0xeaef7c(0xab)][_0xeaef7c(0x8f)](_0x1f3bfc);}};__decorate([(0x0,common_1[a158_0x12df35(0x92)])(a158_0x12df35(0x96)),(0x0,common_1['UseGuards'])(jwt_guard_1[a158_0x12df35(0x94)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a158_0x12df35(0xb8)])(role_enum_1[a158_0x12df35(0xc0)][a158_0x12df35(0x88)],role_enum_1[a158_0x12df35(0xc0)]['User']),__param(0x0,(0x0,common_1['Query'])('filePath')),__param(0x1,(0x0,common_1[a158_0x12df35(0xb1)])(a158_0x12df35(0x9a))),__param(0x2,(0x0,common_1[a158_0x12df35(0x93)])({'passthrough':!![]})),__metadata(a158_0x12df35(0x89),Function),__metadata(a158_0x12df35(0x98),[String,Number,Object]),__metadata(a158_0x12df35(0xaf),Promise)],VoiceController[a158_0x12df35(0xb2)],a158_0x12df35(0xbe),null),__decorate([(0x0,common_1[a158_0x12df35(0xba)])('/'),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a158_0x12df35(0xa7)]),(0x0,roles_decorator_1[a158_0x12df35(0xb8)])(role_enum_1[a158_0x12df35(0xc0)][a158_0x12df35(0x88)],role_enum_1['Role']['User']),__metadata(a158_0x12df35(0x89),Function),__metadata(a158_0x12df35(0x98),[]),__metadata(a158_0x12df35(0xaf),void 0x0)],VoiceController[a158_0x12df35(0xb2)],a158_0x12df35(0xa9),null),__decorate([(0x0,common_1[a158_0x12df35(0x90)])('/:id'),(0x0,common_1[a158_0x12df35(0xb4)])(jwt_guard_1[a158_0x12df35(0x94)],roles_guard_1[a158_0x12df35(0xa7)]),(0x0,roles_decorator_1[a158_0x12df35(0xb8)])(role_enum_1['Role'][a158_0x12df35(0x88)],role_enum_1[a158_0x12df35(0xc0)]['User']),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a158_0x12df35(0x89),Function),__metadata(a158_0x12df35(0x98),[String]),__metadata(a158_0x12df35(0xaf),void 0x0)],VoiceController[a158_0x12df35(0xb2)],'deleteVoiceRecord',null),__decorate([(0x0,common_1[a158_0x12df35(0x87)])(a158_0x12df35(0xb7)),(0x0,common_1[a158_0x12df35(0xb4)])(jwt_guard_1[a158_0x12df35(0x94)],roles_guard_1[a158_0x12df35(0xa7)]),(0x0,roles_decorator_1[a158_0x12df35(0xb8)])(role_enum_1['Role']['Admin'],role_enum_1['Role'][a158_0x12df35(0xb5)]),__param(0x0,(0x0,common_1[a158_0x12df35(0x8c)])('id')),__param(0x1,(0x0,common_1[a158_0x12df35(0x8d)])()),__metadata(a158_0x12df35(0x89),Function),__metadata('design:paramtypes',[String,update_upload_dto_1[a158_0x12df35(0xa6)]]),__metadata(a158_0x12df35(0xaf),void 0x0)],VoiceController[a158_0x12df35(0xb2)],a158_0x12df35(0x8f),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1[a158_0x12df35(0x8b)])(a158_0x12df35(0x95)),__metadata(a158_0x12df35(0x98),[upload_service_1[a158_0x12df35(0x9f)]])],VoiceController),exports[a158_0x12df35(0x91)]=VoiceController;