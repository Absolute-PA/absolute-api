'use strict';const a161_0x50d7a4=a161_0x2e41;function a161_0x32e1(){const _0x5ef8cb=['13976EjTFYR','defineProperty','Body','User','1497470BUTsYy','updateVoiceRecord','Res','../auth/decorators/roles.decorator','../auth/enums/role.enum','function','Delete','join','JwtAuthGuard','object','length','../auth/guards/jwt.guard','__esModule','44eoxmTf','playAudioFile','45dbCDBA','__param','AudioPlayer','VoiceController','6dpszgA','19889chfOMr','@nestjs/common','6387605rqvQOx','uploadService','Success\x20play\x20sound:\x20','send','Query','logger','Param','UploadService','Get','../common/audio/audio-player','prototype','design:type','path','getAllVoicesRecord','filePath','6021nhmrNp','metadata','524780gdBYFF','__metadata','/:id','Roles','/play/','decorate','12AkaZMi','UseGuards','../upload/dto/update-upload.dto','Admin','Role','name','Logger','Put','deleteVoiceRecord','__decorate','884290EIaokK','volume','2623386Psehmo','RolesGuard','UpdateUploadDto','design:paramtypes','design:returntype','voice'];a161_0x32e1=function(){return _0x5ef8cb;};return a161_0x32e1();}(function(_0x4815ef,_0xd6713b){const _0xb6e153=a161_0x2e41,_0x444585=_0x4815ef();while(!![]){try{const _0x1b9ff4=parseInt(_0xb6e153(0xd8))/0x1*(parseInt(_0xb6e153(0xd1))/0x2)+parseInt(_0xb6e153(0xba))/0x3+parseInt(_0xb6e153(0xeb))/0x4*(parseInt(_0xb6e153(0xd3))/0x5)+-parseInt(_0xb6e153(0xd7))/0x6*(parseInt(_0xb6e153(0xda))/0x7)+-parseInt(_0xb6e153(0xc0))/0x8*(parseInt(_0xb6e153(0xe9))/0x9)+parseInt(_0xb6e153(0xc4))/0xa+parseInt(_0xb6e153(0xb8))/0xb*(parseInt(_0xb6e153(0xf1))/0xc);if(_0x1b9ff4===_0xd6713b)break;else _0x444585['push'](_0x444585['shift']());}catch(_0x324923){_0x444585['push'](_0x444585['shift']());}}}(a161_0x32e1,0x9ca76));function a161_0x2e41(_0x41f368,_0x44fe74){const _0x32e122=a161_0x32e1();return a161_0x2e41=function(_0x2e4195,_0x5eb6b1){_0x2e4195=_0x2e4195-0xb2;let _0x2967f5=_0x32e122[_0x2e4195];return _0x2967f5;},a161_0x2e41(_0x41f368,_0x44fe74);}var __decorate=this&&this[a161_0x50d7a4(0xb7)]||function(_0x604baa,_0x3163af,_0x4f4e6f,_0x1ceb7a){const _0x1932de=a161_0x50d7a4;var _0x1087e8=arguments[_0x1932de(0xce)],_0x2d3bcf=_0x1087e8<0x3?_0x3163af:_0x1ceb7a===null?_0x1ceb7a=Object['getOwnPropertyDescriptor'](_0x3163af,_0x4f4e6f):_0x1ceb7a,_0x3ba9b5;if(typeof Reflect===_0x1932de(0xcd)&&typeof Reflect[_0x1932de(0xf0)]===_0x1932de(0xc9))_0x2d3bcf=Reflect[_0x1932de(0xf0)](_0x604baa,_0x3163af,_0x4f4e6f,_0x1ceb7a);else{for(var _0x422080=_0x604baa['length']-0x1;_0x422080>=0x0;_0x422080--)if(_0x3ba9b5=_0x604baa[_0x422080])_0x2d3bcf=(_0x1087e8<0x3?_0x3ba9b5(_0x2d3bcf):_0x1087e8>0x3?_0x3ba9b5(_0x3163af,_0x4f4e6f,_0x2d3bcf):_0x3ba9b5(_0x3163af,_0x4f4e6f))||_0x2d3bcf;}return _0x1087e8>0x3&&_0x2d3bcf&&Object[_0x1932de(0xc1)](_0x3163af,_0x4f4e6f,_0x2d3bcf),_0x2d3bcf;},__metadata=this&&this[a161_0x50d7a4(0xec)]||function(_0x51f7ac,_0x2bed3f){const _0x5d8b03=a161_0x50d7a4;if(typeof Reflect==='object'&&typeof Reflect[_0x5d8b03(0xea)]===_0x5d8b03(0xc9))return Reflect['metadata'](_0x51f7ac,_0x2bed3f);},__param=this&&this[a161_0x50d7a4(0xd4)]||function(_0x54bce0,_0x72933b){return function(_0x217085,_0x171db3){_0x72933b(_0x217085,_0x171db3,_0x54bce0);};},VoiceController_1;Object[a161_0x50d7a4(0xc1)](exports,a161_0x50d7a4(0xd0),{'value':!![]}),exports[a161_0x50d7a4(0xd6)]=void 0x0;const common_1=require(a161_0x50d7a4(0xd9)),path_1=require(a161_0x50d7a4(0xe6)),upload_service_1=require('../upload/upload.service'),role_enum_1=require(a161_0x50d7a4(0xc8)),roles_decorator_1=require(a161_0x50d7a4(0xc7)),jwt_guard_1=require(a161_0x50d7a4(0xcf)),roles_guard_1=require('../auth/guards/roles.guard'),audio_player_1=require(a161_0x50d7a4(0xe3)),update_upload_dto_1=require(a161_0x50d7a4(0xf3));let VoiceController=VoiceController_1=class VoiceController{constructor(_0x22f10a){const _0x102d5f=a161_0x50d7a4;this['uploadService']=_0x22f10a,this[_0x102d5f(0xdf)]=new common_1[(_0x102d5f(0xb4))](VoiceController_1[_0x102d5f(0xb3)]);}async['playAudioFile'](_0x4f955e,_0x167dda,_0x365910){const _0xb9c860=a161_0x50d7a4;try{const _0x1fa0cb=(0x0,path_1[_0xb9c860(0xcb)])(process['cwd'](),_0x4f955e);audio_player_1[_0xb9c860(0xd5)]['play'](_0x1fa0cb,_0x167dda),_0x365910[_0xb9c860(0xdd)](_0xb9c860(0xdc)+_0x1fa0cb);}catch(_0x52d5b9){return this[_0xb9c860(0xdf)]['error'](_0x52d5b9),'';}}[a161_0x50d7a4(0xe7)](){const _0x5e0792=a161_0x50d7a4;return this[_0x5e0792(0xdb)]['getAllVoicesRecorded']();}['deleteVoiceRecord'](_0x48b12f){const _0x1a300b=a161_0x50d7a4;return this[_0x1a300b(0xdb)][_0x1a300b(0xb6)](_0x48b12f);}[a161_0x50d7a4(0xc5)](_0x3816bf,_0x35c664){const _0x18276a=a161_0x50d7a4;return this[_0x18276a(0xdb)][_0x18276a(0xc5)](_0x35c664);}};__decorate([(0x0,common_1['Post'])(a161_0x50d7a4(0xef)),(0x0,common_1[a161_0x50d7a4(0xf2)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x50d7a4(0xbb)]),(0x0,roles_decorator_1[a161_0x50d7a4(0xee)])(role_enum_1[a161_0x50d7a4(0xb2)]['Admin'],role_enum_1['Role'][a161_0x50d7a4(0xc3)]),__param(0x0,(0x0,common_1[a161_0x50d7a4(0xde)])(a161_0x50d7a4(0xe8))),__param(0x1,(0x0,common_1[a161_0x50d7a4(0xde)])(a161_0x50d7a4(0xb9))),__param(0x2,(0x0,common_1[a161_0x50d7a4(0xc6)])({'passthrough':!![]})),__metadata(a161_0x50d7a4(0xe5),Function),__metadata(a161_0x50d7a4(0xbd),[String,Number,Object]),__metadata('design:returntype',Promise)],VoiceController[a161_0x50d7a4(0xe4)],a161_0x50d7a4(0xd2),null),__decorate([(0x0,common_1[a161_0x50d7a4(0xe2)])('/'),(0x0,common_1['UseGuards'])(jwt_guard_1[a161_0x50d7a4(0xcc)],roles_guard_1[a161_0x50d7a4(0xbb)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x50d7a4(0xb2)][a161_0x50d7a4(0xf4)],role_enum_1[a161_0x50d7a4(0xb2)]['User']),__metadata(a161_0x50d7a4(0xe5),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',void 0x0)],VoiceController['prototype'],a161_0x50d7a4(0xe7),null),__decorate([(0x0,common_1[a161_0x50d7a4(0xca)])(a161_0x50d7a4(0xed)),(0x0,common_1[a161_0x50d7a4(0xf2)])(jwt_guard_1[a161_0x50d7a4(0xcc)],roles_guard_1[a161_0x50d7a4(0xbb)]),(0x0,roles_decorator_1[a161_0x50d7a4(0xee)])(role_enum_1['Role'][a161_0x50d7a4(0xf4)],role_enum_1[a161_0x50d7a4(0xb2)]['User']),__param(0x0,(0x0,common_1[a161_0x50d7a4(0xe0)])('id')),__metadata(a161_0x50d7a4(0xe5),Function),__metadata('design:paramtypes',[String]),__metadata(a161_0x50d7a4(0xbe),void 0x0)],VoiceController['prototype'],a161_0x50d7a4(0xb6),null),__decorate([(0x0,common_1[a161_0x50d7a4(0xb5)])('/:id'),(0x0,common_1[a161_0x50d7a4(0xf2)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a161_0x50d7a4(0xbb)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a161_0x50d7a4(0xb2)]['Admin'],role_enum_1[a161_0x50d7a4(0xb2)][a161_0x50d7a4(0xc3)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a161_0x50d7a4(0xc2)])()),__metadata('design:type',Function),__metadata(a161_0x50d7a4(0xbd),[String,update_upload_dto_1[a161_0x50d7a4(0xbc)]]),__metadata(a161_0x50d7a4(0xbe),void 0x0)],VoiceController[a161_0x50d7a4(0xe4)],a161_0x50d7a4(0xc5),null),VoiceController=VoiceController_1=__decorate([(0x0,common_1['Controller'])(a161_0x50d7a4(0xbf)),__metadata(a161_0x50d7a4(0xbd),[upload_service_1[a161_0x50d7a4(0xe1)]])],VoiceController),exports[a161_0x50d7a4(0xd6)]=VoiceController;