'use strict';const a134_0x39b5b9=a134_0x6670;(function(_0x22d8fb,_0x3e6b4b){const _0x372eb7=a134_0x6670,_0x168748=_0x22d8fb();while(!![]){try{const _0x307d57=-parseInt(_0x372eb7(0xce))/0x1*(-parseInt(_0x372eb7(0xc8))/0x2)+parseInt(_0x372eb7(0xc1))/0x3+parseInt(_0x372eb7(0xf1))/0x4+parseInt(_0x372eb7(0xeb))/0x5*(-parseInt(_0x372eb7(0xf0))/0x6)+-parseInt(_0x372eb7(0xd1))/0x7*(-parseInt(_0x372eb7(0xea))/0x8)+parseInt(_0x372eb7(0xe7))/0x9*(-parseInt(_0x372eb7(0xdf))/0xa)+parseInt(_0x372eb7(0xdc))/0xb*(parseInt(_0x372eb7(0xdd))/0xc);if(_0x307d57===_0x3e6b4b)break;else _0x168748['push'](_0x168748['shift']());}catch(_0x45e5cb){_0x168748['push'](_0x168748['shift']());}}}(a134_0x1b60,0x4a4d3));function a134_0x6670(_0x1fecd8,_0x1608af){const _0x1b6027=a134_0x1b60();return a134_0x6670=function(_0x6670a2,_0x11001a){_0x6670a2=_0x6670a2-0xbf;let _0x5af7b5=_0x1b6027[_0x6670a2];return _0x5af7b5;},a134_0x6670(_0x1fecd8,_0x1608af);}var __decorate=this&&this[a134_0x39b5b9(0xe8)]||function(_0x494bba,_0x35cd76,_0x43e69b,_0x3fe334){const _0x5499ea=a134_0x39b5b9;var _0x4c7e6e=arguments['length'],_0x3ddead=_0x4c7e6e<0x3?_0x35cd76:_0x3fe334===null?_0x3fe334=Object[_0x5499ea(0xcd)](_0x35cd76,_0x43e69b):_0x3fe334,_0x257cfa;if(typeof Reflect===_0x5499ea(0xd2)&&typeof Reflect[_0x5499ea(0xbf)]===_0x5499ea(0xcf))_0x3ddead=Reflect[_0x5499ea(0xbf)](_0x494bba,_0x35cd76,_0x43e69b,_0x3fe334);else{for(var _0xc12606=_0x494bba['length']-0x1;_0xc12606>=0x0;_0xc12606--)if(_0x257cfa=_0x494bba[_0xc12606])_0x3ddead=(_0x4c7e6e<0x3?_0x257cfa(_0x3ddead):_0x4c7e6e>0x3?_0x257cfa(_0x35cd76,_0x43e69b,_0x3ddead):_0x257cfa(_0x35cd76,_0x43e69b))||_0x3ddead;}return _0x4c7e6e>0x3&&_0x3ddead&&Object[_0x5499ea(0xc9)](_0x35cd76,_0x43e69b,_0x3ddead),_0x3ddead;},__metadata=this&&this[a134_0x39b5b9(0xf5)]||function(_0x146210,_0x19d725){const _0x3a2012=a134_0x39b5b9;if(typeof Reflect===_0x3a2012(0xd2)&&typeof Reflect[_0x3a2012(0xc5)]===_0x3a2012(0xcf))return Reflect['metadata'](_0x146210,_0x19d725);},__param=this&&this[a134_0x39b5b9(0xc0)]||function(_0x553ac3,_0x171265){return function(_0xfcce,_0x265333){_0x171265(_0xfcce,_0x265333,_0x553ac3);};},StreamingController_1;Object[a134_0x39b5b9(0xc9)](exports,a134_0x39b5b9(0xd3),{'value':!![]}),exports['StreamingController']=void 0x0;const common_1=require(a134_0x39b5b9(0xe1)),path_1=require(a134_0x39b5b9(0xd6)),streaming_service_1=require('./streaming.service'),roles_decorator_1=require(a134_0x39b5b9(0xdb)),role_enum_1=require(a134_0x39b5b9(0xd4)),jwt_guard_1=require(a134_0x39b5b9(0xf6)),roles_guard_1=require(a134_0x39b5b9(0xc6));function a134_0x1b60(){const _0x329aa7=['Role','filePath','18lyMJRo','__decorate','log','600oRBuHY','5wHExHe','Res','stopStreamAudio','join','/play/','2797950jpAgCX','1433620aHQXcH','design:returntype','stream/start','StreamingService','__metadata','../auth/guards/jwt.guard','Viewer','Roles','logger','audioService','audio','send','playAudioFile','/stop','decorate','__param','1229616ZNwqkR','User','Logger','RolesGuard','metadata','../auth/guards/roles.guard','Post','9698yEIPrs','defineProperty','Get','Controller','startStreaming','getOwnPropertyDescriptor','29EYVfRj','function','cwd','4417mgenIf','object','__esModule','../auth/enums/role.enum','openServerUIStream','path','playStreamAudio','design:type','design:paramtypes','prototype','../auth/decorators/roles.decorator','11bKHYqZ','4747212WoGzDQ','UseGuards','2905800HDAIeN','StreamingController','@nestjs/common','JwtAuthGuard','Admin','name'];a134_0x1b60=function(){return _0x329aa7;};return a134_0x1b60();}let StreamingController=StreamingController_1=class StreamingController{constructor(_0x41be9f){const _0x4d126b=a134_0x39b5b9;this[_0x4d126b(0xfa)]=_0x41be9f,this[_0x4d126b(0xf9)]=new common_1[(_0x4d126b(0xc3))](StreamingController_1[_0x4d126b(0xe4)]);}async[a134_0x39b5b9(0xfd)](_0x2f1814,_0x17d864){const _0x2adef7=a134_0x39b5b9;try{const _0x3248e2=(0x0,path_1[_0x2adef7(0xee)])(process[_0x2adef7(0xd0)](),_0x2f1814),_0x586aed=this['audioService']['createStreamFromFile'](_0x3248e2);this[_0x2adef7(0xfa)][_0x2adef7(0xd7)](_0x586aed),_0x17d864[_0x2adef7(0xfc)]('Success\x20play\x20sound:\x20'+_0x3248e2);}catch(_0x3ed0a1){return this[_0x2adef7(0xf9)][_0x2adef7(0xe9)](_0x3ed0a1,'error'),'';}}async[a134_0x39b5b9(0xcc)](){const _0x263db9=a134_0x39b5b9;try{this[_0x263db9(0xfa)][_0x263db9(0xd5)]();}catch(_0x33325e){this['logger']['log'](_0x33325e);}}async[a134_0x39b5b9(0xed)](_0x113ad9){const _0x408ef6=a134_0x39b5b9;this[_0x408ef6(0xfa)]['stopStreamAudio']();}};__decorate([(0x0,common_1[a134_0x39b5b9(0xc7)])(a134_0x39b5b9(0xef)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x39b5b9(0xc4)]),(0x0,roles_decorator_1[a134_0x39b5b9(0xf8)])(role_enum_1[a134_0x39b5b9(0xe5)][a134_0x39b5b9(0xe3)],role_enum_1['Role'][a134_0x39b5b9(0xc2)],role_enum_1[a134_0x39b5b9(0xe5)][a134_0x39b5b9(0xf7)]),__param(0x0,(0x0,common_1['Query'])(a134_0x39b5b9(0xe6))),__param(0x1,(0x0,common_1[a134_0x39b5b9(0xec)])({'passthrough':!![]})),__metadata(a134_0x39b5b9(0xd8),Function),__metadata('design:paramtypes',[String,Object]),__metadata(a134_0x39b5b9(0xf2),Promise)],StreamingController['prototype'],'playAudioFile',null),__decorate([(0x0,common_1['Get'])(a134_0x39b5b9(0xf3)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x39b5b9(0xc4)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x39b5b9(0xe5)][a134_0x39b5b9(0xe3)],role_enum_1['Role'][a134_0x39b5b9(0xc2)],role_enum_1[a134_0x39b5b9(0xe5)][a134_0x39b5b9(0xf7)]),__metadata(a134_0x39b5b9(0xd8),Function),__metadata(a134_0x39b5b9(0xd9),[]),__metadata(a134_0x39b5b9(0xf2),Promise)],StreamingController[a134_0x39b5b9(0xda)],a134_0x39b5b9(0xcc),null),__decorate([(0x0,common_1[a134_0x39b5b9(0xca)])(a134_0x39b5b9(0xfe)),(0x0,common_1[a134_0x39b5b9(0xde)])(jwt_guard_1[a134_0x39b5b9(0xe2)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a134_0x39b5b9(0xe3)],role_enum_1[a134_0x39b5b9(0xe5)]['User'],role_enum_1[a134_0x39b5b9(0xe5)][a134_0x39b5b9(0xf7)]),__param(0x0,(0x0,common_1[a134_0x39b5b9(0xec)])({'passthrough':!![]})),__metadata(a134_0x39b5b9(0xd8),Function),__metadata(a134_0x39b5b9(0xd9),[Object]),__metadata(a134_0x39b5b9(0xf2),Promise)],StreamingController['prototype'],a134_0x39b5b9(0xed),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x39b5b9(0xcb)])(a134_0x39b5b9(0xfb)),__metadata('design:paramtypes',[streaming_service_1[a134_0x39b5b9(0xf4)]])],StreamingController),exports[a134_0x39b5b9(0xe0)]=StreamingController;