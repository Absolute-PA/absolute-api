'use strict';const a134_0x42678c=a134_0x6c08;(function(_0x43b314,_0x441785){const _0x315816=a134_0x6c08,_0x4d9a60=_0x43b314();while(!![]){try{const _0x7b0944=parseInt(_0x315816(0xf9))/0x1+parseInt(_0x315816(0x105))/0x2+-parseInt(_0x315816(0x118))/0x3+-parseInt(_0x315816(0x11b))/0x4+-parseInt(_0x315816(0x103))/0x5*(-parseInt(_0x315816(0x109))/0x6)+parseInt(_0x315816(0xfd))/0x7+-parseInt(_0x315816(0x10b))/0x8;if(_0x7b0944===_0x441785)break;else _0x4d9a60['push'](_0x4d9a60['shift']());}catch(_0x12b354){_0x4d9a60['push'](_0x4d9a60['shift']());}}}(a134_0x8e5d,0x2c6bb));var __decorate=this&&this['__decorate']||function(_0x31b8ce,_0x124e51,_0x244e71,_0x3ded64){const _0x961c4e=a134_0x6c08;var _0x1079b7=arguments[_0x961c4e(0xeb)],_0x199615=_0x1079b7<0x3?_0x124e51:_0x3ded64===null?_0x3ded64=Object[_0x961c4e(0x11c)](_0x124e51,_0x244e71):_0x3ded64,_0x4c7c7c;if(typeof Reflect===_0x961c4e(0xec)&&typeof Reflect[_0x961c4e(0xfb)]===_0x961c4e(0x113))_0x199615=Reflect['decorate'](_0x31b8ce,_0x124e51,_0x244e71,_0x3ded64);else{for(var _0x107639=_0x31b8ce[_0x961c4e(0xeb)]-0x1;_0x107639>=0x0;_0x107639--)if(_0x4c7c7c=_0x31b8ce[_0x107639])_0x199615=(_0x1079b7<0x3?_0x4c7c7c(_0x199615):_0x1079b7>0x3?_0x4c7c7c(_0x124e51,_0x244e71,_0x199615):_0x4c7c7c(_0x124e51,_0x244e71))||_0x199615;}return _0x1079b7>0x3&&_0x199615&&Object['defineProperty'](_0x124e51,_0x244e71,_0x199615),_0x199615;},__metadata=this&&this['__metadata']||function(_0x41995a,_0x227151){const _0x4d7032=a134_0x6c08;if(typeof Reflect===_0x4d7032(0xec)&&typeof Reflect['metadata']===_0x4d7032(0x113))return Reflect['metadata'](_0x41995a,_0x227151);},__param=this&&this[a134_0x42678c(0xf0)]||function(_0x2583a8,_0x2ab5e6){return function(_0xb49755,_0x4d3f41){_0x2ab5e6(_0xb49755,_0x4d3f41,_0x2583a8);};},StreamingController_1;Object[a134_0x42678c(0x101)](exports,a134_0x42678c(0x107),{'value':!![]}),exports[a134_0x42678c(0xfc)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require('path'),streaming_service_1=require('./streaming.service'),roles_decorator_1=require(a134_0x42678c(0xf6)),role_enum_1=require(a134_0x42678c(0xf3)),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require(a134_0x42678c(0xf4));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x2efda3){const _0x55392f=a134_0x42678c;this[_0x55392f(0x100)]=_0x2efda3,this[_0x55392f(0xfa)]=new common_1['Logger'](StreamingController_1[_0x55392f(0x116)]);}async['playAudioFile'](_0x2b8ada,_0x2fdbca){const _0x1ac7f1=a134_0x42678c;try{const _0x22e09c=(0x0,path_1[_0x1ac7f1(0xf1)])(process['cwd'](),_0x2b8ada),_0x65bcc3=this[_0x1ac7f1(0x100)]['createStreamFromFile'](_0x22e09c);this['audioService'][_0x1ac7f1(0xfe)](_0x65bcc3),_0x2fdbca[_0x1ac7f1(0x106)]('Success\x20play\x20sound:\x20'+_0x22e09c);}catch(_0x4aa07e){return this[_0x1ac7f1(0xfa)][_0x1ac7f1(0x114)](_0x4aa07e,'error'),'';}}async[a134_0x42678c(0x108)](){const _0x430b9c=a134_0x42678c;try{this['audioService'][_0x430b9c(0xf5)]();}catch(_0x284341){this[_0x430b9c(0xfa)][_0x430b9c(0x114)](_0x284341);}}async['stopStreamAudio'](_0x26171f){const _0x32a704=a134_0x42678c;this[_0x32a704(0x100)][_0x32a704(0x117)]();}};function a134_0x6c08(_0x5397e1,_0x3e4a66){const _0x8e5d29=a134_0x8e5d();return a134_0x6c08=function(_0x6c0878,_0x410ab3){_0x6c0878=_0x6c0878-0xe9;let _0x33ce82=_0x8e5d29[_0x6c0878];return _0x33ce82;},a134_0x6c08(_0x5397e1,_0x3e4a66);}__decorate([(0x0,common_1[a134_0x42678c(0xe9)])('/play/'),(0x0,common_1[a134_0x42678c(0xef)])(jwt_guard_1[a134_0x42678c(0x115)],roles_guard_1[a134_0x42678c(0xf8)]),(0x0,roles_decorator_1[a134_0x42678c(0xea)])(role_enum_1[a134_0x42678c(0xff)][a134_0x42678c(0x104)],role_enum_1['Role']['User'],role_enum_1[a134_0x42678c(0xff)][a134_0x42678c(0x111)]),__param(0x0,(0x0,common_1[a134_0x42678c(0xee)])(a134_0x42678c(0x10e))),__param(0x1,(0x0,common_1[a134_0x42678c(0x10f)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata(a134_0x42678c(0x10c),[String,Object]),__metadata(a134_0x42678c(0xed),Promise)],StreamingController[a134_0x42678c(0x112)],a134_0x42678c(0xf2),null),__decorate([(0x0,common_1[a134_0x42678c(0x10d)])(a134_0x42678c(0x102)),(0x0,common_1[a134_0x42678c(0xef)])(jwt_guard_1[a134_0x42678c(0x115)],roles_guard_1[a134_0x42678c(0xf8)]),(0x0,roles_decorator_1[a134_0x42678c(0xea)])(role_enum_1['Role'][a134_0x42678c(0x104)],role_enum_1[a134_0x42678c(0xff)][a134_0x42678c(0x10a)],role_enum_1['Role'][a134_0x42678c(0x111)]),__metadata(a134_0x42678c(0x119),Function),__metadata(a134_0x42678c(0x10c),[]),__metadata(a134_0x42678c(0xed),Promise)],StreamingController[a134_0x42678c(0x112)],a134_0x42678c(0x108),null),__decorate([(0x0,common_1[a134_0x42678c(0x10d)])(a134_0x42678c(0x11a)),(0x0,common_1[a134_0x42678c(0xef)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x42678c(0xf8)]),(0x0,roles_decorator_1[a134_0x42678c(0xea)])(role_enum_1[a134_0x42678c(0xff)]['Admin'],role_enum_1[a134_0x42678c(0xff)]['User'],role_enum_1[a134_0x42678c(0xff)][a134_0x42678c(0x111)]),__param(0x0,(0x0,common_1[a134_0x42678c(0x10f)])({'passthrough':!![]})),__metadata(a134_0x42678c(0x119),Function),__metadata(a134_0x42678c(0x10c),[Object]),__metadata(a134_0x42678c(0xed),Promise)],StreamingController[a134_0x42678c(0x112)],a134_0x42678c(0x117),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x42678c(0xf7)])(a134_0x42678c(0x110)),__metadata(a134_0x42678c(0x10c),[streaming_service_1['StreamingService']])],StreamingController),exports['StreamingController']=StreamingController;function a134_0x8e5d(){const _0x91a292=['StreamingController','2175047WeDaJR','playStreamAudio','Role','audioService','defineProperty','stream/start','330025Rvwemh','Admin','49598FHwVuJ','send','__esModule','startStreaming','6tUSPyX','User','599504exDvoA','design:paramtypes','Get','filePath','Res','audio','Viewer','prototype','function','log','JwtAuthGuard','name','stopStreamAudio','299610nqMhIC','design:type','/stop','341308eMOGMe','getOwnPropertyDescriptor','Post','Roles','length','object','design:returntype','Query','UseGuards','__param','join','playAudioFile','../auth/enums/role.enum','../auth/guards/roles.guard','openServerUIStream','../auth/decorators/roles.decorator','Controller','RolesGuard','40557DSNYes','logger','decorate'];a134_0x8e5d=function(){return _0x91a292;};return a134_0x8e5d();}