'use strict';const a134_0x44e383=a134_0x2aba;(function(_0x15acc3,_0x268e4e){const _0x2f599f=a134_0x2aba,_0x30ae15=_0x15acc3();while(!![]){try{const _0x35d854=parseInt(_0x2f599f(0x157))/0x1*(parseInt(_0x2f599f(0x173))/0x2)+parseInt(_0x2f599f(0x174))/0x3+-parseInt(_0x2f599f(0x154))/0x4*(parseInt(_0x2f599f(0x188))/0x5)+-parseInt(_0x2f599f(0x183))/0x6+-parseInt(_0x2f599f(0x16e))/0x7+parseInt(_0x2f599f(0x15b))/0x8+parseInt(_0x2f599f(0x17c))/0x9;if(_0x35d854===_0x268e4e)break;else _0x30ae15['push'](_0x30ae15['shift']());}catch(_0x5ea46b){_0x30ae15['push'](_0x30ae15['shift']());}}}(a134_0x468c,0x4514e));var __decorate=this&&this[a134_0x44e383(0x15a)]||function(_0x1c7d39,_0x1b97a6,_0x181474,_0x39d4ed){const _0x3602a4=a134_0x44e383;var _0x50f566=arguments[_0x3602a4(0x156)],_0x382c18=_0x50f566<0x3?_0x1b97a6:_0x39d4ed===null?_0x39d4ed=Object[_0x3602a4(0x16f)](_0x1b97a6,_0x181474):_0x39d4ed,_0x46769d;if(typeof Reflect===_0x3602a4(0x176)&&typeof Reflect['decorate']==='function')_0x382c18=Reflect[_0x3602a4(0x178)](_0x1c7d39,_0x1b97a6,_0x181474,_0x39d4ed);else{for(var _0x3e749a=_0x1c7d39[_0x3602a4(0x156)]-0x1;_0x3e749a>=0x0;_0x3e749a--)if(_0x46769d=_0x1c7d39[_0x3e749a])_0x382c18=(_0x50f566<0x3?_0x46769d(_0x382c18):_0x50f566>0x3?_0x46769d(_0x1b97a6,_0x181474,_0x382c18):_0x46769d(_0x1b97a6,_0x181474))||_0x382c18;}return _0x50f566>0x3&&_0x382c18&&Object[_0x3602a4(0x186)](_0x1b97a6,_0x181474,_0x382c18),_0x382c18;},__metadata=this&&this[a134_0x44e383(0x175)]||function(_0x4b6496,_0x346f5e){const _0x42bee5=a134_0x44e383;if(typeof Reflect===_0x42bee5(0x176)&&typeof Reflect['metadata']===_0x42bee5(0x18b))return Reflect[_0x42bee5(0x17f)](_0x4b6496,_0x346f5e);},__param=this&&this[a134_0x44e383(0x179)]||function(_0x4d1b76,_0xb55b5c){return function(_0x240f3a,_0xa8d83c){_0xb55b5c(_0x240f3a,_0xa8d83c,_0x4d1b76);};},StreamingController_1;function a134_0x468c(){const _0x1f2a3f=['defineProperty','/play/','2361235AcsxiW','Query','../auth/guards/roles.guard','function','Logger','Controller','StreamingService','4NczGju','Get','length','349kGJifG','startStreaming','filePath','__decorate','3297184WlJkOD','audioService','Roles','./streaming.service','prototype','stopStreamAudio','error','Post','/stop','UseGuards','@nestjs/common','send','../auth/enums/role.enum','logger','Viewer','../auth/decorators/roles.decorator','log','JwtAuthGuard','Success\x20play\x20sound:\x20','1364517ynTxXx','getOwnPropertyDescriptor','RolesGuard','playAudioFile','Role','1592xHwpAo','1210272FozDfk','__metadata','object','User','decorate','__param','Res','Admin','1046673CTIPfq','path','openServerUIStream','metadata','StreamingController','__esModule','design:returntype','1557222QnBeBL','design:type','design:paramtypes'];a134_0x468c=function(){return _0x1f2a3f;};return a134_0x468c();}Object[a134_0x44e383(0x186)](exports,a134_0x44e383(0x181),{'value':!![]}),exports[a134_0x44e383(0x180)]=void 0x0;const common_1=require(a134_0x44e383(0x165)),path_1=require(a134_0x44e383(0x17d)),streaming_service_1=require(a134_0x44e383(0x15e)),roles_decorator_1=require(a134_0x44e383(0x16a)),role_enum_1=require(a134_0x44e383(0x167)),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require(a134_0x44e383(0x18a));function a134_0x2aba(_0x113c18,_0x522a65){const _0x468cec=a134_0x468c();return a134_0x2aba=function(_0x2aba18,_0x2193bf){_0x2aba18=_0x2aba18-0x153;let _0x549910=_0x468cec[_0x2aba18];return _0x549910;},a134_0x2aba(_0x113c18,_0x522a65);}let StreamingController=StreamingController_1=class StreamingController{constructor(_0x39b5ce){const _0x16acdc=a134_0x44e383;this[_0x16acdc(0x15c)]=_0x39b5ce,this[_0x16acdc(0x168)]=new common_1[(_0x16acdc(0x18c))](StreamingController_1['name']);}async['playAudioFile'](_0xcac43a,_0x12d7f8){const _0x4f1c4b=a134_0x44e383;try{const _0x4c8577=(0x0,path_1['join'])(process['cwd'](),_0xcac43a),_0x1083cf=this[_0x4f1c4b(0x15c)]['createStreamFromFile'](_0x4c8577);this['audioService']['playStreamAudio'](_0x1083cf),_0x12d7f8[_0x4f1c4b(0x166)](_0x4f1c4b(0x16d)+_0x4c8577);}catch(_0x19a8e9){return this['logger'][_0x4f1c4b(0x16b)](_0x19a8e9,_0x4f1c4b(0x161)),'';}}async[a134_0x44e383(0x158)](){const _0x13ee90=a134_0x44e383;try{this[_0x13ee90(0x15c)][_0x13ee90(0x17e)]();}catch(_0x5b45cd){this[_0x13ee90(0x168)]['log'](_0x5b45cd);}}async[a134_0x44e383(0x160)](_0x4fa562){const _0x5e3439=a134_0x44e383;this[_0x5e3439(0x15c)][_0x5e3439(0x160)]();}};__decorate([(0x0,common_1[a134_0x44e383(0x162)])(a134_0x44e383(0x187)),(0x0,common_1[a134_0x44e383(0x164)])(jwt_guard_1[a134_0x44e383(0x16c)],roles_guard_1[a134_0x44e383(0x170)]),(0x0,roles_decorator_1[a134_0x44e383(0x15d)])(role_enum_1[a134_0x44e383(0x172)]['Admin'],role_enum_1['Role'][a134_0x44e383(0x177)],role_enum_1['Role'][a134_0x44e383(0x169)]),__param(0x0,(0x0,common_1[a134_0x44e383(0x189)])(a134_0x44e383(0x159))),__param(0x1,(0x0,common_1[a134_0x44e383(0x17a)])({'passthrough':!![]})),__metadata(a134_0x44e383(0x184),Function),__metadata(a134_0x44e383(0x185),[String,Object]),__metadata(a134_0x44e383(0x182),Promise)],StreamingController[a134_0x44e383(0x15f)],a134_0x44e383(0x171),null),__decorate([(0x0,common_1[a134_0x44e383(0x155)])('stream/start'),(0x0,common_1[a134_0x44e383(0x164)])(jwt_guard_1[a134_0x44e383(0x16c)],roles_guard_1[a134_0x44e383(0x170)]),(0x0,roles_decorator_1[a134_0x44e383(0x15d)])(role_enum_1['Role'][a134_0x44e383(0x17b)],role_enum_1['Role'][a134_0x44e383(0x177)],role_enum_1[a134_0x44e383(0x172)][a134_0x44e383(0x169)]),__metadata(a134_0x44e383(0x184),Function),__metadata(a134_0x44e383(0x185),[]),__metadata('design:returntype',Promise)],StreamingController['prototype'],a134_0x44e383(0x158),null),__decorate([(0x0,common_1[a134_0x44e383(0x155)])(a134_0x44e383(0x163)),(0x0,common_1[a134_0x44e383(0x164)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x44e383(0x170)]),(0x0,roles_decorator_1[a134_0x44e383(0x15d)])(role_enum_1['Role'][a134_0x44e383(0x17b)],role_enum_1[a134_0x44e383(0x172)]['User'],role_enum_1[a134_0x44e383(0x172)][a134_0x44e383(0x169)]),__param(0x0,(0x0,common_1[a134_0x44e383(0x17a)])({'passthrough':!![]})),__metadata(a134_0x44e383(0x184),Function),__metadata(a134_0x44e383(0x185),[Object]),__metadata(a134_0x44e383(0x182),Promise)],StreamingController[a134_0x44e383(0x15f)],a134_0x44e383(0x160),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x44e383(0x18d)])('audio'),__metadata(a134_0x44e383(0x185),[streaming_service_1[a134_0x44e383(0x153)]])],StreamingController),exports['StreamingController']=StreamingController;