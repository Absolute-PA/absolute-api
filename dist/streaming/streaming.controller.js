'use strict';const a137_0x41fe18=a137_0x418c;(function(_0x5301bf,_0x2bc5d4){const _0x3fd121=a137_0x418c,_0xd60fa=_0x5301bf();while(!![]){try{const _0x4a299e=-parseInt(_0x3fd121(0x137))/0x1+-parseInt(_0x3fd121(0x113))/0x2*(-parseInt(_0x3fd121(0x138))/0x3)+parseInt(_0x3fd121(0x114))/0x4+-parseInt(_0x3fd121(0x153))/0x5*(parseInt(_0x3fd121(0x116))/0x6)+-parseInt(_0x3fd121(0x11e))/0x7+parseInt(_0x3fd121(0x150))/0x8*(-parseInt(_0x3fd121(0x139))/0x9)+parseInt(_0x3fd121(0x124))/0xa*(parseInt(_0x3fd121(0x14e))/0xb);if(_0x4a299e===_0x2bc5d4)break;else _0xd60fa['push'](_0xd60fa['shift']());}catch(_0x521085){_0xd60fa['push'](_0xd60fa['shift']());}}}(a137_0x20e5,0x74240));var __decorate=this&&this[a137_0x41fe18(0x12d)]||function(_0x225f04,_0x24d649,_0x436eb3,_0x32607d){const _0xd4b8de=a137_0x41fe18;var _0x552b80=arguments[_0xd4b8de(0x147)],_0x50c862=_0x552b80<0x3?_0x24d649:_0x32607d===null?_0x32607d=Object[_0xd4b8de(0x129)](_0x24d649,_0x436eb3):_0x32607d,_0x596723;if(typeof Reflect===_0xd4b8de(0x115)&&typeof Reflect['decorate']==='function')_0x50c862=Reflect['decorate'](_0x225f04,_0x24d649,_0x436eb3,_0x32607d);else{for(var _0x43e6d2=_0x225f04['length']-0x1;_0x43e6d2>=0x0;_0x43e6d2--)if(_0x596723=_0x225f04[_0x43e6d2])_0x50c862=(_0x552b80<0x3?_0x596723(_0x50c862):_0x552b80>0x3?_0x596723(_0x24d649,_0x436eb3,_0x50c862):_0x596723(_0x24d649,_0x436eb3))||_0x50c862;}return _0x552b80>0x3&&_0x50c862&&Object[_0xd4b8de(0x132)](_0x24d649,_0x436eb3,_0x50c862),_0x50c862;},__metadata=this&&this[a137_0x41fe18(0x14d)]||function(_0x311eb2,_0x43a64f){const _0x1b6534=a137_0x41fe18;if(typeof Reflect===_0x1b6534(0x115)&&typeof Reflect[_0x1b6534(0x140)]===_0x1b6534(0x142))return Reflect['metadata'](_0x311eb2,_0x43a64f);},__param=this&&this[a137_0x41fe18(0x125)]||function(_0x8d39b,_0x3c62ee){return function(_0x5b0004,_0x373980){_0x3c62ee(_0x5b0004,_0x373980,_0x8d39b);};},StreamingController_1;function a137_0x20e5(){const _0x9dae20=['defineProperty','./streaming.service','../auth/enums/role.enum','design:paramtypes','name','128793VYFLkB','522baJKwp','913149oZbTRd','playStreamAudio','design:type','log','StreamingService','/stop','StreamingController','metadata','@nestjs/common','function','__esModule','JwtAuthGuard','startStreaming','playAudioFile','length','Res','path','UseGuards','design:returntype','Admin','__metadata','253NKxrMr','Query','32OZUfwA','filePath','Get','10SIIZFY','3250FvBhRO','1852568RNkTxB','object','2052480SywtbE','prototype','send','../auth/guards/jwt.guard','RolesGuard','audioService','stopStreamAudio','Viewer','3232523gDcByA','Role','join','Roles','User','openServerUIStream','613220WhTHTT','__param','../auth/guards/roles.guard','cwd','logger','getOwnPropertyDescriptor','Logger','Controller','error','__decorate','Success\x20play\x20sound:\x20','/play/','Post','createStreamFromFile'];a137_0x20e5=function(){return _0x9dae20;};return a137_0x20e5();}Object[a137_0x41fe18(0x132)](exports,a137_0x41fe18(0x143),{'value':!![]}),exports[a137_0x41fe18(0x13f)]=void 0x0;function a137_0x418c(_0x54465a,_0x22664c){const _0x20e5bf=a137_0x20e5();return a137_0x418c=function(_0x418ce9,_0x525dbe){_0x418ce9=_0x418ce9-0x113;let _0xab23a5=_0x20e5bf[_0x418ce9];return _0xab23a5;},a137_0x418c(_0x54465a,_0x22664c);}const common_1=require(a137_0x41fe18(0x141)),path_1=require(a137_0x41fe18(0x149)),streaming_service_1=require(a137_0x41fe18(0x133)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a137_0x41fe18(0x134)),jwt_guard_1=require(a137_0x41fe18(0x119)),roles_guard_1=require(a137_0x41fe18(0x126));let StreamingController=StreamingController_1=class StreamingController{constructor(_0xa6c9e7){const _0x458ad2=a137_0x41fe18;this[_0x458ad2(0x11b)]=_0xa6c9e7,this['logger']=new common_1[(_0x458ad2(0x12a))](StreamingController_1[_0x458ad2(0x136)]);}async[a137_0x41fe18(0x146)](_0x1f8d53,_0x271451){const _0x5504ab=a137_0x41fe18;try{const _0x5bf863=(0x0,path_1[_0x5504ab(0x120)])(process[_0x5504ab(0x127)](),_0x1f8d53),_0x2b81bc=this['audioService'][_0x5504ab(0x131)](_0x5bf863);this[_0x5504ab(0x11b)][_0x5504ab(0x13a)](_0x2b81bc),_0x271451[_0x5504ab(0x118)](_0x5504ab(0x12e)+_0x5bf863);}catch(_0x581147){return this[_0x5504ab(0x128)][_0x5504ab(0x13c)](_0x581147,_0x5504ab(0x12c)),'';}}async[a137_0x41fe18(0x145)](){const _0x5628cf=a137_0x41fe18;try{this[_0x5628cf(0x11b)][_0x5628cf(0x123)]();}catch(_0x2f768f){this['logger'][_0x5628cf(0x13c)](_0x2f768f);}}async[a137_0x41fe18(0x11c)](_0x2a55b3){this['audioService']['stopStreamAudio']();}};__decorate([(0x0,common_1[a137_0x41fe18(0x130)])(a137_0x41fe18(0x12f)),(0x0,common_1[a137_0x41fe18(0x14a)])(jwt_guard_1[a137_0x41fe18(0x144)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a137_0x41fe18(0x121)])(role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x14c)],role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x122)],role_enum_1['Role'][a137_0x41fe18(0x11d)]),__param(0x0,(0x0,common_1[a137_0x41fe18(0x14f)])(a137_0x41fe18(0x151))),__param(0x1,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a137_0x41fe18(0x13b),Function),__metadata(a137_0x41fe18(0x135),[String,Object]),__metadata(a137_0x41fe18(0x14b),Promise)],StreamingController[a137_0x41fe18(0x117)],a137_0x41fe18(0x146),null),__decorate([(0x0,common_1[a137_0x41fe18(0x152)])('stream/start'),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a137_0x41fe18(0x121)])(role_enum_1[a137_0x41fe18(0x11f)]['Admin'],role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x122)],role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x11d)]),__metadata(a137_0x41fe18(0x13b),Function),__metadata(a137_0x41fe18(0x135),[]),__metadata('design:returntype',Promise)],StreamingController[a137_0x41fe18(0x117)],a137_0x41fe18(0x145),null),__decorate([(0x0,common_1['Get'])(a137_0x41fe18(0x13e)),(0x0,common_1['UseGuards'])(jwt_guard_1[a137_0x41fe18(0x144)],roles_guard_1[a137_0x41fe18(0x11a)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x14c)],role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x122)],role_enum_1[a137_0x41fe18(0x11f)][a137_0x41fe18(0x11d)]),__param(0x0,(0x0,common_1[a137_0x41fe18(0x148)])({'passthrough':!![]})),__metadata(a137_0x41fe18(0x13b),Function),__metadata(a137_0x41fe18(0x135),[Object]),__metadata('design:returntype',Promise)],StreamingController[a137_0x41fe18(0x117)],a137_0x41fe18(0x11c),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a137_0x41fe18(0x12b)])('audio'),__metadata(a137_0x41fe18(0x135),[streaming_service_1[a137_0x41fe18(0x13d)]])],StreamingController),exports[a137_0x41fe18(0x13f)]=StreamingController;