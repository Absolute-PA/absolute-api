'use strict';const a137_0x25d85e=a137_0x57bc;(function(_0x312bc5,_0x1f71fd){const _0x282d75=a137_0x57bc,_0x49d5f4=_0x312bc5();while(!![]){try{const _0xf01e83=parseInt(_0x282d75(0xce))/0x1*(parseInt(_0x282d75(0xd9))/0x2)+parseInt(_0x282d75(0xb3))/0x3*(-parseInt(_0x282d75(0xd0))/0x4)+-parseInt(_0x282d75(0xab))/0x5+parseInt(_0x282d75(0xba))/0x6*(-parseInt(_0x282d75(0xdf))/0x7)+-parseInt(_0x282d75(0xcb))/0x8+-parseInt(_0x282d75(0xd6))/0x9+-parseInt(_0x282d75(0xd5))/0xa*(-parseInt(_0x282d75(0xd7))/0xb);if(_0xf01e83===_0x1f71fd)break;else _0x49d5f4['push'](_0x49d5f4['shift']());}catch(_0x27da14){_0x49d5f4['push'](_0x49d5f4['shift']());}}}(a137_0x513e,0xbf970));var __decorate=this&&this['__decorate']||function(_0x3c0dcb,_0x53ec32,_0x1140bf,_0x510933){const _0x273c01=a137_0x57bc;var _0x132bf5=arguments[_0x273c01(0xd1)],_0x393cf8=_0x132bf5<0x3?_0x53ec32:_0x510933===null?_0x510933=Object[_0x273c01(0xb9)](_0x53ec32,_0x1140bf):_0x510933,_0x315b91;if(typeof Reflect===_0x273c01(0xda)&&typeof Reflect['decorate']===_0x273c01(0xc0))_0x393cf8=Reflect[_0x273c01(0xb7)](_0x3c0dcb,_0x53ec32,_0x1140bf,_0x510933);else{for(var _0x91a4f0=_0x3c0dcb[_0x273c01(0xd1)]-0x1;_0x91a4f0>=0x0;_0x91a4f0--)if(_0x315b91=_0x3c0dcb[_0x91a4f0])_0x393cf8=(_0x132bf5<0x3?_0x315b91(_0x393cf8):_0x132bf5>0x3?_0x315b91(_0x53ec32,_0x1140bf,_0x393cf8):_0x315b91(_0x53ec32,_0x1140bf))||_0x393cf8;}return _0x132bf5>0x3&&_0x393cf8&&Object[_0x273c01(0xc1)](_0x53ec32,_0x1140bf,_0x393cf8),_0x393cf8;},__metadata=this&&this[a137_0x25d85e(0xb5)]||function(_0x1d6e64,_0x42a706){const _0x23ecb2=a137_0x25d85e;if(typeof Reflect===_0x23ecb2(0xda)&&typeof Reflect[_0x23ecb2(0xc5)]===_0x23ecb2(0xc0))return Reflect[_0x23ecb2(0xc5)](_0x1d6e64,_0x42a706);},__param=this&&this[a137_0x25d85e(0xb8)]||function(_0x521044,_0x48a0f0){return function(_0x1841ab,_0x599876){_0x48a0f0(_0x1841ab,_0x599876,_0x521044);};},StreamingController_1;Object[a137_0x25d85e(0xc1)](exports,'__esModule',{'value':!![]}),exports[a137_0x25d85e(0xc3)]=void 0x0;function a137_0x513e(){const _0x39ed6e=['Roles','1240757AHhTey','design:paramtypes','stream/start','Role','startStreaming','audio','Admin','Viewer','3422485BlOnTs','send','/play/','openServerUIStream','Res','JwtAuthGuard','Success\x20play\x20sound:\x20','playStreamAudio','15TfzSKx','../auth/enums/role.enum','__metadata','Get','decorate','__param','getOwnPropertyDescriptor','42yGMKlf','filePath','Controller','audioService','name','design:returntype','function','defineProperty','Post','StreamingController','logger','metadata','playAudioFile','createStreamFromFile','UseGuards','design:type','stopStreamAudio','11305168gYYSGg','../auth/guards/roles.guard','User','531837OlPKEx','/stop','764760tjrXYu','length','Logger','@nestjs/common','error','1190MkDvVk','11014902RwpJDx','533467taRBeA','RolesGuard','2CyHsYT','object','prototype','path','join'];a137_0x513e=function(){return _0x39ed6e;};return a137_0x513e();}const common_1=require(a137_0x25d85e(0xd3)),path_1=require(a137_0x25d85e(0xdc)),streaming_service_1=require('./streaming.service'),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a137_0x25d85e(0xb4)),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require(a137_0x25d85e(0xcc));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x23cbd9){const _0x577d08=a137_0x25d85e;this['audioService']=_0x23cbd9,this[_0x577d08(0xc4)]=new common_1[(_0x577d08(0xd2))](StreamingController_1[_0x577d08(0xbe)]);}async[a137_0x25d85e(0xc6)](_0x77b3e4,_0xd16102){const _0x46fe9a=a137_0x25d85e;try{const _0xc43907=(0x0,path_1[_0x46fe9a(0xdd)])(process['cwd'](),_0x77b3e4),_0x3b94ad=this[_0x46fe9a(0xbd)][_0x46fe9a(0xc7)](_0xc43907);this[_0x46fe9a(0xbd)][_0x46fe9a(0xb2)](_0x3b94ad),_0xd16102[_0x46fe9a(0xac)](_0x46fe9a(0xb1)+_0xc43907);}catch(_0x50a4c2){return this['logger']['log'](_0x50a4c2,_0x46fe9a(0xd4)),'';}}async['startStreaming'](){const _0x340ad6=a137_0x25d85e;try{this[_0x340ad6(0xbd)][_0x340ad6(0xae)]();}catch(_0x46a009){this[_0x340ad6(0xc4)]['log'](_0x46a009);}}async[a137_0x25d85e(0xca)](_0x18a7fd){this['audioService']['stopStreamAudio']();}};function a137_0x57bc(_0x55dc71,_0xbee1a7){const _0x513ef4=a137_0x513e();return a137_0x57bc=function(_0x57bcd0,_0x27d57a){_0x57bcd0=_0x57bcd0-0xa7;let _0x2e7791=_0x513ef4[_0x57bcd0];return _0x2e7791;},a137_0x57bc(_0x55dc71,_0xbee1a7);}__decorate([(0x0,common_1[a137_0x25d85e(0xc2)])(a137_0x25d85e(0xad)),(0x0,common_1[a137_0x25d85e(0xc8)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a137_0x25d85e(0xde)])(role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xa9)],role_enum_1[a137_0x25d85e(0xe2)]['User'],role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xaa)]),__param(0x0,(0x0,common_1['Query'])(a137_0x25d85e(0xbb))),__param(0x1,(0x0,common_1[a137_0x25d85e(0xaf)])({'passthrough':!![]})),__metadata(a137_0x25d85e(0xc9),Function),__metadata(a137_0x25d85e(0xe0),[String,Object]),__metadata(a137_0x25d85e(0xbf),Promise)],StreamingController[a137_0x25d85e(0xdb)],a137_0x25d85e(0xc6),null),__decorate([(0x0,common_1['Get'])(a137_0x25d85e(0xe1)),(0x0,common_1[a137_0x25d85e(0xc8)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a137_0x25d85e(0xd8)]),(0x0,roles_decorator_1[a137_0x25d85e(0xde)])(role_enum_1[a137_0x25d85e(0xe2)]['Admin'],role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xcd)],role_enum_1['Role'][a137_0x25d85e(0xaa)]),__metadata(a137_0x25d85e(0xc9),Function),__metadata(a137_0x25d85e(0xe0),[]),__metadata(a137_0x25d85e(0xbf),Promise)],StreamingController[a137_0x25d85e(0xdb)],a137_0x25d85e(0xa7),null),__decorate([(0x0,common_1[a137_0x25d85e(0xb6)])(a137_0x25d85e(0xcf)),(0x0,common_1[a137_0x25d85e(0xc8)])(jwt_guard_1[a137_0x25d85e(0xb0)],roles_guard_1[a137_0x25d85e(0xd8)]),(0x0,roles_decorator_1[a137_0x25d85e(0xde)])(role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xa9)],role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xcd)],role_enum_1[a137_0x25d85e(0xe2)][a137_0x25d85e(0xaa)]),__param(0x0,(0x0,common_1[a137_0x25d85e(0xaf)])({'passthrough':!![]})),__metadata(a137_0x25d85e(0xc9),Function),__metadata(a137_0x25d85e(0xe0),[Object]),__metadata('design:returntype',Promise)],StreamingController[a137_0x25d85e(0xdb)],a137_0x25d85e(0xca),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a137_0x25d85e(0xbc)])(a137_0x25d85e(0xa8)),__metadata(a137_0x25d85e(0xe0),[streaming_service_1['StreamingService']])],StreamingController),exports[a137_0x25d85e(0xc3)]=StreamingController;