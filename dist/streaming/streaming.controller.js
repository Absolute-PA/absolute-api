'use strict';const a134_0x5b7578=a134_0x3fbe;(function(_0x27d3f9,_0x3c19d5){const _0x4cff3d=a134_0x3fbe,_0x3f6528=_0x27d3f9();while(!![]){try{const _0x5c8445=-parseInt(_0x4cff3d(0x145))/0x1+-parseInt(_0x4cff3d(0x125))/0x2+-parseInt(_0x4cff3d(0x122))/0x3+-parseInt(_0x4cff3d(0x156))/0x4*(-parseInt(_0x4cff3d(0x14c))/0x5)+parseInt(_0x4cff3d(0x12c))/0x6*(parseInt(_0x4cff3d(0x152))/0x7)+parseInt(_0x4cff3d(0x147))/0x8+parseInt(_0x4cff3d(0x15a))/0x9;if(_0x5c8445===_0x3c19d5)break;else _0x3f6528['push'](_0x3f6528['shift']());}catch(_0x21d377){_0x3f6528['push'](_0x3f6528['shift']());}}}(a134_0xd40c,0xdd260));var __decorate=this&&this['__decorate']||function(_0x18743b,_0x435cc6,_0x3c0a21,_0x421fee){const _0x85f24b=a134_0x3fbe;var _0x5c7d1f=arguments[_0x85f24b(0x149)],_0x3f9333=_0x5c7d1f<0x3?_0x435cc6:_0x421fee===null?_0x421fee=Object[_0x85f24b(0x14f)](_0x435cc6,_0x3c0a21):_0x421fee,_0x4b3578;if(typeof Reflect===_0x85f24b(0x159)&&typeof Reflect[_0x85f24b(0x133)]===_0x85f24b(0x12f))_0x3f9333=Reflect[_0x85f24b(0x133)](_0x18743b,_0x435cc6,_0x3c0a21,_0x421fee);else{for(var _0x249129=_0x18743b[_0x85f24b(0x149)]-0x1;_0x249129>=0x0;_0x249129--)if(_0x4b3578=_0x18743b[_0x249129])_0x3f9333=(_0x5c7d1f<0x3?_0x4b3578(_0x3f9333):_0x5c7d1f>0x3?_0x4b3578(_0x435cc6,_0x3c0a21,_0x3f9333):_0x4b3578(_0x435cc6,_0x3c0a21))||_0x3f9333;}return _0x5c7d1f>0x3&&_0x3f9333&&Object['defineProperty'](_0x435cc6,_0x3c0a21,_0x3f9333),_0x3f9333;},__metadata=this&&this[a134_0x5b7578(0x154)]||function(_0x1b7896,_0x52281b){const _0x2e6c9e=a134_0x5b7578;if(typeof Reflect==='object'&&typeof Reflect[_0x2e6c9e(0x140)]===_0x2e6c9e(0x12f))return Reflect[_0x2e6c9e(0x140)](_0x1b7896,_0x52281b);},__param=this&&this[a134_0x5b7578(0x14e)]||function(_0x1358c1,_0x43c587){return function(_0x159ed7,_0x1cf3a2){_0x43c587(_0x159ed7,_0x1cf3a2,_0x1358c1);};},StreamingController_1;Object[a134_0x5b7578(0x131)](exports,'__esModule',{'value':!![]}),exports[a134_0x5b7578(0x141)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require(a134_0x5b7578(0x151)),streaming_service_1=require('./streaming.service'),roles_decorator_1=require(a134_0x5b7578(0x12e)),role_enum_1=require(a134_0x5b7578(0x12a)),jwt_guard_1=require(a134_0x5b7578(0x14d)),roles_guard_1=require(a134_0x5b7578(0x129));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x5371db){const _0x51d68d=a134_0x5b7578;this[_0x51d68d(0x13e)]=_0x5371db,this[_0x51d68d(0x13b)]=new common_1[(_0x51d68d(0x121))](StreamingController_1[_0x51d68d(0x138)]);}async[a134_0x5b7578(0x12d)](_0x12e268,_0xf12df4){const _0x21ab57=a134_0x5b7578;try{const _0x1887c4=(0x0,path_1[_0x21ab57(0x148)])(process[_0x21ab57(0x155)](),_0x12e268),_0x4d9ec3=this[_0x21ab57(0x13e)][_0x21ab57(0x12b)](_0x1887c4);this['audioService'][_0x21ab57(0x144)](_0x4d9ec3),_0xf12df4[_0x21ab57(0x13a)](_0x21ab57(0x157)+_0x1887c4);}catch(_0x2bde53){return this[_0x21ab57(0x13b)]['log'](_0x2bde53,_0x21ab57(0x134)),'';}}async[a134_0x5b7578(0x130)](){const _0x3c815b=a134_0x5b7578;try{this[_0x3c815b(0x13e)][_0x3c815b(0x153)]();}catch(_0x547048){this[_0x3c815b(0x13b)][_0x3c815b(0x14b)](_0x547048);}}async[a134_0x5b7578(0x126)](_0x10bffd){const _0x36056b=a134_0x5b7578;this[_0x36056b(0x13e)][_0x36056b(0x126)]();}};function a134_0xd40c(){const _0x3de04c=['JwtAuthGuard','log','5sVsVQg','../auth/guards/jwt.guard','__param','getOwnPropertyDescriptor','design:type','path','890407pJloqB','openServerUIStream','__metadata','cwd','325892BKAprk','Success\x20play\x20sound:\x20','RolesGuard','object','12653829VntvFj','UseGuards','Logger','4161885ITowsV','filePath','Role','700756wtGoBD','stopStreamAudio','design:paramtypes','stream/start','../auth/guards/roles.guard','../auth/enums/role.enum','createStreamFromFile','60ohKaRU','playAudioFile','../auth/decorators/roles.decorator','function','startStreaming','defineProperty','audio','decorate','error','Roles','Get','User','name','design:returntype','send','logger','Res','prototype','audioService','/play/','metadata','StreamingController','Admin','Post','playStreamAudio','927662WytVEQ','Viewer','6493560fHiCNE','join','length'];a134_0xd40c=function(){return _0x3de04c;};return a134_0xd40c();}function a134_0x3fbe(_0x4027fa,_0x50d4d9){const _0xd40c92=a134_0xd40c();return a134_0x3fbe=function(_0x3fbe52,_0x413e35){_0x3fbe52=_0x3fbe52-0x120;let _0x5e6120=_0xd40c92[_0x3fbe52];return _0x5e6120;},a134_0x3fbe(_0x4027fa,_0x50d4d9);}__decorate([(0x0,common_1[a134_0x5b7578(0x143)])(a134_0x5b7578(0x13f)),(0x0,common_1[a134_0x5b7578(0x120)])(jwt_guard_1[a134_0x5b7578(0x14a)],roles_guard_1[a134_0x5b7578(0x158)]),(0x0,roles_decorator_1[a134_0x5b7578(0x135)])(role_enum_1[a134_0x5b7578(0x124)][a134_0x5b7578(0x142)],role_enum_1[a134_0x5b7578(0x124)][a134_0x5b7578(0x137)],role_enum_1[a134_0x5b7578(0x124)]['Viewer']),__param(0x0,(0x0,common_1['Query'])(a134_0x5b7578(0x123))),__param(0x1,(0x0,common_1[a134_0x5b7578(0x13c)])({'passthrough':!![]})),__metadata(a134_0x5b7578(0x150),Function),__metadata(a134_0x5b7578(0x127),[String,Object]),__metadata(a134_0x5b7578(0x139),Promise)],StreamingController[a134_0x5b7578(0x13d)],a134_0x5b7578(0x12d),null),__decorate([(0x0,common_1[a134_0x5b7578(0x136)])(a134_0x5b7578(0x128)),(0x0,common_1['UseGuards'])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x5b7578(0x158)]),(0x0,roles_decorator_1[a134_0x5b7578(0x135)])(role_enum_1[a134_0x5b7578(0x124)][a134_0x5b7578(0x142)],role_enum_1[a134_0x5b7578(0x124)]['User'],role_enum_1[a134_0x5b7578(0x124)]['Viewer']),__metadata(a134_0x5b7578(0x150),Function),__metadata(a134_0x5b7578(0x127),[]),__metadata('design:returntype',Promise)],StreamingController[a134_0x5b7578(0x13d)],a134_0x5b7578(0x130),null),__decorate([(0x0,common_1[a134_0x5b7578(0x136)])('/stop'),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x5b7578(0x14a)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a134_0x5b7578(0x135)])(role_enum_1['Role'][a134_0x5b7578(0x142)],role_enum_1['Role']['User'],role_enum_1['Role'][a134_0x5b7578(0x146)]),__param(0x0,(0x0,common_1[a134_0x5b7578(0x13c)])({'passthrough':!![]})),__metadata(a134_0x5b7578(0x150),Function),__metadata(a134_0x5b7578(0x127),[Object]),__metadata(a134_0x5b7578(0x139),Promise)],StreamingController[a134_0x5b7578(0x13d)],a134_0x5b7578(0x126),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1['Controller'])(a134_0x5b7578(0x132)),__metadata(a134_0x5b7578(0x127),[streaming_service_1['StreamingService']])],StreamingController),exports[a134_0x5b7578(0x141)]=StreamingController;