'use strict';const a137_0xf71d27=a137_0x2b65;(function(_0x1c25f8,_0xc37498){const _0x11472e=a137_0x2b65,_0x26bc82=_0x1c25f8();while(!![]){try{const _0x3873e0=parseInt(_0x11472e(0x172))/0x1+parseInt(_0x11472e(0x16d))/0x2*(-parseInt(_0x11472e(0x1a4))/0x3)+parseInt(_0x11472e(0x199))/0x4*(parseInt(_0x11472e(0x184))/0x5)+-parseInt(_0x11472e(0x176))/0x6*(-parseInt(_0x11472e(0x173))/0x7)+-parseInt(_0x11472e(0x185))/0x8+parseInt(_0x11472e(0x17e))/0x9*(parseInt(_0x11472e(0x16b))/0xa)+parseInt(_0x11472e(0x175))/0xb*(parseInt(_0x11472e(0x1a3))/0xc);if(_0x3873e0===_0xc37498)break;else _0x26bc82['push'](_0x26bc82['shift']());}catch(_0x4c5710){_0x26bc82['push'](_0x26bc82['shift']());}}}(a137_0x46a0,0x9c5e1));var __decorate=this&&this[a137_0xf71d27(0x19b)]||function(_0x2b6ee8,_0x405238,_0x244184,_0x12dc21){const _0x4aba0d=a137_0xf71d27;var _0x4f0e0f=arguments[_0x4aba0d(0x17d)],_0x3cdede=_0x4f0e0f<0x3?_0x405238:_0x12dc21===null?_0x12dc21=Object[_0x4aba0d(0x182)](_0x405238,_0x244184):_0x12dc21,_0x353fd3;if(typeof Reflect===_0x4aba0d(0x17a)&&typeof Reflect[_0x4aba0d(0x189)]===_0x4aba0d(0x169))_0x3cdede=Reflect['decorate'](_0x2b6ee8,_0x405238,_0x244184,_0x12dc21);else{for(var _0xedd5b9=_0x2b6ee8[_0x4aba0d(0x17d)]-0x1;_0xedd5b9>=0x0;_0xedd5b9--)if(_0x353fd3=_0x2b6ee8[_0xedd5b9])_0x3cdede=(_0x4f0e0f<0x3?_0x353fd3(_0x3cdede):_0x4f0e0f>0x3?_0x353fd3(_0x405238,_0x244184,_0x3cdede):_0x353fd3(_0x405238,_0x244184))||_0x3cdede;}return _0x4f0e0f>0x3&&_0x3cdede&&Object['defineProperty'](_0x405238,_0x244184,_0x3cdede),_0x3cdede;},__metadata=this&&this[a137_0xf71d27(0x19c)]||function(_0x162f70,_0x2fa645){const _0x5bbc18=a137_0xf71d27;if(typeof Reflect===_0x5bbc18(0x17a)&&typeof Reflect[_0x5bbc18(0x16f)]==='function')return Reflect['metadata'](_0x162f70,_0x2fa645);},__param=this&&this[a137_0xf71d27(0x188)]||function(_0x6c00f3,_0x479910){return function(_0x52d638,_0x558add){_0x479910(_0x52d638,_0x558add,_0x6c00f3);};},StreamingController_1;Object[a137_0xf71d27(0x192)](exports,'__esModule',{'value':!![]}),exports[a137_0xf71d27(0x16e)]=void 0x0;const common_1=require(a137_0xf71d27(0x17c)),path_1=require('path'),streaming_service_1=require(a137_0xf71d27(0x174)),roles_decorator_1=require(a137_0xf71d27(0x167)),role_enum_1=require(a137_0xf71d27(0x17f)),jwt_guard_1=require(a137_0xf71d27(0x16a)),roles_guard_1=require(a137_0xf71d27(0x18d));function a137_0x2b65(_0x4ea11b,_0x1cb0cc){const _0x46a047=a137_0x46a0();return a137_0x2b65=function(_0x2b65ba,_0x392414){_0x2b65ba=_0x2b65ba-0x165;let _0x2d6542=_0x46a047[_0x2b65ba];return _0x2d6542;},a137_0x2b65(_0x4ea11b,_0x1cb0cc);}function a137_0x46a0(){const _0x1967a2=['498694CcVkdC','175Hjtrib','./streaming.service','2219767reqVBn','97374uttlvg','Query','Success\x20play\x20sound:\x20','Get','object','cwd','@nestjs/common','length','9ceaTKF','../auth/enums/role.enum','playAudioFile','design:returntype','getOwnPropertyDescriptor','prototype','1475agHREU','8232264TgCrKO','/stop','log','__param','decorate','createStreamFromFile','send','Roles','../auth/guards/roles.guard','stopStreamAudio','Logger','design:paramtypes','logger','defineProperty','playStreamAudio','Viewer','RolesGuard','Res','audioService','startStreaming','2600vJwaHn','User','__decorate','__metadata','openServerUIStream','Role','join','Controller','design:type','Admin','24hvOqMp','1027806OPqYEV','Post','UseGuards','../auth/decorators/roles.decorator','/play/','function','../auth/guards/jwt.guard','5123530zUQsaT','filePath','2hiJxvz','StreamingController','metadata','stream/start','JwtAuthGuard'];a137_0x46a0=function(){return _0x1967a2;};return a137_0x46a0();}let StreamingController=StreamingController_1=class StreamingController{constructor(_0x100603){const _0x3d2f46=a137_0xf71d27;this[_0x3d2f46(0x197)]=_0x100603,this[_0x3d2f46(0x191)]=new common_1[(_0x3d2f46(0x18f))](StreamingController_1['name']);}async[a137_0xf71d27(0x180)](_0x16060b,_0x961ef0){const _0x4322f6=a137_0xf71d27;try{const _0x65ca2c=(0x0,path_1[_0x4322f6(0x19f)])(process[_0x4322f6(0x17b)](),_0x16060b),_0x42877b=this[_0x4322f6(0x197)][_0x4322f6(0x18a)](_0x65ca2c);this[_0x4322f6(0x197)][_0x4322f6(0x193)](_0x42877b),_0x961ef0[_0x4322f6(0x18b)](_0x4322f6(0x178)+_0x65ca2c);}catch(_0x29cdbc){return this[_0x4322f6(0x191)]['log'](_0x29cdbc,'error'),'';}}async[a137_0xf71d27(0x198)](){const _0xd0ffc6=a137_0xf71d27;try{this[_0xd0ffc6(0x197)][_0xd0ffc6(0x19d)]();}catch(_0x2a9f10){this['logger'][_0xd0ffc6(0x187)](_0x2a9f10);}}async[a137_0xf71d27(0x18e)](_0x4b0fc9){const _0x1126da=a137_0xf71d27;this[_0x1126da(0x197)][_0x1126da(0x18e)]();}};__decorate([(0x0,common_1[a137_0xf71d27(0x165)])(a137_0xf71d27(0x168)),(0x0,common_1[a137_0xf71d27(0x166)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a137_0xf71d27(0x195)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x1a2)],role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x19a)],role_enum_1['Role'][a137_0xf71d27(0x194)]),__param(0x0,(0x0,common_1[a137_0xf71d27(0x177)])(a137_0xf71d27(0x16c))),__param(0x1,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a137_0xf71d27(0x1a1),Function),__metadata(a137_0xf71d27(0x190),[String,Object]),__metadata(a137_0xf71d27(0x181),Promise)],StreamingController['prototype'],'playAudioFile',null),__decorate([(0x0,common_1[a137_0xf71d27(0x179)])(a137_0xf71d27(0x170)),(0x0,common_1['UseGuards'])(jwt_guard_1[a137_0xf71d27(0x171)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a137_0xf71d27(0x18c)])(role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x1a2)],role_enum_1['Role'][a137_0xf71d27(0x19a)],role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x194)]),__metadata(a137_0xf71d27(0x1a1),Function),__metadata(a137_0xf71d27(0x190),[]),__metadata(a137_0xf71d27(0x181),Promise)],StreamingController['prototype'],'startStreaming',null),__decorate([(0x0,common_1[a137_0xf71d27(0x179)])(a137_0xf71d27(0x186)),(0x0,common_1['UseGuards'])(jwt_guard_1[a137_0xf71d27(0x171)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a137_0xf71d27(0x18c)])(role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x1a2)],role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x19a)],role_enum_1[a137_0xf71d27(0x19e)][a137_0xf71d27(0x194)]),__param(0x0,(0x0,common_1[a137_0xf71d27(0x196)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a137_0xf71d27(0x181),Promise)],StreamingController[a137_0xf71d27(0x183)],a137_0xf71d27(0x18e),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a137_0xf71d27(0x1a0)])('audio'),__metadata(a137_0xf71d27(0x190),[streaming_service_1['StreamingService']])],StreamingController),exports[a137_0xf71d27(0x16e)]=StreamingController;