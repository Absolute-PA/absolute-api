'use strict';const a134_0x360414=a134_0x1d19;(function(_0x15b326,_0x330bc7){const _0x3db433=a134_0x1d19,_0x39acfb=_0x15b326();while(!![]){try{const _0x4aaf6a=-parseInt(_0x3db433(0xe9))/0x1+-parseInt(_0x3db433(0xf1))/0x2+parseInt(_0x3db433(0xd9))/0x3*(parseInt(_0x3db433(0xc2))/0x4)+parseInt(_0x3db433(0xd2))/0x5*(parseInt(_0x3db433(0xe4))/0x6)+parseInt(_0x3db433(0xeb))/0x7*(-parseInt(_0x3db433(0xfa))/0x8)+parseInt(_0x3db433(0xfb))/0x9*(-parseInt(_0x3db433(0xdf))/0xa)+parseInt(_0x3db433(0xee))/0xb*(parseInt(_0x3db433(0xca))/0xc);if(_0x4aaf6a===_0x330bc7)break;else _0x39acfb['push'](_0x39acfb['shift']());}catch(_0x29919d){_0x39acfb['push'](_0x39acfb['shift']());}}}(a134_0x443d,0x49590));function a134_0x443d(){const _0x5f00e0=['path','createStreamFromFile','design:type','945669mpnktd','logger','UseGuards','audioService','log','./streaming.service','43570blEzLn','cwd','stopStreamAudio','name','Res','6LHTIMF','Get','Admin','__esModule','JwtAuthGuard','578664Cakhbc','../auth/decorators/roles.decorator','208817RMxfpr','../auth/guards/jwt.guard','playStreamAudio','13708453FHiVne','Success\x20play\x20sound:\x20','Role','73516Fmycma','Post','Logger','function','__param','playAudioFile','decorate','__metadata','../auth/guards/roles.guard','72CTIArA','1134VGiNCw','StreamingController','length','metadata','object','prototype','User','/play/','4FAYQeX','StreamingService','RolesGuard','defineProperty','stream/start','Viewer','openServerUIStream','../auth/enums/role.enum','12xMdiqp','@nestjs/common','Roles','design:paramtypes','getOwnPropertyDescriptor','startStreaming','/stop','Controller','859345oYavng','error','filePath','design:returntype'];a134_0x443d=function(){return _0x5f00e0;};return a134_0x443d();}var __decorate=this&&this['__decorate']||function(_0x19a9af,_0xe99ea7,_0xf8bb0f,_0x596032){const _0x1b01a4=a134_0x1d19;var _0x357e13=arguments[_0x1b01a4(0xfd)],_0x167d1a=_0x357e13<0x3?_0xe99ea7:_0x596032===null?_0x596032=Object[_0x1b01a4(0xce)](_0xe99ea7,_0xf8bb0f):_0x596032,_0x1fbb67;if(typeof Reflect===_0x1b01a4(0xbe)&&typeof Reflect[_0x1b01a4(0xf7)]===_0x1b01a4(0xf4))_0x167d1a=Reflect['decorate'](_0x19a9af,_0xe99ea7,_0xf8bb0f,_0x596032);else{for(var _0x3b50b2=_0x19a9af['length']-0x1;_0x3b50b2>=0x0;_0x3b50b2--)if(_0x1fbb67=_0x19a9af[_0x3b50b2])_0x167d1a=(_0x357e13<0x3?_0x1fbb67(_0x167d1a):_0x357e13>0x3?_0x1fbb67(_0xe99ea7,_0xf8bb0f,_0x167d1a):_0x1fbb67(_0xe99ea7,_0xf8bb0f))||_0x167d1a;}return _0x357e13>0x3&&_0x167d1a&&Object[_0x1b01a4(0xc5)](_0xe99ea7,_0xf8bb0f,_0x167d1a),_0x167d1a;},__metadata=this&&this[a134_0x360414(0xf8)]||function(_0x36fd44,_0x2aacc9){const _0x39feb2=a134_0x360414;if(typeof Reflect===_0x39feb2(0xbe)&&typeof Reflect[_0x39feb2(0xbd)]===_0x39feb2(0xf4))return Reflect[_0x39feb2(0xbd)](_0x36fd44,_0x2aacc9);},__param=this&&this[a134_0x360414(0xf5)]||function(_0x118d4f,_0x28f94d){return function(_0xaef9e4,_0x53f926){_0x28f94d(_0xaef9e4,_0x53f926,_0x118d4f);};},StreamingController_1;Object[a134_0x360414(0xc5)](exports,a134_0x360414(0xe7),{'value':!![]}),exports[a134_0x360414(0xfc)]=void 0x0;const common_1=require(a134_0x360414(0xcb)),path_1=require(a134_0x360414(0xd6)),streaming_service_1=require(a134_0x360414(0xde)),roles_decorator_1=require(a134_0x360414(0xea)),role_enum_1=require(a134_0x360414(0xc9)),jwt_guard_1=require(a134_0x360414(0xec)),roles_guard_1=require(a134_0x360414(0xf9));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x24bf79){const _0x377777=a134_0x360414;this[_0x377777(0xdc)]=_0x24bf79,this['logger']=new common_1[(_0x377777(0xf3))](StreamingController_1[_0x377777(0xe2)]);}async[a134_0x360414(0xf6)](_0xe5869b,_0x1714bf){const _0x25b7c0=a134_0x360414;try{const _0x5c295e=(0x0,path_1['join'])(process[_0x25b7c0(0xe0)](),_0xe5869b),_0xf0dec1=this['audioService'][_0x25b7c0(0xd7)](_0x5c295e);this['audioService'][_0x25b7c0(0xed)](_0xf0dec1),_0x1714bf['send'](_0x25b7c0(0xef)+_0x5c295e);}catch(_0x40d62d){return this[_0x25b7c0(0xda)][_0x25b7c0(0xdd)](_0x40d62d,_0x25b7c0(0xd3)),'';}}async[a134_0x360414(0xcf)](){const _0x434841=a134_0x360414;try{this[_0x434841(0xdc)][_0x434841(0xc8)]();}catch(_0x13ff35){this['logger'][_0x434841(0xdd)](_0x13ff35);}}async[a134_0x360414(0xe1)](_0x189d4b){const _0x572ba2=a134_0x360414;this['audioService'][_0x572ba2(0xe1)]();}};function a134_0x1d19(_0x522f78,_0x483042){const _0x443de3=a134_0x443d();return a134_0x1d19=function(_0x1d192a,_0x490fb3){_0x1d192a=_0x1d192a-0xbd;let _0x522c92=_0x443de3[_0x1d192a];return _0x522c92;},a134_0x1d19(_0x522f78,_0x483042);}__decorate([(0x0,common_1[a134_0x360414(0xf2)])(a134_0x360414(0xc1)),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x360414(0xe8)],roles_guard_1[a134_0x360414(0xc4)]),(0x0,roles_decorator_1[a134_0x360414(0xcc)])(role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xe6)],role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xc0)],role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xc7)]),__param(0x0,(0x0,common_1['Query'])(a134_0x360414(0xd4))),__param(0x1,(0x0,common_1[a134_0x360414(0xe3)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata('design:paramtypes',[String,Object]),__metadata('design:returntype',Promise)],StreamingController['prototype'],a134_0x360414(0xf6),null),__decorate([(0x0,common_1[a134_0x360414(0xe5)])(a134_0x360414(0xc6)),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x360414(0xe8)],roles_guard_1[a134_0x360414(0xc4)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xe6)],role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xc0)],role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xc7)]),__metadata(a134_0x360414(0xd8),Function),__metadata(a134_0x360414(0xcd),[]),__metadata(a134_0x360414(0xd5),Promise)],StreamingController[a134_0x360414(0xbf)],a134_0x360414(0xcf),null),__decorate([(0x0,common_1['Get'])(a134_0x360414(0xd0)),(0x0,common_1[a134_0x360414(0xdb)])(jwt_guard_1[a134_0x360414(0xe8)],roles_guard_1[a134_0x360414(0xc4)]),(0x0,roles_decorator_1[a134_0x360414(0xcc)])(role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xe6)],role_enum_1[a134_0x360414(0xf0)]['User'],role_enum_1[a134_0x360414(0xf0)][a134_0x360414(0xc7)]),__param(0x0,(0x0,common_1[a134_0x360414(0xe3)])({'passthrough':!![]})),__metadata(a134_0x360414(0xd8),Function),__metadata(a134_0x360414(0xcd),[Object]),__metadata(a134_0x360414(0xd5),Promise)],StreamingController[a134_0x360414(0xbf)],a134_0x360414(0xe1),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x360414(0xd1)])('audio'),__metadata('design:paramtypes',[streaming_service_1[a134_0x360414(0xc3)]])],StreamingController),exports[a134_0x360414(0xfc)]=StreamingController;