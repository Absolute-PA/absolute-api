'use strict';const a134_0x1c1ba6=a134_0x5ac1;(function(_0x49fef7,_0x247f29){const _0xc09922=a134_0x5ac1,_0x28ff22=_0x49fef7();while(!![]){try{const _0x345823=-parseInt(_0xc09922(0x13d))/0x1*(parseInt(_0xc09922(0x12c))/0x2)+-parseInt(_0xc09922(0x12e))/0x3+-parseInt(_0xc09922(0x145))/0x4+parseInt(_0xc09922(0x15a))/0x5*(-parseInt(_0xc09922(0x141))/0x6)+parseInt(_0xc09922(0x15b))/0x7*(-parseInt(_0xc09922(0x15d))/0x8)+-parseInt(_0xc09922(0x159))/0x9+parseInt(_0xc09922(0x128))/0xa;if(_0x345823===_0x247f29)break;else _0x28ff22['push'](_0x28ff22['shift']());}catch(_0x4ca062){_0x28ff22['push'](_0x28ff22['shift']());}}}(a134_0x1f21,0x8e2f8));var __decorate=this&&this[a134_0x1c1ba6(0x156)]||function(_0x682865,_0x1d1938,_0x3aa39e,_0x5c2a4f){const _0xb8470=a134_0x1c1ba6;var _0x3d2476=arguments[_0xb8470(0x13b)],_0x8de9=_0x3d2476<0x3?_0x1d1938:_0x5c2a4f===null?_0x5c2a4f=Object['getOwnPropertyDescriptor'](_0x1d1938,_0x3aa39e):_0x5c2a4f,_0x3f5522;if(typeof Reflect===_0xb8470(0x160)&&typeof Reflect['decorate']===_0xb8470(0x137))_0x8de9=Reflect[_0xb8470(0x142)](_0x682865,_0x1d1938,_0x3aa39e,_0x5c2a4f);else{for(var _0x1586e0=_0x682865['length']-0x1;_0x1586e0>=0x0;_0x1586e0--)if(_0x3f5522=_0x682865[_0x1586e0])_0x8de9=(_0x3d2476<0x3?_0x3f5522(_0x8de9):_0x3d2476>0x3?_0x3f5522(_0x1d1938,_0x3aa39e,_0x8de9):_0x3f5522(_0x1d1938,_0x3aa39e))||_0x8de9;}return _0x3d2476>0x3&&_0x8de9&&Object[_0xb8470(0x14e)](_0x1d1938,_0x3aa39e,_0x8de9),_0x8de9;},__metadata=this&&this[a134_0x1c1ba6(0x129)]||function(_0x52739e,_0x1a5487){const _0x7d6a28=a134_0x1c1ba6;if(typeof Reflect===_0x7d6a28(0x160)&&typeof Reflect[_0x7d6a28(0x126)]===_0x7d6a28(0x137))return Reflect['metadata'](_0x52739e,_0x1a5487);},__param=this&&this[a134_0x1c1ba6(0x15c)]||function(_0x48e861,_0x2ecd3d){return function(_0x5946e2,_0xb01438){_0x2ecd3d(_0x5946e2,_0xb01438,_0x48e861);};},StreamingController_1;function a134_0x1f21(){const _0x1a7b5e=['playAudioFile','openServerUIStream','Query','Viewer','design:returntype','createStreamFromFile','Admin','__decorate','error','stopStreamAudio','9784620GpnLkW','2722485hLLZpX','434VqMekh','__param','24208raDHsa','StreamingController','StreamingService','object','name','metadata','Get','57693370aIOFxw','__metadata','User','Role','554ShVCfl','startStreaming','2917527qgrcHh','Res','audio','design:type','playStreamAudio','path','prototype','send','filePath','function','UseGuards','Post','Controller','length','Roles','2710OCzOlM','join','/stop','Success\x20play\x20sound:\x20','12HAFxpG','decorate','logger','@nestjs/common','4399920ZWFxMH','audioService','stream/start','JwtAuthGuard','design:paramtypes','RolesGuard','../auth/guards/roles.guard','./streaming.service','../auth/guards/jwt.guard','defineProperty'];a134_0x1f21=function(){return _0x1a7b5e;};return a134_0x1f21();}Object[a134_0x1c1ba6(0x14e)](exports,'__esModule',{'value':!![]}),exports[a134_0x1c1ba6(0x15e)]=void 0x0;const common_1=require(a134_0x1c1ba6(0x144)),path_1=require(a134_0x1c1ba6(0x133)),streaming_service_1=require(a134_0x1c1ba6(0x14c)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require('../auth/enums/role.enum'),jwt_guard_1=require(a134_0x1c1ba6(0x14d)),roles_guard_1=require(a134_0x1c1ba6(0x14b));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x1b5b0a){const _0x34ec03=a134_0x1c1ba6;this[_0x34ec03(0x146)]=_0x1b5b0a,this['logger']=new common_1['Logger'](StreamingController_1[_0x34ec03(0x161)]);}async[a134_0x1c1ba6(0x14f)](_0x2b0f3c,_0x966569){const _0x275c21=a134_0x1c1ba6;try{const _0x3fa53d=(0x0,path_1[_0x275c21(0x13e)])(process['cwd'](),_0x2b0f3c),_0x15eb96=this[_0x275c21(0x146)][_0x275c21(0x154)](_0x3fa53d);this['audioService'][_0x275c21(0x132)](_0x15eb96),_0x966569[_0x275c21(0x135)](_0x275c21(0x140)+_0x3fa53d);}catch(_0x5ccdac){return this[_0x275c21(0x143)]['log'](_0x5ccdac,_0x275c21(0x157)),'';}}async[a134_0x1c1ba6(0x12d)](){const _0xcedd00=a134_0x1c1ba6;try{this['audioService'][_0xcedd00(0x150)]();}catch(_0x16f42c){this['logger']['log'](_0x16f42c);}}async[a134_0x1c1ba6(0x158)](_0x3de478){const _0xe63615=a134_0x1c1ba6;this[_0xe63615(0x146)][_0xe63615(0x158)]();}};function a134_0x5ac1(_0x138334,_0x1cab8e){const _0x1f21b8=a134_0x1f21();return a134_0x5ac1=function(_0x5ac156,_0x21e299){_0x5ac156=_0x5ac156-0x126;let _0x2f3569=_0x1f21b8[_0x5ac156];return _0x2f3569;},a134_0x5ac1(_0x138334,_0x1cab8e);}__decorate([(0x0,common_1[a134_0x1c1ba6(0x139)])('/play/'),(0x0,common_1[a134_0x1c1ba6(0x138)])(jwt_guard_1[a134_0x1c1ba6(0x148)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a134_0x1c1ba6(0x13c)])(role_enum_1['Role']['Admin'],role_enum_1['Role'][a134_0x1c1ba6(0x12a)],role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x152)]),__param(0x0,(0x0,common_1[a134_0x1c1ba6(0x151)])(a134_0x1c1ba6(0x136))),__param(0x1,(0x0,common_1[a134_0x1c1ba6(0x12f)])({'passthrough':!![]})),__metadata(a134_0x1c1ba6(0x131),Function),__metadata(a134_0x1c1ba6(0x149),[String,Object]),__metadata('design:returntype',Promise)],StreamingController['prototype'],a134_0x1c1ba6(0x14f),null),__decorate([(0x0,common_1[a134_0x1c1ba6(0x127)])(a134_0x1c1ba6(0x147)),(0x0,common_1[a134_0x1c1ba6(0x138)])(jwt_guard_1[a134_0x1c1ba6(0x148)],roles_guard_1[a134_0x1c1ba6(0x14a)]),(0x0,roles_decorator_1[a134_0x1c1ba6(0x13c)])(role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x155)],role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x12a)],role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x152)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],StreamingController[a134_0x1c1ba6(0x134)],'startStreaming',null),__decorate([(0x0,common_1['Get'])(a134_0x1c1ba6(0x13f)),(0x0,common_1[a134_0x1c1ba6(0x138)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x1c1ba6(0x14a)]),(0x0,roles_decorator_1[a134_0x1c1ba6(0x13c)])(role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x155)],role_enum_1[a134_0x1c1ba6(0x12b)]['User'],role_enum_1[a134_0x1c1ba6(0x12b)][a134_0x1c1ba6(0x152)]),__param(0x0,(0x0,common_1[a134_0x1c1ba6(0x12f)])({'passthrough':!![]})),__metadata(a134_0x1c1ba6(0x131),Function),__metadata('design:paramtypes',[Object]),__metadata(a134_0x1c1ba6(0x153),Promise)],StreamingController[a134_0x1c1ba6(0x134)],a134_0x1c1ba6(0x158),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x1c1ba6(0x13a)])(a134_0x1c1ba6(0x130)),__metadata(a134_0x1c1ba6(0x149),[streaming_service_1[a134_0x1c1ba6(0x15f)]])],StreamingController),exports[a134_0x1c1ba6(0x15e)]=StreamingController;