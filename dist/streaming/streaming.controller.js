'use strict';const a137_0x3e4f5c=a137_0x446e;(function(_0x198e2b,_0x5156e3){const _0x30a9ac=a137_0x446e,_0x395de0=_0x198e2b();while(!![]){try{const _0x247158=parseInt(_0x30a9ac(0x1d4))/0x1*(parseInt(_0x30a9ac(0x1e8))/0x2)+parseInt(_0x30a9ac(0x1cd))/0x3*(parseInt(_0x30a9ac(0x1da))/0x4)+parseInt(_0x30a9ac(0x1e6))/0x5*(parseInt(_0x30a9ac(0x1d6))/0x6)+-parseInt(_0x30a9ac(0x1b7))/0x7+parseInt(_0x30a9ac(0x1c3))/0x8+parseInt(_0x30a9ac(0x1c5))/0x9+-parseInt(_0x30a9ac(0x1c9))/0xa;if(_0x247158===_0x5156e3)break;else _0x395de0['push'](_0x395de0['shift']());}catch(_0x2aa52d){_0x395de0['push'](_0x395de0['shift']());}}}(a137_0x2677,0xd700e));var __decorate=this&&this[a137_0x3e4f5c(0x1b1)]||function(_0x2af23e,_0x309329,_0x696cf4,_0x428fc7){const _0x638630=a137_0x3e4f5c;var _0x1bcc14=arguments['length'],_0x194ec8=_0x1bcc14<0x3?_0x309329:_0x428fc7===null?_0x428fc7=Object[_0x638630(0x1df)](_0x309329,_0x696cf4):_0x428fc7,_0x153422;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x638630(0x1bf))_0x194ec8=Reflect[_0x638630(0x1b6)](_0x2af23e,_0x309329,_0x696cf4,_0x428fc7);else{for(var _0x1737ce=_0x2af23e[_0x638630(0x1db)]-0x1;_0x1737ce>=0x0;_0x1737ce--)if(_0x153422=_0x2af23e[_0x1737ce])_0x194ec8=(_0x1bcc14<0x3?_0x153422(_0x194ec8):_0x1bcc14>0x3?_0x153422(_0x309329,_0x696cf4,_0x194ec8):_0x153422(_0x309329,_0x696cf4))||_0x194ec8;}return _0x1bcc14>0x3&&_0x194ec8&&Object['defineProperty'](_0x309329,_0x696cf4,_0x194ec8),_0x194ec8;},__metadata=this&&this[a137_0x3e4f5c(0x1d9)]||function(_0x3a80f0,_0x186b4a){const _0x36537b=a137_0x3e4f5c;if(typeof Reflect===_0x36537b(0x1b0)&&typeof Reflect[_0x36537b(0x1b3)]==='function')return Reflect[_0x36537b(0x1b3)](_0x3a80f0,_0x186b4a);},__param=this&&this['__param']||function(_0x5c6773,_0x91fef6){return function(_0x158183,_0x586ff3){_0x91fef6(_0x158183,_0x586ff3,_0x5c6773);};},StreamingController_1;function a137_0x446e(_0x517111,_0x25a663){const _0x2677fb=a137_0x2677();return a137_0x446e=function(_0x446e99,_0x40e86f){_0x446e99=_0x446e99-0x1af;let _0x6cbb9c=_0x2677fb[_0x446e99];return _0x6cbb9c;},a137_0x446e(_0x517111,_0x25a663);}function a137_0x2677(){const _0x149e68=['__decorate','openServerUIStream','metadata','JwtAuthGuard','filePath','decorate','11289341RSqpkR','../auth/guards/jwt.guard','playStreamAudio','Query','audio','send','startStreaming','design:paramtypes','function','logger','Res','path','12121952krApbP','./streaming.service','3648465eTJtpC','Viewer','Get','prototype','13283110VjazrC','@nestjs/common','Role','stopStreamAudio','1050xXZssU','../auth/enums/role.enum','audioService','Roles','error','Post','name','1SIeRcS','Admin','312jkRpSy','RolesGuard','design:type','__metadata','6836dDsuMD','length','__esModule','join','stream/start','getOwnPropertyDescriptor','../auth/decorators/roles.decorator','Controller','playAudioFile','StreamingController','Success\x20play\x20sound:\x20','log','50045eiAvIj','/play/','1564962ZrAwRT','defineProperty','Logger','User','UseGuards','object'];a137_0x2677=function(){return _0x149e68;};return a137_0x2677();}Object[a137_0x3e4f5c(0x1e9)](exports,a137_0x3e4f5c(0x1dc),{'value':!![]}),exports[a137_0x3e4f5c(0x1e3)]=void 0x0;const common_1=require(a137_0x3e4f5c(0x1ca)),path_1=require(a137_0x3e4f5c(0x1c2)),streaming_service_1=require(a137_0x3e4f5c(0x1c4)),roles_decorator_1=require(a137_0x3e4f5c(0x1e0)),role_enum_1=require(a137_0x3e4f5c(0x1ce)),jwt_guard_1=require(a137_0x3e4f5c(0x1b8)),roles_guard_1=require('../auth/guards/roles.guard');let StreamingController=StreamingController_1=class StreamingController{constructor(_0x56c292){const _0x3b7be5=a137_0x3e4f5c;this[_0x3b7be5(0x1cf)]=_0x56c292,this[_0x3b7be5(0x1c0)]=new common_1[(_0x3b7be5(0x1ea))](StreamingController_1[_0x3b7be5(0x1d3)]);}async[a137_0x3e4f5c(0x1e2)](_0x10b670,_0x367f7d){const _0x5074c3=a137_0x3e4f5c;try{const _0x4fac5c=(0x0,path_1[_0x5074c3(0x1dd)])(process['cwd'](),_0x10b670),_0x454957=this['audioService']['createStreamFromFile'](_0x4fac5c);this[_0x5074c3(0x1cf)][_0x5074c3(0x1b9)](_0x454957),_0x367f7d[_0x5074c3(0x1bc)](_0x5074c3(0x1e4)+_0x4fac5c);}catch(_0x152345){return this[_0x5074c3(0x1c0)]['log'](_0x152345,_0x5074c3(0x1d1)),'';}}async[a137_0x3e4f5c(0x1bd)](){const _0x389ae8=a137_0x3e4f5c;try{this[_0x389ae8(0x1cf)][_0x389ae8(0x1b2)]();}catch(_0x5b4f14){this['logger'][_0x389ae8(0x1e5)](_0x5b4f14);}}async[a137_0x3e4f5c(0x1cc)](_0x50023f){const _0x5db40a=a137_0x3e4f5c;this[_0x5db40a(0x1cf)][_0x5db40a(0x1cc)]();}};__decorate([(0x0,common_1[a137_0x3e4f5c(0x1d2)])(a137_0x3e4f5c(0x1e7)),(0x0,common_1[a137_0x3e4f5c(0x1af)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a137_0x3e4f5c(0x1d7)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a137_0x3e4f5c(0x1d5)],role_enum_1['Role'][a137_0x3e4f5c(0x1eb)],role_enum_1[a137_0x3e4f5c(0x1cb)][a137_0x3e4f5c(0x1c6)]),__param(0x0,(0x0,common_1[a137_0x3e4f5c(0x1ba)])(a137_0x3e4f5c(0x1b5))),__param(0x1,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a137_0x3e4f5c(0x1d8),Function),__metadata(a137_0x3e4f5c(0x1be),[String,Object]),__metadata('design:returntype',Promise)],StreamingController[a137_0x3e4f5c(0x1c8)],a137_0x3e4f5c(0x1e2),null),__decorate([(0x0,common_1[a137_0x3e4f5c(0x1c7)])(a137_0x3e4f5c(0x1de)),(0x0,common_1[a137_0x3e4f5c(0x1af)])(jwt_guard_1[a137_0x3e4f5c(0x1b4)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a137_0x3e4f5c(0x1cb)][a137_0x3e4f5c(0x1d5)],role_enum_1[a137_0x3e4f5c(0x1cb)]['User'],role_enum_1['Role'][a137_0x3e4f5c(0x1c6)]),__metadata(a137_0x3e4f5c(0x1d8),Function),__metadata(a137_0x3e4f5c(0x1be),[]),__metadata('design:returntype',Promise)],StreamingController[a137_0x3e4f5c(0x1c8)],a137_0x3e4f5c(0x1bd),null),__decorate([(0x0,common_1['Get'])('/stop'),(0x0,common_1[a137_0x3e4f5c(0x1af)])(jwt_guard_1[a137_0x3e4f5c(0x1b4)],roles_guard_1[a137_0x3e4f5c(0x1d7)]),(0x0,roles_decorator_1[a137_0x3e4f5c(0x1d0)])(role_enum_1[a137_0x3e4f5c(0x1cb)][a137_0x3e4f5c(0x1d5)],role_enum_1[a137_0x3e4f5c(0x1cb)][a137_0x3e4f5c(0x1eb)],role_enum_1[a137_0x3e4f5c(0x1cb)][a137_0x3e4f5c(0x1c6)]),__param(0x0,(0x0,common_1[a137_0x3e4f5c(0x1c1)])({'passthrough':!![]})),__metadata(a137_0x3e4f5c(0x1d8),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],StreamingController['prototype'],a137_0x3e4f5c(0x1cc),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a137_0x3e4f5c(0x1e1)])(a137_0x3e4f5c(0x1bb)),__metadata(a137_0x3e4f5c(0x1be),[streaming_service_1['StreamingService']])],StreamingController),exports[a137_0x3e4f5c(0x1e3)]=StreamingController;