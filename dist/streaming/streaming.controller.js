'use strict';const a134_0x17e4d3=a134_0x454f;(function(_0x4c8c36,_0x323c83){const _0x4ab7a6=a134_0x454f,_0x4b10dc=_0x4c8c36();while(!![]){try{const _0x2b2410=-parseInt(_0x4ab7a6(0x11a))/0x1*(-parseInt(_0x4ab7a6(0x126))/0x2)+parseInt(_0x4ab7a6(0x148))/0x3*(-parseInt(_0x4ab7a6(0x13d))/0x4)+parseInt(_0x4ab7a6(0x140))/0x5*(-parseInt(_0x4ab7a6(0x135))/0x6)+parseInt(_0x4ab7a6(0x133))/0x7+parseInt(_0x4ab7a6(0x129))/0x8*(parseInt(_0x4ab7a6(0x130))/0x9)+-parseInt(_0x4ab7a6(0x12b))/0xa+parseInt(_0x4ab7a6(0x125))/0xb;if(_0x2b2410===_0x323c83)break;else _0x4b10dc['push'](_0x4b10dc['shift']());}catch(_0x4b7e11){_0x4b10dc['push'](_0x4b10dc['shift']());}}}(a134_0x39ad,0x3ebd1));function a134_0x454f(_0x4e93ce,_0x414733){const _0x39ad1a=a134_0x39ad();return a134_0x454f=function(_0x454fb5,_0x17c7ea){_0x454fb5=_0x454fb5-0x117;let _0x438463=_0x39ad1a[_0x454fb5];return _0x438463;},a134_0x454f(_0x4e93ce,_0x414733);}var __decorate=this&&this[a134_0x17e4d3(0x141)]||function(_0x4727a2,_0x5cccd7,_0x1b2b03,_0x41c0d7){const _0x3cc874=a134_0x17e4d3;var _0x330800=arguments[_0x3cc874(0x137)],_0x1df28a=_0x330800<0x3?_0x5cccd7:_0x41c0d7===null?_0x41c0d7=Object[_0x3cc874(0x12f)](_0x5cccd7,_0x1b2b03):_0x41c0d7,_0x2c8a73;if(typeof Reflect===_0x3cc874(0x131)&&typeof Reflect[_0x3cc874(0x12c)]===_0x3cc874(0x14d))_0x1df28a=Reflect[_0x3cc874(0x12c)](_0x4727a2,_0x5cccd7,_0x1b2b03,_0x41c0d7);else{for(var _0x100bda=_0x4727a2[_0x3cc874(0x137)]-0x1;_0x100bda>=0x0;_0x100bda--)if(_0x2c8a73=_0x4727a2[_0x100bda])_0x1df28a=(_0x330800<0x3?_0x2c8a73(_0x1df28a):_0x330800>0x3?_0x2c8a73(_0x5cccd7,_0x1b2b03,_0x1df28a):_0x2c8a73(_0x5cccd7,_0x1b2b03))||_0x1df28a;}return _0x330800>0x3&&_0x1df28a&&Object['defineProperty'](_0x5cccd7,_0x1b2b03,_0x1df28a),_0x1df28a;},__metadata=this&&this[a134_0x17e4d3(0x147)]||function(_0x31bd5c,_0x27f166){const _0x1c5ec8=a134_0x17e4d3;if(typeof Reflect===_0x1c5ec8(0x131)&&typeof Reflect[_0x1c5ec8(0x11d)]===_0x1c5ec8(0x14d))return Reflect['metadata'](_0x31bd5c,_0x27f166);},__param=this&&this[a134_0x17e4d3(0x13a)]||function(_0x36aa38,_0x117e31){return function(_0x18e358,_0x2fe6f8){_0x117e31(_0x18e358,_0x2fe6f8,_0x36aa38);};},StreamingController_1;Object[a134_0x17e4d3(0x13f)](exports,a134_0x17e4d3(0x14c),{'value':!![]}),exports[a134_0x17e4d3(0x136)]=void 0x0;const common_1=require(a134_0x17e4d3(0x145)),path_1=require(a134_0x17e4d3(0x14a)),streaming_service_1=require('./streaming.service'),roles_decorator_1=require(a134_0x17e4d3(0x13c)),role_enum_1=require(a134_0x17e4d3(0x11e)),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require(a134_0x17e4d3(0x144));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x368e14){const _0x142b4d=a134_0x17e4d3;this[_0x142b4d(0x139)]=_0x368e14,this[_0x142b4d(0x11b)]=new common_1[(_0x142b4d(0x142))](StreamingController_1[_0x142b4d(0x11c)]);}async['playAudioFile'](_0x19e476,_0x5712af){const _0x20f5df=a134_0x17e4d3;try{const _0xd35a66=(0x0,path_1[_0x20f5df(0x128)])(process['cwd'](),_0x19e476),_0x15370a=this[_0x20f5df(0x139)][_0x20f5df(0x120)](_0xd35a66);this[_0x20f5df(0x139)][_0x20f5df(0x12e)](_0x15370a),_0x5712af['send'](_0x20f5df(0x122)+_0xd35a66);}catch(_0x22c6d3){return this[_0x20f5df(0x11b)]['log'](_0x22c6d3,_0x20f5df(0x143)),'';}}async['startStreaming'](){const _0x4b6b61=a134_0x17e4d3;try{this[_0x4b6b61(0x139)][_0x4b6b61(0x153)]();}catch(_0x396758){this[_0x4b6b61(0x11b)]['log'](_0x396758);}}async[a134_0x17e4d3(0x138)](_0x124cb1){const _0x167082=a134_0x17e4d3;this[_0x167082(0x139)][_0x167082(0x138)]();}};function a134_0x39ad(){const _0xd25ff=['../auth/enums/role.enum','UseGuards','createStreamFromFile','Role','Success\x20play\x20sound:\x20','Admin','User','1688192LMWhHB','340780BJDAOn','StreamingService','join','8rsjqxo','/play/','3594150XZRzRw','decorate','design:paramtypes','playStreamAudio','getOwnPropertyDescriptor','163287bilrAI','object','JwtAuthGuard','3336403lxUILB','design:returntype','294UwjDkC','StreamingController','length','stopStreamAudio','audioService','__param','Get','../auth/decorators/roles.decorator','33116HRodEF','RolesGuard','defineProperty','15705ZOjbXl','__decorate','Logger','error','../auth/guards/roles.guard','@nestjs/common','design:type','__metadata','141DVHQMW','Roles','path','Post','__esModule','function','/stop','Res','Controller','playAudioFile','prototype','openServerUIStream','filePath','audio','startStreaming','3nzrPGX','logger','name','metadata'];a134_0x39ad=function(){return _0xd25ff;};return a134_0x39ad();}__decorate([(0x0,common_1[a134_0x17e4d3(0x14b)])(a134_0x17e4d3(0x12a)),(0x0,common_1[a134_0x17e4d3(0x11f)])(jwt_guard_1[a134_0x17e4d3(0x132)],roles_guard_1[a134_0x17e4d3(0x13e)]),(0x0,roles_decorator_1[a134_0x17e4d3(0x149)])(role_enum_1[a134_0x17e4d3(0x121)]['Admin'],role_enum_1['Role'][a134_0x17e4d3(0x124)],role_enum_1['Role']['Viewer']),__param(0x0,(0x0,common_1['Query'])(a134_0x17e4d3(0x117))),__param(0x1,(0x0,common_1[a134_0x17e4d3(0x14f)])({'passthrough':!![]})),__metadata(a134_0x17e4d3(0x146),Function),__metadata(a134_0x17e4d3(0x12d),[String,Object]),__metadata(a134_0x17e4d3(0x134),Promise)],StreamingController[a134_0x17e4d3(0x152)],a134_0x17e4d3(0x151),null),__decorate([(0x0,common_1[a134_0x17e4d3(0x13b)])('stream/start'),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x17e4d3(0x132)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x17e4d3(0x121)][a134_0x17e4d3(0x123)],role_enum_1['Role']['User'],role_enum_1[a134_0x17e4d3(0x121)]['Viewer']),__metadata(a134_0x17e4d3(0x146),Function),__metadata(a134_0x17e4d3(0x12d),[]),__metadata(a134_0x17e4d3(0x134),Promise)],StreamingController[a134_0x17e4d3(0x152)],a134_0x17e4d3(0x119),null),__decorate([(0x0,common_1[a134_0x17e4d3(0x13b)])(a134_0x17e4d3(0x14e)),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x17e4d3(0x132)],roles_guard_1[a134_0x17e4d3(0x13e)]),(0x0,roles_decorator_1[a134_0x17e4d3(0x149)])(role_enum_1[a134_0x17e4d3(0x121)][a134_0x17e4d3(0x123)],role_enum_1[a134_0x17e4d3(0x121)]['User'],role_enum_1[a134_0x17e4d3(0x121)]['Viewer']),__param(0x0,(0x0,common_1[a134_0x17e4d3(0x14f)])({'passthrough':!![]})),__metadata(a134_0x17e4d3(0x146),Function),__metadata(a134_0x17e4d3(0x12d),[Object]),__metadata(a134_0x17e4d3(0x134),Promise)],StreamingController[a134_0x17e4d3(0x152)],a134_0x17e4d3(0x138),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x17e4d3(0x150)])(a134_0x17e4d3(0x118)),__metadata(a134_0x17e4d3(0x12d),[streaming_service_1[a134_0x17e4d3(0x127)]])],StreamingController),exports[a134_0x17e4d3(0x136)]=StreamingController;