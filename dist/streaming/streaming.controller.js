'use strict';const a134_0x48680d=a134_0x37ee;(function(_0x236425,_0x350c54){const _0x482585=a134_0x37ee,_0x4c546f=_0x236425();while(!![]){try{const _0x540f37=parseInt(_0x482585(0x1d1))/0x1+parseInt(_0x482585(0x1b9))/0x2+-parseInt(_0x482585(0x1c7))/0x3+parseInt(_0x482585(0x1b7))/0x4+parseInt(_0x482585(0x1cc))/0x5*(-parseInt(_0x482585(0x1ad))/0x6)+parseInt(_0x482585(0x1e2))/0x7*(parseInt(_0x482585(0x1d3))/0x8)+-parseInt(_0x482585(0x1c3))/0x9*(-parseInt(_0x482585(0x1d0))/0xa);if(_0x540f37===_0x350c54)break;else _0x4c546f['push'](_0x4c546f['shift']());}catch(_0x42bde0){_0x4c546f['push'](_0x4c546f['shift']());}}}(a134_0x32ba,0x6d57f));var __decorate=this&&this[a134_0x48680d(0x1dc)]||function(_0x367b0e,_0x171ecd,_0x2de6fa,_0x5a5f1f){const _0x19b266=a134_0x48680d;var _0x221221=arguments[_0x19b266(0x1b3)],_0x260f65=_0x221221<0x3?_0x171ecd:_0x5a5f1f===null?_0x5a5f1f=Object[_0x19b266(0x1c1)](_0x171ecd,_0x2de6fa):_0x5a5f1f,_0x198372;if(typeof Reflect===_0x19b266(0x1a8)&&typeof Reflect[_0x19b266(0x1e1)]===_0x19b266(0x1de))_0x260f65=Reflect[_0x19b266(0x1e1)](_0x367b0e,_0x171ecd,_0x2de6fa,_0x5a5f1f);else{for(var _0x3f4b1f=_0x367b0e[_0x19b266(0x1b3)]-0x1;_0x3f4b1f>=0x0;_0x3f4b1f--)if(_0x198372=_0x367b0e[_0x3f4b1f])_0x260f65=(_0x221221<0x3?_0x198372(_0x260f65):_0x221221>0x3?_0x198372(_0x171ecd,_0x2de6fa,_0x260f65):_0x198372(_0x171ecd,_0x2de6fa))||_0x260f65;}return _0x221221>0x3&&_0x260f65&&Object['defineProperty'](_0x171ecd,_0x2de6fa,_0x260f65),_0x260f65;},__metadata=this&&this[a134_0x48680d(0x1c2)]||function(_0x5efac5,_0x1b1182){const _0x15cdda=a134_0x48680d;if(typeof Reflect===_0x15cdda(0x1a8)&&typeof Reflect[_0x15cdda(0x1b1)]===_0x15cdda(0x1de))return Reflect[_0x15cdda(0x1b1)](_0x5efac5,_0x1b1182);},__param=this&&this[a134_0x48680d(0x1bb)]||function(_0x246fed,_0x326256){return function(_0x1998a6,_0x233001){_0x326256(_0x1998a6,_0x233001,_0x246fed);};},StreamingController_1;Object[a134_0x48680d(0x1ce)](exports,'__esModule',{'value':!![]}),exports[a134_0x48680d(0x1cd)]=void 0x0;const common_1=require('@nestjs/common'),path_1=require(a134_0x48680d(0x1c9)),streaming_service_1=require(a134_0x48680d(0x1be)),roles_decorator_1=require(a134_0x48680d(0x1d2)),role_enum_1=require(a134_0x48680d(0x1a9)),jwt_guard_1=require(a134_0x48680d(0x1b6)),roles_guard_1=require(a134_0x48680d(0x1ca));function a134_0x37ee(_0x2180d5,_0x59add5){const _0x32bac4=a134_0x32ba();return a134_0x37ee=function(_0x37ee80,_0x3e5adb){_0x37ee80=_0x37ee80-0x1a8;let _0x477652=_0x32bac4[_0x37ee80];return _0x477652;},a134_0x37ee(_0x2180d5,_0x59add5);}function a134_0x32ba(){const _0x15bc28=['send','Viewer','metadata','playStreamAudio','length','Logger','createStreamFromFile','../auth/guards/jwt.guard','726500oVnpvJ','UseGuards','702242WqIIez','logger','__param','User','Roles','./streaming.service','Controller','startStreaming','getOwnPropertyDescriptor','__metadata','234fgMeAv','audioService','JwtAuthGuard','name','476415olEZHt','Res','path','../auth/guards/roles.guard','/stop','150395zcKZkS','StreamingController','defineProperty','/play/','45630nrCkVW','284085NyoNMX','../auth/decorators/roles.decorator','16lOpZcj','RolesGuard','audio','playAudioFile','Role','stopStreamAudio','Query','design:paramtypes','Post','__decorate','log','function','Get','design:type','decorate','217819UhAqcG','stream/start','openServerUIStream','StreamingService','Admin','prototype','object','../auth/enums/role.enum','cwd','design:returntype','join','78xzxOhl','Success\x20play\x20sound:\x20'];a134_0x32ba=function(){return _0x15bc28;};return a134_0x32ba();}let StreamingController=StreamingController_1=class StreamingController{constructor(_0x3405bc){const _0x56f472=a134_0x48680d;this[_0x56f472(0x1c4)]=_0x3405bc,this[_0x56f472(0x1ba)]=new common_1[(_0x56f472(0x1b4))](StreamingController_1[_0x56f472(0x1c6)]);}async['playAudioFile'](_0x39a2bd,_0x3bb059){const _0x4b8e59=a134_0x48680d;try{const _0x396aa5=(0x0,path_1[_0x4b8e59(0x1ac)])(process[_0x4b8e59(0x1aa)](),_0x39a2bd),_0x1cc3e2=this[_0x4b8e59(0x1c4)][_0x4b8e59(0x1b5)](_0x396aa5);this[_0x4b8e59(0x1c4)][_0x4b8e59(0x1b2)](_0x1cc3e2),_0x3bb059[_0x4b8e59(0x1af)](_0x4b8e59(0x1ae)+_0x396aa5);}catch(_0x5732ef){return this[_0x4b8e59(0x1ba)][_0x4b8e59(0x1dd)](_0x5732ef,'error'),'';}}async['startStreaming'](){const _0x2a9e5b=a134_0x48680d;try{this[_0x2a9e5b(0x1c4)][_0x2a9e5b(0x1e4)]();}catch(_0x1b27c4){this['logger'][_0x2a9e5b(0x1dd)](_0x1b27c4);}}async['stopStreamAudio'](_0x1d7e95){const _0x1e41f9=a134_0x48680d;this[_0x1e41f9(0x1c4)]['stopStreamAudio']();}};__decorate([(0x0,common_1[a134_0x48680d(0x1db)])(a134_0x48680d(0x1cf)),(0x0,common_1[a134_0x48680d(0x1b8)])(jwt_guard_1[a134_0x48680d(0x1c5)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a134_0x48680d(0x1bd)])(role_enum_1['Role'][a134_0x48680d(0x1e6)],role_enum_1['Role']['User'],role_enum_1[a134_0x48680d(0x1d7)][a134_0x48680d(0x1b0)]),__param(0x0,(0x0,common_1[a134_0x48680d(0x1d9)])('filePath')),__param(0x1,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a134_0x48680d(0x1e0),Function),__metadata('design:paramtypes',[String,Object]),__metadata(a134_0x48680d(0x1ab),Promise)],StreamingController[a134_0x48680d(0x1e7)],a134_0x48680d(0x1d6),null),__decorate([(0x0,common_1['Get'])(a134_0x48680d(0x1e3)),(0x0,common_1['UseGuards'])(jwt_guard_1[a134_0x48680d(0x1c5)],roles_guard_1[a134_0x48680d(0x1d4)]),(0x0,roles_decorator_1[a134_0x48680d(0x1bd)])(role_enum_1[a134_0x48680d(0x1d7)]['Admin'],role_enum_1[a134_0x48680d(0x1d7)][a134_0x48680d(0x1bc)],role_enum_1['Role'][a134_0x48680d(0x1b0)]),__metadata(a134_0x48680d(0x1e0),Function),__metadata(a134_0x48680d(0x1da),[]),__metadata(a134_0x48680d(0x1ab),Promise)],StreamingController[a134_0x48680d(0x1e7)],a134_0x48680d(0x1c0),null),__decorate([(0x0,common_1[a134_0x48680d(0x1df)])(a134_0x48680d(0x1cb)),(0x0,common_1[a134_0x48680d(0x1b8)])(jwt_guard_1[a134_0x48680d(0x1c5)],roles_guard_1[a134_0x48680d(0x1d4)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x48680d(0x1d7)][a134_0x48680d(0x1e6)],role_enum_1[a134_0x48680d(0x1d7)][a134_0x48680d(0x1bc)],role_enum_1[a134_0x48680d(0x1d7)][a134_0x48680d(0x1b0)]),__param(0x0,(0x0,common_1[a134_0x48680d(0x1c8)])({'passthrough':!![]})),__metadata(a134_0x48680d(0x1e0),Function),__metadata(a134_0x48680d(0x1da),[Object]),__metadata('design:returntype',Promise)],StreamingController[a134_0x48680d(0x1e7)],a134_0x48680d(0x1d8),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x48680d(0x1bf)])(a134_0x48680d(0x1d5)),__metadata(a134_0x48680d(0x1da),[streaming_service_1[a134_0x48680d(0x1e5)]])],StreamingController),exports[a134_0x48680d(0x1cd)]=StreamingController;