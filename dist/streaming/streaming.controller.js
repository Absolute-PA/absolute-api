'use strict';const a134_0x445f98=a134_0x3837;(function(_0x16bedf,_0x573635){const _0x157f7e=a134_0x3837,_0x1d487d=_0x16bedf();while(!![]){try{const _0x18d4d0=-parseInt(_0x157f7e(0xf1))/0x1+-parseInt(_0x157f7e(0xf4))/0x2*(parseInt(_0x157f7e(0xc8))/0x3)+-parseInt(_0x157f7e(0xe8))/0x4*(-parseInt(_0x157f7e(0xd2))/0x5)+parseInt(_0x157f7e(0xcb))/0x6*(parseInt(_0x157f7e(0xd9))/0x7)+parseInt(_0x157f7e(0xe0))/0x8+parseInt(_0x157f7e(0xc3))/0x9+-parseInt(_0x157f7e(0xdc))/0xa;if(_0x18d4d0===_0x573635)break;else _0x1d487d['push'](_0x1d487d['shift']());}catch(_0x31d7c1){_0x1d487d['push'](_0x1d487d['shift']());}}}(a134_0x4f71,0xd2992));var __decorate=this&&this[a134_0x445f98(0xc7)]||function(_0x29e2c7,_0x2085b1,_0x320a2a,_0x14e26c){const _0x74cc2b=a134_0x445f98;var _0x3f93ad=arguments['length'],_0x331423=_0x3f93ad<0x3?_0x2085b1:_0x14e26c===null?_0x14e26c=Object['getOwnPropertyDescriptor'](_0x2085b1,_0x320a2a):_0x14e26c,_0x2eb210;if(typeof Reflect===_0x74cc2b(0xe3)&&typeof Reflect[_0x74cc2b(0xee)]==='function')_0x331423=Reflect[_0x74cc2b(0xee)](_0x29e2c7,_0x2085b1,_0x320a2a,_0x14e26c);else{for(var _0x108a54=_0x29e2c7[_0x74cc2b(0xeb)]-0x1;_0x108a54>=0x0;_0x108a54--)if(_0x2eb210=_0x29e2c7[_0x108a54])_0x331423=(_0x3f93ad<0x3?_0x2eb210(_0x331423):_0x3f93ad>0x3?_0x2eb210(_0x2085b1,_0x320a2a,_0x331423):_0x2eb210(_0x2085b1,_0x320a2a))||_0x331423;}return _0x3f93ad>0x3&&_0x331423&&Object['defineProperty'](_0x2085b1,_0x320a2a,_0x331423),_0x331423;},__metadata=this&&this['__metadata']||function(_0x185723,_0x5f26b3){const _0x149bad=a134_0x445f98;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x149bad(0xce))return Reflect[_0x149bad(0xc1)](_0x185723,_0x5f26b3);},__param=this&&this['__param']||function(_0x598a81,_0x5d40c3){return function(_0x55a4fa,_0x5ec647){_0x5d40c3(_0x55a4fa,_0x5ec647,_0x598a81);};},StreamingController_1;function a134_0x4f71(){const _0x537bd2=['Role','../auth/enums/role.enum','metadata','RolesGuard','926883mlVZeQ','User','audioService','Success\x20play\x20sound:\x20','__decorate','830259tadVJx','design:type','cwd','3638136zFSdkd','filePath','send','function','./streaming.service','@nestjs/common','Post','25rCfmRc','Logger','Get','Viewer','../auth/guards/roles.guard','JwtAuthGuard','Admin','7yLdgAw','design:paramtypes','Roles','2780360QJqIJl','path','design:returntype','name','12167800fGMiso','createStreamFromFile','log','object','join','StreamingController','error','stopStreamAudio','817420rehWQp','logger','Query','length','playAudioFile','../auth/guards/jwt.guard','decorate','defineProperty','/play/','727682yiCUvz','Controller','UseGuards','10rtZYkW','prototype','/stop'];a134_0x4f71=function(){return _0x537bd2;};return a134_0x4f71();}function a134_0x3837(_0x122d61,_0x44613a){const _0x4f711c=a134_0x4f71();return a134_0x3837=function(_0x383751,_0x48b084){_0x383751=_0x383751-0xc1;let _0x1ddc77=_0x4f711c[_0x383751];return _0x1ddc77;},a134_0x3837(_0x122d61,_0x44613a);}Object[a134_0x445f98(0xef)](exports,'__esModule',{'value':!![]}),exports['StreamingController']=void 0x0;const common_1=require(a134_0x445f98(0xd0)),path_1=require(a134_0x445f98(0xdd)),streaming_service_1=require(a134_0x445f98(0xcf)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a134_0x445f98(0xf8)),jwt_guard_1=require(a134_0x445f98(0xed)),roles_guard_1=require(a134_0x445f98(0xd6));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x2e2446){const _0x4c78ec=a134_0x445f98;this['audioService']=_0x2e2446,this['logger']=new common_1[(_0x4c78ec(0xd3))](StreamingController_1[_0x4c78ec(0xdf)]);}async[a134_0x445f98(0xec)](_0x12e0fb,_0xcac6a8){const _0x1fec0b=a134_0x445f98;try{const _0x32b2f9=(0x0,path_1[_0x1fec0b(0xe4)])(process[_0x1fec0b(0xca)](),_0x12e0fb),_0x2225cf=this[_0x1fec0b(0xc5)][_0x1fec0b(0xe1)](_0x32b2f9);this[_0x1fec0b(0xc5)]['playStreamAudio'](_0x2225cf),_0xcac6a8[_0x1fec0b(0xcd)](_0x1fec0b(0xc6)+_0x32b2f9);}catch(_0x1dce7d){return this[_0x1fec0b(0xe9)][_0x1fec0b(0xe2)](_0x1dce7d,_0x1fec0b(0xe6)),'';}}async['startStreaming'](){const _0x4ae250=a134_0x445f98;try{this[_0x4ae250(0xc5)]['openServerUIStream']();}catch(_0x3f5a50){this[_0x4ae250(0xe9)]['log'](_0x3f5a50);}}async[a134_0x445f98(0xe7)](_0x10af1b){const _0x5f217c=a134_0x445f98;this[_0x5f217c(0xc5)]['stopStreamAudio']();}};__decorate([(0x0,common_1[a134_0x445f98(0xd1)])(a134_0x445f98(0xf0)),(0x0,common_1[a134_0x445f98(0xf3)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x445f98(0xc2)]),(0x0,roles_decorator_1[a134_0x445f98(0xdb)])(role_enum_1['Role'][a134_0x445f98(0xd8)],role_enum_1[a134_0x445f98(0xf7)][a134_0x445f98(0xc4)],role_enum_1[a134_0x445f98(0xf7)][a134_0x445f98(0xd5)]),__param(0x0,(0x0,common_1[a134_0x445f98(0xea)])(a134_0x445f98(0xcc))),__param(0x1,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a134_0x445f98(0xc9),Function),__metadata('design:paramtypes',[String,Object]),__metadata('design:returntype',Promise)],StreamingController[a134_0x445f98(0xf5)],'playAudioFile',null),__decorate([(0x0,common_1['Get'])('stream/start'),(0x0,common_1[a134_0x445f98(0xf3)])(jwt_guard_1[a134_0x445f98(0xd7)],roles_guard_1[a134_0x445f98(0xc2)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a134_0x445f98(0xd8)],role_enum_1['Role'][a134_0x445f98(0xc4)],role_enum_1[a134_0x445f98(0xf7)][a134_0x445f98(0xd5)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(a134_0x445f98(0xde),Promise)],StreamingController[a134_0x445f98(0xf5)],'startStreaming',null),__decorate([(0x0,common_1[a134_0x445f98(0xd4)])(a134_0x445f98(0xf6)),(0x0,common_1[a134_0x445f98(0xf3)])(jwt_guard_1[a134_0x445f98(0xd7)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x445f98(0xf7)]['Admin'],role_enum_1[a134_0x445f98(0xf7)][a134_0x445f98(0xc4)],role_enum_1[a134_0x445f98(0xf7)][a134_0x445f98(0xd5)]),__param(0x0,(0x0,common_1['Res'])({'passthrough':!![]})),__metadata(a134_0x445f98(0xc9),Function),__metadata(a134_0x445f98(0xda),[Object]),__metadata(a134_0x445f98(0xde),Promise)],StreamingController[a134_0x445f98(0xf5)],'stopStreamAudio',null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x445f98(0xf2)])('audio'),__metadata('design:paramtypes',[streaming_service_1['StreamingService']])],StreamingController),exports[a134_0x445f98(0xe5)]=StreamingController;