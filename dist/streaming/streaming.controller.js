'use strict';function a137_0x3df1(_0x17d8da,_0x54f30c){const _0x13d7e0=a137_0x13d7();return a137_0x3df1=function(_0x3df114,_0x4c484b){_0x3df114=_0x3df114-0xca;let _0x5430ef=_0x13d7e0[_0x3df114];return _0x5430ef;},a137_0x3df1(_0x17d8da,_0x54f30c);}const a137_0x154a33=a137_0x3df1;(function(_0x5e4656,_0x268ea5){const _0x183a94=a137_0x3df1,_0x448d1d=_0x5e4656();while(!![]){try{const _0x495fcd=parseInt(_0x183a94(0xcc))/0x1+-parseInt(_0x183a94(0xf7))/0x2*(-parseInt(_0x183a94(0xe2))/0x3)+-parseInt(_0x183a94(0x106))/0x4*(parseInt(_0x183a94(0xf5))/0x5)+-parseInt(_0x183a94(0xe3))/0x6*(parseInt(_0x183a94(0x104))/0x7)+-parseInt(_0x183a94(0xf0))/0x8+parseInt(_0x183a94(0xdd))/0x9+-parseInt(_0x183a94(0x102))/0xa*(-parseInt(_0x183a94(0xe1))/0xb);if(_0x495fcd===_0x268ea5)break;else _0x448d1d['push'](_0x448d1d['shift']());}catch(_0x4125f6){_0x448d1d['push'](_0x448d1d['shift']());}}}(a137_0x13d7,0xf31df));var __decorate=this&&this[a137_0x154a33(0xfd)]||function(_0xd14ca4,_0x2a9b68,_0x2b0540,_0x1152ae){const _0x1e0842=a137_0x154a33;var _0x360f7a=arguments['length'],_0x51b7b5=_0x360f7a<0x3?_0x2a9b68:_0x1152ae===null?_0x1152ae=Object[_0x1e0842(0xea)](_0x2a9b68,_0x2b0540):_0x1152ae,_0x5d1965;if(typeof Reflect===_0x1e0842(0xce)&&typeof Reflect[_0x1e0842(0xfe)]===_0x1e0842(0xe7))_0x51b7b5=Reflect['decorate'](_0xd14ca4,_0x2a9b68,_0x2b0540,_0x1152ae);else{for(var _0x496e91=_0xd14ca4['length']-0x1;_0x496e91>=0x0;_0x496e91--)if(_0x5d1965=_0xd14ca4[_0x496e91])_0x51b7b5=(_0x360f7a<0x3?_0x5d1965(_0x51b7b5):_0x360f7a>0x3?_0x5d1965(_0x2a9b68,_0x2b0540,_0x51b7b5):_0x5d1965(_0x2a9b68,_0x2b0540))||_0x51b7b5;}return _0x360f7a>0x3&&_0x51b7b5&&Object[_0x1e0842(0xca)](_0x2a9b68,_0x2b0540,_0x51b7b5),_0x51b7b5;},__metadata=this&&this[a137_0x154a33(0xfc)]||function(_0x25056c,_0x364f6c){const _0xcd8a96=a137_0x154a33;if(typeof Reflect===_0xcd8a96(0xce)&&typeof Reflect[_0xcd8a96(0xe0)]===_0xcd8a96(0xe7))return Reflect['metadata'](_0x25056c,_0x364f6c);},__param=this&&this[a137_0x154a33(0xf1)]||function(_0x402b1d,_0x5a8c3a){return function(_0x741c66,_0x3ded15){_0x5a8c3a(_0x741c66,_0x3ded15,_0x402b1d);};},StreamingController_1;Object[a137_0x154a33(0xca)](exports,a137_0x154a33(0xd4),{'value':!![]}),exports[a137_0x154a33(0xd6)]=void 0x0;const common_1=require(a137_0x154a33(0xcb)),path_1=require(a137_0x154a33(0xd2)),streaming_service_1=require(a137_0x154a33(0xe6)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a137_0x154a33(0xf2)),jwt_guard_1=require('../auth/guards/jwt.guard'),roles_guard_1=require(a137_0x154a33(0xd7));function a137_0x13d7(){const _0x59381=['1500084NvLAZf','Res','Success\x20play\x20sound:\x20','./streaming.service','function','filePath','logger','getOwnPropertyDescriptor','Get','design:type','createStreamFromFile','playAudioFile','RolesGuard','14419200HSPHvk','__param','../auth/enums/role.enum','Role','stopStreamAudio','1030afTlTx','Roles','2818316bVczqf','playStreamAudio','/play/','log','stream/start','__metadata','__decorate','decorate','StreamingService','User','prototype','20ntpquA','cwd','14PycYlB','audioService','9852HykODh','audio','defineProperty','@nestjs/common','41624kLSraS','Post','object','JwtAuthGuard','UseGuards','Admin','path','Viewer','__esModule','join','StreamingController','../auth/guards/roles.guard','error','openServerUIStream','/stop','design:paramtypes','design:returntype','8082513cNwIoo','startStreaming','Logger','metadata','8012257jsouCb','3cPKvsg'];a137_0x13d7=function(){return _0x59381;};return a137_0x13d7();}let StreamingController=StreamingController_1=class StreamingController{constructor(_0x5bae6d){const _0x111855=a137_0x154a33;this[_0x111855(0x105)]=_0x5bae6d,this[_0x111855(0xe9)]=new common_1[(_0x111855(0xdf))](StreamingController_1['name']);}async[a137_0x154a33(0xee)](_0x2870f1,_0x32adc7){const _0x1bc3af=a137_0x154a33;try{const _0x41198e=(0x0,path_1[_0x1bc3af(0xd5)])(process[_0x1bc3af(0x103)](),_0x2870f1),_0x329aba=this[_0x1bc3af(0x105)][_0x1bc3af(0xed)](_0x41198e);this['audioService'][_0x1bc3af(0xf8)](_0x329aba),_0x32adc7['send'](_0x1bc3af(0xe5)+_0x41198e);}catch(_0x327650){return this[_0x1bc3af(0xe9)]['log'](_0x327650,_0x1bc3af(0xd8)),'';}}async['startStreaming'](){const _0x21cd74=a137_0x154a33;try{this[_0x21cd74(0x105)][_0x21cd74(0xd9)]();}catch(_0x223bca){this[_0x21cd74(0xe9)][_0x21cd74(0xfa)](_0x223bca);}}async[a137_0x154a33(0xf4)](_0x1a3a89){const _0x1459e7=a137_0x154a33;this[_0x1459e7(0x105)][_0x1459e7(0xf4)]();}};__decorate([(0x0,common_1[a137_0x154a33(0xcd)])(a137_0x154a33(0xf9)),(0x0,common_1[a137_0x154a33(0xd0)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a137_0x154a33(0xef)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a137_0x154a33(0xd1)],role_enum_1[a137_0x154a33(0xf3)][a137_0x154a33(0x100)],role_enum_1[a137_0x154a33(0xf3)][a137_0x154a33(0xd3)]),__param(0x0,(0x0,common_1['Query'])(a137_0x154a33(0xe8))),__param(0x1,(0x0,common_1[a137_0x154a33(0xe4)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata(a137_0x154a33(0xdb),[String,Object]),__metadata(a137_0x154a33(0xdc),Promise)],StreamingController[a137_0x154a33(0x101)],a137_0x154a33(0xee),null),__decorate([(0x0,common_1['Get'])(a137_0x154a33(0xfb)),(0x0,common_1['UseGuards'])(jwt_guard_1[a137_0x154a33(0xcf)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a137_0x154a33(0xf3)][a137_0x154a33(0xd1)],role_enum_1[a137_0x154a33(0xf3)]['User'],role_enum_1[a137_0x154a33(0xf3)]['Viewer']),__metadata(a137_0x154a33(0xec),Function),__metadata(a137_0x154a33(0xdb),[]),__metadata(a137_0x154a33(0xdc),Promise)],StreamingController['prototype'],a137_0x154a33(0xde),null),__decorate([(0x0,common_1[a137_0x154a33(0xeb)])(a137_0x154a33(0xda)),(0x0,common_1[a137_0x154a33(0xd0)])(jwt_guard_1[a137_0x154a33(0xcf)],roles_guard_1[a137_0x154a33(0xef)]),(0x0,roles_decorator_1[a137_0x154a33(0xf6)])(role_enum_1[a137_0x154a33(0xf3)][a137_0x154a33(0xd1)],role_enum_1[a137_0x154a33(0xf3)]['User'],role_enum_1['Role'][a137_0x154a33(0xd3)]),__param(0x0,(0x0,common_1[a137_0x154a33(0xe4)])({'passthrough':!![]})),__metadata(a137_0x154a33(0xec),Function),__metadata(a137_0x154a33(0xdb),[Object]),__metadata(a137_0x154a33(0xdc),Promise)],StreamingController['prototype'],'stopStreamAudio',null),StreamingController=StreamingController_1=__decorate([(0x0,common_1['Controller'])(a137_0x154a33(0x107)),__metadata('design:paramtypes',[streaming_service_1[a137_0x154a33(0xff)]])],StreamingController),exports[a137_0x154a33(0xd6)]=StreamingController;