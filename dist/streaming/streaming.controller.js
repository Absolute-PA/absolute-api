'use strict';const a134_0x3c8721=a134_0x3a58;function a134_0x4d1c(){const _0x5e396e=['../auth/guards/jwt.guard','3508728TIzeep','4521WrarLa','Query','5RIjWwS','startStreaming','Res','__esModule','prototype','__param','send','__metadata','stopStreamAudio','1135410flPUwM','Get','function','User','length','Role','1031344vqaUCs','Viewer','54160VHiZpM','filePath','./streaming.service','object','defineProperty','design:returntype','design:type','1860192IbEsHF','log','logger','playStreamAudio','createStreamFromFile','Roles','Logger','StreamingService','StreamingController','../auth/guards/roles.guard','design:paramtypes','8442987toGNBp','Post','72IDQFtG','3240726llHDsw','join','getOwnPropertyDescriptor','RolesGuard','audio','3JlFgEA','/stop','audioService','playAudioFile','@nestjs/common','/play/','JwtAuthGuard','UseGuards','Admin','error','cwd','metadata','openServerUIStream','path'];a134_0x4d1c=function(){return _0x5e396e;};return a134_0x4d1c();}(function(_0x3ecfda,_0x4cb59c){const _0x16544a=a134_0x3a58,_0x4e7fa5=_0x3ecfda();while(!![]){try{const _0x1e58cf=parseInt(_0x16544a(0xff))/0x1+parseInt(_0x16544a(0x11c))/0x2*(parseInt(_0x16544a(0xe4))/0x3)+-parseInt(_0x16544a(0x10e))/0x4+-parseInt(_0x16544a(0xf6))/0x5*(-parseInt(_0x16544a(0xf3))/0x6)+parseInt(_0x16544a(0x119))/0x7+-parseInt(_0x16544a(0x105))/0x8*(parseInt(_0x16544a(0x11b))/0x9)+parseInt(_0x16544a(0x107))/0xa*(-parseInt(_0x16544a(0xf4))/0xb);if(_0x1e58cf===_0x4cb59c)break;else _0x4e7fa5['push'](_0x4e7fa5['shift']());}catch(_0x14951d){_0x4e7fa5['push'](_0x4e7fa5['shift']());}}}(a134_0x4d1c,0xc940e));var __decorate=this&&this['__decorate']||function(_0x19e39e,_0x387a66,_0x16e86b,_0x3431fd){const _0x499e18=a134_0x3a58;var _0x9f0ed=arguments[_0x499e18(0x103)],_0x4edb9d=_0x9f0ed<0x3?_0x387a66:_0x3431fd===null?_0x3431fd=Object[_0x499e18(0x11e)](_0x387a66,_0x16e86b):_0x3431fd,_0x2a0bc7;if(typeof Reflect===_0x499e18(0x10a)&&typeof Reflect['decorate']===_0x499e18(0x101))_0x4edb9d=Reflect['decorate'](_0x19e39e,_0x387a66,_0x16e86b,_0x3431fd);else{for(var _0xa86e1f=_0x19e39e[_0x499e18(0x103)]-0x1;_0xa86e1f>=0x0;_0xa86e1f--)if(_0x2a0bc7=_0x19e39e[_0xa86e1f])_0x4edb9d=(_0x9f0ed<0x3?_0x2a0bc7(_0x4edb9d):_0x9f0ed>0x3?_0x2a0bc7(_0x387a66,_0x16e86b,_0x4edb9d):_0x2a0bc7(_0x387a66,_0x16e86b))||_0x4edb9d;}return _0x9f0ed>0x3&&_0x4edb9d&&Object[_0x499e18(0x10b)](_0x387a66,_0x16e86b,_0x4edb9d),_0x4edb9d;},__metadata=this&&this[a134_0x3c8721(0xfd)]||function(_0x220a50,_0x1ba9fd){const _0x75caea=a134_0x3c8721;if(typeof Reflect===_0x75caea(0x10a)&&typeof Reflect[_0x75caea(0xef)]===_0x75caea(0x101))return Reflect[_0x75caea(0xef)](_0x220a50,_0x1ba9fd);},__param=this&&this[a134_0x3c8721(0xfb)]||function(_0x32c00f,_0x46e0e6){return function(_0x5145ee,_0x5c8028){_0x46e0e6(_0x5145ee,_0x5c8028,_0x32c00f);};},StreamingController_1;Object[a134_0x3c8721(0x10b)](exports,a134_0x3c8721(0xf9),{'value':!![]}),exports[a134_0x3c8721(0x116)]=void 0x0;const common_1=require(a134_0x3c8721(0xe8)),path_1=require(a134_0x3c8721(0xf1)),streaming_service_1=require(a134_0x3c8721(0x109)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require('../auth/enums/role.enum'),jwt_guard_1=require(a134_0x3c8721(0xf2)),roles_guard_1=require(a134_0x3c8721(0x117));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x409f2d){const _0x530d2b=a134_0x3c8721;this[_0x530d2b(0xe6)]=_0x409f2d,this[_0x530d2b(0x110)]=new common_1[(_0x530d2b(0x114))](StreamingController_1['name']);}async[a134_0x3c8721(0xe7)](_0x3186d2,_0x37b15f){const _0x124a5e=a134_0x3c8721;try{const _0x334797=(0x0,path_1[_0x124a5e(0x11d)])(process[_0x124a5e(0xee)](),_0x3186d2),_0x586378=this[_0x124a5e(0xe6)][_0x124a5e(0x112)](_0x334797);this[_0x124a5e(0xe6)][_0x124a5e(0x111)](_0x586378),_0x37b15f[_0x124a5e(0xfc)]('Success\x20play\x20sound:\x20'+_0x334797);}catch(_0x5baaf2){return this[_0x124a5e(0x110)][_0x124a5e(0x10f)](_0x5baaf2,_0x124a5e(0xed)),'';}}async[a134_0x3c8721(0xf7)](){const _0x563789=a134_0x3c8721;try{this[_0x563789(0xe6)][_0x563789(0xf0)]();}catch(_0x4cf56c){this[_0x563789(0x110)][_0x563789(0x10f)](_0x4cf56c);}}async['stopStreamAudio'](_0x4bd378){const _0x4189da=a134_0x3c8721;this[_0x4189da(0xe6)][_0x4189da(0xfe)]();}};function a134_0x3a58(_0x46feaa,_0x28064a){const _0x4d1c46=a134_0x4d1c();return a134_0x3a58=function(_0x3a5858,_0x3422bb){_0x3a5858=_0x3a5858-0xe2;let _0x2eab96=_0x4d1c46[_0x3a5858];return _0x2eab96;},a134_0x3a58(_0x46feaa,_0x28064a);}__decorate([(0x0,common_1[a134_0x3c8721(0x11a)])(a134_0x3c8721(0xe9)),(0x0,common_1[a134_0x3c8721(0xeb)])(jwt_guard_1[a134_0x3c8721(0xea)],roles_guard_1[a134_0x3c8721(0xe2)]),(0x0,roles_decorator_1[a134_0x3c8721(0x113)])(role_enum_1['Role'][a134_0x3c8721(0xec)],role_enum_1[a134_0x3c8721(0x104)][a134_0x3c8721(0x102)],role_enum_1[a134_0x3c8721(0x104)][a134_0x3c8721(0x106)]),__param(0x0,(0x0,common_1[a134_0x3c8721(0xf5)])(a134_0x3c8721(0x108))),__param(0x1,(0x0,common_1[a134_0x3c8721(0xf8)])({'passthrough':!![]})),__metadata(a134_0x3c8721(0x10d),Function),__metadata(a134_0x3c8721(0x118),[String,Object]),__metadata(a134_0x3c8721(0x10c),Promise)],StreamingController[a134_0x3c8721(0xfa)],a134_0x3c8721(0xe7),null),__decorate([(0x0,common_1[a134_0x3c8721(0x100)])('stream/start'),(0x0,common_1[a134_0x3c8721(0xeb)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x3c8721(0xe2)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a134_0x3c8721(0x104)]['Admin'],role_enum_1[a134_0x3c8721(0x104)]['User'],role_enum_1['Role']['Viewer']),__metadata('design:type',Function),__metadata(a134_0x3c8721(0x118),[]),__metadata(a134_0x3c8721(0x10c),Promise)],StreamingController[a134_0x3c8721(0xfa)],a134_0x3c8721(0xf7),null),__decorate([(0x0,common_1[a134_0x3c8721(0x100)])(a134_0x3c8721(0xe5)),(0x0,common_1[a134_0x3c8721(0xeb)])(jwt_guard_1['JwtAuthGuard'],roles_guard_1[a134_0x3c8721(0xe2)]),(0x0,roles_decorator_1[a134_0x3c8721(0x113)])(role_enum_1[a134_0x3c8721(0x104)][a134_0x3c8721(0xec)],role_enum_1[a134_0x3c8721(0x104)][a134_0x3c8721(0x102)],role_enum_1[a134_0x3c8721(0x104)][a134_0x3c8721(0x106)]),__param(0x0,(0x0,common_1[a134_0x3c8721(0xf8)])({'passthrough':!![]})),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a134_0x3c8721(0x10c),Promise)],StreamingController[a134_0x3c8721(0xfa)],a134_0x3c8721(0xfe),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1['Controller'])(a134_0x3c8721(0xe3)),__metadata('design:paramtypes',[streaming_service_1[a134_0x3c8721(0x115)]])],StreamingController),exports[a134_0x3c8721(0x116)]=StreamingController;