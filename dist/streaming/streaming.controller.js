'use strict';const a134_0x378a93=a134_0x4d56;(function(_0xaf3902,_0x5b506d){const _0x5332aa=a134_0x4d56,_0x2d990d=_0xaf3902();while(!![]){try{const _0x4fc6cd=parseInt(_0x5332aa(0x1a7))/0x1+parseInt(_0x5332aa(0x19c))/0x2*(parseInt(_0x5332aa(0x1b7))/0x3)+parseInt(_0x5332aa(0x19b))/0x4+-parseInt(_0x5332aa(0x1b3))/0x5*(-parseInt(_0x5332aa(0x199))/0x6)+-parseInt(_0x5332aa(0x1a0))/0x7+-parseInt(_0x5332aa(0x18a))/0x8*(parseInt(_0x5332aa(0x1b9))/0x9)+parseInt(_0x5332aa(0x1a8))/0xa;if(_0x4fc6cd===_0x5b506d)break;else _0x2d990d['push'](_0x2d990d['shift']());}catch(_0x2c48b4){_0x2d990d['push'](_0x2d990d['shift']());}}}(a134_0x5e34,0xdc588));function a134_0x4d56(_0x3ded7c,_0x59f14a){const _0x5e34c8=a134_0x5e34();return a134_0x4d56=function(_0x4d563b,_0x405578){_0x4d563b=_0x4d563b-0x18a;let _0x31bc16=_0x5e34c8[_0x4d563b];return _0x31bc16;},a134_0x4d56(_0x3ded7c,_0x59f14a);}function a134_0x5e34(){const _0x40413e=['length','Admin','decorate','714DNbZEW','@nestjs/common','1457176zHsjeJ','2062JXFHLv','User','audio','metadata','11622779QmBKJz','defineProperty','design:paramtypes','playAudioFile','__esModule','/stop','RolesGuard','457949bIFGlQ','9849430odYIlw','filePath','design:type','../auth/decorators/roles.decorator','error','startStreaming','send','getOwnPropertyDescriptor','../auth/guards/roles.guard','Success\x20play\x20sound:\x20','design:returntype','25800mrODyL','logger','log','Viewer','3930sIOdGQ','audioService','473049DRdEpB','function','object','prototype','UseGuards','Query','/play/','Res','name','__metadata','__param','path','184xbeyTE','Role','stopStreamAudio','Logger','createStreamFromFile','StreamingController','__decorate','Controller','../auth/guards/jwt.guard','Get','Roles','JwtAuthGuard'];a134_0x5e34=function(){return _0x40413e;};return a134_0x5e34();}var __decorate=this&&this[a134_0x378a93(0x190)]||function(_0x3db68f,_0x3b84a6,_0x14dea6,_0x7c91eb){const _0x46ec17=a134_0x378a93;var _0x21a735=arguments[_0x46ec17(0x196)],_0x5087d0=_0x21a735<0x3?_0x3b84a6:_0x7c91eb===null?_0x7c91eb=Object[_0x46ec17(0x1af)](_0x3b84a6,_0x14dea6):_0x7c91eb,_0x232298;if(typeof Reflect===_0x46ec17(0x1bb)&&typeof Reflect[_0x46ec17(0x198)]===_0x46ec17(0x1ba))_0x5087d0=Reflect[_0x46ec17(0x198)](_0x3db68f,_0x3b84a6,_0x14dea6,_0x7c91eb);else{for(var _0x55b207=_0x3db68f[_0x46ec17(0x196)]-0x1;_0x55b207>=0x0;_0x55b207--)if(_0x232298=_0x3db68f[_0x55b207])_0x5087d0=(_0x21a735<0x3?_0x232298(_0x5087d0):_0x21a735>0x3?_0x232298(_0x3b84a6,_0x14dea6,_0x5087d0):_0x232298(_0x3b84a6,_0x14dea6))||_0x5087d0;}return _0x21a735>0x3&&_0x5087d0&&Object[_0x46ec17(0x1a1)](_0x3b84a6,_0x14dea6,_0x5087d0),_0x5087d0;},__metadata=this&&this[a134_0x378a93(0x1c2)]||function(_0x35616d,_0x1820c3){const _0x48995b=a134_0x378a93;if(typeof Reflect===_0x48995b(0x1bb)&&typeof Reflect[_0x48995b(0x19f)]==='function')return Reflect[_0x48995b(0x19f)](_0x35616d,_0x1820c3);},__param=this&&this[a134_0x378a93(0x1c3)]||function(_0xbcdddd,_0x5f2008){return function(_0x3ced1e,_0x15f072){_0x5f2008(_0x3ced1e,_0x15f072,_0xbcdddd);};},StreamingController_1;Object[a134_0x378a93(0x1a1)](exports,a134_0x378a93(0x1a4),{'value':!![]}),exports['StreamingController']=void 0x0;const common_1=require(a134_0x378a93(0x19a)),path_1=require(a134_0x378a93(0x1c4)),streaming_service_1=require('./streaming.service'),roles_decorator_1=require(a134_0x378a93(0x1ab)),role_enum_1=require('../auth/enums/role.enum'),jwt_guard_1=require(a134_0x378a93(0x192)),roles_guard_1=require(a134_0x378a93(0x1b0));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x48a517){const _0x4ff455=a134_0x378a93;this[_0x4ff455(0x1b8)]=_0x48a517,this[_0x4ff455(0x1b4)]=new common_1[(_0x4ff455(0x18d))](StreamingController_1[_0x4ff455(0x1c1)]);}async[a134_0x378a93(0x1a3)](_0x51795d,_0x2b8a1c){const _0x28c43f=a134_0x378a93;try{const _0xd35104=(0x0,path_1['join'])(process['cwd'](),_0x51795d),_0x4def15=this[_0x28c43f(0x1b8)][_0x28c43f(0x18e)](_0xd35104);this[_0x28c43f(0x1b8)]['playStreamAudio'](_0x4def15),_0x2b8a1c[_0x28c43f(0x1ae)](_0x28c43f(0x1b1)+_0xd35104);}catch(_0x3226ff){return this[_0x28c43f(0x1b4)][_0x28c43f(0x1b5)](_0x3226ff,_0x28c43f(0x1ac)),'';}}async[a134_0x378a93(0x1ad)](){const _0x561059=a134_0x378a93;try{this[_0x561059(0x1b8)]['openServerUIStream']();}catch(_0x41d3e7){this[_0x561059(0x1b4)][_0x561059(0x1b5)](_0x41d3e7);}}async['stopStreamAudio'](_0x2cc639){const _0x3298e6=a134_0x378a93;this['audioService'][_0x3298e6(0x18c)]();}};__decorate([(0x0,common_1['Post'])(a134_0x378a93(0x1bf)),(0x0,common_1[a134_0x378a93(0x1bd)])(jwt_guard_1[a134_0x378a93(0x195)],roles_guard_1[a134_0x378a93(0x1a6)]),(0x0,roles_decorator_1[a134_0x378a93(0x194)])(role_enum_1[a134_0x378a93(0x18b)]['Admin'],role_enum_1[a134_0x378a93(0x18b)][a134_0x378a93(0x19d)],role_enum_1[a134_0x378a93(0x18b)]['Viewer']),__param(0x0,(0x0,common_1[a134_0x378a93(0x1be)])(a134_0x378a93(0x1a9))),__param(0x1,(0x0,common_1[a134_0x378a93(0x1c0)])({'passthrough':!![]})),__metadata(a134_0x378a93(0x1aa),Function),__metadata(a134_0x378a93(0x1a2),[String,Object]),__metadata('design:returntype',Promise)],StreamingController[a134_0x378a93(0x1bc)],a134_0x378a93(0x1a3),null),__decorate([(0x0,common_1['Get'])('stream/start'),(0x0,common_1[a134_0x378a93(0x1bd)])(jwt_guard_1[a134_0x378a93(0x195)],roles_guard_1['RolesGuard']),(0x0,roles_decorator_1[a134_0x378a93(0x194)])(role_enum_1['Role'][a134_0x378a93(0x197)],role_enum_1[a134_0x378a93(0x18b)][a134_0x378a93(0x19d)],role_enum_1['Role'][a134_0x378a93(0x1b6)]),__metadata(a134_0x378a93(0x1aa),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],StreamingController[a134_0x378a93(0x1bc)],a134_0x378a93(0x1ad),null),__decorate([(0x0,common_1[a134_0x378a93(0x193)])(a134_0x378a93(0x1a5)),(0x0,common_1[a134_0x378a93(0x1bd)])(jwt_guard_1[a134_0x378a93(0x195)],roles_guard_1[a134_0x378a93(0x1a6)]),(0x0,roles_decorator_1[a134_0x378a93(0x194)])(role_enum_1[a134_0x378a93(0x18b)][a134_0x378a93(0x197)],role_enum_1[a134_0x378a93(0x18b)][a134_0x378a93(0x19d)],role_enum_1[a134_0x378a93(0x18b)][a134_0x378a93(0x1b6)]),__param(0x0,(0x0,common_1[a134_0x378a93(0x1c0)])({'passthrough':!![]})),__metadata(a134_0x378a93(0x1aa),Function),__metadata(a134_0x378a93(0x1a2),[Object]),__metadata(a134_0x378a93(0x1b2),Promise)],StreamingController[a134_0x378a93(0x1bc)],a134_0x378a93(0x18c),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a134_0x378a93(0x191)])(a134_0x378a93(0x19e)),__metadata(a134_0x378a93(0x1a2),[streaming_service_1['StreamingService']])],StreamingController),exports[a134_0x378a93(0x18f)]=StreamingController;