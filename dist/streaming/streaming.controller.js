'use strict';const a137_0x1bc121=a137_0x3858;(function(_0x15ff10,_0x1a45c3){const _0x2b392b=a137_0x3858,_0x57fa2f=_0x15ff10();while(!![]){try{const _0x424c09=parseInt(_0x2b392b(0x217))/0x1*(-parseInt(_0x2b392b(0x1dd))/0x2)+parseInt(_0x2b392b(0x200))/0x3*(-parseInt(_0x2b392b(0x216))/0x4)+-parseInt(_0x2b392b(0x21b))/0x5*(parseInt(_0x2b392b(0x20f))/0x6)+-parseInt(_0x2b392b(0x1f6))/0x7+-parseInt(_0x2b392b(0x1de))/0x8*(-parseInt(_0x2b392b(0x20a))/0x9)+-parseInt(_0x2b392b(0x1ed))/0xa*(parseInt(_0x2b392b(0x1fb))/0xb)+parseInt(_0x2b392b(0x1f0))/0xc*(parseInt(_0x2b392b(0x1ea))/0xd);if(_0x424c09===_0x1a45c3)break;else _0x57fa2f['push'](_0x57fa2f['shift']());}catch(_0x4b12ca){_0x57fa2f['push'](_0x57fa2f['shift']());}}}(a137_0x10ff,0x5f1f8));var __decorate=this&&this[a137_0x1bc121(0x213)]||function(_0x56bc34,_0x254cc8,_0x2e70a8,_0xf9e5b3){const _0x3b0816=a137_0x1bc121;var _0x1b8caf=arguments['length'],_0x258deb=_0x1b8caf<0x3?_0x254cc8:_0xf9e5b3===null?_0xf9e5b3=Object[_0x3b0816(0x1df)](_0x254cc8,_0x2e70a8):_0xf9e5b3,_0x532c96;if(typeof Reflect===_0x3b0816(0x1f8)&&typeof Reflect['decorate']==='function')_0x258deb=Reflect['decorate'](_0x56bc34,_0x254cc8,_0x2e70a8,_0xf9e5b3);else{for(var _0x19ca7d=_0x56bc34[_0x3b0816(0x1f9)]-0x1;_0x19ca7d>=0x0;_0x19ca7d--)if(_0x532c96=_0x56bc34[_0x19ca7d])_0x258deb=(_0x1b8caf<0x3?_0x532c96(_0x258deb):_0x1b8caf>0x3?_0x532c96(_0x254cc8,_0x2e70a8,_0x258deb):_0x532c96(_0x254cc8,_0x2e70a8))||_0x258deb;}return _0x1b8caf>0x3&&_0x258deb&&Object['defineProperty'](_0x254cc8,_0x2e70a8,_0x258deb),_0x258deb;},__metadata=this&&this['__metadata']||function(_0x440c75,_0x33c090){const _0x2421e6=a137_0x1bc121;if(typeof Reflect===_0x2421e6(0x1f8)&&typeof Reflect['metadata']==='function')return Reflect[_0x2421e6(0x1fe)](_0x440c75,_0x33c090);},__param=this&&this[a137_0x1bc121(0x1e4)]||function(_0x30b401,_0x44d85e){return function(_0x51cc0a,_0xb87ca7){_0x44d85e(_0x51cc0a,_0xb87ca7,_0x30b401);};},StreamingController_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a137_0x1bc121(0x208)]=void 0x0;function a137_0x3858(_0x43d0b0,_0x4ca0a6){const _0x10ff19=a137_0x10ff();return a137_0x3858=function(_0x385859,_0x3994d8){_0x385859=_0x385859-0x1dd;let _0x3a3dcd=_0x10ff19[_0x385859];return _0x3a3dcd;},a137_0x3858(_0x43d0b0,_0x4ca0a6);}function a137_0x10ff(){const _0x29c1b8=['playAudioFile','28798xDttLX','design:returntype','object','length','openServerUIStream','77WkLWKb','logger','stream/start','metadata','Query','3810mqKEBn','../auth/guards/jwt.guard','audioService','Post','error','/play/','name','Res','StreamingController','Viewer','3879IJOXbW','../auth/decorators/roles.decorator','Logger','StreamingService','stopStreamAudio','1341360zhsJIn','join','Success\x20play\x20sound:\x20','Roles','__decorate','UseGuards','JwtAuthGuard','1520eFXlqG','4mOeWhT','RolesGuard','cwd','@nestjs/common','10bTWuBe','247136mWwWMZ','10424kWDSKE','getOwnPropertyDescriptor','path','prototype','design:type','/stop','__param','design:paramtypes','Controller','startStreaming','./streaming.service','User','112359sCCoVl','audio','Role','230450GNMNWu','log','playStreamAudio','1968FaECkV','Admin','../auth/guards/roles.guard','createStreamFromFile','Get'];a137_0x10ff=function(){return _0x29c1b8;};return a137_0x10ff();}const common_1=require(a137_0x1bc121(0x21a)),path_1=require(a137_0x1bc121(0x1e0)),streaming_service_1=require(a137_0x1bc121(0x1e8)),roles_decorator_1=require(a137_0x1bc121(0x20b)),role_enum_1=require('../auth/enums/role.enum'),jwt_guard_1=require(a137_0x1bc121(0x201)),roles_guard_1=require(a137_0x1bc121(0x1f2));let StreamingController=StreamingController_1=class StreamingController{constructor(_0x4f3616){const _0x38316e=a137_0x1bc121;this['audioService']=_0x4f3616,this[_0x38316e(0x1fc)]=new common_1[(_0x38316e(0x20c))](StreamingController_1[_0x38316e(0x206)]);}async[a137_0x1bc121(0x1f5)](_0x427e26,_0x12b40f){const _0x1fc579=a137_0x1bc121;try{const _0x4437d7=(0x0,path_1[_0x1fc579(0x210)])(process[_0x1fc579(0x219)](),_0x427e26),_0x436f73=this[_0x1fc579(0x202)][_0x1fc579(0x1f3)](_0x4437d7);this[_0x1fc579(0x202)][_0x1fc579(0x1ef)](_0x436f73),_0x12b40f['send'](_0x1fc579(0x211)+_0x4437d7);}catch(_0x41c150){return this[_0x1fc579(0x1fc)][_0x1fc579(0x1ee)](_0x41c150,_0x1fc579(0x204)),'';}}async[a137_0x1bc121(0x1e7)](){const _0x2b74c6=a137_0x1bc121;try{this['audioService'][_0x2b74c6(0x1fa)]();}catch(_0x3c2096){this['logger'][_0x2b74c6(0x1ee)](_0x3c2096);}}async[a137_0x1bc121(0x20e)](_0x582530){const _0x51901b=a137_0x1bc121;this[_0x51901b(0x202)][_0x51901b(0x20e)]();}};__decorate([(0x0,common_1[a137_0x1bc121(0x203)])(a137_0x1bc121(0x205)),(0x0,common_1[a137_0x1bc121(0x214)])(jwt_guard_1[a137_0x1bc121(0x215)],roles_guard_1[a137_0x1bc121(0x218)]),(0x0,roles_decorator_1[a137_0x1bc121(0x212)])(role_enum_1['Role']['Admin'],role_enum_1[a137_0x1bc121(0x1ec)]['User'],role_enum_1[a137_0x1bc121(0x1ec)][a137_0x1bc121(0x209)]),__param(0x0,(0x0,common_1[a137_0x1bc121(0x1ff)])('filePath')),__param(0x1,(0x0,common_1[a137_0x1bc121(0x207)])({'passthrough':!![]})),__metadata(a137_0x1bc121(0x1e2),Function),__metadata(a137_0x1bc121(0x1e5),[String,Object]),__metadata(a137_0x1bc121(0x1f7),Promise)],StreamingController[a137_0x1bc121(0x1e1)],'playAudioFile',null),__decorate([(0x0,common_1[a137_0x1bc121(0x1f4)])(a137_0x1bc121(0x1fd)),(0x0,common_1[a137_0x1bc121(0x214)])(jwt_guard_1[a137_0x1bc121(0x215)],roles_guard_1[a137_0x1bc121(0x218)]),(0x0,roles_decorator_1[a137_0x1bc121(0x212)])(role_enum_1[a137_0x1bc121(0x1ec)][a137_0x1bc121(0x1f1)],role_enum_1[a137_0x1bc121(0x1ec)][a137_0x1bc121(0x1e9)],role_enum_1[a137_0x1bc121(0x1ec)]['Viewer']),__metadata('design:type',Function),__metadata(a137_0x1bc121(0x1e5),[]),__metadata(a137_0x1bc121(0x1f7),Promise)],StreamingController[a137_0x1bc121(0x1e1)],a137_0x1bc121(0x1e7),null),__decorate([(0x0,common_1[a137_0x1bc121(0x1f4)])(a137_0x1bc121(0x1e3)),(0x0,common_1[a137_0x1bc121(0x214)])(jwt_guard_1[a137_0x1bc121(0x215)],roles_guard_1[a137_0x1bc121(0x218)]),(0x0,roles_decorator_1[a137_0x1bc121(0x212)])(role_enum_1[a137_0x1bc121(0x1ec)][a137_0x1bc121(0x1f1)],role_enum_1[a137_0x1bc121(0x1ec)][a137_0x1bc121(0x1e9)],role_enum_1['Role'][a137_0x1bc121(0x209)]),__param(0x0,(0x0,common_1[a137_0x1bc121(0x207)])({'passthrough':!![]})),__metadata(a137_0x1bc121(0x1e2),Function),__metadata('design:paramtypes',[Object]),__metadata(a137_0x1bc121(0x1f7),Promise)],StreamingController['prototype'],a137_0x1bc121(0x20e),null),StreamingController=StreamingController_1=__decorate([(0x0,common_1[a137_0x1bc121(0x1e6)])(a137_0x1bc121(0x1eb)),__metadata(a137_0x1bc121(0x1e5),[streaming_service_1[a137_0x1bc121(0x20d)]])],StreamingController),exports[a137_0x1bc121(0x208)]=StreamingController;