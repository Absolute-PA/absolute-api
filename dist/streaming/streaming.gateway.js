'use strict';var a136_0x5b2cde=a136_0x1604;(function(_0x48fd27,_0x474bc2){var _0x2b557d=a136_0x1604,_0x5664ad=_0x48fd27();while(!![]){try{var _0x5efdc1=-parseInt(_0x2b557d(0x1dd))/0x1*(-parseInt(_0x2b557d(0x1d4))/0x2)+parseInt(_0x2b557d(0x1be))/0x3+-parseInt(_0x2b557d(0x1e7))/0x4+-parseInt(_0x2b557d(0x1bd))/0x5+parseInt(_0x2b557d(0x1bf))/0x6+-parseInt(_0x2b557d(0x1df))/0x7*(parseInt(_0x2b557d(0x1da))/0x8)+parseInt(_0x2b557d(0x1c1))/0x9;if(_0x5efdc1===_0x474bc2)break;else _0x5664ad['push'](_0x5664ad['shift']());}catch(_0x78f60a){_0x5664ad['push'](_0x5664ad['shift']());}}}(a136_0x27cc,0x996f6));var __decorate=this&&this[a136_0x5b2cde(0x1cb)]||function(_0x1b5a4b,_0x101d48,_0x5408ff,_0x338b4c){var _0x2aeed5=a136_0x5b2cde,_0x57f70b=arguments[_0x2aeed5(0x1ca)],_0x271ec8=_0x57f70b<0x3?_0x101d48:_0x338b4c===null?_0x338b4c=Object[_0x2aeed5(0x1e1)](_0x101d48,_0x5408ff):_0x338b4c,_0x40e7bd;if(typeof Reflect===_0x2aeed5(0x1bc)&&typeof Reflect[_0x2aeed5(0x1b8)]===_0x2aeed5(0x1e6))_0x271ec8=Reflect['decorate'](_0x1b5a4b,_0x101d48,_0x5408ff,_0x338b4c);else{for(var _0x4b8626=_0x1b5a4b[_0x2aeed5(0x1ca)]-0x1;_0x4b8626>=0x0;_0x4b8626--)if(_0x40e7bd=_0x1b5a4b[_0x4b8626])_0x271ec8=(_0x57f70b<0x3?_0x40e7bd(_0x271ec8):_0x57f70b>0x3?_0x40e7bd(_0x101d48,_0x5408ff,_0x271ec8):_0x40e7bd(_0x101d48,_0x5408ff))||_0x271ec8;}return _0x57f70b>0x3&&_0x271ec8&&Object[_0x2aeed5(0x1c7)](_0x101d48,_0x5408ff,_0x271ec8),_0x271ec8;},__metadata=this&&this[a136_0x5b2cde(0x1d0)]||function(_0xaf5189,_0x1dfdd2){var _0x5b02a3=a136_0x5b2cde;if(typeof Reflect===_0x5b02a3(0x1bc)&&typeof Reflect[_0x5b02a3(0x1de)]===_0x5b02a3(0x1e6))return Reflect[_0x5b02a3(0x1de)](_0xaf5189,_0x1dfdd2);},__param=this&&this['__param']||function(_0xaac296,_0x35edec){return function(_0x277dbf,_0x2f0b4c){_0x35edec(_0x277dbf,_0x2f0b4c,_0xaac296);};};Object[a136_0x5b2cde(0x1c7)](exports,a136_0x5b2cde(0x1bb),{'value':!![]}),exports['StreamingGateway']=void 0x0;const common_1=require(a136_0x5b2cde(0x1cc)),websockets_1=require(a136_0x5b2cde(0x1c6)),socket_io_1=require(a136_0x5b2cde(0x1d7));function a136_0x1604(_0x2e111d,_0x4438d3){var _0x27ccc5=a136_0x27cc();return a136_0x1604=function(_0x16047b,_0x203bab){_0x16047b=_0x16047b-0x1b7;var _0x38634a=_0x27ccc5[_0x16047b];return _0x38634a;},a136_0x1604(_0x2e111d,_0x4438d3);}function a136_0x27cc(){var _0x2fa16c=['design:type','decorate','Server','WebSocketGateway','__esModule','object','5183120rHEMWI','214992UfWRsr','1965054xPsheD','Initialized','10385973SDITjL','MessageBody','afterInit','error','volumeChange','@nestjs/websockets','defineProperty','handleVolumeChange','handleDisconnect','length','__decorate','@nestjs/common','log','wss','design:returntype','__metadata','prototype','serverPeerId','handshake','6kBTuGL','connect_error','logger','socket.io','handleServerPeerId','design:paramtypes','1951784hbMcHJ','volume','query','152307yVOrmr','metadata','7NztJOt','handleError','getOwnPropertyDescriptor','StreamingGateway','name','emit','SubscribeMessage','function','404096HgvpYO'];a136_0x27cc=function(){return _0x2fa16c;};return a136_0x27cc();}let StreamingGateway=class StreamingGateway{constructor(){this['logger']=new common_1['Logger']('MessageGateway');}[a136_0x5b2cde(0x1c3)](_0x251915){var _0x181b8a=a136_0x5b2cde;this[_0x181b8a(0x1d6)][_0x181b8a(0x1cd)](_0x181b8a(0x1c0));}[a136_0x5b2cde(0x1c9)](_0x26efbc){var _0x344bc0=a136_0x5b2cde;const _0x364c62=_0x26efbc[_0x344bc0(0x1d3)][_0x344bc0(0x1dc)]['name'];}['handleConnection'](_0x36f5f9,..._0x3438a2){var _0x2ea930=a136_0x5b2cde;const _0x1c296d=_0x36f5f9[_0x2ea930(0x1d3)]['query'][_0x2ea930(0x1e3)];}async[a136_0x5b2cde(0x1e0)](_0x5bb70a){var _0x4a0c3f=a136_0x5b2cde;this['logger'][_0x4a0c3f(0x1c4)](_0x5bb70a);}async[a136_0x5b2cde(0x1d8)](_0x1ddf1d,_0x5e5ea3){var _0x217daa=a136_0x5b2cde;this[_0x217daa(0x1ce)][_0x217daa(0x1e4)](_0x217daa(0x1d2),_0x5e5ea3);}async[a136_0x5b2cde(0x1c8)](_0x2a119d){var _0x443c4c=a136_0x5b2cde;return this['wss'][_0x443c4c(0x1e4)](_0x443c4c(0x1c5),_0x2a119d),_0x2a119d;}async['reconnectPeer'](){var _0x1dd37a=a136_0x5b2cde;this[_0x1dd37a(0x1ce)][_0x1dd37a(0x1e4)]('reconnectPeerjs');}};__decorate([(0x0,websockets_1['WebSocketServer'])(),__metadata('design:type',socket_io_1[a136_0x5b2cde(0x1b9)])],StreamingGateway[a136_0x5b2cde(0x1d1)],a136_0x5b2cde(0x1ce),void 0x0),__decorate([(0x0,websockets_1['SubscribeMessage'])(a136_0x5b2cde(0x1d5)),__metadata(a136_0x5b2cde(0x1b7),Function),__metadata(a136_0x5b2cde(0x1d9),[Object]),__metadata(a136_0x5b2cde(0x1cf),Promise)],StreamingGateway[a136_0x5b2cde(0x1d1)],a136_0x5b2cde(0x1e0),null),__decorate([(0x0,websockets_1[a136_0x5b2cde(0x1e5)])(a136_0x5b2cde(0x1d2)),__metadata('design:type',Function),__metadata('design:paramtypes',[socket_io_1['Socket'],String]),__metadata(a136_0x5b2cde(0x1cf),Promise)],StreamingGateway[a136_0x5b2cde(0x1d1)],a136_0x5b2cde(0x1d8),null),__decorate([(0x0,websockets_1[a136_0x5b2cde(0x1e5)])(a136_0x5b2cde(0x1db)),__param(0x0,(0x0,websockets_1[a136_0x5b2cde(0x1c2)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[Number]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x5b2cde(0x1d1)],a136_0x5b2cde(0x1c8),null),StreamingGateway=__decorate([(0x0,common_1['Injectable'])(),(0x0,websockets_1[a136_0x5b2cde(0x1ba)])({'cors':!![]})],StreamingGateway),exports[a136_0x5b2cde(0x1e2)]=StreamingGateway;