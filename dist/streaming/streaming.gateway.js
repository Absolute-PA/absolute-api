'use strict';function a139_0x4aaa(){var _0x269517=['query','volumeChange','emit','reconnectPeer','wss','design:paramtypes','length','log','51420pVLHtI','224wGOybq','volume','322130yvskwa','@nestjs/websockets','13oYhzWb','SubscribeMessage','30NDFpdU','2sIsYQB','WebSocketServer','reconnectPeerjs','MessageBody','__decorate','handleDisconnect','8557008SVlqTJ','connect_error','getOwnPropertyDescriptor','handleError','MessageGateway','210618fkeFwV','Socket','1132016dJMWbP','3lESvCs','decorate','handshake','design:type','@nestjs/common','651070sgGzrt','function','StreamingGateway','578586IEaZga','defineProperty','design:returntype','__esModule','prototype','Server','metadata','logger','error','WebSocketGateway','object','handleVolumeChange','__param','55XufAIY','serverPeerId','Initialized'];a139_0x4aaa=function(){return _0x269517;};return a139_0x4aaa();}var a139_0x1665af=a139_0x3d33;(function(_0x14b2e0,_0x1822ea){var _0x3a6c99=a139_0x3d33,_0x2d8fe7=_0x14b2e0();while(!![]){try{var _0x37f1f2=parseInt(_0x3a6c99(0x7e))/0x1*(parseInt(_0x3a6c99(0x94))/0x2)+parseInt(_0x3a6c99(0x8c))/0x3*(-parseInt(_0x3a6c99(0x8b))/0x4)+-parseInt(_0x3a6c99(0x7d))/0x5*(-parseInt(_0x3a6c99(0x76))/0x6)+-parseInt(_0x3a6c99(0x91))/0x7+parseInt(_0x3a6c99(0x77))/0x8*(parseInt(_0x3a6c99(0x89))/0x9)+-parseInt(_0x3a6c99(0x79))/0xa*(-parseInt(_0x3a6c99(0x6b))/0xb)+-parseInt(_0x3a6c99(0x84))/0xc*(parseInt(_0x3a6c99(0x7b))/0xd);if(_0x37f1f2===_0x1822ea)break;else _0x2d8fe7['push'](_0x2d8fe7['shift']());}catch(_0x31fe89){_0x2d8fe7['push'](_0x2d8fe7['shift']());}}}(a139_0x4aaa,0x5736d));function a139_0x3d33(_0x18f167,_0x519e43){var _0x4aaabc=a139_0x4aaa();return a139_0x3d33=function(_0x3d33b6,_0x2bd808){_0x3d33b6=_0x3d33b6-0x64;var _0x2183ad=_0x4aaabc[_0x3d33b6];return _0x2183ad;},a139_0x3d33(_0x18f167,_0x519e43);}var __decorate=this&&this[a139_0x1665af(0x82)]||function(_0x344ef1,_0x4af434,_0x2fc493,_0x2eb586){var _0x4d1492=a139_0x1665af,_0x278909=arguments[_0x4d1492(0x74)],_0x16b496=_0x278909<0x3?_0x4af434:_0x2eb586===null?_0x2eb586=Object[_0x4d1492(0x86)](_0x4af434,_0x2fc493):_0x2eb586,_0x5ca736;if(typeof Reflect===_0x4d1492(0x68)&&typeof Reflect[_0x4d1492(0x8d)]===_0x4d1492(0x92))_0x16b496=Reflect['decorate'](_0x344ef1,_0x4af434,_0x2fc493,_0x2eb586);else{for(var _0x3f870a=_0x344ef1[_0x4d1492(0x74)]-0x1;_0x3f870a>=0x0;_0x3f870a--)if(_0x5ca736=_0x344ef1[_0x3f870a])_0x16b496=(_0x278909<0x3?_0x5ca736(_0x16b496):_0x278909>0x3?_0x5ca736(_0x4af434,_0x2fc493,_0x16b496):_0x5ca736(_0x4af434,_0x2fc493))||_0x16b496;}return _0x278909>0x3&&_0x16b496&&Object[_0x4d1492(0x95)](_0x4af434,_0x2fc493,_0x16b496),_0x16b496;},__metadata=this&&this['__metadata']||function(_0x51e0fa,_0x12780b){var _0x4fbb68=a139_0x1665af;if(typeof Reflect===_0x4fbb68(0x68)&&typeof Reflect[_0x4fbb68(0x64)]==='function')return Reflect[_0x4fbb68(0x64)](_0x51e0fa,_0x12780b);},__param=this&&this[a139_0x1665af(0x6a)]||function(_0x2126b7,_0x594e57){return function(_0x677cc7,_0x11affc){_0x594e57(_0x677cc7,_0x11affc,_0x2126b7);};};Object['defineProperty'](exports,a139_0x1665af(0x97),{'value':!![]}),exports[a139_0x1665af(0x93)]=void 0x0;const common_1=require(a139_0x1665af(0x90)),websockets_1=require(a139_0x1665af(0x7a)),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){var _0x4db126=a139_0x1665af;this[_0x4db126(0x65)]=new common_1['Logger'](_0x4db126(0x88));}['afterInit'](_0x245319){var _0x146dc4=a139_0x1665af;this[_0x146dc4(0x65)][_0x146dc4(0x75)](_0x146dc4(0x6d));}[a139_0x1665af(0x83)](_0x4eee68){var _0x234a71=a139_0x1665af;const _0x2bfb2d=_0x4eee68[_0x234a71(0x8e)][_0x234a71(0x6e)]['name'];}['handleConnection'](_0x3bcf0a,..._0x28d01f){var _0x179d7c=a139_0x1665af;const _0x3b9ca9=_0x3bcf0a[_0x179d7c(0x8e)]['query']['name'];}async[a139_0x1665af(0x87)](_0x5f323e){var _0x414a13=a139_0x1665af;this['logger'][_0x414a13(0x66)](_0x5f323e);}async['handleServerPeerId'](_0x4be709,_0x9451c1){var _0x2e3795=a139_0x1665af;this[_0x2e3795(0x72)]['emit'](_0x2e3795(0x6c),_0x9451c1);}async['handleVolumeChange'](_0x5d8154){var _0x5f0e95=a139_0x1665af;return this['wss'][_0x5f0e95(0x70)](_0x5f0e95(0x6f),_0x5d8154),_0x5d8154;}async[a139_0x1665af(0x71)](){var _0x5e0adb=a139_0x1665af;this[_0x5e0adb(0x72)][_0x5e0adb(0x70)](_0x5e0adb(0x80));}};__decorate([(0x0,websockets_1[a139_0x1665af(0x7f)])(),__metadata(a139_0x1665af(0x8f),socket_io_1[a139_0x1665af(0x99)])],StreamingGateway[a139_0x1665af(0x98)],'wss',void 0x0),__decorate([(0x0,websockets_1[a139_0x1665af(0x7c)])(a139_0x1665af(0x85)),__metadata(a139_0x1665af(0x8f),Function),__metadata(a139_0x1665af(0x73),[Object]),__metadata('design:returntype',Promise)],StreamingGateway['prototype'],a139_0x1665af(0x87),null),__decorate([(0x0,websockets_1[a139_0x1665af(0x7c)])('serverPeerId'),__metadata(a139_0x1665af(0x8f),Function),__metadata(a139_0x1665af(0x73),[socket_io_1[a139_0x1665af(0x8a)],String]),__metadata(a139_0x1665af(0x96),Promise)],StreamingGateway['prototype'],'handleServerPeerId',null),__decorate([(0x0,websockets_1[a139_0x1665af(0x7c)])(a139_0x1665af(0x78)),__param(0x0,(0x0,websockets_1[a139_0x1665af(0x81)])()),__metadata(a139_0x1665af(0x8f),Function),__metadata('design:paramtypes',[Number]),__metadata(a139_0x1665af(0x96),Promise)],StreamingGateway[a139_0x1665af(0x98)],a139_0x1665af(0x69),null),StreamingGateway=__decorate([(0x0,common_1['Injectable'])(),(0x0,websockets_1[a139_0x1665af(0x67)])({'cors':!![]})],StreamingGateway),exports[a139_0x1665af(0x93)]=StreamingGateway;