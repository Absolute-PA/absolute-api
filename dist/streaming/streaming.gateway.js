'use strict';function a139_0x2aea(){var _0x41cc8e=['36128502wfwgtJ','__decorate','491042ICfUmi','__esModule','MessageGateway','__metadata','prototype','619234woaWDA','4325592scagTi','object','handleError','8510016UiSAyK','decorate','log','WebSocketGateway','error','socket.io','SubscribeMessage','Logger','getOwnPropertyDescriptor','MessageBody','handshake','design:paramtypes','query','defineProperty','length','WebSocketServer','@nestjs/websockets','metadata','5609120pUfyyH','wss','__param','4909828mHpwmP','afterInit','serverPeerId','handleServerPeerId','Injectable','StreamingGateway','function','5zZBaXi','design:type','name','design:returntype','logger','handleVolumeChange','connect_error','3EYXuPy'];a139_0x2aea=function(){return _0x41cc8e;};return a139_0x2aea();}var a139_0x75bde1=a139_0x1eaa;(function(_0x4b46c2,_0x603396){var _0x1f54cc=a139_0x1eaa,_0x5b92e2=_0x4b46c2();while(!![]){try{var _0x4ab36d=parseInt(_0x1f54cc(0x91))/0x1+-parseInt(_0x1f54cc(0x8c))/0x2*(-parseInt(_0x1f54cc(0xb8))/0x3)+parseInt(_0x1f54cc(0xa7))/0x4+-parseInt(_0x1f54cc(0xb1))/0x5*(-parseInt(_0x1f54cc(0x92))/0x6)+parseInt(_0x1f54cc(0xaa))/0x7+parseInt(_0x1f54cc(0x95))/0x8+-parseInt(_0x1f54cc(0xb9))/0x9;if(_0x4ab36d===_0x603396)break;else _0x5b92e2['push'](_0x5b92e2['shift']());}catch(_0x2abf6c){_0x5b92e2['push'](_0x5b92e2['shift']());}}}(a139_0x2aea,0xb461d));function a139_0x1eaa(_0x428d4a,_0x41aa5d){var _0x2aea93=a139_0x2aea();return a139_0x1eaa=function(_0x1eaa17,_0x1511d6){_0x1eaa17=_0x1eaa17-0x8c;var _0x2795bd=_0x2aea93[_0x1eaa17];return _0x2795bd;},a139_0x1eaa(_0x428d4a,_0x41aa5d);}var __decorate=this&&this[a139_0x75bde1(0xba)]||function(_0x2da380,_0x246351,_0x374c0c,_0x544924){var _0x277f13=a139_0x75bde1,_0x159987=arguments[_0x277f13(0xa3)],_0x2e6a55=_0x159987<0x3?_0x246351:_0x544924===null?_0x544924=Object[_0x277f13(0x9d)](_0x246351,_0x374c0c):_0x544924,_0x3c9406;if(typeof Reflect==='object'&&typeof Reflect[_0x277f13(0x96)]===_0x277f13(0xb0))_0x2e6a55=Reflect[_0x277f13(0x96)](_0x2da380,_0x246351,_0x374c0c,_0x544924);else{for(var _0x1d6763=_0x2da380[_0x277f13(0xa3)]-0x1;_0x1d6763>=0x0;_0x1d6763--)if(_0x3c9406=_0x2da380[_0x1d6763])_0x2e6a55=(_0x159987<0x3?_0x3c9406(_0x2e6a55):_0x159987>0x3?_0x3c9406(_0x246351,_0x374c0c,_0x2e6a55):_0x3c9406(_0x246351,_0x374c0c))||_0x2e6a55;}return _0x159987>0x3&&_0x2e6a55&&Object['defineProperty'](_0x246351,_0x374c0c,_0x2e6a55),_0x2e6a55;},__metadata=this&&this[a139_0x75bde1(0x8f)]||function(_0x3b8e45,_0x58d859){var _0x355752=a139_0x75bde1;if(typeof Reflect===_0x355752(0x93)&&typeof Reflect[_0x355752(0xa6)]===_0x355752(0xb0))return Reflect[_0x355752(0xa6)](_0x3b8e45,_0x58d859);},__param=this&&this[a139_0x75bde1(0xa9)]||function(_0x5184e6,_0x5e1a08){return function(_0x1467e0,_0x4019b3){_0x5e1a08(_0x1467e0,_0x4019b3,_0x5184e6);};};Object[a139_0x75bde1(0xa2)](exports,a139_0x75bde1(0x8d),{'value':!![]}),exports['StreamingGateway']=void 0x0;const common_1=require('@nestjs/common'),websockets_1=require(a139_0x75bde1(0xa5)),socket_io_1=require(a139_0x75bde1(0x9a));let StreamingGateway=class StreamingGateway{constructor(){var _0x451db8=a139_0x75bde1;this['logger']=new common_1[(_0x451db8(0x9c))](_0x451db8(0x8e));}[a139_0x75bde1(0xab)](_0x141f55){var _0x412631=a139_0x75bde1;this[_0x412631(0xb5)][_0x412631(0x97)]('Initialized');}['handleDisconnect'](_0x483b79){var _0x3df6a9=a139_0x75bde1;const _0x3adc3f=_0x483b79[_0x3df6a9(0x9f)][_0x3df6a9(0xa1)][_0x3df6a9(0xb3)];}['handleConnection'](_0x2fc3ff,..._0x1a85df){var _0x56c684=a139_0x75bde1;const _0x2ac646=_0x2fc3ff[_0x56c684(0x9f)][_0x56c684(0xa1)][_0x56c684(0xb3)];}async[a139_0x75bde1(0x94)](_0x32df70){var _0x169b06=a139_0x75bde1;this[_0x169b06(0xb5)][_0x169b06(0x99)](_0x32df70);}async['handleServerPeerId'](_0x5378ef,_0x29bf37){var _0x5d1cc0=a139_0x75bde1;this[_0x5d1cc0(0xa8)]['emit'](_0x5d1cc0(0xac),_0x29bf37);}async[a139_0x75bde1(0xb6)](_0xc738ef){var _0x364d0f=a139_0x75bde1;return this[_0x364d0f(0xa8)]['emit']('volumeChange',_0xc738ef),_0xc738ef;}async['reconnectPeer'](){var _0x6fbdb=a139_0x75bde1;this[_0x6fbdb(0xa8)]['emit']('reconnectPeerjs');}};__decorate([(0x0,websockets_1[a139_0x75bde1(0xa4)])(),__metadata(a139_0x75bde1(0xb2),socket_io_1['Server'])],StreamingGateway[a139_0x75bde1(0x90)],a139_0x75bde1(0xa8),void 0x0),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0x75bde1(0xb7)),__metadata(a139_0x75bde1(0xb2),Function),__metadata('design:paramtypes',[Object]),__metadata(a139_0x75bde1(0xb4),Promise)],StreamingGateway[a139_0x75bde1(0x90)],'handleError',null),__decorate([(0x0,websockets_1[a139_0x75bde1(0x9b)])(a139_0x75bde1(0xac)),__metadata(a139_0x75bde1(0xb2),Function),__metadata(a139_0x75bde1(0xa0),[socket_io_1['Socket'],String]),__metadata(a139_0x75bde1(0xb4),Promise)],StreamingGateway[a139_0x75bde1(0x90)],a139_0x75bde1(0xad),null),__decorate([(0x0,websockets_1[a139_0x75bde1(0x9b)])('volume'),__param(0x0,(0x0,websockets_1[a139_0x75bde1(0x9e)])()),__metadata(a139_0x75bde1(0xb2),Function),__metadata(a139_0x75bde1(0xa0),[Number]),__metadata(a139_0x75bde1(0xb4),Promise)],StreamingGateway[a139_0x75bde1(0x90)],a139_0x75bde1(0xb6),null),StreamingGateway=__decorate([(0x0,common_1[a139_0x75bde1(0xae)])(),(0x0,websockets_1[a139_0x75bde1(0x98)])({'cors':!![]})],StreamingGateway),exports[a139_0x75bde1(0xaf)]=StreamingGateway;