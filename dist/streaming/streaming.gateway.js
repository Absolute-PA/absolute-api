'use strict';var a136_0x774673=a136_0x3bd7;(function(_0x2322e5,_0x25c0d){var _0x56ac3d=a136_0x3bd7,_0xd0fb0c=_0x2322e5();while(!![]){try{var _0x4352f6=parseInt(_0x56ac3d(0x1d0))/0x1+parseInt(_0x56ac3d(0x1cf))/0x2+-parseInt(_0x56ac3d(0x1b4))/0x3*(parseInt(_0x56ac3d(0x1d2))/0x4)+-parseInt(_0x56ac3d(0x1af))/0x5+parseInt(_0x56ac3d(0x1ba))/0x6+-parseInt(_0x56ac3d(0x1ad))/0x7*(parseInt(_0x56ac3d(0x1ae))/0x8)+parseInt(_0x56ac3d(0x1b1))/0x9*(-parseInt(_0x56ac3d(0x1d1))/0xa);if(_0x4352f6===_0x25c0d)break;else _0xd0fb0c['push'](_0xd0fb0c['shift']());}catch(_0x267df9){_0xd0fb0c['push'](_0xd0fb0c['shift']());}}}(a136_0xc94a,0xe030d));var __decorate=this&&this[a136_0x774673(0x1c4)]||function(_0x4058a5,_0x18fbab,_0x4d979f,_0x16319a){var _0x42e01f=a136_0x774673,_0xae58f5=arguments[_0x42e01f(0x1ac)],_0x3b5957=_0xae58f5<0x3?_0x18fbab:_0x16319a===null?_0x16319a=Object[_0x42e01f(0x1a8)](_0x18fbab,_0x4d979f):_0x16319a,_0x5a9643;if(typeof Reflect==='object'&&typeof Reflect[_0x42e01f(0x1c8)]===_0x42e01f(0x1a6))_0x3b5957=Reflect[_0x42e01f(0x1c8)](_0x4058a5,_0x18fbab,_0x4d979f,_0x16319a);else{for(var _0x2be524=_0x4058a5[_0x42e01f(0x1ac)]-0x1;_0x2be524>=0x0;_0x2be524--)if(_0x5a9643=_0x4058a5[_0x2be524])_0x3b5957=(_0xae58f5<0x3?_0x5a9643(_0x3b5957):_0xae58f5>0x3?_0x5a9643(_0x18fbab,_0x4d979f,_0x3b5957):_0x5a9643(_0x18fbab,_0x4d979f))||_0x3b5957;}return _0xae58f5>0x3&&_0x3b5957&&Object[_0x42e01f(0x1cc)](_0x18fbab,_0x4d979f,_0x3b5957),_0x3b5957;},__metadata=this&&this[a136_0x774673(0x1a5)]||function(_0x318b46,_0xea983d){var _0x5ab7e6=a136_0x774673;if(typeof Reflect==='object'&&typeof Reflect[_0x5ab7e6(0x1d4)]===_0x5ab7e6(0x1a6))return Reflect[_0x5ab7e6(0x1d4)](_0x318b46,_0xea983d);},__param=this&&this['__param']||function(_0x175238,_0x45a825){return function(_0x439ed4,_0x32acbe){_0x45a825(_0x439ed4,_0x32acbe,_0x175238);};};function a136_0xc94a(){var _0x31dbe5=['name','@nestjs/common','__decorate','reconnectPeerjs','query','Initialized','decorate','StreamingGateway','__esModule','design:returntype','defineProperty','MessageGateway','Injectable','2132590sIuZja','1353075RSCzPV','10NZUHNI','8VbFsKG','prototype','metadata','handleServerPeerId','__metadata','function','serverPeerId','getOwnPropertyDescriptor','WebSocketGateway','handleError','Server','length','14EVlbuZ','3317280jikVna','583245Pcldah','design:paramtypes','17244873UFxzFz','logger','handleVolumeChange','470121yQlkKs','handshake','wss','design:type','reconnectPeer','handleDisconnect','10046370pUcsUj','Socket','Logger','SubscribeMessage','@nestjs/websockets','afterInit','MessageBody','emit'];a136_0xc94a=function(){return _0x31dbe5;};return a136_0xc94a();}Object['defineProperty'](exports,a136_0x774673(0x1ca),{'value':!![]}),exports[a136_0x774673(0x1c9)]=void 0x0;const common_1=require(a136_0x774673(0x1c3)),websockets_1=require(a136_0x774673(0x1be)),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){var _0x3e9336=a136_0x774673;this[_0x3e9336(0x1b2)]=new common_1[(_0x3e9336(0x1bc))](_0x3e9336(0x1cd));}[a136_0x774673(0x1bf)](_0x3c652c){var _0x36b793=a136_0x774673;this[_0x36b793(0x1b2)]['log'](_0x36b793(0x1c7));}[a136_0x774673(0x1b9)](_0x5be300){var _0x4e32c3=a136_0x774673;const _0x4d812c=_0x5be300['handshake'][_0x4e32c3(0x1c6)][_0x4e32c3(0x1c2)];}['handleConnection'](_0x56660e,..._0x4584f8){var _0x46b54f=a136_0x774673;const _0x4ebe52=_0x56660e[_0x46b54f(0x1b5)]['query'][_0x46b54f(0x1c2)];}async[a136_0x774673(0x1aa)](_0x1ecdca){var _0x267d20=a136_0x774673;this[_0x267d20(0x1b2)]['error'](_0x1ecdca);}async[a136_0x774673(0x1a4)](_0x1ac71b,_0x4ad97b){var _0x1e415e=a136_0x774673;this[_0x1e415e(0x1b6)][_0x1e415e(0x1c1)](_0x1e415e(0x1a7),_0x4ad97b);}async[a136_0x774673(0x1b3)](_0x39b359){var _0x5dd9d5=a136_0x774673;return this[_0x5dd9d5(0x1b6)]['emit']('volumeChange',_0x39b359),_0x39b359;}async[a136_0x774673(0x1b8)](){var _0x12624e=a136_0x774673;this[_0x12624e(0x1b6)][_0x12624e(0x1c1)](_0x12624e(0x1c5));}};function a136_0x3bd7(_0x1481fa,_0x4a49e7){var _0xc94a73=a136_0xc94a();return a136_0x3bd7=function(_0x3bd763,_0x42e0f1){_0x3bd763=_0x3bd763-0x1a4;var _0x5a7c17=_0xc94a73[_0x3bd763];return _0x5a7c17;},a136_0x3bd7(_0x1481fa,_0x4a49e7);}__decorate([(0x0,websockets_1['WebSocketServer'])(),__metadata(a136_0x774673(0x1b7),socket_io_1[a136_0x774673(0x1ab)])],StreamingGateway['prototype'],a136_0x774673(0x1b6),void 0x0),__decorate([(0x0,websockets_1[a136_0x774673(0x1bd)])('connect_error'),__metadata(a136_0x774673(0x1b7),Function),__metadata(a136_0x774673(0x1b0),[Object]),__metadata(a136_0x774673(0x1cb),Promise)],StreamingGateway['prototype'],a136_0x774673(0x1aa),null),__decorate([(0x0,websockets_1['SubscribeMessage'])('serverPeerId'),__metadata(a136_0x774673(0x1b7),Function),__metadata(a136_0x774673(0x1b0),[socket_io_1[a136_0x774673(0x1bb)],String]),__metadata(a136_0x774673(0x1cb),Promise)],StreamingGateway[a136_0x774673(0x1d3)],a136_0x774673(0x1a4),null),__decorate([(0x0,websockets_1['SubscribeMessage'])('volume'),__param(0x0,(0x0,websockets_1[a136_0x774673(0x1c0)])()),__metadata(a136_0x774673(0x1b7),Function),__metadata(a136_0x774673(0x1b0),[Number]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x774673(0x1d3)],a136_0x774673(0x1b3),null),StreamingGateway=__decorate([(0x0,common_1[a136_0x774673(0x1ce)])(),(0x0,websockets_1[a136_0x774673(0x1a9)])({'cors':!![]})],StreamingGateway),exports[a136_0x774673(0x1c9)]=StreamingGateway;