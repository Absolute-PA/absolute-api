'use strict';var a139_0x4be79b=a139_0x2fe2;(function(_0x5a48d1,_0xeb30ff){var _0x1daa48=a139_0x2fe2,_0x4b9399=_0x5a48d1();while(!![]){try{var _0x1421c8=-parseInt(_0x1daa48(0x1f2))/0x1+-parseInt(_0x1daa48(0x1ec))/0x2*(-parseInt(_0x1daa48(0x1fa))/0x3)+-parseInt(_0x1daa48(0x205))/0x4+parseInt(_0x1daa48(0x1da))/0x5*(-parseInt(_0x1daa48(0x1d8))/0x6)+-parseInt(_0x1daa48(0x1db))/0x7+parseInt(_0x1daa48(0x1df))/0x8*(-parseInt(_0x1daa48(0x1e3))/0x9)+parseInt(_0x1daa48(0x1d9))/0xa*(parseInt(_0x1daa48(0x1f7))/0xb);if(_0x1421c8===_0xeb30ff)break;else _0x4b9399['push'](_0x4b9399['shift']());}catch(_0x3dd0fc){_0x4b9399['push'](_0x4b9399['shift']());}}}(a139_0x2a25,0x8a935));function a139_0x2fe2(_0xa44bc4,_0x1c4673){var _0x2a2595=a139_0x2a25();return a139_0x2fe2=function(_0x2fe25a,_0x594019){_0x2fe25a=_0x2fe25a-0x1d5;var _0x837244=_0x2a2595[_0x2fe25a];return _0x837244;},a139_0x2fe2(_0xa44bc4,_0x1c4673);}var __decorate=this&&this[a139_0x4be79b(0x1f9)]||function(_0x39e0f0,_0x41d3b,_0x283a9d,_0x58a4b5){var _0x1728c6=a139_0x4be79b,_0x5083e7=arguments[_0x1728c6(0x1e8)],_0x1fe350=_0x5083e7<0x3?_0x41d3b:_0x58a4b5===null?_0x58a4b5=Object[_0x1728c6(0x201)](_0x41d3b,_0x283a9d):_0x58a4b5,_0x2c67b2;if(typeof Reflect==='object'&&typeof Reflect[_0x1728c6(0x1dd)]===_0x1728c6(0x1f6))_0x1fe350=Reflect[_0x1728c6(0x1dd)](_0x39e0f0,_0x41d3b,_0x283a9d,_0x58a4b5);else{for(var _0x3355d1=_0x39e0f0[_0x1728c6(0x1e8)]-0x1;_0x3355d1>=0x0;_0x3355d1--)if(_0x2c67b2=_0x39e0f0[_0x3355d1])_0x1fe350=(_0x5083e7<0x3?_0x2c67b2(_0x1fe350):_0x5083e7>0x3?_0x2c67b2(_0x41d3b,_0x283a9d,_0x1fe350):_0x2c67b2(_0x41d3b,_0x283a9d))||_0x1fe350;}return _0x5083e7>0x3&&_0x1fe350&&Object[_0x1728c6(0x207)](_0x41d3b,_0x283a9d,_0x1fe350),_0x1fe350;},__metadata=this&&this[a139_0x4be79b(0x1e4)]||function(_0x2fc866,_0x53a78c){var _0x477022=a139_0x4be79b;if(typeof Reflect===_0x477022(0x209)&&typeof Reflect[_0x477022(0x1ee)]===_0x477022(0x1f6))return Reflect[_0x477022(0x1ee)](_0x2fc866,_0x53a78c);},__param=this&&this[a139_0x4be79b(0x1ed)]||function(_0x22147d,_0x4ec6d7){return function(_0x57e283,_0x23ea0f){_0x4ec6d7(_0x57e283,_0x23ea0f,_0x22147d);};};Object[a139_0x4be79b(0x207)](exports,a139_0x4be79b(0x1ea),{'value':!![]}),exports[a139_0x4be79b(0x203)]=void 0x0;const common_1=require('@nestjs/common'),websockets_1=require('@nestjs/websockets'),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){var _0x20af77=a139_0x4be79b;this[_0x20af77(0x1ef)]=new common_1[(_0x20af77(0x1e7))](_0x20af77(0x1ff));}[a139_0x4be79b(0x1f1)](_0x28da8b){var _0x254995=a139_0x4be79b;this[_0x254995(0x1ef)][_0x254995(0x1e0)](_0x254995(0x208));}[a139_0x4be79b(0x1f8)](_0x1c022a){var _0x48139a=a139_0x4be79b;const _0x5074be=_0x1c022a[_0x48139a(0x206)][_0x48139a(0x1dc)][_0x48139a(0x1fb)];}[a139_0x4be79b(0x1e9)](_0x2ccd84,..._0x11cb9b){var _0x162eec=a139_0x4be79b;const _0x3a1c6a=_0x2ccd84['handshake'][_0x162eec(0x1dc)]['name'];}async[a139_0x4be79b(0x1e1)](_0x463237){var _0x49e9f7=a139_0x4be79b;this[_0x49e9f7(0x1ef)]['error'](_0x463237);}async[a139_0x4be79b(0x1eb)](_0x15511e,_0x145eb9){var _0x16f066=a139_0x4be79b;this[_0x16f066(0x1de)][_0x16f066(0x204)]('serverPeerId',_0x145eb9);}async[a139_0x4be79b(0x1f4)](_0x5d79d4){var _0xaabb78=a139_0x4be79b;return this[_0xaabb78(0x1de)]['emit'](_0xaabb78(0x20a),_0x5d79d4),_0x5d79d4;}async['reconnectPeer'](){var _0x1bbb4e=a139_0x4be79b;this[_0x1bbb4e(0x1de)][_0x1bbb4e(0x204)](_0x1bbb4e(0x202));}};function a139_0x2a25(){var _0x39feb0=['handleVolumeChange','design:type','function','35733005CnQtav','handleDisconnect','__decorate','21417lLRomG','name','serverPeerId','Injectable','design:returntype','MessageGateway','Server','getOwnPropertyDescriptor','reconnectPeerjs','StreamingGateway','emit','1043288MUmcnV','handshake','defineProperty','Initialized','object','volumeChange','MessageBody','WebSocketServer','WebSocketGateway','708zEhDEu','10senqIx','25635FfzjtM','6715177DjktuT','query','decorate','wss','3347832QxNecp','log','handleError','connect_error','18bdCDyK','__metadata','prototype','volume','Logger','length','handleConnection','__esModule','handleServerPeerId','24rbfKzM','__param','metadata','logger','SubscribeMessage','afterInit','104441SDpsPk','design:paramtypes'];a139_0x2a25=function(){return _0x39feb0;};return a139_0x2a25();}__decorate([(0x0,websockets_1[a139_0x4be79b(0x1d6)])(),__metadata('design:type',socket_io_1[a139_0x4be79b(0x200)])],StreamingGateway[a139_0x4be79b(0x1e5)],'wss',void 0x0),__decorate([(0x0,websockets_1[a139_0x4be79b(0x1f0)])(a139_0x4be79b(0x1e2)),__metadata(a139_0x4be79b(0x1f5),Function),__metadata(a139_0x4be79b(0x1f3),[Object]),__metadata('design:returntype',Promise)],StreamingGateway[a139_0x4be79b(0x1e5)],a139_0x4be79b(0x1e1),null),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0x4be79b(0x1fc)),__metadata(a139_0x4be79b(0x1f5),Function),__metadata(a139_0x4be79b(0x1f3),[socket_io_1['Socket'],String]),__metadata('design:returntype',Promise)],StreamingGateway['prototype'],'handleServerPeerId',null),__decorate([(0x0,websockets_1[a139_0x4be79b(0x1f0)])(a139_0x4be79b(0x1e6)),__param(0x0,(0x0,websockets_1[a139_0x4be79b(0x1d5)])()),__metadata(a139_0x4be79b(0x1f5),Function),__metadata(a139_0x4be79b(0x1f3),[Number]),__metadata(a139_0x4be79b(0x1fe),Promise)],StreamingGateway[a139_0x4be79b(0x1e5)],'handleVolumeChange',null),StreamingGateway=__decorate([(0x0,common_1[a139_0x4be79b(0x1fd)])(),(0x0,websockets_1[a139_0x4be79b(0x1d7)])({'cors':!![]})],StreamingGateway),exports[a139_0x4be79b(0x203)]=StreamingGateway;