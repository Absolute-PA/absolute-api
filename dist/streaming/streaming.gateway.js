'use strict';var a136_0x13ca16=a136_0x2bde;function a136_0x5901(){var _0x83cb9=['wss','handleVolumeChange','design:paramtypes','624369tjDZOi','@nestjs/websockets','function','handleServerPeerId','design:type','logger','getOwnPropertyDescriptor','16RAmGdS','__param','log','4cQXZXU','defineProperty','object','WebSocketServer','33EapYVK','prototype','reconnectPeerjs','StreamingGateway','volumeChange','266218PxHcbM','handshake','reconnectPeer','handleConnection','handleError','686685xMaIEV','3210410KfgmGV','afterInit','Injectable','SubscribeMessage','WebSocketGateway','1517190rvjzvW','connect_error','__decorate','Initialized','3253113wJFQNZ','query','length','@nestjs/common','metadata','emit','serverPeerId','466529eJaWiA','MessageBody','decorate','24iLcgty'];a136_0x5901=function(){return _0x83cb9;};return a136_0x5901();}(function(_0x30d1a6,_0x44557c){var _0xf19143=a136_0x2bde,_0x460301=_0x30d1a6();while(!![]){try{var _0x4df7eb=parseInt(_0xf19143(0x1f5))/0x1+-parseInt(_0xf19143(0x20f))/0x2+-parseInt(_0xf19143(0x1fc))/0x3*(-parseInt(_0xf19143(0x206))/0x4)+parseInt(_0xf19143(0x214))/0x5*(parseInt(_0xf19143(0x1f8))/0x6)+parseInt(_0xf19143(0x215))/0x7+-parseInt(_0xf19143(0x203))/0x8*(parseInt(_0xf19143(0x1ee))/0x9)+-parseInt(_0xf19143(0x1ea))/0xa*(parseInt(_0xf19143(0x20a))/0xb);if(_0x4df7eb===_0x44557c)break;else _0x460301['push'](_0x460301['shift']());}catch(_0x4515f1){_0x460301['push'](_0x460301['shift']());}}}(a136_0x5901,0x5aafa));var __decorate=this&&this[a136_0x13ca16(0x1ec)]||function(_0x55715e,_0x2584fd,_0x49843e,_0x3027b0){var _0x2dfffe=a136_0x13ca16,_0x17357f=arguments['length'],_0x3ed68b=_0x17357f<0x3?_0x2584fd:_0x3027b0===null?_0x3027b0=Object[_0x2dfffe(0x202)](_0x2584fd,_0x49843e):_0x3027b0,_0x2d0f40;if(typeof Reflect===_0x2dfffe(0x208)&&typeof Reflect[_0x2dfffe(0x1f7)]===_0x2dfffe(0x1fe))_0x3ed68b=Reflect['decorate'](_0x55715e,_0x2584fd,_0x49843e,_0x3027b0);else{for(var _0x249348=_0x55715e[_0x2dfffe(0x1f0)]-0x1;_0x249348>=0x0;_0x249348--)if(_0x2d0f40=_0x55715e[_0x249348])_0x3ed68b=(_0x17357f<0x3?_0x2d0f40(_0x3ed68b):_0x17357f>0x3?_0x2d0f40(_0x2584fd,_0x49843e,_0x3ed68b):_0x2d0f40(_0x2584fd,_0x49843e))||_0x3ed68b;}return _0x17357f>0x3&&_0x3ed68b&&Object[_0x2dfffe(0x207)](_0x2584fd,_0x49843e,_0x3ed68b),_0x3ed68b;},__metadata=this&&this['__metadata']||function(_0x161a17,_0x3e78f0){var _0x468728=a136_0x13ca16;if(typeof Reflect===_0x468728(0x208)&&typeof Reflect[_0x468728(0x1f2)]===_0x468728(0x1fe))return Reflect[_0x468728(0x1f2)](_0x161a17,_0x3e78f0);},__param=this&&this[a136_0x13ca16(0x204)]||function(_0x3509c4,_0x141c25){return function(_0x2723e7,_0x27fb8e){_0x141c25(_0x2723e7,_0x27fb8e,_0x3509c4);};};Object[a136_0x13ca16(0x207)](exports,'__esModule',{'value':!![]}),exports[a136_0x13ca16(0x20d)]=void 0x0;const common_1=require(a136_0x13ca16(0x1f1)),websockets_1=require(a136_0x13ca16(0x1fd)),socket_io_1=require('socket.io');function a136_0x2bde(_0x335919,_0xd9927d){var _0x59019e=a136_0x5901();return a136_0x2bde=function(_0x2bde4a,_0x5545f7){_0x2bde4a=_0x2bde4a-0x1e9;var _0xa293dd=_0x59019e[_0x2bde4a];return _0xa293dd;},a136_0x2bde(_0x335919,_0xd9927d);}let StreamingGateway=class StreamingGateway{constructor(){var _0x5bd49e=a136_0x13ca16;this[_0x5bd49e(0x201)]=new common_1['Logger']('MessageGateway');}[a136_0x13ca16(0x216)](_0x2046b6){var _0x41497b=a136_0x13ca16;this[_0x41497b(0x201)][_0x41497b(0x205)](_0x41497b(0x1ed));}['handleDisconnect'](_0x23d6f8){var _0x195694=a136_0x13ca16;const _0x20274a=_0x23d6f8[_0x195694(0x210)][_0x195694(0x1ef)]['name'];}[a136_0x13ca16(0x212)](_0x4ca401,..._0xad13ec){var _0x4acae=a136_0x13ca16;const _0x300ad3=_0x4ca401[_0x4acae(0x210)][_0x4acae(0x1ef)]['name'];}async['handleError'](_0x2b8ae8){var _0xa7a345=a136_0x13ca16;this[_0xa7a345(0x201)]['error'](_0x2b8ae8);}async[a136_0x13ca16(0x1ff)](_0x2d6019,_0x3a82c1){var _0x1e2611=a136_0x13ca16;this[_0x1e2611(0x1f9)][_0x1e2611(0x1f3)](_0x1e2611(0x1f4),_0x3a82c1);}async[a136_0x13ca16(0x1fa)](_0x39cf3b){var _0x1b207c=a136_0x13ca16;return this['wss'][_0x1b207c(0x1f3)](_0x1b207c(0x20e),_0x39cf3b),_0x39cf3b;}async[a136_0x13ca16(0x211)](){var _0x10e47e=a136_0x13ca16;this['wss']['emit'](_0x10e47e(0x20c));}};__decorate([(0x0,websockets_1[a136_0x13ca16(0x209)])(),__metadata(a136_0x13ca16(0x200),socket_io_1['Server'])],StreamingGateway[a136_0x13ca16(0x20b)],a136_0x13ca16(0x1f9),void 0x0),__decorate([(0x0,websockets_1[a136_0x13ca16(0x218)])(a136_0x13ca16(0x1eb)),__metadata(a136_0x13ca16(0x200),Function),__metadata(a136_0x13ca16(0x1fb),[Object]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x13ca16(0x20b)],a136_0x13ca16(0x213),null),__decorate([(0x0,websockets_1[a136_0x13ca16(0x218)])(a136_0x13ca16(0x1f4)),__metadata('design:type',Function),__metadata(a136_0x13ca16(0x1fb),[socket_io_1['Socket'],String]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x13ca16(0x20b)],a136_0x13ca16(0x1ff),null),__decorate([(0x0,websockets_1[a136_0x13ca16(0x218)])('volume'),__param(0x0,(0x0,websockets_1[a136_0x13ca16(0x1f6)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[Number]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x13ca16(0x20b)],a136_0x13ca16(0x1fa),null),StreamingGateway=__decorate([(0x0,common_1[a136_0x13ca16(0x217)])(),(0x0,websockets_1[a136_0x13ca16(0x1e9)])({'cors':!![]})],StreamingGateway),exports['StreamingGateway']=StreamingGateway;