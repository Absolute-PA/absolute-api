'use strict';var a139_0x157fa4=a139_0x1dd2;function a139_0x3e44(){var _0x234155=['170GVnmDA','wss','handleDisconnect','handshake','design:paramtypes','Injectable','handleError','getOwnPropertyDescriptor','prototype','132552YnCUdX','name','log','__metadata','handleServerPeerId','emit','design:type','WebSocketGateway','__decorate','381030hLJUKN','13724XjJCcG','serverPeerId','error','query','function','design:returntype','Socket','StreamingGateway','defineProperty','355149cXJenp','decorate','431346cRBdYm','handleConnection','socket.io','__param','logger','Server','metadata','1443180YtJpvA','44NsAsBC','112wfJshX','volume','handleVolumeChange','SubscribeMessage','Initialized','MessageBody','length','reconnectPeerjs','113100daeRyp','Logger','object','connect_error','WebSocketServer'];a139_0x3e44=function(){return _0x234155;};return a139_0x3e44();}(function(_0x3b8e5d,_0x58e273){var _0x139e75=a139_0x1dd2,_0x810e0c=_0x3b8e5d();while(!![]){try{var _0x57d196=parseInt(_0x139e75(0x1ea))/0x1*(parseInt(_0x139e75(0x1d7))/0x2)+parseInt(_0x139e75(0x1e2))/0x3+parseInt(_0x139e75(0x1bf))/0x4+-parseInt(_0x139e75(0x1d6))/0x5+parseInt(_0x139e75(0x1e9))/0x6+-parseInt(_0x139e75(0x1cd))/0x7*(-parseInt(_0x139e75(0x1eb))/0x8)+-parseInt(_0x139e75(0x1e0))/0x9*(parseInt(_0x139e75(0x1c4))/0xa);if(_0x57d196===_0x58e273)break;else _0x810e0c['push'](_0x810e0c['shift']());}catch(_0x485593){_0x810e0c['push'](_0x810e0c['shift']());}}}(a139_0x3e44,0x38c80));function a139_0x1dd2(_0x100d84,_0x41c9a7){var _0x3e4444=a139_0x3e44();return a139_0x1dd2=function(_0x1dd2da,_0x4133f4){_0x1dd2da=_0x1dd2da-0x1be;var _0x25cd93=_0x3e4444[_0x1dd2da];return _0x25cd93;},a139_0x1dd2(_0x100d84,_0x41c9a7);}var __decorate=this&&this[a139_0x157fa4(0x1d5)]||function(_0x27f9eb,_0x528c99,_0x4d19ce,_0x3c8557){var _0x42418f=a139_0x157fa4,_0x3f5cd4=arguments[_0x42418f(0x1f1)],_0x38e693=_0x3f5cd4<0x3?_0x528c99:_0x3c8557===null?_0x3c8557=Object[_0x42418f(0x1cb)](_0x528c99,_0x4d19ce):_0x3c8557,_0x2e19a7;if(typeof Reflect===_0x42418f(0x1c1)&&typeof Reflect[_0x42418f(0x1e1)]===_0x42418f(0x1db))_0x38e693=Reflect[_0x42418f(0x1e1)](_0x27f9eb,_0x528c99,_0x4d19ce,_0x3c8557);else{for(var _0x4e1fd2=_0x27f9eb[_0x42418f(0x1f1)]-0x1;_0x4e1fd2>=0x0;_0x4e1fd2--)if(_0x2e19a7=_0x27f9eb[_0x4e1fd2])_0x38e693=(_0x3f5cd4<0x3?_0x2e19a7(_0x38e693):_0x3f5cd4>0x3?_0x2e19a7(_0x528c99,_0x4d19ce,_0x38e693):_0x2e19a7(_0x528c99,_0x4d19ce))||_0x38e693;}return _0x3f5cd4>0x3&&_0x38e693&&Object[_0x42418f(0x1df)](_0x528c99,_0x4d19ce,_0x38e693),_0x38e693;},__metadata=this&&this[a139_0x157fa4(0x1d0)]||function(_0x546db7,_0x4e3c83){var _0x3926c8=a139_0x157fa4;if(typeof Reflect==='object'&&typeof Reflect[_0x3926c8(0x1e8)]===_0x3926c8(0x1db))return Reflect['metadata'](_0x546db7,_0x4e3c83);},__param=this&&this[a139_0x157fa4(0x1e5)]||function(_0x5073ea,_0x647ea6){return function(_0xb2972e,_0x154b9f){_0x647ea6(_0xb2972e,_0x154b9f,_0x5073ea);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a139_0x157fa4(0x1de)]=void 0x0;const common_1=require('@nestjs/common'),websockets_1=require('@nestjs/websockets'),socket_io_1=require(a139_0x157fa4(0x1e4));let StreamingGateway=class StreamingGateway{constructor(){var _0xc69977=a139_0x157fa4;this[_0xc69977(0x1e6)]=new common_1[(_0xc69977(0x1c0))]('MessageGateway');}['afterInit'](_0x4f9943){var _0x131326=a139_0x157fa4;this[_0x131326(0x1e6)][_0x131326(0x1cf)](_0x131326(0x1ef));}[a139_0x157fa4(0x1c6)](_0x217379){var _0x41c092=a139_0x157fa4;const _0x32bc84=_0x217379[_0x41c092(0x1c7)][_0x41c092(0x1da)][_0x41c092(0x1ce)];}[a139_0x157fa4(0x1e3)](_0x54ca9b,..._0x5dbd24){var _0x24901f=a139_0x157fa4;const _0x28f3d7=_0x54ca9b['handshake']['query'][_0x24901f(0x1ce)];}async[a139_0x157fa4(0x1ca)](_0x16d6e9){var _0x4596fd=a139_0x157fa4;this[_0x4596fd(0x1e6)][_0x4596fd(0x1d9)](_0x16d6e9);}async[a139_0x157fa4(0x1d1)](_0x2d02db,_0xaf6b29){var _0x13509a=a139_0x157fa4;this[_0x13509a(0x1c5)][_0x13509a(0x1d2)](_0x13509a(0x1d8),_0xaf6b29);}async[a139_0x157fa4(0x1ed)](_0x27f239){var _0x3d1de2=a139_0x157fa4;return this[_0x3d1de2(0x1c5)][_0x3d1de2(0x1d2)]('volumeChange',_0x27f239),_0x27f239;}async['reconnectPeer'](){var _0x3beef3=a139_0x157fa4;this[_0x3beef3(0x1c5)][_0x3beef3(0x1d2)](_0x3beef3(0x1be));}};__decorate([(0x0,websockets_1[a139_0x157fa4(0x1c3)])(),__metadata(a139_0x157fa4(0x1d3),socket_io_1[a139_0x157fa4(0x1e7)])],StreamingGateway[a139_0x157fa4(0x1cc)],'wss',void 0x0),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0x157fa4(0x1c2)),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a139_0x157fa4(0x1dc),Promise)],StreamingGateway[a139_0x157fa4(0x1cc)],a139_0x157fa4(0x1ca),null),__decorate([(0x0,websockets_1[a139_0x157fa4(0x1ee)])(a139_0x157fa4(0x1d8)),__metadata(a139_0x157fa4(0x1d3),Function),__metadata(a139_0x157fa4(0x1c8),[socket_io_1[a139_0x157fa4(0x1dd)],String]),__metadata('design:returntype',Promise)],StreamingGateway[a139_0x157fa4(0x1cc)],'handleServerPeerId',null),__decorate([(0x0,websockets_1[a139_0x157fa4(0x1ee)])(a139_0x157fa4(0x1ec)),__param(0x0,(0x0,websockets_1[a139_0x157fa4(0x1f0)])()),__metadata(a139_0x157fa4(0x1d3),Function),__metadata(a139_0x157fa4(0x1c8),[Number]),__metadata('design:returntype',Promise)],StreamingGateway[a139_0x157fa4(0x1cc)],a139_0x157fa4(0x1ed),null),StreamingGateway=__decorate([(0x0,common_1[a139_0x157fa4(0x1c9)])(),(0x0,websockets_1[a139_0x157fa4(0x1d4)])({'cors':!![]})],StreamingGateway),exports[a139_0x157fa4(0x1de)]=StreamingGateway;