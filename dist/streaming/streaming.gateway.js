'use strict';var a139_0x5cb9b7=a139_0x11a9;(function(_0x214725,_0x1cd0ab){var _0x283257=a139_0x11a9,_0x1ef177=_0x214725();while(!![]){try{var _0x19e5f9=-parseInt(_0x283257(0x173))/0x1+-parseInt(_0x283257(0x17c))/0x2*(-parseInt(_0x283257(0x18c))/0x3)+-parseInt(_0x283257(0x19e))/0x4+parseInt(_0x283257(0x1a3))/0x5+-parseInt(_0x283257(0x174))/0x6+parseInt(_0x283257(0x18b))/0x7*(parseInt(_0x283257(0x18a))/0x8)+-parseInt(_0x283257(0x192))/0x9*(-parseInt(_0x283257(0x17b))/0xa);if(_0x19e5f9===_0x1cd0ab)break;else _0x1ef177['push'](_0x1ef177['shift']());}catch(_0x1cedbd){_0x1ef177['push'](_0x1ef177['shift']());}}}(a139_0x2efc,0x422f0));function a139_0x11a9(_0x379545,_0x487268){var _0x2efc45=a139_0x2efc();return a139_0x11a9=function(_0x11a989,_0x2beb58){_0x11a989=_0x11a989-0x170;var _0x171e7a=_0x2efc45[_0x11a989];return _0x171e7a;},a139_0x11a9(_0x379545,_0x487268);}function a139_0x2efc(){var _0x3e377f=['__param','387992DniBuI','2045328aEkUbD','volume','@nestjs/common','wss','name','query','design:type','5260UYeIfs','158700DIcNbd','reconnectPeerjs','__esModule','function','WebSocketServer','Injectable','Initialized','handleDisconnect','__metadata','design:paramtypes','Socket','log','getOwnPropertyDescriptor','StreamingGateway','3618920xzbddV','7ssssGt','3YdSKxs','volumeChange','decorate','afterInit','WebSocketGateway','@nestjs/websockets','6174osVfmg','__decorate','handleError','handshake','emit','design:returntype','reconnectPeer','object','defineProperty','connect_error','prototype','serverPeerId','480264mfvbrE','SubscribeMessage','length','logger','handleVolumeChange','1137415pCOenL','metadata','handleServerPeerId','Server'];a139_0x2efc=function(){return _0x3e377f;};return a139_0x2efc();}var __decorate=this&&this[a139_0x5cb9b7(0x193)]||function(_0xe7bb81,_0x51117b,_0xba3e1b,_0x40f483){var _0x36c171=a139_0x5cb9b7,_0x4cbee5=arguments['length'],_0x1ae354=_0x4cbee5<0x3?_0x51117b:_0x40f483===null?_0x40f483=Object[_0x36c171(0x188)](_0x51117b,_0xba3e1b):_0x40f483,_0x5084d5;if(typeof Reflect===_0x36c171(0x199)&&typeof Reflect[_0x36c171(0x18e)]==='function')_0x1ae354=Reflect['decorate'](_0xe7bb81,_0x51117b,_0xba3e1b,_0x40f483);else{for(var _0x46c627=_0xe7bb81[_0x36c171(0x1a0)]-0x1;_0x46c627>=0x0;_0x46c627--)if(_0x5084d5=_0xe7bb81[_0x46c627])_0x1ae354=(_0x4cbee5<0x3?_0x5084d5(_0x1ae354):_0x4cbee5>0x3?_0x5084d5(_0x51117b,_0xba3e1b,_0x1ae354):_0x5084d5(_0x51117b,_0xba3e1b))||_0x1ae354;}return _0x4cbee5>0x3&&_0x1ae354&&Object[_0x36c171(0x19a)](_0x51117b,_0xba3e1b,_0x1ae354),_0x1ae354;},__metadata=this&&this[a139_0x5cb9b7(0x184)]||function(_0x322d5e,_0x34aaf7){var _0x2f5dda=a139_0x5cb9b7;if(typeof Reflect===_0x2f5dda(0x199)&&typeof Reflect[_0x2f5dda(0x1a4)]===_0x2f5dda(0x17f))return Reflect['metadata'](_0x322d5e,_0x34aaf7);},__param=this&&this[a139_0x5cb9b7(0x172)]||function(_0x3b31d8,_0x6dc0d7){return function(_0x193c7b,_0x2b28ec){_0x6dc0d7(_0x193c7b,_0x2b28ec,_0x3b31d8);};};Object['defineProperty'](exports,a139_0x5cb9b7(0x17e),{'value':!![]}),exports[a139_0x5cb9b7(0x189)]=void 0x0;const common_1=require(a139_0x5cb9b7(0x176)),websockets_1=require(a139_0x5cb9b7(0x191)),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){this['logger']=new common_1['Logger']('MessageGateway');}[a139_0x5cb9b7(0x18f)](_0x202e21){var _0x239c63=a139_0x5cb9b7;this[_0x239c63(0x1a1)][_0x239c63(0x187)](_0x239c63(0x182));}[a139_0x5cb9b7(0x183)](_0x32273a){var _0x1e7ebb=a139_0x5cb9b7;const _0x755069=_0x32273a[_0x1e7ebb(0x195)][_0x1e7ebb(0x179)]['name'];}['handleConnection'](_0xd22944,..._0x2ca70e){var _0x3f3577=a139_0x5cb9b7;const _0x294110=_0xd22944[_0x3f3577(0x195)][_0x3f3577(0x179)][_0x3f3577(0x178)];}async[a139_0x5cb9b7(0x194)](_0x5e9d3b){var _0x1e2dbd=a139_0x5cb9b7;this[_0x1e2dbd(0x1a1)]['error'](_0x5e9d3b);}async[a139_0x5cb9b7(0x170)](_0x40bc0c,_0x3e94ee){var _0x324dde=a139_0x5cb9b7;this[_0x324dde(0x177)][_0x324dde(0x196)]('serverPeerId',_0x3e94ee);}async['handleVolumeChange'](_0x4b3119){var _0x539b88=a139_0x5cb9b7;return this[_0x539b88(0x177)][_0x539b88(0x196)](_0x539b88(0x18d),_0x4b3119),_0x4b3119;}async[a139_0x5cb9b7(0x198)](){var _0x2ce5d0=a139_0x5cb9b7;this['wss']['emit'](_0x2ce5d0(0x17d));}};__decorate([(0x0,websockets_1[a139_0x5cb9b7(0x180)])(),__metadata('design:type',socket_io_1[a139_0x5cb9b7(0x171)])],StreamingGateway[a139_0x5cb9b7(0x19c)],'wss',void 0x0),__decorate([(0x0,websockets_1[a139_0x5cb9b7(0x19f)])(a139_0x5cb9b7(0x19b)),__metadata('design:type',Function),__metadata(a139_0x5cb9b7(0x185),[Object]),__metadata(a139_0x5cb9b7(0x197),Promise)],StreamingGateway['prototype'],a139_0x5cb9b7(0x194),null),__decorate([(0x0,websockets_1[a139_0x5cb9b7(0x19f)])(a139_0x5cb9b7(0x19d)),__metadata('design:type',Function),__metadata(a139_0x5cb9b7(0x185),[socket_io_1[a139_0x5cb9b7(0x186)],String]),__metadata(a139_0x5cb9b7(0x197),Promise)],StreamingGateway['prototype'],a139_0x5cb9b7(0x170),null),__decorate([(0x0,websockets_1[a139_0x5cb9b7(0x19f)])(a139_0x5cb9b7(0x175)),__param(0x0,(0x0,websockets_1['MessageBody'])()),__metadata(a139_0x5cb9b7(0x17a),Function),__metadata(a139_0x5cb9b7(0x185),[Number]),__metadata(a139_0x5cb9b7(0x197),Promise)],StreamingGateway['prototype'],a139_0x5cb9b7(0x1a2),null),StreamingGateway=__decorate([(0x0,common_1[a139_0x5cb9b7(0x181)])(),(0x0,websockets_1[a139_0x5cb9b7(0x190)])({'cors':!![]})],StreamingGateway),exports['StreamingGateway']=StreamingGateway;