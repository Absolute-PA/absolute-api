'use strict';var a139_0xf4b876=a139_0x3ccb;(function(_0x45073b,_0x3977e5){var _0x266d36=a139_0x3ccb,_0x506e58=_0x45073b();while(!![]){try{var _0x446165=parseInt(_0x266d36(0xc6))/0x1+parseInt(_0x266d36(0xdb))/0x2+parseInt(_0x266d36(0xdf))/0x3*(-parseInt(_0x266d36(0xcd))/0x4)+-parseInt(_0x266d36(0xd0))/0x5*(parseInt(_0x266d36(0xd2))/0x6)+parseInt(_0x266d36(0xc5))/0x7*(parseInt(_0x266d36(0xcb))/0x8)+-parseInt(_0x266d36(0xdc))/0x9+-parseInt(_0x266d36(0xb6))/0xa*(-parseInt(_0x266d36(0xad))/0xb);if(_0x446165===_0x3977e5)break;else _0x506e58['push'](_0x506e58['shift']());}catch(_0x48757e){_0x506e58['push'](_0x506e58['shift']());}}}(a139_0x271d,0x53c2c));var __decorate=this&&this[a139_0xf4b876(0xbe)]||function(_0x2d2a09,_0x119710,_0x4681f1,_0x3f8555){var _0x4cc4e6=a139_0xf4b876,_0x2bd166=arguments[_0x4cc4e6(0xc7)],_0x4e381f=_0x2bd166<0x3?_0x119710:_0x3f8555===null?_0x3f8555=Object[_0x4cc4e6(0xca)](_0x119710,_0x4681f1):_0x3f8555,_0xa38993;if(typeof Reflect==='object'&&typeof Reflect[_0x4cc4e6(0xbd)]===_0x4cc4e6(0xbb))_0x4e381f=Reflect[_0x4cc4e6(0xbd)](_0x2d2a09,_0x119710,_0x4681f1,_0x3f8555);else{for(var _0x46c68b=_0x2d2a09['length']-0x1;_0x46c68b>=0x0;_0x46c68b--)if(_0xa38993=_0x2d2a09[_0x46c68b])_0x4e381f=(_0x2bd166<0x3?_0xa38993(_0x4e381f):_0x2bd166>0x3?_0xa38993(_0x119710,_0x4681f1,_0x4e381f):_0xa38993(_0x119710,_0x4681f1))||_0x4e381f;}return _0x2bd166>0x3&&_0x4e381f&&Object['defineProperty'](_0x119710,_0x4681f1,_0x4e381f),_0x4e381f;},__metadata=this&&this[a139_0xf4b876(0xb7)]||function(_0x473f23,_0x146082){var _0x56c30e=a139_0xf4b876;if(typeof Reflect===_0x56c30e(0xdd)&&typeof Reflect['metadata']===_0x56c30e(0xbb))return Reflect[_0x56c30e(0xcc)](_0x473f23,_0x146082);},__param=this&&this['__param']||function(_0x360095,_0x55754c){return function(_0x288628,_0x203411){_0x55754c(_0x288628,_0x203411,_0x360095);};};Object['defineProperty'](exports,a139_0xf4b876(0xce),{'value':!![]}),exports[a139_0xf4b876(0xd9)]=void 0x0;function a139_0x271d(){var _0x48fa12=['metadata','372884PJiPAn','__esModule','emit','2029595wSMixE','SubscribeMessage','6MappqV','query','name','Server','handleServerPeerId','Logger','reconnectPeer','StreamingGateway','design:paramtypes','968194ecGBFc','3587526VOXbTM','object','handleDisconnect','6HUFRhC','MessageGateway','181401YIkUkT','socket.io','Injectable','volumeChange','error','serverPeerId','@nestjs/websockets','design:type','afterInit','190YKcZTD','__metadata','logger','reconnectPeerjs','handleConnection','function','handshake','decorate','__decorate','@nestjs/common','handleVolumeChange','wss','prototype','connect_error','volume','217mPBVmq','53002fccEkB','length','design:returntype','WebSocketServer','getOwnPropertyDescriptor','124808KgvobI'];a139_0x271d=function(){return _0x48fa12;};return a139_0x271d();}const common_1=require(a139_0xf4b876(0xbf)),websockets_1=require(a139_0xf4b876(0xb3)),socket_io_1=require(a139_0xf4b876(0xae));function a139_0x3ccb(_0x2a74ec,_0x2027a4){var _0x271dd5=a139_0x271d();return a139_0x3ccb=function(_0x3ccba2,_0x1bfd94){_0x3ccba2=_0x3ccba2-0xac;var _0x562a49=_0x271dd5[_0x3ccba2];return _0x562a49;},a139_0x3ccb(_0x2a74ec,_0x2027a4);}let StreamingGateway=class StreamingGateway{constructor(){var _0x5291d7=a139_0xf4b876;this[_0x5291d7(0xb8)]=new common_1[(_0x5291d7(0xd7))](_0x5291d7(0xac));}[a139_0xf4b876(0xb5)](_0x334942){var _0x1d9422=a139_0xf4b876;this[_0x1d9422(0xb8)]['log']('Initialized');}[a139_0xf4b876(0xde)](_0x2854b9){var _0x3f3375=a139_0xf4b876;const _0x2289d0=_0x2854b9['handshake'][_0x3f3375(0xd3)]['name'];}[a139_0xf4b876(0xba)](_0x54f120,..._0x330e7e){var _0x489054=a139_0xf4b876;const _0x2152ad=_0x54f120[_0x489054(0xbc)][_0x489054(0xd3)][_0x489054(0xd4)];}async['handleError'](_0x887a40){var _0x2e957f=a139_0xf4b876;this['logger'][_0x2e957f(0xb1)](_0x887a40);}async[a139_0xf4b876(0xd6)](_0x185523,_0x24083b){var _0x9ff8a0=a139_0xf4b876;this['wss'][_0x9ff8a0(0xcf)](_0x9ff8a0(0xb2),_0x24083b);}async['handleVolumeChange'](_0x28aba6){var _0x1a2df8=a139_0xf4b876;return this['wss'][_0x1a2df8(0xcf)](_0x1a2df8(0xb0),_0x28aba6),_0x28aba6;}async[a139_0xf4b876(0xd8)](){var _0x1b9cba=a139_0xf4b876;this[_0x1b9cba(0xc1)][_0x1b9cba(0xcf)](_0x1b9cba(0xb9));}};__decorate([(0x0,websockets_1[a139_0xf4b876(0xc9)])(),__metadata(a139_0xf4b876(0xb4),socket_io_1[a139_0xf4b876(0xd5)])],StreamingGateway[a139_0xf4b876(0xc2)],'wss',void 0x0),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0xf4b876(0xc3)),__metadata(a139_0xf4b876(0xb4),Function),__metadata(a139_0xf4b876(0xda),[Object]),__metadata('design:returntype',Promise)],StreamingGateway['prototype'],'handleError',null),__decorate([(0x0,websockets_1[a139_0xf4b876(0xd1)])(a139_0xf4b876(0xb2)),__metadata(a139_0xf4b876(0xb4),Function),__metadata('design:paramtypes',[socket_io_1['Socket'],String]),__metadata(a139_0xf4b876(0xc8),Promise)],StreamingGateway[a139_0xf4b876(0xc2)],a139_0xf4b876(0xd6),null),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0xf4b876(0xc4)),__param(0x0,(0x0,websockets_1['MessageBody'])()),__metadata('design:type',Function),__metadata(a139_0xf4b876(0xda),[Number]),__metadata(a139_0xf4b876(0xc8),Promise)],StreamingGateway[a139_0xf4b876(0xc2)],a139_0xf4b876(0xc0),null),StreamingGateway=__decorate([(0x0,common_1[a139_0xf4b876(0xaf)])(),(0x0,websockets_1['WebSocketGateway'])({'cors':!![]})],StreamingGateway),exports['StreamingGateway']=StreamingGateway;