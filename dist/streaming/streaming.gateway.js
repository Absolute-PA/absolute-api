'use strict';var a139_0x1b7a56=a139_0x1cae;(function(_0x26d41b,_0x2a1e6b){var _0x52a96b=a139_0x1cae,_0x38bfb8=_0x26d41b();while(!![]){try{var _0x5e0f37=parseInt(_0x52a96b(0x127))/0x1*(-parseInt(_0x52a96b(0x11e))/0x2)+-parseInt(_0x52a96b(0x12c))/0x3+parseInt(_0x52a96b(0x12d))/0x4*(parseInt(_0x52a96b(0x134))/0x5)+-parseInt(_0x52a96b(0x133))/0x6+-parseInt(_0x52a96b(0x136))/0x7+-parseInt(_0x52a96b(0x117))/0x8*(-parseInt(_0x52a96b(0x123))/0x9)+parseInt(_0x52a96b(0x116))/0xa;if(_0x5e0f37===_0x2a1e6b)break;else _0x38bfb8['push'](_0x38bfb8['shift']());}catch(_0x16bd7a){_0x38bfb8['push'](_0x38bfb8['shift']());}}}(a139_0x2a7b,0x33c71));function a139_0x1cae(_0x30cf5d,_0x2d97f5){var _0x2a7bbb=a139_0x2a7b();return a139_0x1cae=function(_0x1caee1,_0x3d6ca0){_0x1caee1=_0x1caee1-0x103;var _0x589ca7=_0x2a7bbb[_0x1caee1];return _0x589ca7;},a139_0x1cae(_0x30cf5d,_0x2d97f5);}var __decorate=this&&this['__decorate']||function(_0x5b0388,_0x287fb9,_0x437103,_0x204f89){var _0x271d2f=a139_0x1cae,_0x1ff1d7=arguments['length'],_0x4e7e24=_0x1ff1d7<0x3?_0x287fb9:_0x204f89===null?_0x204f89=Object[_0x271d2f(0x11a)](_0x287fb9,_0x437103):_0x204f89,_0x2148f6;if(typeof Reflect===_0x271d2f(0x12b)&&typeof Reflect[_0x271d2f(0x11d)]===_0x271d2f(0x121))_0x4e7e24=Reflect['decorate'](_0x5b0388,_0x287fb9,_0x437103,_0x204f89);else{for(var _0x3027d0=_0x5b0388[_0x271d2f(0x129)]-0x1;_0x3027d0>=0x0;_0x3027d0--)if(_0x2148f6=_0x5b0388[_0x3027d0])_0x4e7e24=(_0x1ff1d7<0x3?_0x2148f6(_0x4e7e24):_0x1ff1d7>0x3?_0x2148f6(_0x287fb9,_0x437103,_0x4e7e24):_0x2148f6(_0x287fb9,_0x437103))||_0x4e7e24;}return _0x1ff1d7>0x3&&_0x4e7e24&&Object[_0x271d2f(0x115)](_0x287fb9,_0x437103,_0x4e7e24),_0x4e7e24;},__metadata=this&&this[a139_0x1b7a56(0x12a)]||function(_0x574d2b,_0x5c35af){var _0x209696=a139_0x1b7a56;if(typeof Reflect===_0x209696(0x12b)&&typeof Reflect[_0x209696(0x11b)]===_0x209696(0x121))return Reflect[_0x209696(0x11b)](_0x574d2b,_0x5c35af);},__param=this&&this[a139_0x1b7a56(0x10a)]||function(_0x3256cd,_0x3b1da0){return function(_0x49ed36,_0xb96426){_0x3b1da0(_0x49ed36,_0xb96426,_0x3256cd);};};Object[a139_0x1b7a56(0x115)](exports,a139_0x1b7a56(0x132),{'value':!![]}),exports['StreamingGateway']=void 0x0;const common_1=require(a139_0x1b7a56(0x10b)),websockets_1=require(a139_0x1b7a56(0x125)),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){var _0x9c78cd=a139_0x1b7a56;this[_0x9c78cd(0x10f)]=new common_1[(_0x9c78cd(0x10d))](_0x9c78cd(0x110));}[a139_0x1b7a56(0x112)](_0x187859){var _0x1ffc06=a139_0x1b7a56;this[_0x1ffc06(0x10f)][_0x1ffc06(0x109)](_0x1ffc06(0x108));}[a139_0x1b7a56(0x126)](_0x4eea1d){var _0xa318a9=a139_0x1b7a56;const _0x15df08=_0x4eea1d[_0xa318a9(0x107)]['query'][_0xa318a9(0x119)];}['handleConnection'](_0x69b3d6,..._0x1085b2){var _0x3785d5=a139_0x1b7a56;const _0x15f322=_0x69b3d6[_0x3785d5(0x107)][_0x3785d5(0x137)]['name'];}async[a139_0x1b7a56(0x130)](_0x499480){this['logger']['error'](_0x499480);}async[a139_0x1b7a56(0x11f)](_0x5ad529,_0x1a7617){var _0x4958e8=a139_0x1b7a56;this['wss'][_0x4958e8(0x106)](_0x4958e8(0x103),_0x1a7617);}async[a139_0x1b7a56(0x111)](_0x13482e){var _0x1ca95f=a139_0x1b7a56;return this['wss'][_0x1ca95f(0x106)](_0x1ca95f(0x120),_0x13482e),_0x13482e;}async[a139_0x1b7a56(0x124)](){this['wss']['emit']('reconnectPeerjs');}};function a139_0x2a7b(){var _0x274152=['handleVolumeChange','afterInit','design:returntype','WebSocketGateway','defineProperty','1084030FgycNi','252488OGqCgd','design:type','name','getOwnPropertyDescriptor','metadata','Socket','decorate','40CJAdWM','handleServerPeerId','volumeChange','function','StreamingGateway','108YVDvqS','reconnectPeer','@nestjs/websockets','handleDisconnect','1075vIRvzu','connect_error','length','__metadata','object','576828WpTbGh','120wdtOyi','prototype','wss','handleError','Injectable','__esModule','964758xOVMfb','52285eyKneR','Server','1499365zhoUgX','query','serverPeerId','volume','design:paramtypes','emit','handshake','Initialized','log','__param','@nestjs/common','MessageBody','Logger','SubscribeMessage','logger','MessageGateway'];a139_0x2a7b=function(){return _0x274152;};return a139_0x2a7b();}__decorate([(0x0,websockets_1['WebSocketServer'])(),__metadata(a139_0x1b7a56(0x118),socket_io_1[a139_0x1b7a56(0x135)])],StreamingGateway['prototype'],a139_0x1b7a56(0x12f),void 0x0),__decorate([(0x0,websockets_1[a139_0x1b7a56(0x10e)])(a139_0x1b7a56(0x128)),__metadata(a139_0x1b7a56(0x118),Function),__metadata(a139_0x1b7a56(0x105),[Object]),__metadata(a139_0x1b7a56(0x113),Promise)],StreamingGateway[a139_0x1b7a56(0x12e)],a139_0x1b7a56(0x130),null),__decorate([(0x0,websockets_1[a139_0x1b7a56(0x10e)])('serverPeerId'),__metadata(a139_0x1b7a56(0x118),Function),__metadata(a139_0x1b7a56(0x105),[socket_io_1[a139_0x1b7a56(0x11c)],String]),__metadata(a139_0x1b7a56(0x113),Promise)],StreamingGateway['prototype'],a139_0x1b7a56(0x11f),null),__decorate([(0x0,websockets_1['SubscribeMessage'])(a139_0x1b7a56(0x104)),__param(0x0,(0x0,websockets_1[a139_0x1b7a56(0x10c)])()),__metadata(a139_0x1b7a56(0x118),Function),__metadata(a139_0x1b7a56(0x105),[Number]),__metadata(a139_0x1b7a56(0x113),Promise)],StreamingGateway[a139_0x1b7a56(0x12e)],a139_0x1b7a56(0x111),null),StreamingGateway=__decorate([(0x0,common_1[a139_0x1b7a56(0x131)])(),(0x0,websockets_1[a139_0x1b7a56(0x114)])({'cors':!![]})],StreamingGateway),exports[a139_0x1b7a56(0x122)]=StreamingGateway;