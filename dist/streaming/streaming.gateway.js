'use strict';var a136_0x400749=a136_0x117b;(function(_0x38e318,_0x3b1fd2){var _0x548aa3=a136_0x117b,_0xb95dde=_0x38e318();while(!![]){try{var _0x56eeef=-parseInt(_0x548aa3(0x177))/0x1+parseInt(_0x548aa3(0x190))/0x2*(parseInt(_0x548aa3(0x167))/0x3)+parseInt(_0x548aa3(0x173))/0x4+parseInt(_0x548aa3(0x179))/0x5+-parseInt(_0x548aa3(0x195))/0x6+parseInt(_0x548aa3(0x16b))/0x7+parseInt(_0x548aa3(0x185))/0x8*(-parseInt(_0x548aa3(0x17b))/0x9);if(_0x56eeef===_0x3b1fd2)break;else _0xb95dde['push'](_0xb95dde['shift']());}catch(_0x23063a){_0xb95dde['push'](_0xb95dde['shift']());}}}(a136_0x4be3,0x6970a));function a136_0x4be3(){var _0x12bcf8=['Server','SubscribeMessage','@nestjs/websockets','WebSocketGateway','log','reconnectPeerjs','1210184bQYzrk','function','design:paramtypes','design:type','serverPeerId','reconnectPeer','@nestjs/common','Initialized','handleDisconnect','handleServerPeerId','length','244ViNJKk','MessageBody','handleError','query','__metadata','687492IFgSJj','afterInit','wss','logger','MessageGateway','name','handshake','object','8079SAisDs','__esModule','prototype','connect_error','4177922WSqYai','metadata','emit','defineProperty','volumeChange','getOwnPropertyDescriptor','design:returntype','Injectable','1510240PBqits','Socket','StreamingGateway','__param','373305RiKLPh','handleVolumeChange','1865910LiRzXG','decorate','45sCGITB','Logger','handleConnection','error'];a136_0x4be3=function(){return _0x12bcf8;};return a136_0x4be3();}var __decorate=this&&this['__decorate']||function(_0x5486ae,_0xd02022,_0x41299b,_0x796438){var _0x3a6b8a=a136_0x117b,_0x1a145c=arguments[_0x3a6b8a(0x18f)],_0xca748e=_0x1a145c<0x3?_0xd02022:_0x796438===null?_0x796438=Object[_0x3a6b8a(0x170)](_0xd02022,_0x41299b):_0x796438,_0x9b54bf;if(typeof Reflect===_0x3a6b8a(0x166)&&typeof Reflect[_0x3a6b8a(0x17a)]===_0x3a6b8a(0x186))_0xca748e=Reflect[_0x3a6b8a(0x17a)](_0x5486ae,_0xd02022,_0x41299b,_0x796438);else{for(var _0x24393a=_0x5486ae[_0x3a6b8a(0x18f)]-0x1;_0x24393a>=0x0;_0x24393a--)if(_0x9b54bf=_0x5486ae[_0x24393a])_0xca748e=(_0x1a145c<0x3?_0x9b54bf(_0xca748e):_0x1a145c>0x3?_0x9b54bf(_0xd02022,_0x41299b,_0xca748e):_0x9b54bf(_0xd02022,_0x41299b))||_0xca748e;}return _0x1a145c>0x3&&_0xca748e&&Object[_0x3a6b8a(0x16e)](_0xd02022,_0x41299b,_0xca748e),_0xca748e;},__metadata=this&&this[a136_0x400749(0x194)]||function(_0x50c8df,_0x4042a2){var _0x4800c9=a136_0x400749;if(typeof Reflect===_0x4800c9(0x166)&&typeof Reflect[_0x4800c9(0x16c)]===_0x4800c9(0x186))return Reflect[_0x4800c9(0x16c)](_0x50c8df,_0x4042a2);},__param=this&&this[a136_0x400749(0x176)]||function(_0x4eefeb,_0x1730fd){return function(_0x4919ac,_0x834c09){_0x1730fd(_0x4919ac,_0x834c09,_0x4eefeb);};};Object[a136_0x400749(0x16e)](exports,a136_0x400749(0x168),{'value':!![]}),exports[a136_0x400749(0x175)]=void 0x0;function a136_0x117b(_0x4013ae,_0x4f4a23){var _0x4be374=a136_0x4be3();return a136_0x117b=function(_0x117b2e,_0x4dc75d){_0x117b2e=_0x117b2e-0x162;var _0x1127c0=_0x4be374[_0x117b2e];return _0x1127c0;},a136_0x117b(_0x4013ae,_0x4f4a23);}const common_1=require(a136_0x400749(0x18b)),websockets_1=require(a136_0x400749(0x181)),socket_io_1=require('socket.io');let StreamingGateway=class StreamingGateway{constructor(){var _0x367c50=a136_0x400749;this[_0x367c50(0x162)]=new common_1[(_0x367c50(0x17c))](_0x367c50(0x163));}[a136_0x400749(0x196)](_0x326443){var _0x5339eb=a136_0x400749;this[_0x5339eb(0x162)][_0x5339eb(0x183)](_0x5339eb(0x18c));}[a136_0x400749(0x18d)](_0x4927b3){var _0x5dd13a=a136_0x400749;const _0x54ab8c=_0x4927b3[_0x5dd13a(0x165)]['query'][_0x5dd13a(0x164)];}[a136_0x400749(0x17d)](_0x13a457,..._0x3849ae){var _0x402b7d=a136_0x400749;const _0x474b22=_0x13a457[_0x402b7d(0x165)][_0x402b7d(0x193)]['name'];}async[a136_0x400749(0x192)](_0x245979){var _0xb57cd9=a136_0x400749;this['logger'][_0xb57cd9(0x17e)](_0x245979);}async[a136_0x400749(0x18e)](_0x3e3f41,_0x509f40){var _0x112f88=a136_0x400749;this[_0x112f88(0x197)]['emit']('serverPeerId',_0x509f40);}async['handleVolumeChange'](_0x41fd32){var _0x498433=a136_0x400749;return this[_0x498433(0x197)]['emit'](_0x498433(0x16f),_0x41fd32),_0x41fd32;}async[a136_0x400749(0x18a)](){var _0x37395=a136_0x400749;this[_0x37395(0x197)][_0x37395(0x16d)](_0x37395(0x184));}};__decorate([(0x0,websockets_1['WebSocketServer'])(),__metadata(a136_0x400749(0x188),socket_io_1[a136_0x400749(0x17f)])],StreamingGateway[a136_0x400749(0x169)],a136_0x400749(0x197),void 0x0),__decorate([(0x0,websockets_1[a136_0x400749(0x180)])(a136_0x400749(0x16a)),__metadata(a136_0x400749(0x188),Function),__metadata('design:paramtypes',[Object]),__metadata(a136_0x400749(0x171),Promise)],StreamingGateway[a136_0x400749(0x169)],a136_0x400749(0x192),null),__decorate([(0x0,websockets_1[a136_0x400749(0x180)])(a136_0x400749(0x189)),__metadata('design:type',Function),__metadata('design:paramtypes',[socket_io_1[a136_0x400749(0x174)],String]),__metadata(a136_0x400749(0x171),Promise)],StreamingGateway[a136_0x400749(0x169)],a136_0x400749(0x18e),null),__decorate([(0x0,websockets_1[a136_0x400749(0x180)])('volume'),__param(0x0,(0x0,websockets_1[a136_0x400749(0x191)])()),__metadata(a136_0x400749(0x188),Function),__metadata(a136_0x400749(0x187),[Number]),__metadata('design:returntype',Promise)],StreamingGateway[a136_0x400749(0x169)],a136_0x400749(0x178),null),StreamingGateway=__decorate([(0x0,common_1[a136_0x400749(0x172)])(),(0x0,websockets_1[a136_0x400749(0x182)])({'cors':!![]})],StreamingGateway),exports[a136_0x400749(0x175)]=StreamingGateway;