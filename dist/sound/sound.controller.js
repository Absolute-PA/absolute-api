'use strict';const a130_0x4afd49=a130_0xd9ee;function a130_0x5630(){const _0xb2ecc7=['Get','resetTunes','Tune','FileInterceptor','TMP_UPLOAD_DIR','1534174aqNpzr','uploadByType','findByType','Admin','soundService','Song','SoundController','file','10033471PudRIv','@nestjs/platform-express','function','design:paramtypes','RolesGuard','../auth/decorators/roles.decorator','create','delete','Controller','multer','./constants','6756276naVLop','/tunes','16SidnNx','Post','Query','UseInterceptors','_id','Role','../common/enums','Roles','JwtAuthGuard','diskStorage','findTunes','findSongs','@nestjs/common','6413337HQObfF','457372ylFrEB','decorate','design:returntype','Param','object','design:type','true','9HxUzgJ','/upload/:type','upload','UseGuards','../auth/enums/role.enum','updateVolume','Master','stop','__metadata',':id','Body','__esModule','update','UploadedFile','sound','../common/utils','23236870dDCEuM','UpdateSoundDto','__decorate','length','getOwnPropertyDescriptor','play','1324Skxlah','./sound.service','User','Viewer','uploadById','originalname','LicenseGuard',':id/stop','prototype','15195AjrYPh','type','repeat','Patch'];a130_0x5630=function(){return _0xb2ecc7;};return a130_0x5630();}(function(_0x5a94e7,_0x3b9082){const _0x3b5608=a130_0xd9ee,_0x2578d1=_0x5a94e7();while(!![]){try{const _0x596b9f=-parseInt(_0x3b5608(0x1ff))/0x1+-parseInt(_0x3b5608(0x222))/0x2*(parseInt(_0x3b5608(0x229))/0x3)+-parseInt(_0x3b5608(0x1ed))/0x4*(parseInt(_0x3b5608(0x1f6))/0x5)+-parseInt(_0x3b5608(0x212))/0x6+parseInt(_0x3b5608(0x207))/0x7+-parseInt(_0x3b5608(0x214))/0x8*(-parseInt(_0x3b5608(0x221))/0x9)+parseInt(_0x3b5608(0x239))/0xa;if(_0x596b9f===_0x3b9082)break;else _0x2578d1['push'](_0x2578d1['shift']());}catch(_0x5e7100){_0x2578d1['push'](_0x2578d1['shift']());}}}(a130_0x5630,0xcaa57));var __decorate=this&&this[a130_0x4afd49(0x23b)]||function(_0x3bdc20,_0x1529fb,_0x2ad296,_0x25ffec){const _0x3ea3bd=a130_0x4afd49;var _0x2c24ca=arguments[_0x3ea3bd(0x1ea)],_0x5cc97b=_0x2c24ca<0x3?_0x1529fb:_0x25ffec===null?_0x25ffec=Object[_0x3ea3bd(0x1eb)](_0x1529fb,_0x2ad296):_0x25ffec,_0x5c1937;if(typeof Reflect==='object'&&typeof Reflect[_0x3ea3bd(0x223)]==='function')_0x5cc97b=Reflect['decorate'](_0x3bdc20,_0x1529fb,_0x2ad296,_0x25ffec);else{for(var _0x28e8a2=_0x3bdc20[_0x3ea3bd(0x1ea)]-0x1;_0x28e8a2>=0x0;_0x28e8a2--)if(_0x5c1937=_0x3bdc20[_0x28e8a2])_0x5cc97b=(_0x2c24ca<0x3?_0x5c1937(_0x5cc97b):_0x2c24ca>0x3?_0x5c1937(_0x1529fb,_0x2ad296,_0x5cc97b):_0x5c1937(_0x1529fb,_0x2ad296))||_0x5cc97b;}return _0x2c24ca>0x3&&_0x5cc97b&&Object['defineProperty'](_0x1529fb,_0x2ad296,_0x5cc97b),_0x5cc97b;},__metadata=this&&this[a130_0x4afd49(0x231)]||function(_0x402e65,_0x4ec78e){const _0x250c8d=a130_0x4afd49;if(typeof Reflect===_0x250c8d(0x226)&&typeof Reflect['metadata']===_0x250c8d(0x209))return Reflect['metadata'](_0x402e65,_0x4ec78e);},__param=this&&this['__param']||function(_0x2cd3f9,_0x512825){return function(_0xd02e,_0x3889cb){_0x512825(_0xd02e,_0x3889cb,_0x2cd3f9);};};Object['defineProperty'](exports,a130_0x4afd49(0x234),{'value':!![]}),exports[a130_0x4afd49(0x205)]=void 0x0;const common_1=require(a130_0x4afd49(0x220)),platform_express_1=require(a130_0x4afd49(0x208)),multer_1=require(a130_0x4afd49(0x210)),utils_1=require(a130_0x4afd49(0x238)),constants_1=require('../common/constants'),sound_service_1=require(a130_0x4afd49(0x1ee)),dto_1=require('./dto'),constants_2=require(a130_0x4afd49(0x211)),roles_decorator_1=require(a130_0x4afd49(0x20c)),role_enum_1=require(a130_0x4afd49(0x22d)),guards_1=require('../auth/guards'),enums_1=require(a130_0x4afd49(0x21a)),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x4afd49(0x21d)])({'destination':constants_1[a130_0x4afd49(0x1fe)],'filename':(_0x47af63,_0x21dc1b,_0x4c83f2)=>{const _0x361445=a130_0x4afd49;return _0x4c83f2(null,''+(0x0,utils_1['uuid'])()+_0x21dc1b[_0x361445(0x1f2)]);}})};function a130_0xd9ee(_0x4c4391,_0x4999f2){const _0x563036=a130_0x5630();return a130_0xd9ee=function(_0xd9ee90,_0x32d22f){_0xd9ee90=_0xd9ee90-0x1ea;let _0x49b492=_0x563036[_0xd9ee90];return _0x49b492;},a130_0xd9ee(_0x4c4391,_0x4999f2);}let SoundController=class SoundController{constructor(_0x3fee0a){const _0x16c3dd=a130_0x4afd49;this[_0x16c3dd(0x203)]=_0x3fee0a;}async[a130_0x4afd49(0x20d)](_0x36128b){const _0x2accc6=a130_0x4afd49;return this['soundService'][_0x2accc6(0x20d)](_0x36128b);}async[a130_0x4afd49(0x1f1)](_0x4106db,_0x2227da){const _0x1b2b18=a130_0x4afd49;return this[_0x1b2b18(0x203)][_0x1b2b18(0x22b)](_0x2227da,_0x4106db);}async[a130_0x4afd49(0x200)](_0x325f14,_0x4f0366){const _0x4d3d65=a130_0x4afd49,_0x395913={'name':_0x325f14===null||_0x325f14===void 0x0?void 0x0:_0x325f14[_0x4d3d65(0x1f2)],'type':_0x4f0366},_0x59b50b=await this[_0x4d3d65(0x203)]['create'](_0x395913);return this[_0x4d3d65(0x203)][_0x4d3d65(0x22b)](_0x59b50b[_0x4d3d65(0x218)],_0x325f14);}async[a130_0x4afd49(0x21e)](){const _0x47077f=a130_0x4afd49;return this[_0x47077f(0x203)]['findByType'](constants_2['SoundType'][_0x47077f(0x1fc)]);}async[a130_0x4afd49(0x21f)](){const _0x33a0b0=a130_0x4afd49;return this[_0x33a0b0(0x203)][_0x33a0b0(0x201)](constants_2['SoundType'][_0x33a0b0(0x204)]);}async['update'](_0x7590db,_0x5e8943){const _0x1dd48c=a130_0x4afd49;return this[_0x1dd48c(0x203)][_0x1dd48c(0x235)](_0x7590db,_0x5e8943);}async[a130_0x4afd49(0x22e)](_0x3d8e38,_0x44f6d9){const _0x42a4d8=a130_0x4afd49;return this[_0x42a4d8(0x203)][_0x42a4d8(0x22e)](_0x3d8e38,_0x44f6d9);}async[a130_0x4afd49(0x20e)](_0x18fb71){const _0xdac234=a130_0x4afd49;return this[_0xdac234(0x203)][_0xdac234(0x20e)](_0x18fb71);}async[a130_0x4afd49(0x1ec)](_0x13e8d4,_0x2a40bd){const _0x36bf3e=a130_0x4afd49;return this[_0x36bf3e(0x203)][_0x36bf3e(0x1ec)](enums_1['AuditActor'][_0x36bf3e(0x1ef)],_0x13e8d4,_0x2a40bd===_0x36bf3e(0x228));}async['stop'](_0xcea71f){const _0x4a8015=a130_0x4afd49;return this[_0x4a8015(0x203)][_0x4a8015(0x230)](_0xcea71f);}async['resetTunes'](){const _0x24cced=a130_0x4afd49;return this[_0x24cced(0x203)][_0x24cced(0x1fb)]();}};__decorate([(0x0,common_1[a130_0x4afd49(0x215)])(),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1['Role'][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)]['User'],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),__param(0x0,(0x0,common_1[a130_0x4afd49(0x233)])()),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[dto_1['CreateSoundDto']]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController['prototype'],'create',null),__decorate([(0x0,common_1[a130_0x4afd49(0x215)])(':id/upload'),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),(0x0,common_1[a130_0x4afd49(0x217)])((0x0,platform_express_1[a130_0x4afd49(0x1fd)])(a130_0x4afd49(0x206),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4afd49(0x236)])()),__param(0x1,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,String]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController['prototype'],'uploadById',null),__decorate([(0x0,common_1[a130_0x4afd49(0x215)])(a130_0x4afd49(0x22a)),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x4afd49(0x219)]['Admin'],role_enum_1[a130_0x4afd49(0x219)]['User'],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),(0x0,common_1[a130_0x4afd49(0x217)])((0x0,platform_express_1[a130_0x4afd49(0x1fd)])(a130_0x4afd49(0x206),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4afd49(0x236)])()),__param(0x1,(0x0,common_1[a130_0x4afd49(0x225)])(a130_0x4afd49(0x1f7))),__metadata(a130_0x4afd49(0x227),Function),__metadata(a130_0x4afd49(0x20a),[Object,String]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x200),null),__decorate([(0x0,common_1[a130_0x4afd49(0x1fa)])(a130_0x4afd49(0x213)),(0x0,common_1['UseGuards'])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)]['Viewer']),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],'findTunes',null),__decorate([(0x0,common_1[a130_0x4afd49(0x1fa)])('/songs'),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)]['Viewer']),__metadata('design:type',Function),__metadata(a130_0x4afd49(0x20a),[]),__metadata('design:returntype',Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x21f),null),__decorate([(0x0,common_1[a130_0x4afd49(0x1f9)])(':id'),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x202)],role_enum_1['Role']['User'],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),__param(0x0,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__param(0x1,(0x0,common_1[a130_0x4afd49(0x233)])()),__metadata(a130_0x4afd49(0x227),Function),__metadata(a130_0x4afd49(0x20a),[String,dto_1[a130_0x4afd49(0x23a)]]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],'update',null),__decorate([(0x0,common_1['Patch'])(':id/volume'),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)]['Admin'],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),__param(0x0,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__param(0x1,(0x0,common_1[a130_0x4afd49(0x233)])()),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[String,dto_1['UpdateSoundDto']]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x22e),null),__decorate([(0x0,common_1['Delete'])(a130_0x4afd49(0x232)),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),__param(0x0,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x20e),null),__decorate([(0x0,common_1[a130_0x4afd49(0x215)])(':id/play'),(0x0,common_1['UseGuards'])(guards_1[a130_0x4afd49(0x21c)],guards_1[a130_0x4afd49(0x20b)],guards_1[a130_0x4afd49(0x1f3)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x202)],role_enum_1['Role'][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)]['Viewer']),__param(0x0,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__param(0x1,(0x0,common_1[a130_0x4afd49(0x216)])(a130_0x4afd49(0x1f8))),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[String,String]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x1ec),null),__decorate([(0x0,common_1[a130_0x4afd49(0x215)])(a130_0x4afd49(0x1f4)),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1['JwtAuthGuard'],guards_1[a130_0x4afd49(0x20b)]),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1['Role'][a130_0x4afd49(0x202)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1ef)],role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x1f0)]),__param(0x0,(0x0,common_1[a130_0x4afd49(0x225)])('id')),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[String]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x230),null),__decorate([(0x0,common_1[a130_0x4afd49(0x215)])('/resetTunes'),(0x0,common_1[a130_0x4afd49(0x22c)])(guards_1[a130_0x4afd49(0x21c)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x4afd49(0x21b)])(role_enum_1[a130_0x4afd49(0x219)][a130_0x4afd49(0x22f)]),__metadata(a130_0x4afd49(0x227),Function),__metadata('design:paramtypes',[]),__metadata(a130_0x4afd49(0x224),Promise)],SoundController[a130_0x4afd49(0x1f5)],a130_0x4afd49(0x1fb),null),SoundController=__decorate([(0x0,common_1[a130_0x4afd49(0x20f)])(a130_0x4afd49(0x237)),__metadata('design:paramtypes',[sound_service_1['SoundService']])],SoundController),exports['SoundController']=SoundController;