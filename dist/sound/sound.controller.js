'use strict';function a133_0x5d2d(_0x5e9e28,_0xc2f377){const _0x1d38d3=a133_0x1d38();return a133_0x5d2d=function(_0x5d2da8,_0x49c68a){_0x5d2da8=_0x5d2da8-0x14f;let _0x1d06ec=_0x1d38d3[_0x5d2da8];return _0x1d06ec;},a133_0x5d2d(_0x5e9e28,_0xc2f377);}const a133_0x245f11=a133_0x5d2d;(function(_0x377c88,_0x73ac2c){const _0x21fbfe=a133_0x5d2d,_0x380331=_0x377c88();while(!![]){try{const _0x573721=-parseInt(_0x21fbfe(0x199))/0x1*(-parseInt(_0x21fbfe(0x158))/0x2)+-parseInt(_0x21fbfe(0x15e))/0x3+-parseInt(_0x21fbfe(0x197))/0x4+-parseInt(_0x21fbfe(0x17e))/0x5*(-parseInt(_0x21fbfe(0x193))/0x6)+-parseInt(_0x21fbfe(0x153))/0x7+-parseInt(_0x21fbfe(0x175))/0x8+parseInt(_0x21fbfe(0x17d))/0x9*(parseInt(_0x21fbfe(0x19c))/0xa);if(_0x573721===_0x73ac2c)break;else _0x380331['push'](_0x380331['shift']());}catch(_0x30be1f){_0x380331['push'](_0x380331['shift']());}}}(a133_0x1d38,0x8db53));var __decorate=this&&this['__decorate']||function(_0xffbf3a,_0x24740c,_0x13c06a,_0x3ffaf5){const _0x3e0892=a133_0x5d2d;var _0x31ae6c=arguments[_0x3e0892(0x17a)],_0x193965=_0x31ae6c<0x3?_0x24740c:_0x3ffaf5===null?_0x3ffaf5=Object[_0x3e0892(0x159)](_0x24740c,_0x13c06a):_0x3ffaf5,_0x4e5f35;if(typeof Reflect===_0x3e0892(0x163)&&typeof Reflect[_0x3e0892(0x16f)]===_0x3e0892(0x156))_0x193965=Reflect['decorate'](_0xffbf3a,_0x24740c,_0x13c06a,_0x3ffaf5);else{for(var _0x3c0f2a=_0xffbf3a[_0x3e0892(0x17a)]-0x1;_0x3c0f2a>=0x0;_0x3c0f2a--)if(_0x4e5f35=_0xffbf3a[_0x3c0f2a])_0x193965=(_0x31ae6c<0x3?_0x4e5f35(_0x193965):_0x31ae6c>0x3?_0x4e5f35(_0x24740c,_0x13c06a,_0x193965):_0x4e5f35(_0x24740c,_0x13c06a))||_0x193965;}return _0x31ae6c>0x3&&_0x193965&&Object[_0x3e0892(0x171)](_0x24740c,_0x13c06a,_0x193965),_0x193965;},__metadata=this&&this['__metadata']||function(_0x4029ac,_0x4ec0c0){const _0x4c4628=a133_0x5d2d;if(typeof Reflect==='object'&&typeof Reflect[_0x4c4628(0x165)]===_0x4c4628(0x156))return Reflect[_0x4c4628(0x165)](_0x4029ac,_0x4ec0c0);},__param=this&&this[a133_0x245f11(0x191)]||function(_0xea6fed,_0x1fd61e){return function(_0x43716f,_0x1bed49){_0x1fd61e(_0x43716f,_0x1bed49,_0xea6fed);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['SoundController']=void 0x0;function a133_0x1d38(){const _0x26ea0f=['UploadedFile',':id/play','Viewer','JwtAuthGuard','updateVolume','UseGuards','7970284sAnwTZ','Query','uploadByType','function','_id','19794xHavXP','getOwnPropertyDescriptor','UseInterceptors','multer','update','Post','2031741eRRJlY','play','design:returntype','../common/constants','stop','object',':id/stop','metadata','../common/enums','Song','/songs','findSongs','FileInterceptor','./constants','@nestjs/platform-express','SoundType','UpdateSoundDto','decorate','../common/utils','defineProperty','/tunes','findTunes','design:paramtypes','5868776OnQUjI','Body','uuid','repeat','Admin','length','create','file','32535KLrhky','1820945xvFmyU','soundService','uploadById','Delete','delete','RolesGuard','true','Controller','/resetTunes','design:type','resetTunes','Param','Get','./sound.service','findByType','originalname','User','prototype','/upload/:type','__param','upload','12bKudHc','@nestjs/common','Roles','SoundService','3613472jBGHip',':id','3YkjUUE','LicenseGuard','../auth/enums/role.enum','9060ebcRIg','Role','Patch'];a133_0x1d38=function(){return _0x26ea0f;};return a133_0x1d38();}const common_1=require(a133_0x245f11(0x194)),platform_express_1=require(a133_0x245f11(0x16c)),multer_1=require(a133_0x245f11(0x15b)),utils_1=require(a133_0x245f11(0x170)),constants_1=require(a133_0x245f11(0x161)),sound_service_1=require(a133_0x245f11(0x18b)),dto_1=require('./dto'),constants_2=require(a133_0x245f11(0x16b)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a133_0x245f11(0x19b)),guards_1=require('../auth/guards'),enums_1=require(a133_0x245f11(0x166)),fileInterceptorOptions={'storage':(0x0,multer_1['diskStorage'])({'destination':constants_1['TMP_UPLOAD_DIR'],'filename':(_0x29ba78,_0x58eeec,_0x1df00c)=>{const _0x383866=a133_0x245f11;return _0x1df00c(null,''+(0x0,utils_1[_0x383866(0x177)])()+_0x58eeec[_0x383866(0x18d)]);}})};let SoundController=class SoundController{constructor(_0x3b97bb){const _0xc67dc4=a133_0x245f11;this[_0xc67dc4(0x17f)]=_0x3b97bb;}async[a133_0x245f11(0x17b)](_0x3ad189){const _0x3a8c04=a133_0x245f11;return this[_0x3a8c04(0x17f)][_0x3a8c04(0x17b)](_0x3ad189);}async[a133_0x245f11(0x180)](_0xeefb60,_0x59b241){const _0x59f1c4=a133_0x245f11;return this[_0x59f1c4(0x17f)][_0x59f1c4(0x192)](_0x59b241,_0xeefb60);}async[a133_0x245f11(0x155)](_0x4ae8e9,_0x520624){const _0x3f82bd=a133_0x245f11,_0x163638={'name':_0x4ae8e9===null||_0x4ae8e9===void 0x0?void 0x0:_0x4ae8e9[_0x3f82bd(0x18d)],'type':_0x520624},_0x2c7eb9=await this['soundService'][_0x3f82bd(0x17b)](_0x163638);return this['soundService'][_0x3f82bd(0x192)](_0x2c7eb9[_0x3f82bd(0x157)],_0x4ae8e9);}async[a133_0x245f11(0x173)](){const _0x15b4af=a133_0x245f11;return this[_0x15b4af(0x17f)]['findByType'](constants_2[_0x15b4af(0x16d)]['Tune']);}async[a133_0x245f11(0x169)](){const _0x12b476=a133_0x245f11;return this[_0x12b476(0x17f)][_0x12b476(0x18c)](constants_2[_0x12b476(0x16d)][_0x12b476(0x167)]);}async[a133_0x245f11(0x15c)](_0x2b83ef,_0x2fe516){const _0x41c978=a133_0x245f11;return this[_0x41c978(0x17f)]['update'](_0x2b83ef,_0x2fe516);}async[a133_0x245f11(0x151)](_0x3b70f0,_0x4a1baa){const _0x5d9012=a133_0x245f11;return this[_0x5d9012(0x17f)][_0x5d9012(0x151)](_0x3b70f0,_0x4a1baa);}async[a133_0x245f11(0x182)](_0x2b665c){const _0x3b09c5=a133_0x245f11;return this[_0x3b09c5(0x17f)][_0x3b09c5(0x182)](_0x2b665c);}async[a133_0x245f11(0x15f)](_0xc09ec,_0x4e5545){const _0x1ec9c4=a133_0x245f11;return this[_0x1ec9c4(0x17f)]['play'](enums_1['AuditActor'][_0x1ec9c4(0x18e)],_0xc09ec,_0x4e5545===_0x1ec9c4(0x184));}async[a133_0x245f11(0x162)](_0x204e1a){return this['soundService']['stop'](_0x204e1a);}async[a133_0x245f11(0x188)](){const _0x466567=a133_0x245f11;return this[_0x466567(0x17f)][_0x466567(0x188)]();}};__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1[a133_0x245f11(0x19d)]['Viewer']),__param(0x0,(0x0,common_1['Body'])()),__metadata('design:type',Function),__metadata(a133_0x245f11(0x174),[dto_1['CreateSoundDto']]),__metadata(a133_0x245f11(0x160),Promise)],SoundController['prototype'],a133_0x245f11(0x17b),null),__decorate([(0x0,common_1['Post'])(':id/upload'),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)]['User'],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x14f)]),(0x0,common_1[a133_0x245f11(0x15a)])((0x0,platform_express_1[a133_0x245f11(0x16a)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x245f11(0x19f)])()),__param(0x1,(0x0,common_1[a133_0x245f11(0x189)])('id')),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[Object,String]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],'uploadById',null),__decorate([(0x0,common_1[a133_0x245f11(0x15d)])(a133_0x245f11(0x190)),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1['Role'][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1['Role'][a133_0x245f11(0x14f)]),(0x0,common_1[a133_0x245f11(0x15a)])((0x0,platform_express_1[a133_0x245f11(0x16a)])(a133_0x245f11(0x17c),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x245f11(0x19f)])()),__param(0x1,(0x0,common_1['Param'])('type')),__metadata(a133_0x245f11(0x187),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x155),null),__decorate([(0x0,common_1[a133_0x245f11(0x18a)])(a133_0x245f11(0x172)),(0x0,common_1['UseGuards'])(guards_1[a133_0x245f11(0x150)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)]['Admin'],role_enum_1[a133_0x245f11(0x19d)]['User'],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x14f)]),__metadata(a133_0x245f11(0x187),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x245f11(0x160),Promise)],SoundController['prototype'],a133_0x245f11(0x173),null),__decorate([(0x0,common_1[a133_0x245f11(0x18a)])(a133_0x245f11(0x168)),(0x0,common_1['UseGuards'])(guards_1[a133_0x245f11(0x150)],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1[a133_0x245f11(0x19d)]['Viewer']),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[]),__metadata(a133_0x245f11(0x160),Promise)],SoundController['prototype'],'findSongs',null),__decorate([(0x0,common_1[a133_0x245f11(0x19e)])(a133_0x245f11(0x198)),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1['Role'][a133_0x245f11(0x14f)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a133_0x245f11(0x176)])()),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[String,dto_1[a133_0x245f11(0x16e)]]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x15c),null),__decorate([(0x0,common_1[a133_0x245f11(0x19e)])(':id/volume'),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1['Role'][a133_0x245f11(0x14f)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[String,dto_1[a133_0x245f11(0x16e)]]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x151),null),__decorate([(0x0,common_1[a133_0x245f11(0x181)])(a133_0x245f11(0x198)),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1['Role'][a133_0x245f11(0x14f)]),__param(0x0,(0x0,common_1[a133_0x245f11(0x189)])('id')),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[String]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x182),null),__decorate([(0x0,common_1[a133_0x245f11(0x15d)])(a133_0x245f11(0x1a0)),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a133_0x245f11(0x183)],guards_1[a133_0x245f11(0x19a)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1['Role'][a133_0x245f11(0x179)],role_enum_1['Role'][a133_0x245f11(0x18e)],role_enum_1[a133_0x245f11(0x19d)]['Viewer']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a133_0x245f11(0x154)])(a133_0x245f11(0x178))),__metadata(a133_0x245f11(0x187),Function),__metadata(a133_0x245f11(0x174),[String,String]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x15f),null),__decorate([(0x0,common_1['Post'])(a133_0x245f11(0x164)),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1['Role'][a133_0x245f11(0x179)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x18e)],role_enum_1[a133_0x245f11(0x19d)][a133_0x245f11(0x14f)]),__param(0x0,(0x0,common_1[a133_0x245f11(0x189)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x245f11(0x160),Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x162),null),__decorate([(0x0,common_1[a133_0x245f11(0x15d)])(a133_0x245f11(0x186)),(0x0,common_1[a133_0x245f11(0x152)])(guards_1[a133_0x245f11(0x150)],guards_1[a133_0x245f11(0x183)]),(0x0,roles_decorator_1[a133_0x245f11(0x195)])(role_enum_1[a133_0x245f11(0x19d)]['Master']),__metadata(a133_0x245f11(0x187),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],SoundController[a133_0x245f11(0x18f)],a133_0x245f11(0x188),null),SoundController=__decorate([(0x0,common_1[a133_0x245f11(0x185)])('sound'),__metadata('design:paramtypes',[sound_service_1[a133_0x245f11(0x196)]])],SoundController),exports['SoundController']=SoundController;