'use strict';const a133_0x23e6fa=a133_0x53bc;(function(_0x1ba35a,_0x2e601f){const _0x1c1338=a133_0x53bc,_0x227f02=_0x1ba35a();while(!![]){try{const _0x2d5826=-parseInt(_0x1c1338(0x1f5))/0x1+parseInt(_0x1c1338(0x1f9))/0x2+parseInt(_0x1c1338(0x202))/0x3+parseInt(_0x1c1338(0x21a))/0x4*(parseInt(_0x1c1338(0x1f8))/0x5)+parseInt(_0x1c1338(0x229))/0x6+-parseInt(_0x1c1338(0x201))/0x7*(-parseInt(_0x1c1338(0x1f7))/0x8)+-parseInt(_0x1c1338(0x1ed))/0x9*(parseInt(_0x1c1338(0x1fc))/0xa);if(_0x2d5826===_0x2e601f)break;else _0x227f02['push'](_0x227f02['shift']());}catch(_0xc39039){_0x227f02['push'](_0x227f02['shift']());}}}(a133_0x290f,0xdd308));function a133_0x53bc(_0x2b4e39,_0x55e820){const _0x290f4c=a133_0x290f();return a133_0x53bc=function(_0x53bcfa,_0x3d9443){_0x53bcfa=_0x53bcfa-0x1da;let _0x1c6a38=_0x290f4c[_0x53bcfa];return _0x1c6a38;},a133_0x53bc(_0x2b4e39,_0x55e820);}var __decorate=this&&this[a133_0x23e6fa(0x1fa)]||function(_0x5e68c5,_0x4fbf00,_0x487b7b,_0xfea711){const _0x1088ba=a133_0x23e6fa;var _0x27b9cf=arguments[_0x1088ba(0x1e2)],_0x5f1be4=_0x27b9cf<0x3?_0x4fbf00:_0xfea711===null?_0xfea711=Object[_0x1088ba(0x1de)](_0x4fbf00,_0x487b7b):_0xfea711,_0x425cc8;if(typeof Reflect==='object'&&typeof Reflect[_0x1088ba(0x1ee)]===_0x1088ba(0x1fb))_0x5f1be4=Reflect['decorate'](_0x5e68c5,_0x4fbf00,_0x487b7b,_0xfea711);else{for(var _0x197f74=_0x5e68c5[_0x1088ba(0x1e2)]-0x1;_0x197f74>=0x0;_0x197f74--)if(_0x425cc8=_0x5e68c5[_0x197f74])_0x5f1be4=(_0x27b9cf<0x3?_0x425cc8(_0x5f1be4):_0x27b9cf>0x3?_0x425cc8(_0x4fbf00,_0x487b7b,_0x5f1be4):_0x425cc8(_0x4fbf00,_0x487b7b))||_0x5f1be4;}return _0x27b9cf>0x3&&_0x5f1be4&&Object[_0x1088ba(0x1ea)](_0x4fbf00,_0x487b7b,_0x5f1be4),_0x5f1be4;},__metadata=this&&this[a133_0x23e6fa(0x1fd)]||function(_0x4bbc6e,_0x395ca1){const _0x300d7d=a133_0x23e6fa;if(typeof Reflect===_0x300d7d(0x21b)&&typeof Reflect[_0x300d7d(0x225)]===_0x300d7d(0x1fb))return Reflect[_0x300d7d(0x225)](_0x4bbc6e,_0x395ca1);},__param=this&&this[a133_0x23e6fa(0x1db)]||function(_0x201129,_0x3efee2){return function(_0x1cc26b,_0x54397a){_0x3efee2(_0x1cc26b,_0x54397a,_0x201129);};};Object[a133_0x23e6fa(0x1ea)](exports,a133_0x23e6fa(0x221),{'value':!![]}),exports['SoundController']=void 0x0;const common_1=require(a133_0x23e6fa(0x222)),platform_express_1=require('@nestjs/platform-express'),multer_1=require(a133_0x23e6fa(0x1e3)),utils_1=require(a133_0x23e6fa(0x20a)),constants_1=require('../common/constants'),sound_service_1=require(a133_0x23e6fa(0x1e6)),dto_1=require(a133_0x23e6fa(0x200)),constants_2=require('./constants'),roles_decorator_1=require(a133_0x23e6fa(0x1e1)),role_enum_1=require(a133_0x23e6fa(0x227)),guards_1=require(a133_0x23e6fa(0x1eb)),enums_1=require(a133_0x23e6fa(0x1e8)),fileInterceptorOptions={'storage':(0x0,multer_1[a133_0x23e6fa(0x206)])({'destination':constants_1[a133_0x23e6fa(0x219)],'filename':(_0x8016e0,_0x17bd8f,_0x335512)=>{const _0x3ae46e=a133_0x23e6fa;return _0x335512(null,''+(0x0,utils_1[_0x3ae46e(0x1fe)])()+_0x17bd8f['originalname']);}})};let SoundController=class SoundController{constructor(_0x5d4e7f){const _0x2de1f4=a133_0x23e6fa;this[_0x2de1f4(0x22a)]=_0x5d4e7f;}async[a133_0x23e6fa(0x22c)](_0x5d9f8a){const _0x1e5b9e=a133_0x23e6fa;return this['soundService'][_0x1e5b9e(0x22c)](_0x5d9f8a);}async[a133_0x23e6fa(0x230)](_0x3a0a7f,_0x4ca6d3){const _0x37375a=a133_0x23e6fa;return this['soundService'][_0x37375a(0x22e)](_0x4ca6d3,_0x3a0a7f);}async[a133_0x23e6fa(0x1ec)](_0x166c47,_0x40ac4e){const _0x5cb373=a133_0x23e6fa,_0x24259e={'name':_0x166c47===null||_0x166c47===void 0x0?void 0x0:_0x166c47[_0x5cb373(0x224)],'type':_0x40ac4e},_0x7ef31b=await this[_0x5cb373(0x22a)]['create'](_0x24259e);return this[_0x5cb373(0x22a)][_0x5cb373(0x22e)](_0x7ef31b[_0x5cb373(0x212)],_0x166c47);}async['findTunes'](){const _0x301569=a133_0x23e6fa;return this[_0x301569(0x22a)][_0x301569(0x1f2)](constants_2[_0x301569(0x207)][_0x301569(0x21e)]);}async[a133_0x23e6fa(0x1da)](){const _0x44e849=a133_0x23e6fa;return this[_0x44e849(0x22a)][_0x44e849(0x1f2)](constants_2[_0x44e849(0x207)]['Song']);}async['update'](_0x39d9e2,_0x105165){const _0x2a58a1=a133_0x23e6fa;return this[_0x2a58a1(0x22a)][_0x2a58a1(0x215)](_0x39d9e2,_0x105165);}async[a133_0x23e6fa(0x1f4)](_0x1be751,_0x3018f4){const _0x199899=a133_0x23e6fa;return this['soundService'][_0x199899(0x1f4)](_0x1be751,_0x3018f4);}async[a133_0x23e6fa(0x210)](_0x2b68db){const _0x3cda54=a133_0x23e6fa;return this[_0x3cda54(0x22a)][_0x3cda54(0x210)](_0x2b68db);}async[a133_0x23e6fa(0x213)](_0x5403e9,_0x1877a7){const _0x316506=a133_0x23e6fa;return this[_0x316506(0x22a)][_0x316506(0x213)](enums_1[_0x316506(0x208)][_0x316506(0x1e4)],_0x5403e9,_0x1877a7===_0x316506(0x1e7));}async['stop'](_0x585013){const _0x1b0996=a133_0x23e6fa;return this[_0x1b0996(0x22a)][_0x1b0996(0x216)](_0x585013);}async[a133_0x23e6fa(0x1df)](){const _0x3d477a=a133_0x23e6fa;return this['soundService'][_0x3d477a(0x1df)]();}};__decorate([(0x0,common_1[a133_0x23e6fa(0x20e)])(),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1['Body'])()),__metadata(a133_0x23e6fa(0x228),Function),__metadata('design:paramtypes',[dto_1[a133_0x23e6fa(0x214)]]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x22c),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x20e)])(a133_0x23e6fa(0x22b)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1['Role'][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x211)]),(0x0,common_1[a133_0x23e6fa(0x1dd)])((0x0,platform_express_1[a133_0x23e6fa(0x204)])(a133_0x23e6fa(0x226),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[Object,String]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x230),null),__decorate([(0x0,common_1['Post'])(a133_0x23e6fa(0x20c)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1['JwtAuthGuard'],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1[a133_0x23e6fa(0x22d)]['Viewer']),(0x0,common_1[a133_0x23e6fa(0x1dd)])((0x0,platform_express_1[a133_0x23e6fa(0x204)])(a133_0x23e6fa(0x226),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1['Param'])(a133_0x23e6fa(0x218))),__metadata('design:type',Function),__metadata(a133_0x23e6fa(0x205),[Object,String]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x1ec),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x1e5)])('/tunes'),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1['JwtAuthGuard'],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x23e6fa(0x22d)]['Admin'],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1['Role'][a133_0x23e6fa(0x211)]),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[]),__metadata('design:returntype',Promise)],SoundController[a133_0x23e6fa(0x21f)],'findTunes',null),__decorate([(0x0,common_1['Get'])(a133_0x23e6fa(0x1f1)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1['JwtAuthGuard'],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x23e6fa(0x22d)]['Admin'],role_enum_1[a133_0x23e6fa(0x22d)]['User'],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x211)]),__metadata(a133_0x23e6fa(0x228),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController['prototype'],a133_0x23e6fa(0x1da),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x203)])(':id'),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1['Role'][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__param(0x1,(0x0,common_1[a133_0x23e6fa(0x1f3)])()),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[String,dto_1['UpdateSoundDto']]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x215),null),__decorate([(0x0,common_1['Patch'])(a133_0x23e6fa(0x1dc)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[String,dto_1['UpdateSoundDto']]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x1f4),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x22f)])(a133_0x23e6fa(0x21c)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1['Role'][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x210),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x20e)])(a133_0x23e6fa(0x1f6)),(0x0,common_1['UseGuards'])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)],guards_1['LicenseGuard']),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x1e4)],role_enum_1['Role'][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__param(0x1,(0x0,common_1[a133_0x23e6fa(0x217)])(a133_0x23e6fa(0x20f))),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[String,String]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],'play',null),__decorate([(0x0,common_1['Post'])(':id/stop'),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x20d)],role_enum_1['Role']['User'],role_enum_1[a133_0x23e6fa(0x22d)][a133_0x23e6fa(0x211)]),__param(0x0,(0x0,common_1[a133_0x23e6fa(0x220)])('id')),__metadata(a133_0x23e6fa(0x228),Function),__metadata(a133_0x23e6fa(0x205),[String]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController['prototype'],a133_0x23e6fa(0x216),null),__decorate([(0x0,common_1[a133_0x23e6fa(0x20e)])(a133_0x23e6fa(0x223)),(0x0,common_1[a133_0x23e6fa(0x1f0)])(guards_1[a133_0x23e6fa(0x20b)],guards_1[a133_0x23e6fa(0x1ff)]),(0x0,roles_decorator_1[a133_0x23e6fa(0x1ef)])(role_enum_1['Role']['Master']),__metadata(a133_0x23e6fa(0x228),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x23e6fa(0x1e9),Promise)],SoundController[a133_0x23e6fa(0x21f)],a133_0x23e6fa(0x1df),null),SoundController=__decorate([(0x0,common_1[a133_0x23e6fa(0x1e0)])(a133_0x23e6fa(0x209)),__metadata(a133_0x23e6fa(0x205),[sound_service_1[a133_0x23e6fa(0x21d)]])],SoundController),exports['SoundController']=SoundController;function a133_0x290f(){const _0x5a527b=['uploadByType','1054413TvZHmr','decorate','Roles','UseGuards','/songs','findByType','Body','updateVolume','780428zcXHhf',':id/play','70384TUWtjG','25zBwkvh','1995402HsQBTM','__decorate','function','290VflhbV','__metadata','uuid','RolesGuard','./dto','1414wAlfJP','515982vMXFjc','Patch','FileInterceptor','design:paramtypes','diskStorage','SoundType','AuditActor','sound','../common/utils','JwtAuthGuard','/upload/:type','Admin','Post','repeat','delete','Viewer','_id','play','CreateSoundDto','update','stop','Query','type','TMP_UPLOAD_DIR','301564ePFEQS','object',':id','SoundService','Tune','prototype','Param','__esModule','@nestjs/common','/resetTunes','originalname','metadata','file','../auth/enums/role.enum','design:type','10560762ZQdPnJ','soundService',':id/upload','create','Role','upload','Delete','uploadById','findSongs','__param',':id/volume','UseInterceptors','getOwnPropertyDescriptor','resetTunes','Controller','../auth/decorators/roles.decorator','length','multer','User','Get','./sound.service','true','../common/enums','design:returntype','defineProperty','../auth/guards'];a133_0x290f=function(){return _0x5a527b;};return a133_0x290f();}