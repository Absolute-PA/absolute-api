'use strict';const a133_0x18bb60=a133_0x7136;(function(_0x3c972e,_0xba90a6){const _0x2f5c78=a133_0x7136,_0x150cfe=_0x3c972e();while(!![]){try{const _0x2633ab=-parseInt(_0x2f5c78(0x20a))/0x1+-parseInt(_0x2f5c78(0x1d8))/0x2+parseInt(_0x2f5c78(0x1e6))/0x3*(parseInt(_0x2f5c78(0x1ec))/0x4)+-parseInt(_0x2f5c78(0x1eb))/0x5+parseInt(_0x2f5c78(0x1fd))/0x6+parseInt(_0x2f5c78(0x200))/0x7*(parseInt(_0x2f5c78(0x211))/0x8)+-parseInt(_0x2f5c78(0x1db))/0x9*(-parseInt(_0x2f5c78(0x203))/0xa);if(_0x2633ab===_0xba90a6)break;else _0x150cfe['push'](_0x150cfe['shift']());}catch(_0x3424b3){_0x150cfe['push'](_0x150cfe['shift']());}}}(a133_0x268b,0xe002d));var __decorate=this&&this[a133_0x18bb60(0x214)]||function(_0x41ee23,_0x6e4fa3,_0x4fddbd,_0x39f4b8){const _0x186d83=a133_0x18bb60;var _0x4580a2=arguments['length'],_0x6481fa=_0x4580a2<0x3?_0x6e4fa3:_0x39f4b8===null?_0x39f4b8=Object['getOwnPropertyDescriptor'](_0x6e4fa3,_0x4fddbd):_0x39f4b8,_0x3ef615;if(typeof Reflect===_0x186d83(0x1d2)&&typeof Reflect[_0x186d83(0x1ca)]==='function')_0x6481fa=Reflect[_0x186d83(0x1ca)](_0x41ee23,_0x6e4fa3,_0x4fddbd,_0x39f4b8);else{for(var _0x5f2933=_0x41ee23['length']-0x1;_0x5f2933>=0x0;_0x5f2933--)if(_0x3ef615=_0x41ee23[_0x5f2933])_0x6481fa=(_0x4580a2<0x3?_0x3ef615(_0x6481fa):_0x4580a2>0x3?_0x3ef615(_0x6e4fa3,_0x4fddbd,_0x6481fa):_0x3ef615(_0x6e4fa3,_0x4fddbd))||_0x6481fa;}return _0x4580a2>0x3&&_0x6481fa&&Object[_0x186d83(0x1d1)](_0x6e4fa3,_0x4fddbd,_0x6481fa),_0x6481fa;},__metadata=this&&this[a133_0x18bb60(0x1d6)]||function(_0x343bde,_0x4ef637){const _0x37cdef=a133_0x18bb60;if(typeof Reflect===_0x37cdef(0x1d2)&&typeof Reflect[_0x37cdef(0x1e8)]==='function')return Reflect[_0x37cdef(0x1e8)](_0x343bde,_0x4ef637);},__param=this&&this['__param']||function(_0x25df58,_0x570647){return function(_0x5dc95f,_0x184032){_0x570647(_0x5dc95f,_0x184032,_0x25df58);};};function a133_0x268b(){const _0x175ec3=['file','design:paramtypes','soundService','stop','@nestjs/common','1531998Hwopcr','../common/utils','FileInterceptor','63zJvmCo','../auth/guards','create','640HBXSCY','play','/songs','delete','Master','repeat','prototype','164341prYFZh','Controller','Post','JwtAuthGuard','Body','resetTunes','Role','431024ZvdULK','/resetTunes','Tune','__decorate','UploadedFile','__esModule','uploadById','_id','UseGuards',':id/stop','Param','./constants','decorate','./sound.service','updateVolume','UseInterceptors',':id/volume','SoundController','Query','defineProperty','object','UpdateSoundDto','multer','Admin','__metadata',':id','3616620ROaOto','Get','../common/constants','191142aIjTeW','RolesGuard','SoundType','uuid',':id/play','update','Viewer','type','SoundService','design:type','originalname','16737mqLSXZ','Roles','metadata','uploadByType','design:returntype','4414835KoJvGz','1200nsbNvk','../auth/enums/role.enum','findSongs','./dto','@nestjs/platform-express','findByType','Delete','User','upload','../common/enums','AuditActor','findTunes'];a133_0x268b=function(){return _0x175ec3;};return a133_0x268b();}function a133_0x7136(_0xa5eac3,_0x22f208){const _0x268b28=a133_0x268b();return a133_0x7136=function(_0x713648,_0x1dbced){_0x713648=_0x713648-0x1c7;let _0x3716b5=_0x268b28[_0x713648];return _0x3716b5;},a133_0x7136(_0xa5eac3,_0x22f208);}Object[a133_0x18bb60(0x1d1)](exports,a133_0x18bb60(0x216),{'value':!![]}),exports[a133_0x18bb60(0x1cf)]=void 0x0;const common_1=require(a133_0x18bb60(0x1fc)),platform_express_1=require(a133_0x18bb60(0x1f0)),multer_1=require(a133_0x18bb60(0x1d4)),utils_1=require(a133_0x18bb60(0x1fe)),constants_1=require(a133_0x18bb60(0x1da)),sound_service_1=require(a133_0x18bb60(0x1cb)),dto_1=require(a133_0x18bb60(0x1ef)),constants_2=require(a133_0x18bb60(0x1c9)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a133_0x18bb60(0x1ed)),guards_1=require(a133_0x18bb60(0x201)),enums_1=require(a133_0x18bb60(0x1f5)),fileInterceptorOptions={'storage':(0x0,multer_1['diskStorage'])({'destination':constants_1['TMP_UPLOAD_DIR'],'filename':(_0x51c32f,_0x53ca8d,_0x59775b)=>{const _0x28c68f=a133_0x18bb60;return _0x59775b(null,''+(0x0,utils_1[_0x28c68f(0x1de)])()+_0x53ca8d[_0x28c68f(0x1e5)]);}})};let SoundController=class SoundController{constructor(_0x85645f){const _0x266182=a133_0x18bb60;this[_0x266182(0x1fa)]=_0x85645f;}async[a133_0x18bb60(0x202)](_0x4d4b89){const _0x4f7af0=a133_0x18bb60;return this['soundService'][_0x4f7af0(0x202)](_0x4d4b89);}async[a133_0x18bb60(0x217)](_0x303fa2,_0x1064ea){const _0x31147d=a133_0x18bb60;return this[_0x31147d(0x1fa)][_0x31147d(0x1f4)](_0x1064ea,_0x303fa2);}async[a133_0x18bb60(0x1e9)](_0x1471d8,_0x2aec93){const _0x243ecf=a133_0x18bb60,_0x258ee6={'name':_0x1471d8===null||_0x1471d8===void 0x0?void 0x0:_0x1471d8[_0x243ecf(0x1e5)],'type':_0x2aec93},_0x53df50=await this['soundService'][_0x243ecf(0x202)](_0x258ee6);return this[_0x243ecf(0x1fa)][_0x243ecf(0x1f4)](_0x53df50[_0x243ecf(0x218)],_0x1471d8);}async['findTunes'](){const _0x3b12f3=a133_0x18bb60;return this[_0x3b12f3(0x1fa)][_0x3b12f3(0x1f1)](constants_2[_0x3b12f3(0x1dd)][_0x3b12f3(0x213)]);}async[a133_0x18bb60(0x1ee)](){const _0x5db30b=a133_0x18bb60;return this['soundService'][_0x5db30b(0x1f1)](constants_2[_0x5db30b(0x1dd)]['Song']);}async[a133_0x18bb60(0x1e0)](_0x29aaa0,_0x310cf2){const _0x39a414=a133_0x18bb60;return this['soundService'][_0x39a414(0x1e0)](_0x29aaa0,_0x310cf2);}async['updateVolume'](_0xe45c3b,_0x4e4478){const _0x46a5d7=a133_0x18bb60;return this[_0x46a5d7(0x1fa)][_0x46a5d7(0x1cc)](_0xe45c3b,_0x4e4478);}async[a133_0x18bb60(0x206)](_0x260869){const _0x45ee95=a133_0x18bb60;return this[_0x45ee95(0x1fa)]['delete'](_0x260869);}async[a133_0x18bb60(0x204)](_0x49bea7,_0x8b6c13){const _0x538035=a133_0x18bb60;return this['soundService'][_0x538035(0x204)](enums_1[_0x538035(0x1f6)][_0x538035(0x1f3)],_0x49bea7,_0x8b6c13==='true');}async['stop'](_0x9ac20d){const _0x102058=a133_0x18bb60;return this['soundService'][_0x102058(0x1fb)](_0x9ac20d);}async[a133_0x18bb60(0x20f)](){const _0x327be8=a133_0x18bb60;return this[_0x327be8(0x1fa)][_0x327be8(0x20f)]();}};__decorate([(0x0,common_1[a133_0x18bb60(0x20c)])(),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)]['User'],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1[a133_0x18bb60(0x20e)])()),__metadata(a133_0x18bb60(0x1e4),Function),__metadata('design:paramtypes',[dto_1['CreateSoundDto']]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController[a133_0x18bb60(0x209)],'create',null),__decorate([(0x0,common_1['Post'])(':id/upload'),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1d5)],role_enum_1['Role'][a133_0x18bb60(0x1f3)],role_enum_1['Role'][a133_0x18bb60(0x1e1)]),(0x0,common_1[a133_0x18bb60(0x1cd)])((0x0,platform_express_1[a133_0x18bb60(0x1ff)])(a133_0x18bb60(0x1f8),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1[a133_0x18bb60(0x1c8)])('id')),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[Object,String]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController[a133_0x18bb60(0x209)],a133_0x18bb60(0x217),null),__decorate([(0x0,common_1[a133_0x18bb60(0x20c)])('/upload/:type'),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1['Role'][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),(0x0,common_1[a133_0x18bb60(0x1cd)])((0x0,platform_express_1[a133_0x18bb60(0x1ff)])(a133_0x18bb60(0x1f8),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x18bb60(0x215)])()),__param(0x1,(0x0,common_1['Param'])(a133_0x18bb60(0x1e2))),__metadata(a133_0x18bb60(0x1e4),Function),__metadata('design:paramtypes',[Object,String]),__metadata('design:returntype',Promise)],SoundController[a133_0x18bb60(0x209)],a133_0x18bb60(0x1e9),null),__decorate([(0x0,common_1['Get'])('/tunes'),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)]['Admin'],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1[a133_0x18bb60(0x210)]['Viewer']),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[]),__metadata('design:returntype',Promise)],SoundController[a133_0x18bb60(0x209)],a133_0x18bb60(0x1f7),null),__decorate([(0x0,common_1[a133_0x18bb60(0x1d9)])(a133_0x18bb60(0x205)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1['Role'][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)]['User'],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController[a133_0x18bb60(0x209)],a133_0x18bb60(0x1ee),null),__decorate([(0x0,common_1['Patch'])(':id'),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1[a133_0x18bb60(0x1c8)])('id')),__param(0x1,(0x0,common_1[a133_0x18bb60(0x20e)])()),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[String,dto_1[a133_0x18bb60(0x1d3)]]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController[a133_0x18bb60(0x209)],a133_0x18bb60(0x1e0),null),__decorate([(0x0,common_1['Patch'])(a133_0x18bb60(0x1ce)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1[a133_0x18bb60(0x1c8)])('id')),__param(0x1,(0x0,common_1[a133_0x18bb60(0x20e)])()),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[String,dto_1['UpdateSoundDto']]),__metadata('design:returntype',Promise)],SoundController[a133_0x18bb60(0x209)],'updateVolume',null),__decorate([(0x0,common_1[a133_0x18bb60(0x1f2)])(a133_0x18bb60(0x1d7)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1['JwtAuthGuard'],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)]['Admin'],role_enum_1[a133_0x18bb60(0x210)]['User'],role_enum_1['Role'][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1[a133_0x18bb60(0x1c8)])('id')),__metadata(a133_0x18bb60(0x1e4),Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController['prototype'],a133_0x18bb60(0x206),null),__decorate([(0x0,common_1[a133_0x18bb60(0x20c)])(a133_0x18bb60(0x1df)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1[a133_0x18bb60(0x1dc)],guards_1['LicenseGuard']),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1['Role'][a133_0x18bb60(0x1d5)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a133_0x18bb60(0x1d0)])(a133_0x18bb60(0x208))),__metadata('design:type',Function),__metadata('design:paramtypes',[String,String]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController['prototype'],a133_0x18bb60(0x204),null),__decorate([(0x0,common_1[a133_0x18bb60(0x20c)])(a133_0x18bb60(0x1c7)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1['JwtAuthGuard'],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)]['Admin'],role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x1f3)],role_enum_1['Role'][a133_0x18bb60(0x1e1)]),__param(0x0,(0x0,common_1[a133_0x18bb60(0x1c8)])('id')),__metadata('design:type',Function),__metadata(a133_0x18bb60(0x1f9),[String]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController[a133_0x18bb60(0x209)],'stop',null),__decorate([(0x0,common_1[a133_0x18bb60(0x20c)])(a133_0x18bb60(0x212)),(0x0,common_1[a133_0x18bb60(0x219)])(guards_1[a133_0x18bb60(0x20d)],guards_1[a133_0x18bb60(0x1dc)]),(0x0,roles_decorator_1[a133_0x18bb60(0x1e7)])(role_enum_1[a133_0x18bb60(0x210)][a133_0x18bb60(0x207)]),__metadata(a133_0x18bb60(0x1e4),Function),__metadata(a133_0x18bb60(0x1f9),[]),__metadata(a133_0x18bb60(0x1ea),Promise)],SoundController['prototype'],a133_0x18bb60(0x20f),null),SoundController=__decorate([(0x0,common_1[a133_0x18bb60(0x20b)])('sound'),__metadata('design:paramtypes',[sound_service_1[a133_0x18bb60(0x1e3)]])],SoundController),exports[a133_0x18bb60(0x1cf)]=SoundController;