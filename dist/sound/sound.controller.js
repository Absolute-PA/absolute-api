'use strict';const a133_0x2de113=a133_0x58c7;(function(_0x133e83,_0x1dc614){const _0x4d37c8=a133_0x58c7,_0x5ca7f9=_0x133e83();while(!![]){try{const _0x18364d=-parseInt(_0x4d37c8(0xf2))/0x1+parseInt(_0x4d37c8(0x131))/0x2*(parseInt(_0x4d37c8(0x11f))/0x3)+-parseInt(_0x4d37c8(0x13c))/0x4+-parseInt(_0x4d37c8(0x146))/0x5+-parseInt(_0x4d37c8(0x110))/0x6*(-parseInt(_0x4d37c8(0x148))/0x7)+-parseInt(_0x4d37c8(0x10e))/0x8*(-parseInt(_0x4d37c8(0x141))/0x9)+parseInt(_0x4d37c8(0x12c))/0xa*(parseInt(_0x4d37c8(0x11d))/0xb);if(_0x18364d===_0x1dc614)break;else _0x5ca7f9['push'](_0x5ca7f9['shift']());}catch(_0x116e6f){_0x5ca7f9['push'](_0x5ca7f9['shift']());}}}(a133_0x4ddd,0xecd92));function a133_0x58c7(_0x49f6af,_0x4aa673){const _0x4ddd3d=a133_0x4ddd();return a133_0x58c7=function(_0x58c778,_0x2f41b2){_0x58c778=_0x58c778-0xef;let _0x2beeea=_0x4ddd3d[_0x58c778];return _0x2beeea;},a133_0x58c7(_0x49f6af,_0x4aa673);}var __decorate=this&&this[a133_0x2de113(0x147)]||function(_0x29f3af,_0x5262a8,_0x56f46c,_0x3a0875){const _0x99dcf7=a133_0x2de113;var _0x169212=arguments[_0x99dcf7(0x114)],_0x590412=_0x169212<0x3?_0x5262a8:_0x3a0875===null?_0x3a0875=Object['getOwnPropertyDescriptor'](_0x5262a8,_0x56f46c):_0x3a0875,_0x1629cd;if(typeof Reflect===_0x99dcf7(0xf8)&&typeof Reflect[_0x99dcf7(0x11e)]===_0x99dcf7(0xfa))_0x590412=Reflect['decorate'](_0x29f3af,_0x5262a8,_0x56f46c,_0x3a0875);else{for(var _0x4033e8=_0x29f3af[_0x99dcf7(0x114)]-0x1;_0x4033e8>=0x0;_0x4033e8--)if(_0x1629cd=_0x29f3af[_0x4033e8])_0x590412=(_0x169212<0x3?_0x1629cd(_0x590412):_0x169212>0x3?_0x1629cd(_0x5262a8,_0x56f46c,_0x590412):_0x1629cd(_0x5262a8,_0x56f46c))||_0x590412;}return _0x169212>0x3&&_0x590412&&Object[_0x99dcf7(0x105)](_0x5262a8,_0x56f46c,_0x590412),_0x590412;},__metadata=this&&this['__metadata']||function(_0x3c857d,_0x4ca965){const _0x255b1f=a133_0x2de113;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x255b1f(0xfa))return Reflect[_0x255b1f(0x106)](_0x3c857d,_0x4ca965);},__param=this&&this[a133_0x2de113(0x12e)]||function(_0x3802a8,_0x484c32){return function(_0x9c3c03,_0x2add5c){_0x484c32(_0x9c3c03,_0x2add5c,_0x3802a8);};};Object[a133_0x2de113(0x105)](exports,a133_0x2de113(0x120),{'value':!![]}),exports[a133_0x2de113(0xf9)]=void 0x0;const common_1=require(a133_0x2de113(0x13d)),platform_express_1=require('@nestjs/platform-express'),multer_1=require(a133_0x2de113(0x117)),utils_1=require(a133_0x2de113(0x12a)),constants_1=require(a133_0x2de113(0x121)),sound_service_1=require('./sound.service'),dto_1=require(a133_0x2de113(0xff)),constants_2=require(a133_0x2de113(0x133)),roles_decorator_1=require(a133_0x2de113(0x124)),role_enum_1=require('../auth/enums/role.enum'),guards_1=require(a133_0x2de113(0x143)),enums_1=require('../common/enums'),fileInterceptorOptions={'storage':(0x0,multer_1[a133_0x2de113(0x11a)])({'destination':constants_1[a133_0x2de113(0x127)],'filename':(_0x1c8c0f,_0x4ba42f,_0x2d3555)=>{const _0x4322fd=a133_0x2de113;return _0x2d3555(null,''+(0x0,utils_1[_0x4322fd(0x103)])()+_0x4ba42f[_0x4322fd(0xf4)]);}})};let SoundController=class SoundController{constructor(_0x5c12b9){const _0x4d1797=a133_0x2de113;this[_0x4d1797(0x111)]=_0x5c12b9;}async['create'](_0x41f656){return this['soundService']['create'](_0x41f656);}async[a133_0x2de113(0xf6)](_0x496c06,_0x155804){const _0x2dc571=a133_0x2de113;return this['soundService'][_0x2dc571(0x130)](_0x155804,_0x496c06);}async[a133_0x2de113(0x109)](_0x3812b9,_0x5cc326){const _0x97ddf3=a133_0x2de113,_0x57f4cd={'name':_0x3812b9===null||_0x3812b9===void 0x0?void 0x0:_0x3812b9[_0x97ddf3(0xf4)],'type':_0x5cc326},_0x5e55b1=await this[_0x97ddf3(0x111)][_0x97ddf3(0x129)](_0x57f4cd);return this[_0x97ddf3(0x111)][_0x97ddf3(0x130)](_0x5e55b1[_0x97ddf3(0x10b)],_0x3812b9);}async['findTunes'](){const _0x380ad7=a133_0x2de113;return this['soundService']['findByType'](constants_2[_0x380ad7(0xfd)][_0x380ad7(0x132)]);}async[a133_0x2de113(0x112)](){const _0x5e4658=a133_0x2de113;return this[_0x5e4658(0x111)][_0x5e4658(0x115)](constants_2['SoundType'][_0x5e4658(0x135)]);}async[a133_0x2de113(0x13e)](_0x4a1ae8,_0x29311a){const _0x510ae2=a133_0x2de113;return this[_0x510ae2(0x111)]['update'](_0x4a1ae8,_0x29311a);}async[a133_0x2de113(0x107)](_0x414a35,_0x1a18d2){return this['soundService']['updateVolume'](_0x414a35,_0x1a18d2);}async['delete'](_0x250b7f){return this['soundService']['delete'](_0x250b7f);}async['play'](_0x276dac,_0x3d9886){const _0x5a457a=a133_0x2de113;return this[_0x5a457a(0x111)][_0x5a457a(0x12f)](enums_1[_0x5a457a(0x116)][_0x5a457a(0x118)],_0x276dac,_0x3d9886==='true');}async[a133_0x2de113(0xef)](_0x115cb6){const _0x1df59d=a133_0x2de113;return this[_0x1df59d(0x111)]['stop'](_0x115cb6);}async[a133_0x2de113(0xf7)](){return this['soundService']['resetTunes']();}};function a133_0x4ddd(){const _0x4c85b9=['type','RolesGuard','88fELdEW','decorate','9oMQzoM','__esModule','../common/constants','JwtAuthGuard','Get','../auth/decorators/roles.decorator',':id/stop','LicenseGuard','TMP_UPLOAD_DIR','design:type','create','../common/utils','UploadedFile','5012160bnUPkt','UpdateSoundDto','__param','play','upload','296222BCtbep','Tune','./constants',':id','Song','Query','Controller','design:returntype',':id/volume','Roles','Post','6327968lDYpJh','@nestjs/common','update','UseGuards','Admin','36gIsgwO','delete','../auth/guards','Param','Role','8331020UtJRqs','__decorate','7udGcdY','design:paramtypes','stop','Viewer','/songs','934101vYuYEl','Delete','originalname','CreateSoundDto','uploadById','resetTunes','object','SoundController','function','Body','/tunes','SoundType','prototype','./dto','/resetTunes','UseInterceptors','FileInterceptor','uuid','Master','defineProperty','metadata','updateVolume','repeat','uploadByType','Patch','_id',':id/play','SoundService','1199264prFiML','file','592404BSGfxL','soundService','findSongs',':id/upload','length','findByType','AuditActor','multer','User','sound','diskStorage'];a133_0x4ddd=function(){return _0x4c85b9;};return a133_0x4ddd();}__decorate([(0x0,common_1[a133_0x2de113(0x13b)])(),(0x0,common_1['UseGuards'])(guards_1[a133_0x2de113(0x122)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x118)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0xfb)])()),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[dto_1[a133_0x2de113(0xf5)]]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x129),null),__decorate([(0x0,common_1[a133_0x2de113(0x13b)])(a133_0x2de113(0x113)),(0x0,common_1['UseGuards'])(guards_1[a133_0x2de113(0x122)],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)]['Admin'],role_enum_1[a133_0x2de113(0x145)]['User'],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),(0x0,common_1[a133_0x2de113(0x101)])((0x0,platform_express_1['FileInterceptor'])(a133_0x2de113(0x10f),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x2de113(0x12b)])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[Object,String]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0xf6),null),__decorate([(0x0,common_1[a133_0x2de113(0x13b)])('/upload/:type'),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1[a133_0x2de113(0x122)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x2de113(0x145)]['Admin'],role_enum_1['Role'][a133_0x2de113(0x118)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),(0x0,common_1[a133_0x2de113(0x101)])((0x0,platform_express_1[a133_0x2de113(0x102)])(a133_0x2de113(0x10f),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x2de113(0x12b)])()),__param(0x1,(0x0,common_1['Param'])(a133_0x2de113(0x11b))),__metadata(a133_0x2de113(0x128),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x109),null),__decorate([(0x0,common_1[a133_0x2de113(0x123)])(a133_0x2de113(0xfc)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1[a133_0x2de113(0x122)],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1['Role'][a133_0x2de113(0x118)],role_enum_1['Role'][a133_0x2de113(0xf0)]),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[]),__metadata(a133_0x2de113(0x138),Promise)],SoundController['prototype'],'findTunes',null),__decorate([(0x0,common_1[a133_0x2de113(0x123)])(a133_0x2de113(0xf1)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1['JwtAuthGuard'],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)]['Admin'],role_enum_1[a133_0x2de113(0x145)]['User'],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x112),null),__decorate([(0x0,common_1[a133_0x2de113(0x10a)])(a133_0x2de113(0x134)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1[a133_0x2de113(0x122)],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)]['Admin'],role_enum_1[a133_0x2de113(0x145)]['User'],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0x144)])('id')),__param(0x1,(0x0,common_1[a133_0x2de113(0xfb)])()),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[String,dto_1['UpdateSoundDto']]),__metadata('design:returntype',Promise)],SoundController['prototype'],'update',null),__decorate([(0x0,common_1[a133_0x2de113(0x10a)])(a133_0x2de113(0x139)),(0x0,common_1['UseGuards'])(guards_1[a133_0x2de113(0x122)],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1['Role'][a133_0x2de113(0x118)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0x144)])('id')),__param(0x1,(0x0,common_1[a133_0x2de113(0xfb)])()),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[String,dto_1[a133_0x2de113(0x12d)]]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x107),null),__decorate([(0x0,common_1[a133_0x2de113(0xf3)])(':id'),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1['JwtAuthGuard'],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1['Role']['User'],role_enum_1['Role'][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0x144)])('id')),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[String]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x142),null),__decorate([(0x0,common_1[a133_0x2de113(0x13b)])(a133_0x2de113(0x10c)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1['JwtAuthGuard'],guards_1[a133_0x2de113(0x11c)],guards_1[a133_0x2de113(0x126)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x118)],role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0x144)])('id')),__param(0x1,(0x0,common_1[a133_0x2de113(0x136)])(a133_0x2de113(0x108))),__metadata('design:type',Function),__metadata(a133_0x2de113(0x149),[String,String]),__metadata('design:returntype',Promise)],SoundController[a133_0x2de113(0xfe)],a133_0x2de113(0x12f),null),__decorate([(0x0,common_1[a133_0x2de113(0x13b)])(a133_0x2de113(0x125)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1[a133_0x2de113(0x122)],guards_1[a133_0x2de113(0x11c)]),(0x0,roles_decorator_1[a133_0x2de113(0x13a)])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x140)],role_enum_1['Role'][a133_0x2de113(0x118)],role_enum_1['Role'][a133_0x2de113(0xf0)]),__param(0x0,(0x0,common_1[a133_0x2de113(0x144)])('id')),__metadata(a133_0x2de113(0x128),Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x2de113(0x138),Promise)],SoundController[a133_0x2de113(0xfe)],'stop',null),__decorate([(0x0,common_1[a133_0x2de113(0x13b)])(a133_0x2de113(0x100)),(0x0,common_1[a133_0x2de113(0x13f)])(guards_1[a133_0x2de113(0x122)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x2de113(0x145)][a133_0x2de113(0x104)]),__metadata(a133_0x2de113(0x128),Function),__metadata(a133_0x2de113(0x149),[]),__metadata(a133_0x2de113(0x138),Promise)],SoundController['prototype'],a133_0x2de113(0xf7),null),SoundController=__decorate([(0x0,common_1[a133_0x2de113(0x137)])(a133_0x2de113(0x119)),__metadata('design:paramtypes',[sound_service_1[a133_0x2de113(0x10d)]])],SoundController),exports[a133_0x2de113(0xf9)]=SoundController;