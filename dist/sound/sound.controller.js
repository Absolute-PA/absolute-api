'use strict';function a133_0x4990(){const _0x21bb86=['findTunes','1565944meaLow','_id','delete','create','FileInterceptor','./constants','./dto','983360FQlqef','sound','UploadedFile','uuid','Body','defineProperty',':id/stop','update','UseGuards','repeat','SoundService','RolesGuard','soundService','Roles','232617asMvZV','prototype','type','Controller','LicenseGuard','Post','findSongs','metadata','134898tlKUMx','User','JwtAuthGuard','function','design:type','decorate','__metadata','/tunes','UseInterceptors','../common/enums','SoundController','stop',':id/volume','design:returntype','uploadById','../auth/guards','Query','636EKhsgX','upload','3493IaCcgN','design:paramtypes','TMP_UPLOAD_DIR','findByType','Viewer','getOwnPropertyDescriptor','../common/constants','410764RZEiRn',':id','../common/utils','resetTunes','UpdateSoundDto','Delete','file','Patch','updateVolume','Param','862492MutEde','multer','object','play','Role','/resetTunes','originalname','uploadByType','__decorate','SoundType','__param','Admin'];a133_0x4990=function(){return _0x21bb86;};return a133_0x4990();}const a133_0x5598ac=a133_0x301e;(function(_0x241aea,_0x2a1d42){const _0x270516=a133_0x301e,_0x46690b=_0x241aea();while(!![]){try{const _0x519343=-parseInt(_0x270516(0xe3))/0x1+parseInt(_0x270516(0xfd))/0x2+-parseInt(_0x270516(0xdb))/0x3+parseInt(_0x270516(0x107))/0x4+parseInt(_0x270516(0xcd))/0x5+-parseInt(_0x270516(0xf4))/0x6*(parseInt(_0x270516(0xf6))/0x7)+-parseInt(_0x270516(0xc6))/0x8;if(_0x519343===_0x2a1d42)break;else _0x46690b['push'](_0x46690b['shift']());}catch(_0x23c4ad){_0x46690b['push'](_0x46690b['shift']());}}}(a133_0x4990,0x263bb));function a133_0x301e(_0x1ccc13,_0x21dc15){const _0x4990ca=a133_0x4990();return a133_0x301e=function(_0x301e58,_0x4b29d9){_0x301e58=_0x301e58-0xbd;let _0x4a7cd3=_0x4990ca[_0x301e58];return _0x4a7cd3;},a133_0x301e(_0x1ccc13,_0x21dc15);}var __decorate=this&&this[a133_0x5598ac(0xc1)]||function(_0x5d90bf,_0x3a141f,_0x406db0,_0x4465e7){const _0x2e3575=a133_0x5598ac;var _0x23804b=arguments['length'],_0x45a824=_0x23804b<0x3?_0x3a141f:_0x4465e7===null?_0x4465e7=Object[_0x2e3575(0xfb)](_0x3a141f,_0x406db0):_0x4465e7,_0x3be58f;if(typeof Reflect===_0x2e3575(0x109)&&typeof Reflect['decorate']===_0x2e3575(0xe6))_0x45a824=Reflect[_0x2e3575(0xe8)](_0x5d90bf,_0x3a141f,_0x406db0,_0x4465e7);else{for(var _0x53afc3=_0x5d90bf['length']-0x1;_0x53afc3>=0x0;_0x53afc3--)if(_0x3be58f=_0x5d90bf[_0x53afc3])_0x45a824=(_0x23804b<0x3?_0x3be58f(_0x45a824):_0x23804b>0x3?_0x3be58f(_0x3a141f,_0x406db0,_0x45a824):_0x3be58f(_0x3a141f,_0x406db0))||_0x45a824;}return _0x23804b>0x3&&_0x45a824&&Object[_0x2e3575(0xd2)](_0x3a141f,_0x406db0,_0x45a824),_0x45a824;},__metadata=this&&this[a133_0x5598ac(0xe9)]||function(_0x175505,_0x17c89e){const _0x372c8d=a133_0x5598ac;if(typeof Reflect===_0x372c8d(0x109)&&typeof Reflect[_0x372c8d(0xe2)]===_0x372c8d(0xe6))return Reflect[_0x372c8d(0xe2)](_0x175505,_0x17c89e);},__param=this&&this[a133_0x5598ac(0xc3)]||function(_0x275ccc,_0x358433){return function(_0x25f2f1,_0x5c2ac6){_0x358433(_0x25f2f1,_0x5c2ac6,_0x275ccc);};};Object[a133_0x5598ac(0xd2)](exports,'__esModule',{'value':!![]}),exports[a133_0x5598ac(0xed)]=void 0x0;const common_1=require('@nestjs/common'),platform_express_1=require('@nestjs/platform-express'),multer_1=require(a133_0x5598ac(0x108)),utils_1=require(a133_0x5598ac(0xff)),constants_1=require(a133_0x5598ac(0xfc)),sound_service_1=require('./sound.service'),dto_1=require(a133_0x5598ac(0xcc)),constants_2=require(a133_0x5598ac(0xcb)),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require('../auth/enums/role.enum'),guards_1=require(a133_0x5598ac(0xf2)),enums_1=require(a133_0x5598ac(0xec)),fileInterceptorOptions={'storage':(0x0,multer_1['diskStorage'])({'destination':constants_1[a133_0x5598ac(0xf8)],'filename':(_0x1bf704,_0x19e67f,_0x27d5f4)=>{const _0x2a5c13=a133_0x5598ac;return _0x27d5f4(null,''+(0x0,utils_1[_0x2a5c13(0xd0)])()+_0x19e67f[_0x2a5c13(0xbf)]);}})};let SoundController=class SoundController{constructor(_0x420ca3){const _0x4221ba=a133_0x5598ac;this[_0x4221ba(0xd9)]=_0x420ca3;}async[a133_0x5598ac(0xc9)](_0x404dd0){return this['soundService']['create'](_0x404dd0);}async['uploadById'](_0x811771,_0x1877ff){const _0x2f6986=a133_0x5598ac;return this[_0x2f6986(0xd9)]['upload'](_0x1877ff,_0x811771);}async[a133_0x5598ac(0xc0)](_0x3d7c96,_0x2e4580){const _0x4f7f62=a133_0x5598ac,_0x4ddb9d={'name':_0x3d7c96===null||_0x3d7c96===void 0x0?void 0x0:_0x3d7c96[_0x4f7f62(0xbf)],'type':_0x2e4580},_0x1379d9=await this[_0x4f7f62(0xd9)][_0x4f7f62(0xc9)](_0x4ddb9d);return this[_0x4f7f62(0xd9)][_0x4f7f62(0xf5)](_0x1379d9[_0x4f7f62(0xc7)],_0x3d7c96);}async[a133_0x5598ac(0xc5)](){const _0x113ec1=a133_0x5598ac;return this['soundService'][_0x113ec1(0xf9)](constants_2[_0x113ec1(0xc2)]['Tune']);}async[a133_0x5598ac(0xe1)](){const _0x1a2cbe=a133_0x5598ac;return this[_0x1a2cbe(0xd9)][_0x1a2cbe(0xf9)](constants_2[_0x1a2cbe(0xc2)]['Song']);}async['update'](_0x2e1e6d,_0x13bea1){const _0x21e628=a133_0x5598ac;return this[_0x21e628(0xd9)][_0x21e628(0xd4)](_0x2e1e6d,_0x13bea1);}async[a133_0x5598ac(0x105)](_0x27f20c,_0x27b81a){const _0x295e34=a133_0x5598ac;return this[_0x295e34(0xd9)][_0x295e34(0x105)](_0x27f20c,_0x27b81a);}async[a133_0x5598ac(0xc8)](_0x79252b){const _0x481fef=a133_0x5598ac;return this[_0x481fef(0xd9)][_0x481fef(0xc8)](_0x79252b);}async[a133_0x5598ac(0x10a)](_0xb8b849,_0x26a468){const _0x25a74a=a133_0x5598ac;return this[_0x25a74a(0xd9)][_0x25a74a(0x10a)](enums_1['AuditActor'][_0x25a74a(0xe4)],_0xb8b849,_0x26a468==='true');}async[a133_0x5598ac(0xee)](_0x6760be){return this['soundService']['stop'](_0x6760be);}async[a133_0x5598ac(0x100)](){const _0x27eaf2=a133_0x5598ac;return this[_0x27eaf2(0xd9)][_0x27eaf2(0x100)]();}};__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])(),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xc4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),__param(0x0,(0x0,common_1[a133_0x5598ac(0xd1)])()),__metadata(a133_0x5598ac(0xe7),Function),__metadata(a133_0x5598ac(0xf7),[dto_1['CreateSoundDto']]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0xc9),null),__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])(':id/upload'),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1['JwtAuthGuard'],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x5598ac(0xc4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1['Role'][a133_0x5598ac(0xfa)]),(0x0,common_1[a133_0x5598ac(0xeb)])((0x0,platform_express_1['FileInterceptor'])(a133_0x5598ac(0x103),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x5598ac(0xcf)])()),__param(0x1,(0x0,common_1[a133_0x5598ac(0x106)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,String]),__metadata('design:returntype',Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0xf1),null),__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])('/upload/:type'),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1['Role'][a133_0x5598ac(0xc4)],role_enum_1[a133_0x5598ac(0xbd)]['User'],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),(0x0,common_1[a133_0x5598ac(0xeb)])((0x0,platform_express_1[a133_0x5598ac(0xca)])(a133_0x5598ac(0x103),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x5598ac(0xcf)])()),__param(0x1,(0x0,common_1[a133_0x5598ac(0x106)])(a133_0x5598ac(0xdd))),__metadata(a133_0x5598ac(0xe7),Function),__metadata(a133_0x5598ac(0xf7),[Object,String]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0xc0),null),__decorate([(0x0,common_1['Get'])(a133_0x5598ac(0xea)),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1[a133_0x5598ac(0xbd)]['Admin'],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1[a133_0x5598ac(0xbd)]['Viewer']),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0xc5),null),__decorate([(0x0,common_1['Get'])('/songs'),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x5598ac(0xc4)],role_enum_1['Role'][a133_0x5598ac(0xe4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),__metadata('design:type',Function),__metadata(a133_0x5598ac(0xf7),[]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0xe1),null),__decorate([(0x0,common_1[a133_0x5598ac(0x104)])(a133_0x5598ac(0xfe)),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1['JwtAuthGuard'],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x5598ac(0xbd)]['Admin'],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),__param(0x0,(0x0,common_1[a133_0x5598ac(0x106)])('id')),__param(0x1,(0x0,common_1[a133_0x5598ac(0xd1)])()),__metadata(a133_0x5598ac(0xe7),Function),__metadata('design:paramtypes',[String,dto_1[a133_0x5598ac(0x101)]]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController['prototype'],a133_0x5598ac(0xd4),null),__decorate([(0x0,common_1['Patch'])(a133_0x5598ac(0xef)),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1['JwtAuthGuard'],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1['Role']['Admin'],role_enum_1[a133_0x5598ac(0xbd)]['User'],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),__param(0x0,(0x0,common_1[a133_0x5598ac(0x106)])('id')),__param(0x1,(0x0,common_1[a133_0x5598ac(0xd1)])()),__metadata(a133_0x5598ac(0xe7),Function),__metadata('design:paramtypes',[String,dto_1[a133_0x5598ac(0x101)]]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],'updateVolume',null),__decorate([(0x0,common_1[a133_0x5598ac(0x102)])(a133_0x5598ac(0xfe)),(0x0,common_1['UseGuards'])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xc4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xfa)]),__param(0x0,(0x0,common_1[a133_0x5598ac(0x106)])('id')),__metadata(a133_0x5598ac(0xe7),Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController['prototype'],a133_0x5598ac(0xc8),null),__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])(':id/play'),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)],guards_1[a133_0x5598ac(0xdf)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xc4)],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1['Role'][a133_0x5598ac(0xfa)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a133_0x5598ac(0xf3)])(a133_0x5598ac(0xd6))),__metadata(a133_0x5598ac(0xe7),Function),__metadata('design:paramtypes',[String,String]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],a133_0x5598ac(0x10a),null),__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])(a133_0x5598ac(0xd3)),(0x0,common_1['UseGuards'])(guards_1[a133_0x5598ac(0xe5)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1[a133_0x5598ac(0xbd)]['Admin'],role_enum_1[a133_0x5598ac(0xbd)][a133_0x5598ac(0xe4)],role_enum_1['Role']['Viewer']),__param(0x0,(0x0,common_1[a133_0x5598ac(0x106)])('id')),__metadata(a133_0x5598ac(0xe7),Function),__metadata(a133_0x5598ac(0xf7),[String]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],'stop',null),__decorate([(0x0,common_1[a133_0x5598ac(0xe0)])(a133_0x5598ac(0xbe)),(0x0,common_1[a133_0x5598ac(0xd5)])(guards_1[a133_0x5598ac(0xe5)],guards_1[a133_0x5598ac(0xd8)]),(0x0,roles_decorator_1[a133_0x5598ac(0xda)])(role_enum_1['Role']['Master']),__metadata(a133_0x5598ac(0xe7),Function),__metadata(a133_0x5598ac(0xf7),[]),__metadata(a133_0x5598ac(0xf0),Promise)],SoundController[a133_0x5598ac(0xdc)],'resetTunes',null),SoundController=__decorate([(0x0,common_1[a133_0x5598ac(0xde)])(a133_0x5598ac(0xce)),__metadata(a133_0x5598ac(0xf7),[sound_service_1[a133_0x5598ac(0xd7)]])],SoundController),exports['SoundController']=SoundController;