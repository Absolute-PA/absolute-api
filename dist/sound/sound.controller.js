'use strict';const a133_0x4deb80=a133_0x2c8f;function a133_0x2c8f(_0x5abd17,_0x1d161f){const _0x43be60=a133_0x43be();return a133_0x2c8f=function(_0x2c8f7a,_0x93b34){_0x2c8f7a=_0x2c8f7a-0x132;let _0x2eede2=_0x43be60[_0x2c8f7a];return _0x2eede2;},a133_0x2c8f(_0x5abd17,_0x1d161f);}(function(_0x559d52,_0x10c632){const _0x4b351c=a133_0x2c8f,_0x5fa34c=_0x559d52();while(!![]){try{const _0xe5c0ac=-parseInt(_0x4b351c(0x134))/0x1+parseInt(_0x4b351c(0x16b))/0x2*(-parseInt(_0x4b351c(0x137))/0x3)+-parseInt(_0x4b351c(0x173))/0x4+-parseInt(_0x4b351c(0x17f))/0x5*(parseInt(_0x4b351c(0x181))/0x6)+parseInt(_0x4b351c(0x162))/0x7+-parseInt(_0x4b351c(0x16a))/0x8+parseInt(_0x4b351c(0x14c))/0x9*(parseInt(_0x4b351c(0x17b))/0xa);if(_0xe5c0ac===_0x10c632)break;else _0x5fa34c['push'](_0x5fa34c['shift']());}catch(_0x1ecef0){_0x5fa34c['push'](_0x5fa34c['shift']());}}}(a133_0x43be,0x7fe98));function a133_0x43be(){const _0x1216ff=['TMP_UPLOAD_DIR','Get','/resetTunes','originalname','Patch','../auth/guards','User','create','design:paramtypes','object','findTunes','@nestjs/platform-express','repeat','606798wOsaVe','SoundController','uploadById','4659igsFXf','__metadata','Delete','AuditActor','Tune','Viewer','LicenseGuard','Role','stop','SoundType','/songs','Master','update','__esModule','UseInterceptors','./dto','uploadByType','play','JwtAuthGuard','delete','../auth/enums/role.enum','7083umkzcJ','sound','Query',':id/volume','uuid','prototype','CreateSoundDto','../auth/decorators/roles.decorator',':id/upload','file','function','../common/enums','RolesGuard','decorate','upload','getOwnPropertyDescriptor','length',':id/play','Param','defineProperty','Roles','FileInterceptor','4585161yNnSrs','UploadedFile','../common/constants','metadata','design:type','UpdateSoundDto',':id','UseGuards','7619160RJTWJA','914HXwHeZ','findSongs','updateVolume','Controller','__decorate','/tunes','soundService','__param','1528076JaMnpJ','_id','Post','resetTunes','design:returntype','Admin','Body','Song','42990oDzjio','findByType',':id/stop','type','125HdsLZT','@nestjs/common','207234MpUeft'];a133_0x43be=function(){return _0x1216ff;};return a133_0x43be();}var __decorate=this&&this[a133_0x4deb80(0x16f)]||function(_0x34ac92,_0x121ffa,_0x705908,_0x10af34){const _0x330a58=a133_0x4deb80;var _0x52b2cb=arguments[_0x330a58(0x15c)],_0x55dd34=_0x52b2cb<0x3?_0x121ffa:_0x10af34===null?_0x10af34=Object[_0x330a58(0x15b)](_0x121ffa,_0x705908):_0x10af34,_0x65801d;if(typeof Reflect===_0x330a58(0x18b)&&typeof Reflect[_0x330a58(0x159)]===_0x330a58(0x156))_0x55dd34=Reflect[_0x330a58(0x159)](_0x34ac92,_0x121ffa,_0x705908,_0x10af34);else{for(var _0x2adb99=_0x34ac92[_0x330a58(0x15c)]-0x1;_0x2adb99>=0x0;_0x2adb99--)if(_0x65801d=_0x34ac92[_0x2adb99])_0x55dd34=(_0x52b2cb<0x3?_0x65801d(_0x55dd34):_0x52b2cb>0x3?_0x65801d(_0x121ffa,_0x705908,_0x55dd34):_0x65801d(_0x121ffa,_0x705908))||_0x55dd34;}return _0x52b2cb>0x3&&_0x55dd34&&Object[_0x330a58(0x15f)](_0x121ffa,_0x705908,_0x55dd34),_0x55dd34;},__metadata=this&&this[a133_0x4deb80(0x138)]||function(_0x7fd839,_0xb37015){const _0x754925=a133_0x4deb80;if(typeof Reflect===_0x754925(0x18b)&&typeof Reflect[_0x754925(0x165)]==='function')return Reflect[_0x754925(0x165)](_0x7fd839,_0xb37015);},__param=this&&this[a133_0x4deb80(0x172)]||function(_0x597323,_0x2dd778){return function(_0x4cf14d,_0xea4c3e){_0x2dd778(_0x4cf14d,_0xea4c3e,_0x597323);};};Object[a133_0x4deb80(0x15f)](exports,a133_0x4deb80(0x144),{'value':!![]}),exports[a133_0x4deb80(0x135)]=void 0x0;const common_1=require(a133_0x4deb80(0x180)),platform_express_1=require(a133_0x4deb80(0x132)),multer_1=require('multer'),utils_1=require('../common/utils'),constants_1=require(a133_0x4deb80(0x164)),sound_service_1=require('./sound.service'),dto_1=require(a133_0x4deb80(0x146)),constants_2=require('./constants'),roles_decorator_1=require(a133_0x4deb80(0x153)),role_enum_1=require(a133_0x4deb80(0x14b)),guards_1=require(a133_0x4deb80(0x187)),enums_1=require(a133_0x4deb80(0x157)),fileInterceptorOptions={'storage':(0x0,multer_1['diskStorage'])({'destination':constants_1[a133_0x4deb80(0x182)],'filename':(_0x1e90fa,_0x1da5ed,_0x2bc19c)=>{const _0x45a5e4=a133_0x4deb80;return _0x2bc19c(null,''+(0x0,utils_1[_0x45a5e4(0x150)])()+_0x1da5ed[_0x45a5e4(0x185)]);}})};let SoundController=class SoundController{constructor(_0x588050){const _0xa7d7d1=a133_0x4deb80;this[_0xa7d7d1(0x171)]=_0x588050;}async[a133_0x4deb80(0x189)](_0xa39691){const _0x224620=a133_0x4deb80;return this['soundService'][_0x224620(0x189)](_0xa39691);}async[a133_0x4deb80(0x136)](_0x2fe0cd,_0x509cad){const _0x5e4560=a133_0x4deb80;return this[_0x5e4560(0x171)]['upload'](_0x509cad,_0x2fe0cd);}async[a133_0x4deb80(0x147)](_0x2e99e0,_0x5171f1){const _0x12c730=a133_0x4deb80,_0x48202e={'name':_0x2e99e0===null||_0x2e99e0===void 0x0?void 0x0:_0x2e99e0[_0x12c730(0x185)],'type':_0x5171f1},_0x328df3=await this[_0x12c730(0x171)][_0x12c730(0x189)](_0x48202e);return this[_0x12c730(0x171)][_0x12c730(0x15a)](_0x328df3[_0x12c730(0x174)],_0x2e99e0);}async[a133_0x4deb80(0x18c)](){const _0x54593d=a133_0x4deb80;return this[_0x54593d(0x171)][_0x54593d(0x17c)](constants_2[_0x54593d(0x140)][_0x54593d(0x13b)]);}async[a133_0x4deb80(0x16c)](){const _0x565d88=a133_0x4deb80;return this['soundService'][_0x565d88(0x17c)](constants_2[_0x565d88(0x140)][_0x565d88(0x17a)]);}async[a133_0x4deb80(0x143)](_0x496d8e,_0x502b07){const _0x5938c9=a133_0x4deb80;return this[_0x5938c9(0x171)][_0x5938c9(0x143)](_0x496d8e,_0x502b07);}async[a133_0x4deb80(0x16d)](_0x1336d1,_0x3b8be0){return this['soundService']['updateVolume'](_0x1336d1,_0x3b8be0);}async[a133_0x4deb80(0x14a)](_0xd5ba09){const _0x5354b7=a133_0x4deb80;return this[_0x5354b7(0x171)][_0x5354b7(0x14a)](_0xd5ba09);}async[a133_0x4deb80(0x148)](_0x4669a7,_0xaf557a){const _0x3ff28b=a133_0x4deb80;return this[_0x3ff28b(0x171)]['play'](enums_1[_0x3ff28b(0x13a)][_0x3ff28b(0x188)],_0x4669a7,_0xaf557a==='true');}async[a133_0x4deb80(0x13f)](_0x13e7d6){const _0x3f0f30=a133_0x4deb80;return this[_0x3f0f30(0x171)][_0x3f0f30(0x13f)](_0x13e7d6);}async[a133_0x4deb80(0x176)](){const _0x1ed5df=a133_0x4deb80;return this['soundService'][_0x1ed5df(0x176)]();}};__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1[a133_0x4deb80(0x149)],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x13c)]),__param(0x0,(0x0,common_1[a133_0x4deb80(0x179)])()),__metadata('design:type',Function),__metadata(a133_0x4deb80(0x18a),[dto_1[a133_0x4deb80(0x152)]]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x189),null),__decorate([(0x0,common_1[a133_0x4deb80(0x175)])(a133_0x4deb80(0x154)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1[a133_0x4deb80(0x149)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1[a133_0x4deb80(0x13e)]['Admin'],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x13c)]),(0x0,common_1['UseInterceptors'])((0x0,platform_express_1[a133_0x4deb80(0x161)])(a133_0x4deb80(0x155),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x4deb80(0x163)])()),__param(0x1,(0x0,common_1[a133_0x4deb80(0x15e)])('id')),__metadata('design:type',Function),__metadata(a133_0x4deb80(0x18a),[Object,String]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],'uploadById',null),__decorate([(0x0,common_1['Post'])('/upload/:type'),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1[a133_0x4deb80(0x149)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x178)],role_enum_1['Role'][a133_0x4deb80(0x188)],role_enum_1['Role'][a133_0x4deb80(0x13c)]),(0x0,common_1[a133_0x4deb80(0x145)])((0x0,platform_express_1['FileInterceptor'])(a133_0x4deb80(0x155),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1[a133_0x4deb80(0x15e)])(a133_0x4deb80(0x17e))),__metadata('design:type',Function),__metadata('design:paramtypes',[Object,String]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x147),null),__decorate([(0x0,common_1[a133_0x4deb80(0x183)])(a133_0x4deb80(0x170)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1[a133_0x4deb80(0x149)],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x13c)]),__metadata('design:type',Function),__metadata(a133_0x4deb80(0x18a),[]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController['prototype'],a133_0x4deb80(0x18c),null),__decorate([(0x0,common_1[a133_0x4deb80(0x183)])(a133_0x4deb80(0x141)),(0x0,common_1['UseGuards'])(guards_1[a133_0x4deb80(0x149)],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1['Role']['Admin'],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1[a133_0x4deb80(0x13e)]['Viewer']),__metadata(a133_0x4deb80(0x166),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x16c),null),__decorate([(0x0,common_1[a133_0x4deb80(0x186)])(a133_0x4deb80(0x168)),(0x0,common_1['UseGuards'])(guards_1[a133_0x4deb80(0x149)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1['Role']['Viewer']),__param(0x0,(0x0,common_1[a133_0x4deb80(0x15e)])('id')),__param(0x1,(0x0,common_1[a133_0x4deb80(0x179)])()),__metadata('design:type',Function),__metadata(a133_0x4deb80(0x18a),[String,dto_1[a133_0x4deb80(0x167)]]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x143),null),__decorate([(0x0,common_1[a133_0x4deb80(0x186)])(a133_0x4deb80(0x14f)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1['JwtAuthGuard'],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1['Role'][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x188)],role_enum_1['Role'][a133_0x4deb80(0x13c)]),__param(0x0,(0x0,common_1[a133_0x4deb80(0x15e)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a133_0x4deb80(0x166),Function),__metadata('design:paramtypes',[String,dto_1['UpdateSoundDto']]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x16d),null),__decorate([(0x0,common_1[a133_0x4deb80(0x139)])(':id'),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1['JwtAuthGuard'],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)]['User'],role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x13c)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a133_0x4deb80(0x166),Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],a133_0x4deb80(0x14a),null),__decorate([(0x0,common_1[a133_0x4deb80(0x175)])(a133_0x4deb80(0x15d)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1['JwtAuthGuard'],guards_1[a133_0x4deb80(0x158)],guards_1[a133_0x4deb80(0x13d)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a133_0x4deb80(0x178)],role_enum_1[a133_0x4deb80(0x13e)]['User'],role_enum_1[a133_0x4deb80(0x13e)]['Viewer']),__param(0x0,(0x0,common_1[a133_0x4deb80(0x15e)])('id')),__param(0x1,(0x0,common_1[a133_0x4deb80(0x14e)])(a133_0x4deb80(0x133))),__metadata(a133_0x4deb80(0x166),Function),__metadata(a133_0x4deb80(0x18a),[String,String]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController[a133_0x4deb80(0x151)],'play',null),__decorate([(0x0,common_1['Post'])(a133_0x4deb80(0x17d)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1[a133_0x4deb80(0x149)],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x4deb80(0x13e)]['Admin'],role_enum_1['Role']['User'],role_enum_1['Role'][a133_0x4deb80(0x13c)]),__param(0x0,(0x0,common_1[a133_0x4deb80(0x15e)])('id')),__metadata(a133_0x4deb80(0x166),Function),__metadata(a133_0x4deb80(0x18a),[String]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController['prototype'],a133_0x4deb80(0x13f),null),__decorate([(0x0,common_1['Post'])(a133_0x4deb80(0x184)),(0x0,common_1[a133_0x4deb80(0x169)])(guards_1['JwtAuthGuard'],guards_1[a133_0x4deb80(0x158)]),(0x0,roles_decorator_1[a133_0x4deb80(0x160)])(role_enum_1[a133_0x4deb80(0x13e)][a133_0x4deb80(0x142)]),__metadata(a133_0x4deb80(0x166),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x4deb80(0x177),Promise)],SoundController['prototype'],'resetTunes',null),SoundController=__decorate([(0x0,common_1[a133_0x4deb80(0x16e)])(a133_0x4deb80(0x14d)),__metadata(a133_0x4deb80(0x18a),[sound_service_1['SoundService']])],SoundController),exports['SoundController']=SoundController;