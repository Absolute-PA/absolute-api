'use strict';const a130_0x4d6620=a130_0x1603;(function(_0x2c8f79,_0x292d09){const _0x400121=a130_0x1603,_0x334369=_0x2c8f79();while(!![]){try{const _0x2957c7=-parseInt(_0x400121(0xce))/0x1+parseInt(_0x400121(0xc6))/0x2+-parseInt(_0x400121(0xd3))/0x3+-parseInt(_0x400121(0xa8))/0x4*(parseInt(_0x400121(0xd2))/0x5)+parseInt(_0x400121(0xd4))/0x6*(parseInt(_0x400121(0xa7))/0x7)+-parseInt(_0x400121(0x8f))/0x8+parseInt(_0x400121(0x99))/0x9*(parseInt(_0x400121(0xde))/0xa);if(_0x2957c7===_0x292d09)break;else _0x334369['push'](_0x334369['shift']());}catch(_0x17988e){_0x334369['push'](_0x334369['shift']());}}}(a130_0x2a7a,0xd5019));var __decorate=this&&this['__decorate']||function(_0x305915,_0x11e447,_0x4cd954,_0x36743f){const _0xc336d4=a130_0x1603;var _0x2ac08e=arguments[_0xc336d4(0x98)],_0x190113=_0x2ac08e<0x3?_0x11e447:_0x36743f===null?_0x36743f=Object[_0xc336d4(0xb4)](_0x11e447,_0x4cd954):_0x36743f,_0x10495e;if(typeof Reflect===_0xc336d4(0xb6)&&typeof Reflect['decorate']===_0xc336d4(0xcf))_0x190113=Reflect[_0xc336d4(0xb1)](_0x305915,_0x11e447,_0x4cd954,_0x36743f);else{for(var _0x12b4a2=_0x305915[_0xc336d4(0x98)]-0x1;_0x12b4a2>=0x0;_0x12b4a2--)if(_0x10495e=_0x305915[_0x12b4a2])_0x190113=(_0x2ac08e<0x3?_0x10495e(_0x190113):_0x2ac08e>0x3?_0x10495e(_0x11e447,_0x4cd954,_0x190113):_0x10495e(_0x11e447,_0x4cd954))||_0x190113;}return _0x2ac08e>0x3&&_0x190113&&Object[_0xc336d4(0x9c)](_0x11e447,_0x4cd954,_0x190113),_0x190113;},__metadata=this&&this[a130_0x4d6620(0xa1)]||function(_0x40f048,_0x4d14c1){const _0x30068e=a130_0x4d6620;if(typeof Reflect===_0x30068e(0xb6)&&typeof Reflect[_0x30068e(0xc7)]===_0x30068e(0xcf))return Reflect['metadata'](_0x40f048,_0x4d14c1);},__param=this&&this[a130_0x4d6620(0xd7)]||function(_0x280bb6,_0x3689de){return function(_0x42467a,_0x2f94ed){_0x3689de(_0x42467a,_0x2f94ed,_0x280bb6);};};Object[a130_0x4d6620(0x9c)](exports,a130_0x4d6620(0xaa),{'value':!![]}),exports[a130_0x4d6620(0xac)]=void 0x0;const common_1=require('@nestjs/common'),platform_express_1=require(a130_0x4d6620(0xbd)),multer_1=require(a130_0x4d6620(0x95)),utils_1=require('../common/utils'),constants_1=require('../common/constants'),sound_service_1=require(a130_0x4d6620(0xd8)),dto_1=require(a130_0x4d6620(0xc2)),constants_2=require(a130_0x4d6620(0x8e)),roles_decorator_1=require(a130_0x4d6620(0x91)),role_enum_1=require(a130_0x4d6620(0xdc)),guards_1=require('../auth/guards'),enums_1=require(a130_0x4d6620(0xbf)),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x4d6620(0x93)])({'destination':constants_1['TMP_UPLOAD_DIR'],'filename':(_0x4b7c82,_0x24b425,_0x1143b9)=>{const _0x193390=a130_0x4d6620;return _0x1143b9(null,''+(0x0,utils_1['uuid'])()+_0x24b425[_0x193390(0xd6)]);}})};let SoundController=class SoundController{constructor(_0x52637d){const _0x279d21=a130_0x4d6620;this[_0x279d21(0xb3)]=_0x52637d;}async[a130_0x4d6620(0xdf)](_0xc8437b){return this['soundService']['create'](_0xc8437b);}async[a130_0x4d6620(0xca)](_0x134c06,_0x5d29dc){const _0x3c7f8f=a130_0x4d6620;return this[_0x3c7f8f(0xb3)][_0x3c7f8f(0xb0)](_0x5d29dc,_0x134c06);}async[a130_0x4d6620(0xd0)](_0x4db182,_0x2428af){const _0x3b357d=a130_0x4d6620,_0x43bd14={'name':_0x4db182===null||_0x4db182===void 0x0?void 0x0:_0x4db182[_0x3b357d(0xd6)],'type':_0x2428af},_0x503454=await this[_0x3b357d(0xb3)]['create'](_0x43bd14);return this['soundService'][_0x3b357d(0xb0)](_0x503454[_0x3b357d(0xaf)],_0x4db182);}async[a130_0x4d6620(0xa6)](){const _0x6a3768=a130_0x4d6620;return this[_0x6a3768(0xb3)]['findByType'](constants_2[_0x6a3768(0xcd)]['Tune']);}async[a130_0x4d6620(0xc5)](){const _0x561484=a130_0x4d6620;return this['soundService'][_0x561484(0xd5)](constants_2[_0x561484(0xcd)][_0x561484(0x9b)]);}async['update'](_0x4bb544,_0x5802cb){const _0x221f2a=a130_0x4d6620;return this[_0x221f2a(0xb3)]['update'](_0x4bb544,_0x5802cb);}async['updateVolume'](_0x2fe51c,_0x1c4565){const _0x18488f=a130_0x4d6620;return this[_0x18488f(0xb3)][_0x18488f(0x90)](_0x2fe51c,_0x1c4565);}async[a130_0x4d6620(0xbe)](_0x305b07){const _0x1f8a87=a130_0x4d6620;return this[_0x1f8a87(0xb3)][_0x1f8a87(0xbe)](_0x305b07);}async['play'](_0x18bd17,_0x325093){const _0x5f3408=a130_0x4d6620;return this[_0x5f3408(0xb3)][_0x5f3408(0xa3)](enums_1[_0x5f3408(0xa5)][_0x5f3408(0xbb)],_0x18bd17,_0x325093===_0x5f3408(0xa9));}async[a130_0x4d6620(0xab)](_0x4e67ab){const _0x4ea2f2=a130_0x4d6620;return this[_0x4ea2f2(0xb3)][_0x4ea2f2(0xab)](_0x4e67ab);}async['resetTunes'](){return this['soundService']['resetTunes']();}};function a130_0x1603(_0x122706,_0x23ffca){const _0x2a7af5=a130_0x2a7a();return a130_0x1603=function(_0x16033a,_0x14f8f5){_0x16033a=_0x16033a-0x8d;let _0x1c9162=_0x2a7af5[_0x16033a];return _0x1c9162;},a130_0x1603(_0x122706,_0x23ffca);}function a130_0x2a7a(){const _0x29db73=['Roles','diskStorage',':id/stop','multer','update','design:paramtypes','length','18pTUCWm','design:returntype','Song','defineProperty','UploadedFile','Controller','Param','file','__metadata','repeat','play','RolesGuard','AuditActor','findTunes','483HcPuHX','4LlONlw','true','__esModule','stop','SoundController','FileInterceptor','Patch','_id','upload','decorate',':id/upload','soundService','getOwnPropertyDescriptor','Admin','object','/songs','prototype','Post','Query','User','Viewer','@nestjs/platform-express','delete','../common/enums','Body','UseInterceptors','./dto',':id/play','UseGuards','findSongs','3016160iRbqqt','metadata','Delete','type','uploadById','resetTunes','LicenseGuard','SoundType','1675118fdAReK','function','uploadByType','design:type','1275305hhLPXB','415125rPwyeR','27834uigdaI','findByType','originalname','__param','./sound.service','Get','Role','UpdateSoundDto','../auth/enums/role.enum','Master','6274550jjVpno','create','JwtAuthGuard','./constants','1136432aduaEl','updateVolume','../auth/decorators/roles.decorator'];a130_0x2a7a=function(){return _0x29db73;};return a130_0x2a7a();}__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)]['Admin'],role_enum_1[a130_0x4d6620(0xda)]['User'],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1[a130_0x4d6620(0xc0)])()),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[dto_1['CreateSoundDto']]),__metadata('design:returntype',Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xdf),null),__decorate([(0x0,common_1[a130_0x4d6620(0xb9)])(a130_0x4d6620(0xb2)),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1['Role'][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),(0x0,common_1[a130_0x4d6620(0xc1)])((0x0,platform_express_1[a130_0x4d6620(0xad)])(a130_0x4d6620(0xa0),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4d6620(0x9d)])()),__param(0x1,(0x0,common_1[a130_0x4d6620(0x9f)])('id')),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[Object,String]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xca),null),__decorate([(0x0,common_1[a130_0x4d6620(0xb9)])('/upload/:type'),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)]['User'],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),(0x0,common_1[a130_0x4d6620(0xc1)])((0x0,platform_express_1[a130_0x4d6620(0xad)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4d6620(0x9d)])()),__param(0x1,(0x0,common_1[a130_0x4d6620(0x9f)])(a130_0x4d6620(0xc9))),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[Object,String]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xd0),null),__decorate([(0x0,common_1[a130_0x4d6620(0xd9)])('/tunes'),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xa6),null),__decorate([(0x0,common_1['Get'])(a130_0x4d6620(0xb7)),(0x0,common_1['UseGuards'])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1['Role'][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)]['User'],role_enum_1['Role'][a130_0x4d6620(0xbc)]),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xc5),null),__decorate([(0x0,common_1[a130_0x4d6620(0xae)])(':id'),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x4d6620(0xc0)])()),__metadata('design:type',Function),__metadata(a130_0x4d6620(0x97),[String,dto_1[a130_0x4d6620(0xdb)]]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0x96),null),__decorate([(0x0,common_1[a130_0x4d6620(0xae)])(':id/volume'),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1[a130_0x4d6620(0x9f)])('id')),__param(0x1,(0x0,common_1[a130_0x4d6620(0xc0)])()),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[String,dto_1[a130_0x4d6620(0xdb)]]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController['prototype'],a130_0x4d6620(0x90),null),__decorate([(0x0,common_1[a130_0x4d6620(0xc8)])(':id'),(0x0,common_1[a130_0x4d6620(0xc4)])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1['Role']['Admin'],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[String]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xbe),null),__decorate([(0x0,common_1[a130_0x4d6620(0xb9)])(a130_0x4d6620(0xc3)),(0x0,common_1['UseGuards'])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)],guards_1[a130_0x4d6620(0xcc)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x4d6620(0xda)]['Admin'],role_enum_1['Role'][a130_0x4d6620(0xbb)],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x4d6620(0xba)])(a130_0x4d6620(0xa2))),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[String,String]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xa3),null),__decorate([(0x0,common_1[a130_0x4d6620(0xb9)])(a130_0x4d6620(0x94)),(0x0,common_1['UseGuards'])(guards_1[a130_0x4d6620(0x8d)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xb5)],role_enum_1[a130_0x4d6620(0xda)]['User'],role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xbc)]),__param(0x0,(0x0,common_1[a130_0x4d6620(0x9f)])('id')),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[String]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],'stop',null),__decorate([(0x0,common_1[a130_0x4d6620(0xb9)])('/resetTunes'),(0x0,common_1['UseGuards'])(guards_1[a130_0x4d6620(0x8d)],guards_1[a130_0x4d6620(0xa4)]),(0x0,roles_decorator_1[a130_0x4d6620(0x92)])(role_enum_1[a130_0x4d6620(0xda)][a130_0x4d6620(0xdd)]),__metadata(a130_0x4d6620(0xd1),Function),__metadata(a130_0x4d6620(0x97),[]),__metadata(a130_0x4d6620(0x9a),Promise)],SoundController[a130_0x4d6620(0xb8)],a130_0x4d6620(0xcb),null),SoundController=__decorate([(0x0,common_1[a130_0x4d6620(0x9e)])('sound'),__metadata(a130_0x4d6620(0x97),[sound_service_1['SoundService']])],SoundController),exports['SoundController']=SoundController;