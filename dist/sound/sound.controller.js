'use strict';const a133_0x22b67d=a133_0x34c2;(function(_0x38e37d,_0x57b1cf){const _0x589e55=a133_0x34c2,_0x1ea308=_0x38e37d();while(!![]){try{const _0x52d71a=parseInt(_0x589e55(0x10c))/0x1+parseInt(_0x589e55(0xf2))/0x2*(parseInt(_0x589e55(0x112))/0x3)+-parseInt(_0x589e55(0xe1))/0x4+-parseInt(_0x589e55(0xd3))/0x5+parseInt(_0x589e55(0x101))/0x6*(parseInt(_0x589e55(0x10e))/0x7)+parseInt(_0x589e55(0x103))/0x8*(parseInt(_0x589e55(0xf6))/0x9)+-parseInt(_0x589e55(0x105))/0xa;if(_0x52d71a===_0x57b1cf)break;else _0x1ea308['push'](_0x1ea308['shift']());}catch(_0x591175){_0x1ea308['push'](_0x1ea308['shift']());}}}(a133_0x13d4,0x7e82a));var __decorate=this&&this[a133_0x22b67d(0xff)]||function(_0xe9ed48,_0x55749f,_0x388e5d,_0x6e4fde){const _0x3d53f3=a133_0x22b67d;var _0x1e58f7=arguments[_0x3d53f3(0xfe)],_0x12237f=_0x1e58f7<0x3?_0x55749f:_0x6e4fde===null?_0x6e4fde=Object[_0x3d53f3(0x10f)](_0x55749f,_0x388e5d):_0x6e4fde,_0x4e90c9;if(typeof Reflect===_0x3d53f3(0xce)&&typeof Reflect['decorate']===_0x3d53f3(0x10b))_0x12237f=Reflect[_0x3d53f3(0x117)](_0xe9ed48,_0x55749f,_0x388e5d,_0x6e4fde);else{for(var _0x2048af=_0xe9ed48[_0x3d53f3(0xfe)]-0x1;_0x2048af>=0x0;_0x2048af--)if(_0x4e90c9=_0xe9ed48[_0x2048af])_0x12237f=(_0x1e58f7<0x3?_0x4e90c9(_0x12237f):_0x1e58f7>0x3?_0x4e90c9(_0x55749f,_0x388e5d,_0x12237f):_0x4e90c9(_0x55749f,_0x388e5d))||_0x12237f;}return _0x1e58f7>0x3&&_0x12237f&&Object['defineProperty'](_0x55749f,_0x388e5d,_0x12237f),_0x12237f;},__metadata=this&&this[a133_0x22b67d(0x102)]||function(_0x5aa094,_0x39307a){const _0x301e33=a133_0x22b67d;if(typeof Reflect==='object'&&typeof Reflect[_0x301e33(0x106)]===_0x301e33(0x10b))return Reflect[_0x301e33(0x106)](_0x5aa094,_0x39307a);},__param=this&&this[a133_0x22b67d(0x118)]||function(_0xee10d4,_0x3fa8e5){return function(_0x2d7413,_0x40bcb5){_0x3fa8e5(_0x2d7413,_0x40bcb5,_0xee10d4);};};function a133_0x34c2(_0x2c4d25,_0x1e8232){const _0x13d49d=a133_0x13d4();return a133_0x34c2=function(_0x34c25d,_0x47e50c){_0x34c25d=_0x34c25d-0xc5;let _0x1618c5=_0x13d49d[_0x34c25d];return _0x1618c5;},a133_0x34c2(_0x2c4d25,_0x1e8232);}Object[a133_0x22b67d(0xfb)](exports,a133_0x22b67d(0xe4),{'value':!![]}),exports[a133_0x22b67d(0x113)]=void 0x0;const common_1=require(a133_0x22b67d(0x104)),platform_express_1=require('@nestjs/platform-express'),multer_1=require('multer'),utils_1=require(a133_0x22b67d(0xcf)),constants_1=require(a133_0x22b67d(0xdc)),sound_service_1=require('./sound.service'),dto_1=require(a133_0x22b67d(0x116)),constants_2=require(a133_0x22b67d(0xee)),roles_decorator_1=require(a133_0x22b67d(0xd9)),role_enum_1=require('../auth/enums/role.enum'),guards_1=require('../auth/guards'),enums_1=require(a133_0x22b67d(0xef)),fileInterceptorOptions={'storage':(0x0,multer_1[a133_0x22b67d(0xd2)])({'destination':constants_1[a133_0x22b67d(0xf4)],'filename':(_0xb094a8,_0x1eb728,_0x2a19c7)=>{const _0x59dd52=a133_0x22b67d;return _0x2a19c7(null,''+(0x0,utils_1[_0x59dd52(0xec)])()+_0x1eb728[_0x59dd52(0xd6)]);}})};let SoundController=class SoundController{constructor(_0x254114){const _0x258521=a133_0x22b67d;this[_0x258521(0xcd)]=_0x254114;}async[a133_0x22b67d(0xda)](_0xc95c4b){const _0x1ee3c0=a133_0x22b67d;return this[_0x1ee3c0(0xcd)][_0x1ee3c0(0xda)](_0xc95c4b);}async['uploadById'](_0x5a8e4a,_0x4e0afa){const _0x544d43=a133_0x22b67d;return this[_0x544d43(0xcd)][_0x544d43(0xcb)](_0x4e0afa,_0x5a8e4a);}async[a133_0x22b67d(0x111)](_0x3372c8,_0x10b9ce){const _0x44e07e=a133_0x22b67d,_0x437407={'name':_0x3372c8===null||_0x3372c8===void 0x0?void 0x0:_0x3372c8[_0x44e07e(0xd6)],'type':_0x10b9ce},_0x463934=await this[_0x44e07e(0xcd)][_0x44e07e(0xda)](_0x437407);return this['soundService'][_0x44e07e(0xcb)](_0x463934['_id'],_0x3372c8);}async[a133_0x22b67d(0xf8)](){const _0x431c20=a133_0x22b67d;return this[_0x431c20(0xcd)]['findByType'](constants_2[_0x431c20(0x108)][_0x431c20(0xe3)]);}async['findSongs'](){const _0x199198=a133_0x22b67d;return this[_0x199198(0xcd)]['findByType'](constants_2[_0x199198(0x108)][_0x199198(0xed)]);}async[a133_0x22b67d(0xe6)](_0x57ce66,_0x581036){const _0x5ec792=a133_0x22b67d;return this[_0x5ec792(0xcd)]['update'](_0x57ce66,_0x581036);}async[a133_0x22b67d(0xc8)](_0x3ce568,_0x5b6baa){const _0x3bbefa=a133_0x22b67d;return this[_0x3bbefa(0xcd)][_0x3bbefa(0xc8)](_0x3ce568,_0x5b6baa);}async['delete'](_0xa740fb){const _0x3e95f4=a133_0x22b67d;return this['soundService'][_0x3e95f4(0xcc)](_0xa740fb);}async[a133_0x22b67d(0xc5)](_0x310cd9,_0x333c15){const _0x4c23b0=a133_0x22b67d;return this[_0x4c23b0(0xcd)][_0x4c23b0(0xc5)](enums_1[_0x4c23b0(0xf5)]['User'],_0x310cd9,_0x333c15==='true');}async['stop'](_0x3116bd){const _0x5a3acb=a133_0x22b67d;return this['soundService'][_0x5a3acb(0xde)](_0x3116bd);}async['resetTunes'](){const _0xa97800=a133_0x22b67d;return this[_0xa97800(0xcd)][_0xa97800(0xd4)]();}};__decorate([(0x0,common_1[a133_0x22b67d(0xfa)])(),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1['Role'][a133_0x22b67d(0xdb)],role_enum_1['Role'][a133_0x22b67d(0xea)],role_enum_1[a133_0x22b67d(0xfd)]['Viewer']),__param(0x0,(0x0,common_1[a133_0x22b67d(0xf0)])()),__metadata(a133_0x22b67d(0xfc),Function),__metadata(a133_0x22b67d(0xd8),[dto_1[a133_0x22b67d(0x115)]]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],'create',null),__decorate([(0x0,common_1[a133_0x22b67d(0xfa)])(':id/upload'),(0x0,common_1['UseGuards'])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)]['User'],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xd0)]),(0x0,common_1[a133_0x22b67d(0x109)])((0x0,platform_express_1['FileInterceptor'])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x22b67d(0xf7)])()),__param(0x1,(0x0,common_1[a133_0x22b67d(0xca)])('id')),__metadata(a133_0x22b67d(0xfc),Function),__metadata(a133_0x22b67d(0xd8),[Object,String]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController['prototype'],a133_0x22b67d(0xe7),null),__decorate([(0x0,common_1[a133_0x22b67d(0xfa)])(a133_0x22b67d(0xd5)),(0x0,common_1['UseGuards'])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xea)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xd0)]),(0x0,common_1[a133_0x22b67d(0x109)])((0x0,platform_express_1[a133_0x22b67d(0xc7)])(a133_0x22b67d(0xf9),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x22b67d(0xf7)])()),__param(0x1,(0x0,common_1[a133_0x22b67d(0xca)])(a133_0x22b67d(0x10d))),__metadata(a133_0x22b67d(0xfc),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0x111),null),__decorate([(0x0,common_1['Get'])(a133_0x22b67d(0x10a)),(0x0,common_1['UseGuards'])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1['Role'][a133_0x22b67d(0xea)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xd0)]),__metadata(a133_0x22b67d(0xfc),Function),__metadata(a133_0x22b67d(0xd8),[]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],'findTunes',null),__decorate([(0x0,common_1[a133_0x22b67d(0xdd)])(a133_0x22b67d(0x100)),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1['JwtAuthGuard'],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)]['User'],role_enum_1['Role']['Viewer']),__metadata(a133_0x22b67d(0xfc),Function),__metadata(a133_0x22b67d(0xd8),[]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xeb),null),__decorate([(0x0,common_1[a133_0x22b67d(0xe8)])(a133_0x22b67d(0xe2)),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1['JwtAuthGuard'],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1['Role'][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)]['User'],role_enum_1[a133_0x22b67d(0xfd)]['Viewer']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a133_0x22b67d(0xf0)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[String,dto_1[a133_0x22b67d(0xc6)]]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xe6),null),__decorate([(0x0,common_1[a133_0x22b67d(0xe8)])(a133_0x22b67d(0x110)),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1['JwtAuthGuard'],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1['Role'][a133_0x22b67d(0xdb)],role_enum_1['Role']['User'],role_enum_1[a133_0x22b67d(0xfd)]['Viewer']),__param(0x0,(0x0,common_1[a133_0x22b67d(0xca)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a133_0x22b67d(0xfc),Function),__metadata(a133_0x22b67d(0xd8),[String,dto_1[a133_0x22b67d(0xc6)]]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xc8),null),__decorate([(0x0,common_1[a133_0x22b67d(0xf3)])(a133_0x22b67d(0xe2)),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1['JwtAuthGuard'],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1['Role'][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xea)],role_enum_1['Role'][a133_0x22b67d(0xd0)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata('design:returntype',Promise)],SoundController['prototype'],a133_0x22b67d(0xcc),null),__decorate([(0x0,common_1['Post'])(a133_0x22b67d(0xe0)),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1['JwtAuthGuard'],guards_1[a133_0x22b67d(0x114)],guards_1[a133_0x22b67d(0x107)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)]['User'],role_enum_1[a133_0x22b67d(0xfd)]['Viewer']),__param(0x0,(0x0,common_1[a133_0x22b67d(0xca)])('id')),__param(0x1,(0x0,common_1['Query'])('repeat')),__metadata('design:type',Function),__metadata('design:paramtypes',[String,String]),__metadata(a133_0x22b67d(0xd7),Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xc5),null),__decorate([(0x0,common_1[a133_0x22b67d(0xfa)])(':id/stop'),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xdb)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xea)],role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xd0)]),__param(0x0,(0x0,common_1[a133_0x22b67d(0xca)])('id')),__metadata(a133_0x22b67d(0xfc),Function),__metadata('design:paramtypes',[String]),__metadata('design:returntype',Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xde),null),__decorate([(0x0,common_1[a133_0x22b67d(0xfa)])('/resetTunes'),(0x0,common_1[a133_0x22b67d(0x119)])(guards_1[a133_0x22b67d(0xd1)],guards_1[a133_0x22b67d(0x114)]),(0x0,roles_decorator_1[a133_0x22b67d(0xc9)])(role_enum_1[a133_0x22b67d(0xfd)][a133_0x22b67d(0xf1)]),__metadata(a133_0x22b67d(0xfc),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],SoundController[a133_0x22b67d(0xe5)],a133_0x22b67d(0xd4),null),SoundController=__decorate([(0x0,common_1['Controller'])(a133_0x22b67d(0xe9)),__metadata(a133_0x22b67d(0xd8),[sound_service_1[a133_0x22b67d(0xdf)]])],SoundController),exports['SoundController']=SoundController;function a133_0x13d4(){const _0x299dc1=['findSongs','uuid','Song','./constants','../common/enums','Body','Master','21798PWSRPs','Delete','TMP_UPLOAD_DIR','AuditActor','283914kydluk','UploadedFile','findTunes','file','Post','defineProperty','design:type','Role','length','__decorate','/songs','1887078mzDUtv','__metadata','256IuwHFH','@nestjs/common','25187840PFIAEk','metadata','LicenseGuard','SoundType','UseInterceptors','/tunes','function','975683gYPBRm','type','21DFYKBZ','getOwnPropertyDescriptor',':id/volume','uploadByType','189RYVXKH','SoundController','RolesGuard','CreateSoundDto','./dto','decorate','__param','UseGuards','play','UpdateSoundDto','FileInterceptor','updateVolume','Roles','Param','upload','delete','soundService','object','../common/utils','Viewer','JwtAuthGuard','diskStorage','2232840OCPXqv','resetTunes','/upload/:type','originalname','design:returntype','design:paramtypes','../auth/decorators/roles.decorator','create','Admin','../common/constants','Get','stop','SoundService',':id/play','527172dBSPgG',':id','Tune','__esModule','prototype','update','uploadById','Patch','sound','User'];a133_0x13d4=function(){return _0x299dc1;};return a133_0x13d4();}