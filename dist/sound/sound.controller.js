'use strict';const a130_0x3a2414=a130_0xb7af;(function(_0x21ea34,_0x4736cd){const _0x5302d6=a130_0xb7af,_0x46bb5d=_0x21ea34();while(!![]){try{const _0x1a8d76=parseInt(_0x5302d6(0x118))/0x1+parseInt(_0x5302d6(0x150))/0x2+parseInt(_0x5302d6(0x131))/0x3*(-parseInt(_0x5302d6(0x137))/0x4)+-parseInt(_0x5302d6(0x108))/0x5*(-parseInt(_0x5302d6(0x13d))/0x6)+parseInt(_0x5302d6(0x100))/0x7+parseInt(_0x5302d6(0x106))/0x8*(parseInt(_0x5302d6(0x11f))/0x9)+-parseInt(_0x5302d6(0x113))/0xa*(parseInt(_0x5302d6(0x14b))/0xb);if(_0x1a8d76===_0x4736cd)break;else _0x46bb5d['push'](_0x46bb5d['shift']());}catch(_0x305588){_0x46bb5d['push'](_0x46bb5d['shift']());}}}(a130_0x4c28,0x329c5));function a130_0x4c28(){const _0x7990e9=['@nestjs/platform-express',':id/stop','./constants','15zzHokf','findByType','Delete','metadata','__esModule','./dto','256072GIssQS','soundService','upload','UploadedFile','decorate','/resetTunes','22494BHBEyi','SoundController','Admin','type','diskStorage','Viewer','sound','getOwnPropertyDescriptor','@nestjs/common','RolesGuard','__metadata','../common/enums','Post','Roles','11nXwPlR','FileInterceptor','object','User','JwtAuthGuard','623580ogppXd','Body','repeat','play','/upload/:type','AuditActor','Query','UseGuards','65933pNuBDh','TMP_UPLOAD_DIR',':id/volume','../auth/decorators/roles.decorator','true','UpdateSoundDto','1598032aQDYFC','Patch','275jjDPie','stop','../auth/guards','Get','UseInterceptors','findSongs','update','function','length',':id/upload','_id','3599740swGrNt','Param','defineProperty','updateVolume','prototype','160207FNvYiJ','uploadByType','multer','Song','__param','/tunes','uploadById','9uHKaxM','SoundType','Role',':id','Tune','findTunes','../auth/enums/role.enum','originalname','design:paramtypes','../common/constants','delete','create','design:type','resetTunes','design:returntype'];a130_0x4c28=function(){return _0x7990e9;};return a130_0x4c28();}var __decorate=this&&this['__decorate']||function(_0x3ad823,_0x2bb90f,_0x574108,_0x335778){const _0xbb913a=a130_0xb7af;var _0x2041d4=arguments[_0xbb913a(0x110)],_0x43d8f0=_0x2041d4<0x3?_0x2bb90f:_0x335778===null?_0x335778=Object[_0xbb913a(0x144)](_0x2bb90f,_0x574108):_0x335778,_0xd49c9e;if(typeof Reflect===_0xbb913a(0x14d)&&typeof Reflect[_0xbb913a(0x13b)]===_0xbb913a(0x10f))_0x43d8f0=Reflect[_0xbb913a(0x13b)](_0x3ad823,_0x2bb90f,_0x574108,_0x335778);else{for(var _0x51bbca=_0x3ad823['length']-0x1;_0x51bbca>=0x0;_0x51bbca--)if(_0xd49c9e=_0x3ad823[_0x51bbca])_0x43d8f0=(_0x2041d4<0x3?_0xd49c9e(_0x43d8f0):_0x2041d4>0x3?_0xd49c9e(_0x2bb90f,_0x574108,_0x43d8f0):_0xd49c9e(_0x2bb90f,_0x574108))||_0x43d8f0;}return _0x2041d4>0x3&&_0x43d8f0&&Object[_0xbb913a(0x115)](_0x2bb90f,_0x574108,_0x43d8f0),_0x43d8f0;},__metadata=this&&this[a130_0x3a2414(0x147)]||function(_0x49206b,_0x370505){const _0x28a043=a130_0x3a2414;if(typeof Reflect===_0x28a043(0x14d)&&typeof Reflect[_0x28a043(0x134)]===_0x28a043(0x10f))return Reflect[_0x28a043(0x134)](_0x49206b,_0x370505);},__param=this&&this[a130_0x3a2414(0x11c)]||function(_0x27a796,_0x50483b){return function(_0x253e30,_0x40be58){_0x50483b(_0x253e30,_0x40be58,_0x27a796);};};Object[a130_0x3a2414(0x115)](exports,a130_0x3a2414(0x135),{'value':!![]}),exports[a130_0x3a2414(0x13e)]=void 0x0;const common_1=require(a130_0x3a2414(0x145)),platform_express_1=require(a130_0x3a2414(0x12e)),multer_1=require(a130_0x3a2414(0x11a)),utils_1=require('../common/utils'),constants_1=require(a130_0x3a2414(0x128)),sound_service_1=require('./sound.service'),dto_1=require(a130_0x3a2414(0x136)),constants_2=require(a130_0x3a2414(0x130)),roles_decorator_1=require(a130_0x3a2414(0x103)),role_enum_1=require(a130_0x3a2414(0x125)),guards_1=require(a130_0x3a2414(0x10a)),enums_1=require(a130_0x3a2414(0x148)),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x3a2414(0x141)])({'destination':constants_1[a130_0x3a2414(0x101)],'filename':(_0x1fb6af,_0xf26b22,_0x1470ad)=>{const _0x389472=a130_0x3a2414;return _0x1470ad(null,''+(0x0,utils_1['uuid'])()+_0xf26b22[_0x389472(0x126)]);}})};function a130_0xb7af(_0x1461c8,_0x512a69){const _0x4c2865=a130_0x4c28();return a130_0xb7af=function(_0xb7af3d,_0x3f2724){_0xb7af3d=_0xb7af3d-0xfd;let _0x22e9e3=_0x4c2865[_0xb7af3d];return _0x22e9e3;},a130_0xb7af(_0x1461c8,_0x512a69);}let SoundController=class SoundController{constructor(_0x422faa){const _0x250469=a130_0x3a2414;this[_0x250469(0x138)]=_0x422faa;}async[a130_0x3a2414(0x12a)](_0x3db44a){const _0x3a0075=a130_0x3a2414;return this[_0x3a0075(0x138)]['create'](_0x3db44a);}async[a130_0x3a2414(0x11e)](_0xc7a179,_0x432863){const _0x259467=a130_0x3a2414;return this[_0x259467(0x138)][_0x259467(0x139)](_0x432863,_0xc7a179);}async[a130_0x3a2414(0x119)](_0x338c4c,_0x27bcb4){const _0x5a86b9=a130_0x3a2414,_0x1cd86c={'name':_0x338c4c===null||_0x338c4c===void 0x0?void 0x0:_0x338c4c[_0x5a86b9(0x126)],'type':_0x27bcb4},_0x2af2c8=await this['soundService'][_0x5a86b9(0x12a)](_0x1cd86c);return this[_0x5a86b9(0x138)][_0x5a86b9(0x139)](_0x2af2c8[_0x5a86b9(0x112)],_0x338c4c);}async[a130_0x3a2414(0x124)](){const _0x344812=a130_0x3a2414;return this[_0x344812(0x138)][_0x344812(0x132)](constants_2[_0x344812(0x120)][_0x344812(0x123)]);}async[a130_0x3a2414(0x10d)](){const _0x2f74e4=a130_0x3a2414;return this[_0x2f74e4(0x138)]['findByType'](constants_2[_0x2f74e4(0x120)][_0x2f74e4(0x11b)]);}async[a130_0x3a2414(0x10e)](_0x236d4b,_0x11954a){const _0x493125=a130_0x3a2414;return this[_0x493125(0x138)]['update'](_0x236d4b,_0x11954a);}async['updateVolume'](_0xc2417a,_0x596a9c){const _0x497d4a=a130_0x3a2414;return this[_0x497d4a(0x138)][_0x497d4a(0x116)](_0xc2417a,_0x596a9c);}async['delete'](_0x5112b2){const _0x7ff84c=a130_0x3a2414;return this[_0x7ff84c(0x138)][_0x7ff84c(0x129)](_0x5112b2);}async[a130_0x3a2414(0x153)](_0x3d1c95,_0xcd3465){const _0x3866c0=a130_0x3a2414;return this['soundService']['play'](enums_1[_0x3866c0(0xfd)]['User'],_0x3d1c95,_0xcd3465===_0x3866c0(0x104));}async[a130_0x3a2414(0x109)](_0x5f5905){const _0x39437d=a130_0x3a2414;return this[_0x39437d(0x138)][_0x39437d(0x109)](_0x5f5905);}async['resetTunes'](){const _0x359cea=a130_0x3a2414;return this[_0x359cea(0x138)][_0x359cea(0x12c)]();}};__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1['JwtAuthGuard'],guards_1[a130_0x3a2414(0x146)]),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1['Role']['Admin'],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__param(0x0,(0x0,common_1[a130_0x3a2414(0x151)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[dto_1['CreateSoundDto']]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController['prototype'],a130_0x3a2414(0x12a),null),__decorate([(0x0,common_1[a130_0x3a2414(0x149)])(a130_0x3a2414(0x111)),(0x0,common_1['UseGuards'])(guards_1[a130_0x3a2414(0x14f)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),(0x0,common_1['UseInterceptors'])((0x0,platform_express_1[a130_0x3a2414(0x14c)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x3a2414(0x13a)])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[Object,String]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x11e),null),__decorate([(0x0,common_1['Post'])(a130_0x3a2414(0x154)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)]['User'],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),(0x0,common_1[a130_0x3a2414(0x10c)])((0x0,platform_express_1['FileInterceptor'])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x3a2414(0x13a)])()),__param(0x1,(0x0,common_1[a130_0x3a2414(0x114)])(a130_0x3a2414(0x140))),__metadata(a130_0x3a2414(0x12b),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x119),null),__decorate([(0x0,common_1['Get'])(a130_0x3a2414(0x11d)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1[a130_0x3a2414(0x146)]),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__metadata(a130_0x3a2414(0x12b),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x124),null),__decorate([(0x0,common_1[a130_0x3a2414(0x10b)])('/songs'),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a130_0x3a2414(0x146)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)]['User'],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__metadata('design:type',Function),__metadata(a130_0x3a2414(0x127),[]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x10d),null),__decorate([(0x0,common_1[a130_0x3a2414(0x107)])(a130_0x3a2414(0x122)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)]['User'],role_enum_1['Role'][a130_0x3a2414(0x142)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[String,dto_1[a130_0x3a2414(0x105)]]),__metadata('design:returntype',Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x10e),null),__decorate([(0x0,common_1[a130_0x3a2414(0x107)])(a130_0x3a2414(0x102)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)]['Viewer']),__param(0x0,(0x0,common_1[a130_0x3a2414(0x114)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata('design:type',Function),__metadata('design:paramtypes',[String,dto_1[a130_0x3a2414(0x105)]]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x116),null),__decorate([(0x0,common_1[a130_0x3a2414(0x133)])(a130_0x3a2414(0x122)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1[a130_0x3a2414(0x146)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[String]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x129),null),__decorate([(0x0,common_1[a130_0x3a2414(0x149)])(':id/play'),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1[a130_0x3a2414(0x146)],guards_1['LicenseGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)]['Admin'],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x3a2414(0xfe)])(a130_0x3a2414(0x152))),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[String,String]),__metadata('design:returntype',Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x153),null),__decorate([(0x0,common_1[a130_0x3a2414(0x149)])(a130_0x3a2414(0x12f)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x13f)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x14e)],role_enum_1[a130_0x3a2414(0x121)][a130_0x3a2414(0x142)]),__param(0x0,(0x0,common_1[a130_0x3a2414(0x114)])('id')),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[String]),__metadata('design:returntype',Promise)],SoundController[a130_0x3a2414(0x117)],a130_0x3a2414(0x109),null),__decorate([(0x0,common_1['Post'])(a130_0x3a2414(0x13c)),(0x0,common_1[a130_0x3a2414(0xff)])(guards_1[a130_0x3a2414(0x14f)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x3a2414(0x14a)])(role_enum_1[a130_0x3a2414(0x121)]['Master']),__metadata(a130_0x3a2414(0x12b),Function),__metadata(a130_0x3a2414(0x127),[]),__metadata(a130_0x3a2414(0x12d),Promise)],SoundController['prototype'],a130_0x3a2414(0x12c),null),SoundController=__decorate([(0x0,common_1['Controller'])(a130_0x3a2414(0x143)),__metadata(a130_0x3a2414(0x127),[sound_service_1['SoundService']])],SoundController),exports[a130_0x3a2414(0x13e)]=SoundController;