'use strict';function a130_0x5ddb(){const _0x2fb0a7=['true','design:type','../common/utils','Post','Body','length','25028230hselcz','12CNJvEQ','Song','Admin','Delete','14Kfeigz','@nestjs/platform-express','Controller','./dto','file','__metadata','FileInterceptor','Role','diskStorage','soundService','update','UseInterceptors','@nestjs/common','Master','7TMPbsp','TMP_UPLOAD_DIR','AuditActor','uploadById','./sound.service','Query','60804XFFYpv','sound','design:paramtypes','../common/constants','UseGuards','/tunes','../auth/enums/role.enum','RolesGuard','function','findSongs','LicenseGuard','5120816PqKqIb','UpdateSoundDto','uploadByType','prototype','1118440vOhQBt','SoundController','delete','__param','../auth/guards','metadata','/songs','CreateSoundDto','defineProperty','UploadedFile','getOwnPropertyDescriptor','play','repeat','Viewer','/resetTunes','__decorate','create','2663613qgPnHA','User','2415216rBHmoP','originalname','Patch','Roles','findByType','design:returntype','Get','decorate','findTunes','object','updateVolume',':id/volume','Tune','Param','294264carFRk','upload','resetTunes','/upload/:type','JwtAuthGuard','stop','SoundType'];a130_0x5ddb=function(){return _0x2fb0a7;};return a130_0x5ddb();}const a130_0x298b4c=a130_0xaf5f;function a130_0xaf5f(_0x2161dc,_0x5bc862){const _0x5ddbb0=a130_0x5ddb();return a130_0xaf5f=function(_0xaf5fea,_0x43e35c){_0xaf5fea=_0xaf5fea-0xb9;let _0x17b00f=_0x5ddbb0[_0xaf5fea];return _0x17b00f;},a130_0xaf5f(_0x2161dc,_0x5bc862);}(function(_0x942e5c,_0x4a8346){const _0x40e5ae=a130_0xaf5f,_0x34edd9=_0x942e5c();while(!![]){try{const _0xcec681=parseInt(_0x40e5ae(0x102))/0x1*(parseInt(_0x40e5ae(0xee))/0x2)+parseInt(_0x40e5ae(0xcc))/0x3+parseInt(_0x40e5ae(0xea))/0x4*(parseInt(_0x40e5ae(0xbb))/0x5)+-parseInt(_0x40e5ae(0xce))/0x6*(-parseInt(_0x40e5ae(0xfc))/0x7)+parseInt(_0x40e5ae(0x10d))/0x8+-parseInt(_0x40e5ae(0xdc))/0x9+-parseInt(_0x40e5ae(0xe9))/0xa;if(_0xcec681===_0x4a8346)break;else _0x34edd9['push'](_0x34edd9['shift']());}catch(_0x1d70a1){_0x34edd9['push'](_0x34edd9['shift']());}}}(a130_0x5ddb,0x780a2));var __decorate=this&&this[a130_0x298b4c(0xca)]||function(_0x3b14f4,_0x2d688f,_0x3a7bb5,_0x75784e){const _0x46976e=a130_0x298b4c;var _0x187be9=arguments['length'],_0x356894=_0x187be9<0x3?_0x2d688f:_0x75784e===null?_0x75784e=Object[_0x46976e(0xc5)](_0x2d688f,_0x3a7bb5):_0x75784e,_0x2d4919;if(typeof Reflect===_0x46976e(0xd7)&&typeof Reflect[_0x46976e(0xd5)]===_0x46976e(0x10a))_0x356894=Reflect[_0x46976e(0xd5)](_0x3b14f4,_0x2d688f,_0x3a7bb5,_0x75784e);else{for(var _0x3f898c=_0x3b14f4[_0x46976e(0xe8)]-0x1;_0x3f898c>=0x0;_0x3f898c--)if(_0x2d4919=_0x3b14f4[_0x3f898c])_0x356894=(_0x187be9<0x3?_0x2d4919(_0x356894):_0x187be9>0x3?_0x2d4919(_0x2d688f,_0x3a7bb5,_0x356894):_0x2d4919(_0x2d688f,_0x3a7bb5))||_0x356894;}return _0x187be9>0x3&&_0x356894&&Object[_0x46976e(0xc3)](_0x2d688f,_0x3a7bb5,_0x356894),_0x356894;},__metadata=this&&this[a130_0x298b4c(0xf3)]||function(_0x19f6d2,_0x581dd3){const _0x3ededc=a130_0x298b4c;if(typeof Reflect===_0x3ededc(0xd7)&&typeof Reflect[_0x3ededc(0xc0)]===_0x3ededc(0x10a))return Reflect[_0x3ededc(0xc0)](_0x19f6d2,_0x581dd3);},__param=this&&this[a130_0x298b4c(0xbe)]||function(_0x25eb86,_0x5b017c){return function(_0x2367a6,_0x182c83){_0x5b017c(_0x2367a6,_0x182c83,_0x25eb86);};};Object[a130_0x298b4c(0xc3)](exports,'__esModule',{'value':!![]}),exports[a130_0x298b4c(0xbc)]=void 0x0;const common_1=require(a130_0x298b4c(0xfa)),platform_express_1=require(a130_0x298b4c(0xef)),multer_1=require('multer'),utils_1=require(a130_0x298b4c(0xe5)),constants_1=require(a130_0x298b4c(0x105)),sound_service_1=require(a130_0x298b4c(0x100)),dto_1=require(a130_0x298b4c(0xf1)),constants_2=require('./constants'),roles_decorator_1=require('../auth/decorators/roles.decorator'),role_enum_1=require(a130_0x298b4c(0x108)),guards_1=require(a130_0x298b4c(0xbf)),enums_1=require('../common/enums'),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x298b4c(0xf6)])({'destination':constants_1[a130_0x298b4c(0xfd)],'filename':(_0x1485a5,_0x2fde57,_0x136616)=>{return _0x136616(null,''+(0x0,utils_1['uuid'])()+_0x2fde57['originalname']);}})};let SoundController=class SoundController{constructor(_0x4e38e1){const _0x5476e9=a130_0x298b4c;this[_0x5476e9(0xf7)]=_0x4e38e1;}async[a130_0x298b4c(0xcb)](_0x1c0e0c){const _0x20f57a=a130_0x298b4c;return this[_0x20f57a(0xf7)][_0x20f57a(0xcb)](_0x1c0e0c);}async['uploadById'](_0x33a8df,_0x38413e){const _0x1770c8=a130_0x298b4c;return this['soundService'][_0x1770c8(0xdd)](_0x38413e,_0x33a8df);}async[a130_0x298b4c(0xb9)](_0x20f2ee,_0x5a29fc){const _0x264a48=a130_0x298b4c,_0x59b1e2={'name':_0x20f2ee===null||_0x20f2ee===void 0x0?void 0x0:_0x20f2ee[_0x264a48(0xcf)],'type':_0x5a29fc},_0x3fbe93=await this[_0x264a48(0xf7)][_0x264a48(0xcb)](_0x59b1e2);return this[_0x264a48(0xf7)][_0x264a48(0xdd)](_0x3fbe93['_id'],_0x20f2ee);}async[a130_0x298b4c(0xd6)](){const _0x4d5617=a130_0x298b4c;return this[_0x4d5617(0xf7)][_0x4d5617(0xd2)](constants_2[_0x4d5617(0xe2)][_0x4d5617(0xda)]);}async['findSongs'](){const _0x2f9c0a=a130_0x298b4c;return this['soundService'][_0x2f9c0a(0xd2)](constants_2[_0x2f9c0a(0xe2)][_0x2f9c0a(0xeb)]);}async[a130_0x298b4c(0xf8)](_0x24647e,_0x1533f4){const _0x479bf3=a130_0x298b4c;return this[_0x479bf3(0xf7)][_0x479bf3(0xf8)](_0x24647e,_0x1533f4);}async['updateVolume'](_0x8d573c,_0x497681){const _0x46a634=a130_0x298b4c;return this[_0x46a634(0xf7)][_0x46a634(0xd8)](_0x8d573c,_0x497681);}async[a130_0x298b4c(0xbd)](_0x3f67a2){const _0x4d3242=a130_0x298b4c;return this[_0x4d3242(0xf7)][_0x4d3242(0xbd)](_0x3f67a2);}async[a130_0x298b4c(0xc6)](_0x4d82eb,_0x3b4cb2){const _0xde23f6=a130_0x298b4c;return this[_0xde23f6(0xf7)][_0xde23f6(0xc6)](enums_1[_0xde23f6(0xfe)][_0xde23f6(0xcd)],_0x4d82eb,_0x3b4cb2===_0xde23f6(0xe3));}async[a130_0x298b4c(0xe1)](_0x30b7cd){const _0x20a7fa=a130_0x298b4c;return this[_0x20a7fa(0xf7)][_0x20a7fa(0xe1)](_0x30b7cd);}async[a130_0x298b4c(0xde)](){const _0x5b590d=a130_0x298b4c;return this[_0x5b590d(0xf7)][_0x5b590d(0xde)]();}};__decorate([(0x0,common_1['Post'])(),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1['Role'][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xc8)]),__param(0x0,(0x0,common_1[a130_0x298b4c(0xe7)])()),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[dto_1[a130_0x298b4c(0xc2)]]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0xcb),null),__decorate([(0x0,common_1['Post'])(':id/upload'),(0x0,common_1['UseGuards'])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1['Role'][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1['Role']['Viewer']),(0x0,common_1['UseInterceptors'])((0x0,platform_express_1[a130_0x298b4c(0xf4)])(a130_0x298b4c(0xf2),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x298b4c(0xc4)])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[Object,String]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0xff),null),__decorate([(0x0,common_1[a130_0x298b4c(0xe6)])(a130_0x298b4c(0xdf)),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1['JwtAuthGuard'],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)]['Viewer']),(0x0,common_1[a130_0x298b4c(0xf9)])((0x0,platform_express_1[a130_0x298b4c(0xf4)])(a130_0x298b4c(0xf2),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x298b4c(0xc4)])()),__param(0x1,(0x0,common_1['Param'])('type')),__metadata('design:type',Function),__metadata(a130_0x298b4c(0x104),[Object,String]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],'uploadByType',null),__decorate([(0x0,common_1[a130_0x298b4c(0xd4)])(a130_0x298b4c(0x107)),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)]['User'],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xc8)]),__metadata('design:type',Function),__metadata(a130_0x298b4c(0x104),[]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],'findTunes',null),__decorate([(0x0,common_1[a130_0x298b4c(0xd4)])(a130_0x298b4c(0xc1)),(0x0,common_1['UseGuards'])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)]['Viewer']),__metadata(a130_0x298b4c(0xe4),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0x10b),null),__decorate([(0x0,common_1[a130_0x298b4c(0xd0)])(':id'),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1['Role'][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)]['Viewer']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x298b4c(0xe7)])()),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[String,dto_1[a130_0x298b4c(0x10e)]]),__metadata('design:returntype',Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0xf8),null),__decorate([(0x0,common_1[a130_0x298b4c(0xd0)])(a130_0x298b4c(0xd9)),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1['Role'][a130_0x298b4c(0xc8)]),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x298b4c(0xe7)])()),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[String,dto_1[a130_0x298b4c(0x10e)]]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController['prototype'],a130_0x298b4c(0xd8),null),__decorate([(0x0,common_1[a130_0x298b4c(0xed)])(':id'),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1[a130_0x298b4c(0x109)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1['Role']['Viewer']),__param(0x0,(0x0,common_1[a130_0x298b4c(0xdb)])('id')),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[String]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController['prototype'],a130_0x298b4c(0xbd),null),__decorate([(0x0,common_1[a130_0x298b4c(0xe6)])(':id/play'),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1['RolesGuard'],guards_1[a130_0x298b4c(0x10c)]),(0x0,roles_decorator_1[a130_0x298b4c(0xd1)])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1['Role'][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xc8)]),__param(0x0,(0x0,common_1[a130_0x298b4c(0xdb)])('id')),__param(0x1,(0x0,common_1[a130_0x298b4c(0x101)])(a130_0x298b4c(0xc7))),__metadata(a130_0x298b4c(0xe4),Function),__metadata('design:paramtypes',[String,String]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController['prototype'],a130_0x298b4c(0xc6),null),__decorate([(0x0,common_1[a130_0x298b4c(0xe6)])(':id/stop'),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1[a130_0x298b4c(0xe0)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xec)],role_enum_1[a130_0x298b4c(0xf5)][a130_0x298b4c(0xcd)],role_enum_1[a130_0x298b4c(0xf5)]['Viewer']),__param(0x0,(0x0,common_1[a130_0x298b4c(0xdb)])('id')),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[String]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0xe1),null),__decorate([(0x0,common_1[a130_0x298b4c(0xe6)])(a130_0x298b4c(0xc9)),(0x0,common_1[a130_0x298b4c(0x106)])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a130_0x298b4c(0xfb)]),__metadata(a130_0x298b4c(0xe4),Function),__metadata(a130_0x298b4c(0x104),[]),__metadata(a130_0x298b4c(0xd3),Promise)],SoundController[a130_0x298b4c(0xba)],a130_0x298b4c(0xde),null),SoundController=__decorate([(0x0,common_1[a130_0x298b4c(0xf0)])(a130_0x298b4c(0x103)),__metadata(a130_0x298b4c(0x104),[sound_service_1['SoundService']])],SoundController),exports['SoundController']=SoundController;