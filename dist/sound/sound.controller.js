'use strict';const a133_0x1c333f=a133_0x2ed8;function a133_0x1ec8(){const _0x287b67=['resetTunes','../auth/guards','uploadById','Post','Controller','TMP_UPLOAD_DIR','Role','file','length','findTunes','@nestjs/platform-express','Song','/upload/:type','findByType','upload','sound','SoundController','play','7144425aFSoTc','design:paramtypes','../common/utils','3223568VdmeJy','UpdateSoundDto','../common/constants','SoundType','originalname','design:returntype','/tunes','__decorate','prototype','CreateSoundDto','stop','updateVolume','defineProperty','./sound.service',':id/upload','21tUvNBs','Roles','User','metadata','SoundService','1202650UUZAar','_id','FileInterceptor','./dto','219846POULiz','Delete','JwtAuthGuard','Get','Viewer','__param','multer','design:type','soundService','Body','delete','findSongs','RolesGuard','uploadByType','Admin','true','Patch','decorate','Query','uuid','function','update','__esModule','546159QJIyyK','../auth/decorators/roles.decorator',':id/play','UseInterceptors','UploadedFile','Master','Param','diskStorage','create','1430768OVuEtN','413206wOfVyL','object','UseGuards',':id','4GpZuop','@nestjs/common'];a133_0x1ec8=function(){return _0x287b67;};return a133_0x1ec8();}(function(_0x1dab4c,_0xaa3c76){const _0x425b0f=a133_0x2ed8,_0xd0e02f=_0x1dab4c();while(!![]){try{const _0x235734=parseInt(_0x425b0f(0x170))/0x1+parseInt(_0x425b0f(0x16f))/0x2+parseInt(_0x425b0f(0x166))/0x3*(-parseInt(_0x425b0f(0x174))/0x4)+-parseInt(_0x425b0f(0x19f))/0x5+parseInt(_0x425b0f(0x1a3))/0x6*(parseInt(_0x425b0f(0x19a))/0x7)+parseInt(_0x425b0f(0x18b))/0x8+-parseInt(_0x425b0f(0x188))/0x9;if(_0x235734===_0xaa3c76)break;else _0xd0e02f['push'](_0xd0e02f['shift']());}catch(_0x2bcd58){_0xd0e02f['push'](_0xd0e02f['shift']());}}}(a133_0x1ec8,0x67c5b));var __decorate=this&&this[a133_0x1c333f(0x192)]||function(_0x58b471,_0x8fd7b8,_0x2c9ea0,_0x6e87d6){const _0x3e15c2=a133_0x1c333f;var _0x5b4c83=arguments[_0x3e15c2(0x17e)],_0x78a690=_0x5b4c83<0x3?_0x8fd7b8:_0x6e87d6===null?_0x6e87d6=Object['getOwnPropertyDescriptor'](_0x8fd7b8,_0x2c9ea0):_0x6e87d6,_0x5d7ebf;if(typeof Reflect===_0x3e15c2(0x171)&&typeof Reflect[_0x3e15c2(0x160)]==='function')_0x78a690=Reflect[_0x3e15c2(0x160)](_0x58b471,_0x8fd7b8,_0x2c9ea0,_0x6e87d6);else{for(var _0x50491f=_0x58b471[_0x3e15c2(0x17e)]-0x1;_0x50491f>=0x0;_0x50491f--)if(_0x5d7ebf=_0x58b471[_0x50491f])_0x78a690=(_0x5b4c83<0x3?_0x5d7ebf(_0x78a690):_0x5b4c83>0x3?_0x5d7ebf(_0x8fd7b8,_0x2c9ea0,_0x78a690):_0x5d7ebf(_0x8fd7b8,_0x2c9ea0))||_0x78a690;}return _0x5b4c83>0x3&&_0x78a690&&Object[_0x3e15c2(0x197)](_0x8fd7b8,_0x2c9ea0,_0x78a690),_0x78a690;},__metadata=this&&this['__metadata']||function(_0x5ab8fd,_0x4d3369){const _0x46437b=a133_0x1c333f;if(typeof Reflect===_0x46437b(0x171)&&typeof Reflect[_0x46437b(0x19d)]===_0x46437b(0x163))return Reflect[_0x46437b(0x19d)](_0x5ab8fd,_0x4d3369);},__param=this&&this[a133_0x1c333f(0x1a8)]||function(_0x5d3dea,_0x3da74b){return function(_0x3e9718,_0x2c8b22){_0x3da74b(_0x3e9718,_0x2c8b22,_0x5d3dea);};};Object[a133_0x1c333f(0x197)](exports,a133_0x1c333f(0x165),{'value':!![]}),exports[a133_0x1c333f(0x186)]=void 0x0;const common_1=require(a133_0x1c333f(0x175)),platform_express_1=require(a133_0x1c333f(0x180)),multer_1=require(a133_0x1c333f(0x1a9)),utils_1=require(a133_0x1c333f(0x18a)),constants_1=require(a133_0x1c333f(0x18d)),sound_service_1=require(a133_0x1c333f(0x198)),dto_1=require(a133_0x1c333f(0x1a2)),constants_2=require('./constants'),roles_decorator_1=require(a133_0x1c333f(0x167)),role_enum_1=require('../auth/enums/role.enum'),guards_1=require(a133_0x1c333f(0x177)),enums_1=require('../common/enums'),fileInterceptorOptions={'storage':(0x0,multer_1[a133_0x1c333f(0x16d)])({'destination':constants_1[a133_0x1c333f(0x17b)],'filename':(_0x4e5260,_0x39c2cc,_0x1c8af4)=>{const _0xb385c9=a133_0x1c333f;return _0x1c8af4(null,''+(0x0,utils_1[_0xb385c9(0x162)])()+_0x39c2cc['originalname']);}})};let SoundController=class SoundController{constructor(_0x2bebb1){const _0x493b59=a133_0x1c333f;this[_0x493b59(0x1ab)]=_0x2bebb1;}async[a133_0x1c333f(0x16e)](_0x165600){const _0xcd4446=a133_0x1c333f;return this[_0xcd4446(0x1ab)][_0xcd4446(0x16e)](_0x165600);}async[a133_0x1c333f(0x178)](_0x198367,_0x4383aa){const _0x3a265f=a133_0x1c333f;return this[_0x3a265f(0x1ab)]['upload'](_0x4383aa,_0x198367);}async[a133_0x1c333f(0x15c)](_0x5ba735,_0x4fd557){const _0x3b40ca=a133_0x1c333f,_0x4b2ba9={'name':_0x5ba735===null||_0x5ba735===void 0x0?void 0x0:_0x5ba735[_0x3b40ca(0x18f)],'type':_0x4fd557},_0x56a751=await this['soundService'][_0x3b40ca(0x16e)](_0x4b2ba9);return this[_0x3b40ca(0x1ab)][_0x3b40ca(0x184)](_0x56a751[_0x3b40ca(0x1a0)],_0x5ba735);}async[a133_0x1c333f(0x17f)](){const _0x495a71=a133_0x1c333f;return this[_0x495a71(0x1ab)][_0x495a71(0x183)](constants_2[_0x495a71(0x18e)]['Tune']);}async[a133_0x1c333f(0x15a)](){const _0x4c8e3e=a133_0x1c333f;return this[_0x4c8e3e(0x1ab)][_0x4c8e3e(0x183)](constants_2[_0x4c8e3e(0x18e)][_0x4c8e3e(0x181)]);}async['update'](_0x3e2f0c,_0x15b267){const _0x2040ff=a133_0x1c333f;return this[_0x2040ff(0x1ab)][_0x2040ff(0x164)](_0x3e2f0c,_0x15b267);}async[a133_0x1c333f(0x196)](_0x45239d,_0x5e0dc0){const _0x32545c=a133_0x1c333f;return this[_0x32545c(0x1ab)]['updateVolume'](_0x45239d,_0x5e0dc0);}async[a133_0x1c333f(0x159)](_0x3d59e5){return this['soundService']['delete'](_0x3d59e5);}async[a133_0x1c333f(0x187)](_0x21311f,_0x398a5d){const _0x5786bc=a133_0x1c333f;return this['soundService'][_0x5786bc(0x187)](enums_1['AuditActor']['User'],_0x21311f,_0x398a5d===_0x5786bc(0x15e));}async[a133_0x1c333f(0x195)](_0x15835a){return this['soundService']['stop'](_0x15835a);}async[a133_0x1c333f(0x176)](){const _0x3f5b78=a133_0x1c333f;return this[_0x3f5b78(0x1ab)][_0x3f5b78(0x176)]();}};function a133_0x2ed8(_0x1c85cd,_0x18975c){const _0x1ec85d=a133_0x1ec8();return a133_0x2ed8=function(_0x2ed86a,_0x4495a9){_0x2ed86a=_0x2ed86a-0x158;let _0x55f8a6=_0x1ec85d[_0x2ed86a];return _0x55f8a6;},a133_0x2ed8(_0x1c85cd,_0x18975c);}__decorate([(0x0,common_1[a133_0x1c333f(0x179)])(),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1['Role'][a133_0x1c333f(0x1a7)]),__param(0x0,(0x0,common_1[a133_0x1c333f(0x158)])()),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[dto_1[a133_0x1c333f(0x194)]]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x16e),null),__decorate([(0x0,common_1[a133_0x1c333f(0x179)])(a133_0x1c333f(0x199)),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)]['Admin'],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1[a133_0x1c333f(0x17c)]['Viewer']),(0x0,common_1[a133_0x1c333f(0x169)])((0x0,platform_express_1[a133_0x1c333f(0x1a1)])(a133_0x1c333f(0x17d),fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16a)])()),__param(0x1,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[Object,String]),__metadata('design:returntype',Promise)],SoundController['prototype'],a133_0x1c333f(0x178),null),__decorate([(0x0,common_1[a133_0x1c333f(0x179)])(a133_0x1c333f(0x182)),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1['Role'][a133_0x1c333f(0x15d)],role_enum_1[a133_0x1c333f(0x17c)]['User'],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x1a7)]),(0x0,common_1[a133_0x1c333f(0x169)])((0x0,platform_express_1[a133_0x1c333f(0x1a1)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16a)])()),__param(0x1,(0x0,common_1['Param'])('type')),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[Object,String]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController['prototype'],a133_0x1c333f(0x15c),null),__decorate([(0x0,common_1[a133_0x1c333f(0x1a6)])(a133_0x1c333f(0x191)),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1['JwtAuthGuard'],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1['Role'][a133_0x1c333f(0x19c)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x1a7)]),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController['prototype'],a133_0x1c333f(0x17f),null),__decorate([(0x0,common_1[a133_0x1c333f(0x1a6)])('/songs'),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1['JwtAuthGuard'],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1['Role'][a133_0x1c333f(0x1a7)]),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[]),__metadata('design:returntype',Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x15a),null),__decorate([(0x0,common_1[a133_0x1c333f(0x15f)])(a133_0x1c333f(0x173)),(0x0,common_1['UseGuards'])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1[a133_0x1c333f(0x17c)]['Viewer']),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__param(0x1,(0x0,common_1[a133_0x1c333f(0x158)])()),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[String,dto_1['UpdateSoundDto']]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x164),null),__decorate([(0x0,common_1[a133_0x1c333f(0x15f)])(':id/volume'),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1['Role'][a133_0x1c333f(0x1a7)]),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata('design:type',Function),__metadata(a133_0x1c333f(0x189),[String,dto_1[a133_0x1c333f(0x18c)]]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x196),null),__decorate([(0x0,common_1[a133_0x1c333f(0x1a4)])(a133_0x1c333f(0x173)),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1['Role'][a133_0x1c333f(0x15d)],role_enum_1['Role'][a133_0x1c333f(0x19c)],role_enum_1['Role'][a133_0x1c333f(0x1a7)]),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__metadata('design:type',Function),__metadata('design:paramtypes',[String]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController[a133_0x1c333f(0x193)],'delete',null),__decorate([(0x0,common_1[a133_0x1c333f(0x179)])(a133_0x1c333f(0x168)),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)],guards_1['LicenseGuard']),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1[a133_0x1c333f(0x17c)]['Admin'],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x19c)],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x1a7)]),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__param(0x1,(0x0,common_1[a133_0x1c333f(0x161)])('repeat')),__metadata(a133_0x1c333f(0x1aa),Function),__metadata('design:paramtypes',[String,String]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController['prototype'],a133_0x1c333f(0x187),null),__decorate([(0x0,common_1[a133_0x1c333f(0x179)])(':id/stop'),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x15d)],role_enum_1['Role']['User'],role_enum_1[a133_0x1c333f(0x17c)][a133_0x1c333f(0x1a7)]),__param(0x0,(0x0,common_1[a133_0x1c333f(0x16c)])('id')),__metadata(a133_0x1c333f(0x1aa),Function),__metadata(a133_0x1c333f(0x189),[String]),__metadata('design:returntype',Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x195),null),__decorate([(0x0,common_1[a133_0x1c333f(0x179)])('/resetTunes'),(0x0,common_1[a133_0x1c333f(0x172)])(guards_1[a133_0x1c333f(0x1a5)],guards_1[a133_0x1c333f(0x15b)]),(0x0,roles_decorator_1[a133_0x1c333f(0x19b)])(role_enum_1['Role'][a133_0x1c333f(0x16b)]),__metadata(a133_0x1c333f(0x1aa),Function),__metadata('design:paramtypes',[]),__metadata(a133_0x1c333f(0x190),Promise)],SoundController[a133_0x1c333f(0x193)],a133_0x1c333f(0x176),null),SoundController=__decorate([(0x0,common_1[a133_0x1c333f(0x17a)])(a133_0x1c333f(0x185)),__metadata('design:paramtypes',[sound_service_1[a133_0x1c333f(0x19e)]])],SoundController),exports[a133_0x1c333f(0x186)]=SoundController;