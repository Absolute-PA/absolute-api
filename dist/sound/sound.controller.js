'use strict';const a130_0x28415f=a130_0x3304;(function(_0x2706de,_0x491d5b){const _0x260483=a130_0x3304,_0x48a9e5=_0x2706de();while(!![]){try{const _0x1b7b04=-parseInt(_0x260483(0x13d))/0x1+parseInt(_0x260483(0x154))/0x2*(parseInt(_0x260483(0x136))/0x3)+-parseInt(_0x260483(0x11c))/0x4+parseInt(_0x260483(0x133))/0x5+parseInt(_0x260483(0x150))/0x6*(-parseInt(_0x260483(0x14d))/0x7)+parseInt(_0x260483(0x144))/0x8+parseInt(_0x260483(0x131))/0x9*(parseInt(_0x260483(0x10c))/0xa);if(_0x1b7b04===_0x491d5b)break;else _0x48a9e5['push'](_0x48a9e5['shift']());}catch(_0x17e444){_0x48a9e5['push'](_0x48a9e5['shift']());}}}(a130_0x5889,0x9685f));function a130_0x3304(_0x2d3afb,_0xa8c376){const _0x5889b6=a130_0x5889();return a130_0x3304=function(_0x3304d1,_0x5aae25){_0x3304d1=_0x3304d1-0x109;let _0x47096c=_0x5889b6[_0x3304d1];return _0x47096c;},a130_0x3304(_0x2d3afb,_0xa8c376);}var __decorate=this&&this['__decorate']||function(_0x5ad77f,_0x57865c,_0x123fd1,_0x4d4192){const _0x3cad79=a130_0x3304;var _0x55aa5f=arguments[_0x3cad79(0x129)],_0x320126=_0x55aa5f<0x3?_0x57865c:_0x4d4192===null?_0x4d4192=Object[_0x3cad79(0x157)](_0x57865c,_0x123fd1):_0x4d4192,_0x1171d;if(typeof Reflect==='object'&&typeof Reflect[_0x3cad79(0x15e)]==='function')_0x320126=Reflect[_0x3cad79(0x15e)](_0x5ad77f,_0x57865c,_0x123fd1,_0x4d4192);else{for(var _0x271ce2=_0x5ad77f[_0x3cad79(0x129)]-0x1;_0x271ce2>=0x0;_0x271ce2--)if(_0x1171d=_0x5ad77f[_0x271ce2])_0x320126=(_0x55aa5f<0x3?_0x1171d(_0x320126):_0x55aa5f>0x3?_0x1171d(_0x57865c,_0x123fd1,_0x320126):_0x1171d(_0x57865c,_0x123fd1))||_0x320126;}return _0x55aa5f>0x3&&_0x320126&&Object['defineProperty'](_0x57865c,_0x123fd1,_0x320126),_0x320126;},__metadata=this&&this[a130_0x28415f(0x113)]||function(_0x15c670,_0x2e11c4){const _0xd382f0=a130_0x28415f;if(typeof Reflect===_0xd382f0(0x141)&&typeof Reflect[_0xd382f0(0x159)]===_0xd382f0(0x153))return Reflect[_0xd382f0(0x159)](_0x15c670,_0x2e11c4);},__param=this&&this['__param']||function(_0x290d97,_0x194f07){return function(_0x2ce16a,_0x2f4d84){_0x194f07(_0x2ce16a,_0x2f4d84,_0x290d97);};};Object[a130_0x28415f(0x11a)](exports,a130_0x28415f(0x12d),{'value':!![]}),exports['SoundController']=void 0x0;const common_1=require(a130_0x28415f(0x110)),platform_express_1=require(a130_0x28415f(0x119)),multer_1=require(a130_0x28415f(0x13f)),utils_1=require(a130_0x28415f(0x126)),constants_1=require('../common/constants'),sound_service_1=require(a130_0x28415f(0x120)),dto_1=require(a130_0x28415f(0x138)),constants_2=require(a130_0x28415f(0x14e)),roles_decorator_1=require(a130_0x28415f(0x10e)),role_enum_1=require(a130_0x28415f(0x140)),guards_1=require(a130_0x28415f(0x146)),enums_1=require('../common/enums'),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x28415f(0x10a)])({'destination':constants_1[a130_0x28415f(0x11d)],'filename':(_0x7b454,_0x479452,_0x13753b)=>{const _0x26b704=a130_0x28415f;return _0x13753b(null,''+(0x0,utils_1[_0x26b704(0x142)])()+_0x479452['originalname']);}})};function a130_0x5889(){const _0x17ee8b=['function','1532dsyiQT','Roles','RolesGuard','getOwnPropertyDescriptor','prototype','metadata','/songs','AuditActor','design:paramtypes','LicenseGuard','decorate','CreateSoundDto','findByType','design:type','diskStorage','Body','16390byHyXW','play','../auth/decorators/roles.decorator','upload','@nestjs/common','Param','stop','__metadata','resetTunes','file','Role','updateVolume','sound','@nestjs/platform-express','defineProperty','SoundService','1244448SBmpzR','TMP_UPLOAD_DIR','design:returntype','uploadByType','./sound.service','soundService','_id','type','delete','/upload/:type','../common/utils','/tunes','findTunes','length','UpdateSoundDto','Query','Patch','__esModule','SoundController','uploadById','repeat','279FWgsLr',':id','5037360axxPeG','Tune','JwtAuthGuard','4332mifvPP','UseInterceptors','./dto','findSongs','Master','Delete','true','612719nGqKkx','Post','multer','../auth/enums/role.enum','object','uuid','UseGuards','166928wJkMuu','create','../auth/guards','Admin','SoundType','update','/resetTunes','User','FileInterceptor','553lRkVqU','./constants','Get','48978proKyP','Viewer',':id/volume'];a130_0x5889=function(){return _0x17ee8b;};return a130_0x5889();}let SoundController=class SoundController{constructor(_0x58196a){this['soundService']=_0x58196a;}async['create'](_0xbb4965){const _0x24007a=a130_0x28415f;return this[_0x24007a(0x121)][_0x24007a(0x145)](_0xbb4965);}async[a130_0x28415f(0x12f)](_0x5b02d9,_0x46d18d){const _0x27d862=a130_0x28415f;return this[_0x27d862(0x121)][_0x27d862(0x10f)](_0x46d18d,_0x5b02d9);}async[a130_0x28415f(0x11f)](_0x1f9c76,_0x4065a8){const _0x548d88=a130_0x28415f,_0x14e3af={'name':_0x1f9c76===null||_0x1f9c76===void 0x0?void 0x0:_0x1f9c76['originalname'],'type':_0x4065a8},_0x43e990=await this[_0x548d88(0x121)][_0x548d88(0x145)](_0x14e3af);return this[_0x548d88(0x121)]['upload'](_0x43e990[_0x548d88(0x122)],_0x1f9c76);}async['findTunes'](){const _0x513ad3=a130_0x28415f;return this[_0x513ad3(0x121)][_0x513ad3(0x160)](constants_2['SoundType'][_0x513ad3(0x134)]);}async[a130_0x28415f(0x139)](){const _0x1b493e=a130_0x28415f;return this[_0x1b493e(0x121)][_0x1b493e(0x160)](constants_2[_0x1b493e(0x148)]['Song']);}async[a130_0x28415f(0x149)](_0x532f93,_0x18f29e){const _0x4e2efb=a130_0x28415f;return this['soundService'][_0x4e2efb(0x149)](_0x532f93,_0x18f29e);}async[a130_0x28415f(0x117)](_0x104801,_0x46faf4){return this['soundService']['updateVolume'](_0x104801,_0x46faf4);}async[a130_0x28415f(0x124)](_0x58d0d6){const _0x1e671b=a130_0x28415f;return this[_0x1e671b(0x121)]['delete'](_0x58d0d6);}async[a130_0x28415f(0x10d)](_0x226b29,_0x3fbb5a){const _0x5630e6=a130_0x28415f;return this['soundService'][_0x5630e6(0x10d)](enums_1[_0x5630e6(0x15b)]['User'],_0x226b29,_0x3fbb5a===_0x5630e6(0x13c));}async['stop'](_0x9e398f){const _0x5c3392=a130_0x28415f;return this[_0x5c3392(0x121)][_0x5c3392(0x112)](_0x9e398f);}async[a130_0x28415f(0x114)](){const _0x4086f0=a130_0x28415f;return this[_0x4086f0(0x121)][_0x4086f0(0x114)]();}};__decorate([(0x0,common_1[a130_0x28415f(0x13e)])(),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x28415f(0x116)]['Admin'],role_enum_1['Role'][a130_0x28415f(0x14b)],role_enum_1['Role'][a130_0x28415f(0x151)]),__param(0x0,(0x0,common_1[a130_0x28415f(0x10b)])()),__metadata(a130_0x28415f(0x109),Function),__metadata('design:paramtypes',[dto_1[a130_0x28415f(0x15f)]]),__metadata('design:returntype',Promise)],SoundController['prototype'],a130_0x28415f(0x145),null),__decorate([(0x0,common_1['Post'])(':id/upload'),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1['Role']['Admin'],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),(0x0,common_1[a130_0x28415f(0x137)])((0x0,platform_express_1[a130_0x28415f(0x14c)])(a130_0x28415f(0x115),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1['Param'])('id')),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[Object,String]),__metadata('design:returntype',Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x12f),null),__decorate([(0x0,common_1[a130_0x28415f(0x13e)])(a130_0x28415f(0x125)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1['JwtAuthGuard'],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),(0x0,common_1[a130_0x28415f(0x137)])((0x0,platform_express_1['FileInterceptor'])(a130_0x28415f(0x115),fileInterceptorOptions)),__param(0x0,(0x0,common_1['UploadedFile'])()),__param(0x1,(0x0,common_1['Param'])(a130_0x28415f(0x123))),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[Object,String]),__metadata('design:returntype',Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x11f),null),__decorate([(0x0,common_1[a130_0x28415f(0x14f)])(a130_0x28415f(0x127)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1['JwtAuthGuard'],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)]['Viewer']),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x128),null),__decorate([(0x0,common_1[a130_0x28415f(0x14f)])(a130_0x28415f(0x15a)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x139),null),__decorate([(0x0,common_1[a130_0x28415f(0x12c)])(a130_0x28415f(0x132)),(0x0,common_1['UseGuards'])(guards_1[a130_0x28415f(0x135)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1['Role'][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),__param(0x0,(0x0,common_1[a130_0x28415f(0x111)])('id')),__param(0x1,(0x0,common_1[a130_0x28415f(0x10b)])()),__metadata(a130_0x28415f(0x109),Function),__metadata('design:paramtypes',[String,dto_1[a130_0x28415f(0x12a)]]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x149),null),__decorate([(0x0,common_1[a130_0x28415f(0x12c)])(a130_0x28415f(0x152)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1['Role'][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),__param(0x0,(0x0,common_1[a130_0x28415f(0x111)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a130_0x28415f(0x109),Function),__metadata('design:paramtypes',[String,dto_1[a130_0x28415f(0x12a)]]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController['prototype'],a130_0x28415f(0x117),null),__decorate([(0x0,common_1[a130_0x28415f(0x13b)])(a130_0x28415f(0x132)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1['JwtAuthGuard'],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)]['User'],role_enum_1[a130_0x28415f(0x116)]['Viewer']),__param(0x0,(0x0,common_1[a130_0x28415f(0x111)])('id')),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[String]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x124),null),__decorate([(0x0,common_1['Post'])(':id/play'),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1[a130_0x28415f(0x156)],guards_1[a130_0x28415f(0x15d)]),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x147)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),__param(0x0,(0x0,common_1[a130_0x28415f(0x111)])('id')),__param(0x1,(0x0,common_1[a130_0x28415f(0x12b)])(a130_0x28415f(0x130))),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[String,String]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController['prototype'],a130_0x28415f(0x10d),null),__decorate([(0x0,common_1[a130_0x28415f(0x13e)])(':id/stop'),(0x0,common_1[a130_0x28415f(0x143)])(guards_1['JwtAuthGuard'],guards_1[a130_0x28415f(0x156)]),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1[a130_0x28415f(0x116)]['Admin'],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x14b)],role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x151)]),__param(0x0,(0x0,common_1[a130_0x28415f(0x111)])('id')),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[String]),__metadata(a130_0x28415f(0x11e),Promise)],SoundController[a130_0x28415f(0x158)],a130_0x28415f(0x112),null),__decorate([(0x0,common_1['Post'])(a130_0x28415f(0x14a)),(0x0,common_1[a130_0x28415f(0x143)])(guards_1[a130_0x28415f(0x135)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x28415f(0x155)])(role_enum_1[a130_0x28415f(0x116)][a130_0x28415f(0x13a)]),__metadata(a130_0x28415f(0x109),Function),__metadata(a130_0x28415f(0x15c),[]),__metadata('design:returntype',Promise)],SoundController[a130_0x28415f(0x158)],'resetTunes',null),SoundController=__decorate([(0x0,common_1['Controller'])(a130_0x28415f(0x118)),__metadata(a130_0x28415f(0x15c),[sound_service_1[a130_0x28415f(0x11b)]])],SoundController),exports[a130_0x28415f(0x12e)]=SoundController;