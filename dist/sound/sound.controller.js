'use strict';const a130_0xaff15d=a130_0x1cb9;function a130_0x1cb9(_0x1fa4a7,_0x104e01){const _0x34c118=a130_0x34c1();return a130_0x1cb9=function(_0x1cb927,_0xafcf47){_0x1cb927=_0x1cb927-0x14b;let _0x5a0259=_0x34c118[_0x1cb927];return _0x5a0259;},a130_0x1cb9(_0x1fa4a7,_0x104e01);}(function(_0x28f9fe,_0x56d2ed){const _0x1fe5b7=a130_0x1cb9,_0x5091bd=_0x28f9fe();while(!![]){try{const _0x1223b4=parseInt(_0x1fe5b7(0x16a))/0x1+parseInt(_0x1fe5b7(0x191))/0x2*(-parseInt(_0x1fe5b7(0x14c))/0x3)+parseInt(_0x1fe5b7(0x16c))/0x4*(-parseInt(_0x1fe5b7(0x193))/0x5)+parseInt(_0x1fe5b7(0x16e))/0x6+-parseInt(_0x1fe5b7(0x158))/0x7+parseInt(_0x1fe5b7(0x17f))/0x8*(-parseInt(_0x1fe5b7(0x187))/0x9)+-parseInt(_0x1fe5b7(0x1a1))/0xa*(-parseInt(_0x1fe5b7(0x168))/0xb);if(_0x1223b4===_0x56d2ed)break;else _0x5091bd['push'](_0x5091bd['shift']());}catch(_0x226ffd){_0x5091bd['push'](_0x5091bd['shift']());}}}(a130_0x34c1,0x50079));var __decorate=this&&this[a130_0xaff15d(0x182)]||function(_0x1830ba,_0x42e706,_0x5295bd,_0x49addb){const _0x38c383=a130_0xaff15d;var _0x2a3c96=arguments[_0x38c383(0x198)],_0xd66b90=_0x2a3c96<0x3?_0x42e706:_0x49addb===null?_0x49addb=Object[_0x38c383(0x183)](_0x42e706,_0x5295bd):_0x49addb,_0x2ff4ce;if(typeof Reflect===_0x38c383(0x157)&&typeof Reflect['decorate']==='function')_0xd66b90=Reflect['decorate'](_0x1830ba,_0x42e706,_0x5295bd,_0x49addb);else{for(var _0x1bc14f=_0x1830ba[_0x38c383(0x198)]-0x1;_0x1bc14f>=0x0;_0x1bc14f--)if(_0x2ff4ce=_0x1830ba[_0x1bc14f])_0xd66b90=(_0x2a3c96<0x3?_0x2ff4ce(_0xd66b90):_0x2a3c96>0x3?_0x2ff4ce(_0x42e706,_0x5295bd,_0xd66b90):_0x2ff4ce(_0x42e706,_0x5295bd))||_0xd66b90;}return _0x2a3c96>0x3&&_0xd66b90&&Object['defineProperty'](_0x42e706,_0x5295bd,_0xd66b90),_0xd66b90;},__metadata=this&&this[a130_0xaff15d(0x160)]||function(_0x2472f7,_0x55f653){const _0x42d343=a130_0xaff15d;if(typeof Reflect===_0x42d343(0x157)&&typeof Reflect[_0x42d343(0x15b)]===_0x42d343(0x153))return Reflect[_0x42d343(0x15b)](_0x2472f7,_0x55f653);},__param=this&&this[a130_0xaff15d(0x18b)]||function(_0x2e8ea1,_0xc3c3c1){return function(_0x31756a,_0x2677e1){_0xc3c3c1(_0x31756a,_0x2677e1,_0x2e8ea1);};};Object[a130_0xaff15d(0x170)](exports,a130_0xaff15d(0x192),{'value':!![]}),exports[a130_0xaff15d(0x176)]=void 0x0;const common_1=require(a130_0xaff15d(0x17d)),platform_express_1=require(a130_0xaff15d(0x172)),multer_1=require('multer'),utils_1=require(a130_0xaff15d(0x155)),constants_1=require(a130_0xaff15d(0x151)),sound_service_1=require('./sound.service'),dto_1=require(a130_0xaff15d(0x188)),constants_2=require('./constants'),roles_decorator_1=require(a130_0xaff15d(0x165)),role_enum_1=require(a130_0xaff15d(0x178)),guards_1=require('../auth/guards'),enums_1=require(a130_0xaff15d(0x16f)),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0xaff15d(0x15c)])({'destination':constants_1[a130_0xaff15d(0x17e)],'filename':(_0x5b5755,_0x24b135,_0x3b3de3)=>{const _0x207415=a130_0xaff15d;return _0x3b3de3(null,''+(0x0,utils_1['uuid'])()+_0x24b135[_0x207415(0x15d)]);}})};let SoundController=class SoundController{constructor(_0x51eac2){this['soundService']=_0x51eac2;}async[a130_0xaff15d(0x18e)](_0x3e36a0){const _0x28f47a=a130_0xaff15d;return this[_0x28f47a(0x16b)][_0x28f47a(0x18e)](_0x3e36a0);}async[a130_0xaff15d(0x180)](_0x30ff44,_0x26ea7a){const _0x2af608=a130_0xaff15d;return this[_0x2af608(0x16b)][_0x2af608(0x18d)](_0x26ea7a,_0x30ff44);}async[a130_0xaff15d(0x174)](_0x14484e,_0x16f66f){const _0xa09e10=a130_0xaff15d,_0x1ae66d={'name':_0x14484e===null||_0x14484e===void 0x0?void 0x0:_0x14484e[_0xa09e10(0x15d)],'type':_0x16f66f},_0x4cc389=await this[_0xa09e10(0x16b)]['create'](_0x1ae66d);return this[_0xa09e10(0x16b)]['upload'](_0x4cc389[_0xa09e10(0x18c)],_0x14484e);}async[a130_0xaff15d(0x196)](){const _0x49cdd8=a130_0xaff15d;return this[_0x49cdd8(0x16b)][_0x49cdd8(0x169)](constants_2[_0x49cdd8(0x159)][_0x49cdd8(0x199)]);}async[a130_0xaff15d(0x15e)](){const _0x38aa4b=a130_0xaff15d;return this['soundService'][_0x38aa4b(0x169)](constants_2[_0x38aa4b(0x159)][_0x38aa4b(0x19f)]);}async[a130_0xaff15d(0x161)](_0x2a0a22,_0x5c3a6d){const _0x2a0668=a130_0xaff15d;return this['soundService'][_0x2a0668(0x161)](_0x2a0a22,_0x5c3a6d);}async[a130_0xaff15d(0x195)](_0x171658,_0x1b7c32){const _0x289f41=a130_0xaff15d;return this[_0x289f41(0x16b)]['updateVolume'](_0x171658,_0x1b7c32);}async[a130_0xaff15d(0x189)](_0x4b1ac2){const _0x5d2e9d=a130_0xaff15d;return this[_0x5d2e9d(0x16b)]['delete'](_0x4b1ac2);}async['play'](_0x9362bb,_0x22f9e2){const _0x3af0c7=a130_0xaff15d;return this[_0x3af0c7(0x16b)]['play'](enums_1[_0x3af0c7(0x179)][_0x3af0c7(0x162)],_0x9362bb,_0x22f9e2===_0x3af0c7(0x14d));}async[a130_0xaff15d(0x181)](_0x13bfa9){const _0x1f3450=a130_0xaff15d;return this[_0x1f3450(0x16b)][_0x1f3450(0x181)](_0x13bfa9);}async[a130_0xaff15d(0x19a)](){const _0x240eee=a130_0xaff15d;return this[_0x240eee(0x16b)][_0x240eee(0x19a)]();}};__decorate([(0x0,common_1[a130_0xaff15d(0x19c)])(),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x162)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__param(0x0,(0x0,common_1[a130_0xaff15d(0x167)])()),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[dto_1['CreateSoundDto']]),__metadata('design:returntype',Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x18e),null),__decorate([(0x0,common_1[a130_0xaff15d(0x19c)])(a130_0xaff15d(0x14b)),(0x0,common_1['UseGuards'])(guards_1[a130_0xaff15d(0x190)],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1['Role'][a130_0xaff15d(0x162)],role_enum_1['Role'][a130_0xaff15d(0x154)]),(0x0,common_1[a130_0xaff15d(0x152)])((0x0,platform_express_1[a130_0xaff15d(0x19e)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0xaff15d(0x15f)])()),__param(0x1,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__metadata(a130_0xaff15d(0x163),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x180),null),__decorate([(0x0,common_1[a130_0xaff15d(0x19c)])(a130_0xaff15d(0x177)),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x162)],role_enum_1['Role'][a130_0xaff15d(0x154)]),(0x0,common_1[a130_0xaff15d(0x152)])((0x0,platform_express_1[a130_0xaff15d(0x19e)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0xaff15d(0x15f)])()),__param(0x1,(0x0,common_1['Param'])('type')),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[Object,String]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x174),null),__decorate([(0x0,common_1[a130_0xaff15d(0x18f)])(a130_0xaff15d(0x156)),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1['JwtAuthGuard'],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1['Role'][a130_0xaff15d(0x162)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],'findTunes',null),__decorate([(0x0,common_1[a130_0xaff15d(0x18f)])(a130_0xaff15d(0x173)),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1[a130_0xaff15d(0x19b)]['User'],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x15e),null),__decorate([(0x0,common_1[a130_0xaff15d(0x14e)])(':id'),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1['Roles'])(role_enum_1['Role'][a130_0xaff15d(0x197)],role_enum_1['Role']['User'],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__param(0x0,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__param(0x1,(0x0,common_1[a130_0xaff15d(0x167)])()),__metadata('design:type',Function),__metadata(a130_0xaff15d(0x15a),[String,dto_1[a130_0xaff15d(0x166)]]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x161),null),__decorate([(0x0,common_1[a130_0xaff15d(0x14e)])(a130_0xaff15d(0x150)),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1['RolesGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0xaff15d(0x19b)]['Admin'],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x162)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__param(0x0,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__param(0x1,(0x0,common_1['Body'])()),__metadata(a130_0xaff15d(0x163),Function),__metadata('design:paramtypes',[String,dto_1[a130_0xaff15d(0x166)]]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],'updateVolume',null),__decorate([(0x0,common_1[a130_0xaff15d(0x164)])(a130_0xaff15d(0x1a0)),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x162)],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x154)]),__param(0x0,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[String]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],'delete',null),__decorate([(0x0,common_1[a130_0xaff15d(0x19c)])(a130_0xaff15d(0x17c)),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1['RolesGuard'],guards_1['LicenseGuard']),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x197)],role_enum_1['Role'][a130_0xaff15d(0x162)],role_enum_1['Role']['Viewer']),__param(0x0,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__param(0x1,(0x0,common_1[a130_0xaff15d(0x175)])(a130_0xaff15d(0x186))),__metadata(a130_0xaff15d(0x163),Function),__metadata(a130_0xaff15d(0x15a),[String,String]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController[a130_0xaff15d(0x17b)],a130_0xaff15d(0x185),null),__decorate([(0x0,common_1['Post'])(':id/stop'),(0x0,common_1[a130_0xaff15d(0x17a)])(guards_1[a130_0xaff15d(0x190)],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1['Role']['Admin'],role_enum_1[a130_0xaff15d(0x19b)][a130_0xaff15d(0x162)],role_enum_1[a130_0xaff15d(0x19b)]['Viewer']),__param(0x0,(0x0,common_1[a130_0xaff15d(0x184)])('id')),__metadata('design:type',Function),__metadata(a130_0xaff15d(0x15a),[String]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController['prototype'],a130_0xaff15d(0x181),null),__decorate([(0x0,common_1[a130_0xaff15d(0x19c)])('/resetTunes'),(0x0,common_1['UseGuards'])(guards_1[a130_0xaff15d(0x190)],guards_1[a130_0xaff15d(0x194)]),(0x0,roles_decorator_1[a130_0xaff15d(0x14f)])(role_enum_1[a130_0xaff15d(0x19b)]['Master']),__metadata(a130_0xaff15d(0x163),Function),__metadata('design:paramtypes',[]),__metadata(a130_0xaff15d(0x171),Promise)],SoundController['prototype'],'resetTunes',null),SoundController=__decorate([(0x0,common_1[a130_0xaff15d(0x18a)])(a130_0xaff15d(0x19d)),__metadata(a130_0xaff15d(0x15a),[sound_service_1[a130_0xaff15d(0x16d)]])],SoundController),exports[a130_0xaff15d(0x176)]=SoundController;function a130_0x34c1(){const _0xbca6e0=[':id/play','@nestjs/common','TMP_UPLOAD_DIR','97072kKHwVb','uploadById','stop','__decorate','getOwnPropertyDescriptor','Param','play','repeat','279xrqRQn','./dto','delete','Controller','__param','_id','upload','create','Get','JwtAuthGuard','544838OzbJRy','__esModule','385AOTOIk','RolesGuard','updateVolume','findTunes','Admin','length','Tune','resetTunes','Role','Post','sound','FileInterceptor','Song',':id','6970ACqJIU',':id/upload','3ftqDnN','true','Patch','Roles',':id/volume','../common/constants','UseInterceptors','function','Viewer','../common/utils','/tunes','object','488390TTWFzR','SoundType','design:paramtypes','metadata','diskStorage','originalname','findSongs','UploadedFile','__metadata','update','User','design:type','Delete','../auth/decorators/roles.decorator','UpdateSoundDto','Body','8888TyLKZx','findByType','640163lRqybj','soundService','30724FHNFgC','SoundService','2605452OVoHFb','../common/enums','defineProperty','design:returntype','@nestjs/platform-express','/songs','uploadByType','Query','SoundController','/upload/:type','../auth/enums/role.enum','AuditActor','UseGuards','prototype'];a130_0x34c1=function(){return _0xbca6e0;};return a130_0x34c1();}