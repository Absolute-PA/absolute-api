'use strict';function a130_0x3fd2(){const _0x5e6576=['metadata',':id','UseInterceptors','play','__metadata','findTunes','/tunes','310BmgYUv','TMP_UPLOAD_DIR','upload',':id/play','Admin','Tune','findByType','getOwnPropertyDescriptor','decorate','originalname','findSongs','UseGuards','SoundType','Roles','1423356OxycXi','delete','Post','resetTunes','../auth/decorators/roles.decorator','__esModule','3HoYaEZ','Param','uuid','object','length','366540dZBxkn','defineProperty','../auth/enums/role.enum','design:type','1437060hHDoTj','UploadedFile','Delete','UpdateSoundDto','Master','Patch','design:returntype','Body','Role','true','RolesGuard','Get','@nestjs/platform-express','repeat','18WSMEga',':id/volume','create','__decorate','uploadByType','stop','../auth/guards','JwtAuthGuard','prototype','272079SrPvgC','soundService','design:paramtypes','diskStorage','Query','/songs','updateVolume','__param','function','uploadById','FileInterceptor','type','update','8165899WWLzdc','LicenseGuard','1071332zYplPs','../common/utils','../common/constants','sound','User','12429776KisAhf','Song','Controller','Viewer','CreateSoundDto'];a130_0x3fd2=function(){return _0x5e6576;};return a130_0x3fd2();}const a130_0x4082d8=a130_0x3bd3;(function(_0x45b8b1,_0x4561c6){const _0x5b92e0=a130_0x3bd3,_0xb7cc6f=_0x45b8b1();while(!![]){try{const _0x2c03b5=-parseInt(_0x5b92e0(0xdc))/0x1+-parseInt(_0x5b92e0(0xbd))/0x2+parseInt(_0x5b92e0(0xe2))/0x3*(parseInt(_0x5b92e0(0xe7))/0x4)+-parseInt(_0x5b92e0(0xeb))/0x5*(-parseInt(_0x5b92e0(0xf9))/0x6)+parseInt(_0x5b92e0(0x10f))/0x7+parseInt(_0x5b92e0(0xc2))/0x8+-parseInt(_0x5b92e0(0x102))/0x9*(parseInt(_0x5b92e0(0xce))/0xa);if(_0x2c03b5===_0x4561c6)break;else _0xb7cc6f['push'](_0xb7cc6f['shift']());}catch(_0x5f3ede){_0xb7cc6f['push'](_0xb7cc6f['shift']());}}}(a130_0x3fd2,0xbdeef));function a130_0x3bd3(_0x4e673c,_0xc85427){const _0x3fd2d9=a130_0x3fd2();return a130_0x3bd3=function(_0x3bd3f1,_0xeb097d){_0x3bd3f1=_0x3bd3f1-0xbc;let _0x1ee8c9=_0x3fd2d9[_0x3bd3f1];return _0x1ee8c9;},a130_0x3bd3(_0x4e673c,_0xc85427);}var __decorate=this&&this[a130_0x4082d8(0xfc)]||function(_0x17b7e7,_0x4d5e64,_0x345d87,_0x512cf9){const _0x222684=a130_0x4082d8;var _0x20b2fe=arguments[_0x222684(0xe6)],_0x43e2b4=_0x20b2fe<0x3?_0x4d5e64:_0x512cf9===null?_0x512cf9=Object[_0x222684(0xd5)](_0x4d5e64,_0x345d87):_0x512cf9,_0x1d3b1b;if(typeof Reflect===_0x222684(0xe5)&&typeof Reflect[_0x222684(0xd6)]==='function')_0x43e2b4=Reflect[_0x222684(0xd6)](_0x17b7e7,_0x4d5e64,_0x345d87,_0x512cf9);else{for(var _0x2d5512=_0x17b7e7[_0x222684(0xe6)]-0x1;_0x2d5512>=0x0;_0x2d5512--)if(_0x1d3b1b=_0x17b7e7[_0x2d5512])_0x43e2b4=(_0x20b2fe<0x3?_0x1d3b1b(_0x43e2b4):_0x20b2fe>0x3?_0x1d3b1b(_0x4d5e64,_0x345d87,_0x43e2b4):_0x1d3b1b(_0x4d5e64,_0x345d87))||_0x43e2b4;}return _0x20b2fe>0x3&&_0x43e2b4&&Object[_0x222684(0xe8)](_0x4d5e64,_0x345d87,_0x43e2b4),_0x43e2b4;},__metadata=this&&this[a130_0x4082d8(0xcb)]||function(_0x261ffd,_0x49de85){const _0x4de1db=a130_0x4082d8;if(typeof Reflect===_0x4de1db(0xe5)&&typeof Reflect[_0x4de1db(0xc7)]===_0x4de1db(0x10a))return Reflect[_0x4de1db(0xc7)](_0x261ffd,_0x49de85);},__param=this&&this[a130_0x4082d8(0x109)]||function(_0x2ab44c,_0x39107f){return function(_0x2d14e5,_0x1f8088){_0x39107f(_0x2d14e5,_0x1f8088,_0x2ab44c);};};Object[a130_0x4082d8(0xe8)](exports,a130_0x4082d8(0xe1),{'value':!![]}),exports['SoundController']=void 0x0;const common_1=require('@nestjs/common'),platform_express_1=require(a130_0x4082d8(0xf7)),multer_1=require('multer'),utils_1=require(a130_0x4082d8(0xbe)),constants_1=require(a130_0x4082d8(0xbf)),sound_service_1=require('./sound.service'),dto_1=require('./dto'),constants_2=require('./constants'),roles_decorator_1=require(a130_0x4082d8(0xe0)),role_enum_1=require(a130_0x4082d8(0xe9)),guards_1=require(a130_0x4082d8(0xff)),enums_1=require('../common/enums'),fileInterceptorOptions={'storage':(0x0,multer_1[a130_0x4082d8(0x105)])({'destination':constants_1[a130_0x4082d8(0xcf)],'filename':(_0x17ad36,_0x48a115,_0x1a22b7)=>{const _0x4ecd3c=a130_0x4082d8;return _0x1a22b7(null,''+(0x0,utils_1[_0x4ecd3c(0xe4)])()+_0x48a115['originalname']);}})};let SoundController=class SoundController{constructor(_0x42034f){const _0x790202=a130_0x4082d8;this[_0x790202(0x103)]=_0x42034f;}async[a130_0x4082d8(0xfb)](_0x5bb9b5){const _0x133740=a130_0x4082d8;return this['soundService'][_0x133740(0xfb)](_0x5bb9b5);}async[a130_0x4082d8(0x10b)](_0x1261dc,_0x1a0f06){const _0xd9c51c=a130_0x4082d8;return this[_0xd9c51c(0x103)][_0xd9c51c(0xd0)](_0x1a0f06,_0x1261dc);}async[a130_0x4082d8(0xfd)](_0x141429,_0x4c6010){const _0x4ae6a6=a130_0x4082d8,_0xdb5cb7={'name':_0x141429===null||_0x141429===void 0x0?void 0x0:_0x141429[_0x4ae6a6(0xd7)],'type':_0x4c6010},_0x153c50=await this[_0x4ae6a6(0x103)][_0x4ae6a6(0xfb)](_0xdb5cb7);return this[_0x4ae6a6(0x103)][_0x4ae6a6(0xd0)](_0x153c50['_id'],_0x141429);}async[a130_0x4082d8(0xcc)](){const _0x3050dd=a130_0x4082d8;return this[_0x3050dd(0x103)][_0x3050dd(0xd4)](constants_2[_0x3050dd(0xda)][_0x3050dd(0xd3)]);}async[a130_0x4082d8(0xd8)](){const _0x40d0a7=a130_0x4082d8;return this[_0x40d0a7(0x103)]['findByType'](constants_2[_0x40d0a7(0xda)][_0x40d0a7(0xc3)]);}async[a130_0x4082d8(0x10e)](_0x3c7970,_0x16e88b){const _0x1385bf=a130_0x4082d8;return this[_0x1385bf(0x103)][_0x1385bf(0x10e)](_0x3c7970,_0x16e88b);}async['updateVolume'](_0x2a040c,_0x184a17){const _0x235e69=a130_0x4082d8;return this['soundService'][_0x235e69(0x108)](_0x2a040c,_0x184a17);}async[a130_0x4082d8(0xdd)](_0x468037){const _0x1882d5=a130_0x4082d8;return this[_0x1882d5(0x103)][_0x1882d5(0xdd)](_0x468037);}async[a130_0x4082d8(0xca)](_0x700318,_0xd4f63c){const _0x2cc000=a130_0x4082d8;return this['soundService'][_0x2cc000(0xca)](enums_1['AuditActor']['User'],_0x700318,_0xd4f63c===_0x2cc000(0xf4));}async[a130_0x4082d8(0xfe)](_0x58edd2){const _0x146b2c=a130_0x4082d8;return this[_0x146b2c(0x103)]['stop'](_0x58edd2);}async[a130_0x4082d8(0xdf)](){const _0x1d7e64=a130_0x4082d8;return this[_0x1d7e64(0x103)][_0x1d7e64(0xdf)]();}};__decorate([(0x0,common_1[a130_0x4082d8(0xde)])(),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1['Role'][a130_0x4082d8(0xc1)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc5)]),__param(0x0,(0x0,common_1[a130_0x4082d8(0xf2)])()),__metadata(a130_0x4082d8(0xea),Function),__metadata('design:paramtypes',[dto_1[a130_0x4082d8(0xc6)]]),__metadata('design:returntype',Promise)],SoundController[a130_0x4082d8(0x101)],a130_0x4082d8(0xfb),null),__decorate([(0x0,common_1[a130_0x4082d8(0xde)])(':id/upload'),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1['Role'][a130_0x4082d8(0xc5)]),(0x0,common_1[a130_0x4082d8(0xc9)])((0x0,platform_express_1[a130_0x4082d8(0x10c)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4082d8(0xec)])()),__param(0x1,(0x0,common_1[a130_0x4082d8(0xe3)])('id')),__metadata(a130_0x4082d8(0xea),Function),__metadata('design:paramtypes',[Object,String]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController[a130_0x4082d8(0x101)],'uploadById',null),__decorate([(0x0,common_1[a130_0x4082d8(0xde)])('/upload/:type'),(0x0,common_1['UseGuards'])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)]['Admin'],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1['Role'][a130_0x4082d8(0xc5)]),(0x0,common_1[a130_0x4082d8(0xc9)])((0x0,platform_express_1[a130_0x4082d8(0x10c)])('file',fileInterceptorOptions)),__param(0x0,(0x0,common_1[a130_0x4082d8(0xec)])()),__param(0x1,(0x0,common_1['Param'])(a130_0x4082d8(0x10d))),__metadata(a130_0x4082d8(0xea),Function),__metadata(a130_0x4082d8(0x104),[Object,String]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController['prototype'],'uploadByType',null),__decorate([(0x0,common_1[a130_0x4082d8(0xf6)])(a130_0x4082d8(0xcd)),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)]['User'],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc5)]),__metadata(a130_0x4082d8(0xea),Function),__metadata(a130_0x4082d8(0x104),[]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController[a130_0x4082d8(0x101)],a130_0x4082d8(0xcc),null),__decorate([(0x0,common_1[a130_0x4082d8(0xf6)])(a130_0x4082d8(0x107)),(0x0,common_1['UseGuards'])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)]['Admin'],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1['Role'][a130_0x4082d8(0xc5)]),__metadata(a130_0x4082d8(0xea),Function),__metadata(a130_0x4082d8(0x104),[]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController['prototype'],'findSongs',null),__decorate([(0x0,common_1[a130_0x4082d8(0xf0)])(a130_0x4082d8(0xc8)),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1['Roles'])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)]['User'],role_enum_1[a130_0x4082d8(0xf3)]['Viewer']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x4082d8(0xf2)])()),__metadata(a130_0x4082d8(0xea),Function),__metadata('design:paramtypes',[String,dto_1['UpdateSoundDto']]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController['prototype'],a130_0x4082d8(0x10e),null),__decorate([(0x0,common_1['Patch'])(a130_0x4082d8(0xfa)),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1['RolesGuard']),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1['Role']['User'],role_enum_1[a130_0x4082d8(0xf3)]['Viewer']),__param(0x0,(0x0,common_1['Param'])('id')),__param(0x1,(0x0,common_1[a130_0x4082d8(0xf2)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[String,dto_1[a130_0x4082d8(0xee)]]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController[a130_0x4082d8(0x101)],'updateVolume',null),__decorate([(0x0,common_1[a130_0x4082d8(0xed)])(a130_0x4082d8(0xc8)),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc5)]),__param(0x0,(0x0,common_1['Param'])('id')),__metadata(a130_0x4082d8(0xea),Function),__metadata('design:paramtypes',[String]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController[a130_0x4082d8(0x101)],'delete',null),__decorate([(0x0,common_1[a130_0x4082d8(0xde)])(a130_0x4082d8(0xd1)),(0x0,common_1[a130_0x4082d8(0xd9)])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)],guards_1[a130_0x4082d8(0xbc)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1[a130_0x4082d8(0xf3)]['Viewer']),__param(0x0,(0x0,common_1[a130_0x4082d8(0xe3)])('id')),__param(0x1,(0x0,common_1[a130_0x4082d8(0x106)])(a130_0x4082d8(0xf8))),__metadata('design:type',Function),__metadata(a130_0x4082d8(0x104),[String,String]),__metadata('design:returntype',Promise)],SoundController['prototype'],'play',null),__decorate([(0x0,common_1[a130_0x4082d8(0xde)])(':id/stop'),(0x0,common_1['UseGuards'])(guards_1['JwtAuthGuard'],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xd2)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc1)],role_enum_1[a130_0x4082d8(0xf3)][a130_0x4082d8(0xc5)]),__param(0x0,(0x0,common_1[a130_0x4082d8(0xe3)])('id')),__metadata(a130_0x4082d8(0xea),Function),__metadata(a130_0x4082d8(0x104),[String]),__metadata('design:returntype',Promise)],SoundController[a130_0x4082d8(0x101)],a130_0x4082d8(0xfe),null),__decorate([(0x0,common_1['Post'])('/resetTunes'),(0x0,common_1['UseGuards'])(guards_1[a130_0x4082d8(0x100)],guards_1[a130_0x4082d8(0xf5)]),(0x0,roles_decorator_1[a130_0x4082d8(0xdb)])(role_enum_1['Role'][a130_0x4082d8(0xef)]),__metadata('design:type',Function),__metadata(a130_0x4082d8(0x104),[]),__metadata(a130_0x4082d8(0xf1),Promise)],SoundController[a130_0x4082d8(0x101)],a130_0x4082d8(0xdf),null),SoundController=__decorate([(0x0,common_1[a130_0x4082d8(0xc4)])(a130_0x4082d8(0xc0)),__metadata('design:paramtypes',[sound_service_1['SoundService']])],SoundController),exports['SoundController']=SoundController;