'use strict';function a147_0x30c6(){const _0x384249=['digest','findByIdAndUpdate','sha256','__decorate','sort','update','textToAudio','207826DkswSX','stream','Message','getMessages','updateTextMessage','__param','Found\x20the\x20same\x20message\x20in\x20the\x20DB','find','TextToAudioService','24xkdYIh','length','getMessageById','base64','61245ssnupv','__esModule','deleteTextMessage','720006QoOFAW','InjectModel','5052872wWsGIo','45618tdwBdS','mongoose','5JHZCpi','@nestjs/mongoose','gtts','@nestjs/common','10GsxcYC','defineProperty','3991sfcPaz','object','metadata','findOne','32dXUGxb','crypto','2029741dJYWhe','2RTHEtx','Injectable','getOwnPropertyDescriptor','messageModel','function','create','Logger','15888tOSNZP','decorate'];a147_0x30c6=function(){return _0x384249;};return a147_0x30c6();}const a147_0x4cd258=a147_0x2f1d;(function(_0x32e037,_0x1f37ff){const _0x48f7f5=a147_0x2f1d,_0x5169f5=_0x32e037();while(!![]){try{const _0x167f61=parseInt(_0x48f7f5(0x1d1))/0x1*(-parseInt(_0x48f7f5(0x1af))/0x2)+parseInt(_0x48f7f5(0x1c2))/0x3*(parseInt(_0x48f7f5(0x1b8))/0x4)+-parseInt(_0x48f7f5(0x1c4))/0x5*(-parseInt(_0x48f7f5(0x1bf))/0x6)+parseInt(_0x48f7f5(0x1d0))/0x7+-parseInt(_0x48f7f5(0x1ce))/0x8*(-parseInt(_0x48f7f5(0x1bc))/0x9)+-parseInt(_0x48f7f5(0x1c8))/0xa*(parseInt(_0x48f7f5(0x1c1))/0xb)+parseInt(_0x48f7f5(0x1d8))/0xc*(parseInt(_0x48f7f5(0x1ca))/0xd);if(_0x167f61===_0x1f37ff)break;else _0x5169f5['push'](_0x5169f5['shift']());}catch(_0xe2d9c3){_0x5169f5['push'](_0x5169f5['shift']());}}}(a147_0x30c6,0x415be));var __decorate=this&&this[a147_0x4cd258(0x1dd)]||function(_0x2813b6,_0x293985,_0x4aa4c4,_0x3196d8){const _0x43f5d7=a147_0x4cd258;var _0x5f4d0a=arguments[_0x43f5d7(0x1b9)],_0x47611b=_0x5f4d0a<0x3?_0x293985:_0x3196d8===null?_0x3196d8=Object[_0x43f5d7(0x1d3)](_0x293985,_0x4aa4c4):_0x3196d8,_0x3a7916;if(typeof Reflect===_0x43f5d7(0x1cb)&&typeof Reflect[_0x43f5d7(0x1d9)]==='function')_0x47611b=Reflect[_0x43f5d7(0x1d9)](_0x2813b6,_0x293985,_0x4aa4c4,_0x3196d8);else{for(var _0x6db243=_0x2813b6[_0x43f5d7(0x1b9)]-0x1;_0x6db243>=0x0;_0x6db243--)if(_0x3a7916=_0x2813b6[_0x6db243])_0x47611b=(_0x5f4d0a<0x3?_0x3a7916(_0x47611b):_0x5f4d0a>0x3?_0x3a7916(_0x293985,_0x4aa4c4,_0x47611b):_0x3a7916(_0x293985,_0x4aa4c4))||_0x47611b;}return _0x5f4d0a>0x3&&_0x47611b&&Object[_0x43f5d7(0x1c9)](_0x293985,_0x4aa4c4,_0x47611b),_0x47611b;},__metadata=this&&this['__metadata']||function(_0x4e8614,_0x289c64){const _0x4d5c6f=a147_0x4cd258;if(typeof Reflect===_0x4d5c6f(0x1cb)&&typeof Reflect[_0x4d5c6f(0x1cc)]===_0x4d5c6f(0x1d5))return Reflect[_0x4d5c6f(0x1cc)](_0x4e8614,_0x289c64);},__param=this&&this[a147_0x4cd258(0x1b4)]||function(_0x17b367,_0x21b8b9){return function(_0x37a69c,_0x1ec2f2){_0x21b8b9(_0x37a69c,_0x1ec2f2,_0x17b367);};},TextToAudioService_1;Object[a147_0x4cd258(0x1c9)](exports,a147_0x4cd258(0x1bd),{'value':!![]}),exports[a147_0x4cd258(0x1b7)]=void 0x0;const common_1=require(a147_0x4cd258(0x1c7)),mongoose_1=require(a147_0x4cd258(0x1c5)),gTTS=require(a147_0x4cd258(0x1c6)),mongoose_2=require(a147_0x4cd258(0x1c3)),crypto=require(a147_0x4cd258(0x1cf));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x224bad){const _0x4870bf=a147_0x4cd258;this['messageModel']=_0x224bad,this['logger']=new common_1[(_0x4870bf(0x1d7))](TextToAudioService_1['name']);}async[a147_0x4cd258(0x1ae)](_0x528797,_0x306a47){const _0x188e2e=a147_0x4cd258,_0x1adc96=new gTTS(_0x528797,'en')[_0x188e2e(0x1b0)]();_0x306a47(_0x1adc96);}async['saveMessage'](_0x3e3855){const _0x54d48c=a147_0x4cd258,_0x4f9ea2=crypto['createHash'](_0x54d48c(0x1dc))[_0x54d48c(0x1ad)](_0x3e3855)[_0x54d48c(0x1da)](_0x54d48c(0x1bb)),_0x12fb46=await this[_0x54d48c(0x1d4)][_0x54d48c(0x1cd)]({'hash':_0x4f9ea2});if(_0x12fb46)return this['logger']['log'](_0x54d48c(0x1b5)),_0x12fb46;return this['messageModel'][_0x54d48c(0x1d6)]({'message':_0x3e3855,'hash':_0x4f9ea2});}async[a147_0x4cd258(0x1b2)](){const _0x2f18ce=a147_0x4cd258;return this['messageModel'][_0x2f18ce(0x1b6)]({})[_0x2f18ce(0x1ac)]({'createdAt':-0x1});}async[a147_0x4cd258(0x1ba)](_0x4c2854){const _0x24b211=a147_0x4cd258;return this[_0x24b211(0x1d4)][_0x24b211(0x1cd)]({'_id':_0x4c2854});}async[a147_0x4cd258(0x1be)](_0x1f84a5){const _0x1aea31=a147_0x4cd258;return this[_0x1aea31(0x1d4)]['findByIdAndDelete']({'_id':_0x1f84a5});}async[a147_0x4cd258(0x1b3)](_0xfbb6bd,_0x43eaac){const _0x335ce0=a147_0x4cd258;return this[_0x335ce0(0x1d4)][_0x335ce0(0x1db)]({'_id':_0xfbb6bd},_0x43eaac,{'new':!![]});}};function a147_0x2f1d(_0x108e22,_0x34ef2e){const _0x30c6a8=a147_0x30c6();return a147_0x2f1d=function(_0x2f1de6,_0x1e549d){_0x2f1de6=_0x2f1de6-0x1ac;let _0x408af0=_0x30c6a8[_0x2f1de6];return _0x408af0;},a147_0x2f1d(_0x108e22,_0x34ef2e);}TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x4cd258(0x1d2)])(),__param(0x0,(0x0,mongoose_1[a147_0x4cd258(0x1c0)])(a147_0x4cd258(0x1b1))),__metadata('design:paramtypes',[mongoose_2['Model']])],TextToAudioService),exports[a147_0x4cd258(0x1b7)]=TextToAudioService;