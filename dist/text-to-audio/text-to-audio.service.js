'use strict';const a144_0x30a33d=a144_0xc127;(function(_0x565d7b,_0x2ec69f){const _0xe9020c=a144_0xc127,_0x248c46=_0x565d7b();while(!![]){try{const _0x27af70=-parseInt(_0xe9020c(0x127))/0x1*(parseInt(_0xe9020c(0x12b))/0x2)+parseInt(_0xe9020c(0x117))/0x3+parseInt(_0xe9020c(0x121))/0x4*(parseInt(_0xe9020c(0x12d))/0x5)+parseInt(_0xe9020c(0x132))/0x6+parseInt(_0xe9020c(0x11d))/0x7*(parseInt(_0xe9020c(0x10c))/0x8)+-parseInt(_0xe9020c(0x11c))/0x9+-parseInt(_0xe9020c(0x11f))/0xa;if(_0x27af70===_0x2ec69f)break;else _0x248c46['push'](_0x248c46['shift']());}catch(_0x4a316f){_0x248c46['push'](_0x248c46['shift']());}}}(a144_0x1176,0x8821a));function a144_0x1176(){const _0x27e500=['logger','getMessages','createHash','deleteTextMessage','48XmyEyr','defineProperty','findByIdAndUpdate','Found\x20the\x20same\x20message\x20in\x20the\x20DB','findByIdAndDelete','find','getOwnPropertyDescriptor','mongoose','create','stream','messageModel','1636065nQbYRH','metadata','base64','sort','decorate','8180757XHvwIr','989877yBXgRd','digest','4370990vtMPKS','length','48PPCpOz','object','Message','function','InjectModel','TextToAudioService','30622ePPGtw','log','crypto','findOne','36YlMDno','__param','428405CFpBPe','__decorate','Model','update','@nestjs/mongoose','197214IkWjtO'];a144_0x1176=function(){return _0x27e500;};return a144_0x1176();}function a144_0xc127(_0x525ea4,_0x5ebee1){const _0x117671=a144_0x1176();return a144_0xc127=function(_0xc127d5,_0x30da8f){_0xc127d5=_0xc127d5-0x10c;let _0xada85f=_0x117671[_0xc127d5];return _0xada85f;},a144_0xc127(_0x525ea4,_0x5ebee1);}var __decorate=this&&this[a144_0x30a33d(0x12e)]||function(_0x102544,_0x554caa,_0x584a34,_0x2add44){const _0x55bc93=a144_0x30a33d;var _0x1234e7=arguments[_0x55bc93(0x120)],_0x30adad=_0x1234e7<0x3?_0x554caa:_0x2add44===null?_0x2add44=Object[_0x55bc93(0x112)](_0x554caa,_0x584a34):_0x2add44,_0x123a4f;if(typeof Reflect==='object'&&typeof Reflect[_0x55bc93(0x11b)]==='function')_0x30adad=Reflect[_0x55bc93(0x11b)](_0x102544,_0x554caa,_0x584a34,_0x2add44);else{for(var _0x127b8b=_0x102544[_0x55bc93(0x120)]-0x1;_0x127b8b>=0x0;_0x127b8b--)if(_0x123a4f=_0x102544[_0x127b8b])_0x30adad=(_0x1234e7<0x3?_0x123a4f(_0x30adad):_0x1234e7>0x3?_0x123a4f(_0x554caa,_0x584a34,_0x30adad):_0x123a4f(_0x554caa,_0x584a34))||_0x30adad;}return _0x1234e7>0x3&&_0x30adad&&Object[_0x55bc93(0x10d)](_0x554caa,_0x584a34,_0x30adad),_0x30adad;},__metadata=this&&this['__metadata']||function(_0x32a776,_0x18649d){const _0x3dd23d=a144_0x30a33d;if(typeof Reflect===_0x3dd23d(0x122)&&typeof Reflect['metadata']===_0x3dd23d(0x124))return Reflect[_0x3dd23d(0x118)](_0x32a776,_0x18649d);},__param=this&&this[a144_0x30a33d(0x12c)]||function(_0x1b3cc7,_0x23a4e2){return function(_0x211108,_0x197837){_0x23a4e2(_0x211108,_0x197837,_0x1b3cc7);};},TextToAudioService_1;Object[a144_0x30a33d(0x10d)](exports,'__esModule',{'value':!![]}),exports[a144_0x30a33d(0x126)]=void 0x0;const common_1=require('@nestjs/common'),mongoose_1=require(a144_0x30a33d(0x131)),gTTS=require('gtts'),mongoose_2=require(a144_0x30a33d(0x113)),crypto=require(a144_0x30a33d(0x129));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x33600a){this['messageModel']=_0x33600a,this['logger']=new common_1['Logger'](TextToAudioService_1['name']);}async['textToAudio'](_0x59bbc8,_0x425ea2){const _0x8a6145=a144_0x30a33d,_0x458428=new gTTS(_0x59bbc8,'en')[_0x8a6145(0x115)]();_0x425ea2(_0x458428);}async['saveMessage'](_0x3e4ee2){const _0x37890b=a144_0x30a33d,_0x32baa5=crypto[_0x37890b(0x135)]('sha256')[_0x37890b(0x130)](_0x3e4ee2)[_0x37890b(0x11e)](_0x37890b(0x119)),_0x130bdd=await this['messageModel']['findOne']({'hash':_0x32baa5});if(_0x130bdd)return this[_0x37890b(0x133)][_0x37890b(0x128)](_0x37890b(0x10f)),_0x130bdd;return this['messageModel'][_0x37890b(0x114)]({'message':_0x3e4ee2,'hash':_0x32baa5});}async[a144_0x30a33d(0x134)](){const _0x1f606a=a144_0x30a33d;return this[_0x1f606a(0x116)][_0x1f606a(0x111)]({})[_0x1f606a(0x11a)]({'createdAt':-0x1});}async['getMessageById'](_0x35181c){const _0x394d22=a144_0x30a33d;return this[_0x394d22(0x116)][_0x394d22(0x12a)]({'_id':_0x35181c});}async[a144_0x30a33d(0x136)](_0x519a5a){const _0x3456b5=a144_0x30a33d;return this[_0x3456b5(0x116)][_0x3456b5(0x110)]({'_id':_0x519a5a});}async['updateTextMessage'](_0x35212d,_0x4f64e4){const _0x17884a=a144_0x30a33d;return this[_0x17884a(0x116)][_0x17884a(0x10e)]({'_id':_0x35212d},_0x4f64e4,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1[a144_0x30a33d(0x125)])(a144_0x30a33d(0x123))),__metadata('design:paramtypes',[mongoose_2[a144_0x30a33d(0x12f)]])],TextToAudioService),exports[a144_0x30a33d(0x126)]=TextToAudioService;