'use strict';function a147_0x4fff(_0x323991,_0x2d479d){const _0x34329b=a147_0x3432();return a147_0x4fff=function(_0x4fffd4,_0x1fdb22){_0x4fffd4=_0x4fffd4-0x192;let _0x498d97=_0x34329b[_0x4fffd4];return _0x498d97;},a147_0x4fff(_0x323991,_0x2d479d);}const a147_0x4a2b02=a147_0x4fff;(function(_0x3d9ac0,_0x17e6ab){const _0x3529b5=a147_0x4fff,_0x5ceb4b=_0x3d9ac0();while(!![]){try{const _0x2fbafb=parseInt(_0x3529b5(0x19f))/0x1+parseInt(_0x3529b5(0x1b1))/0x2+-parseInt(_0x3529b5(0x1b3))/0x3+parseInt(_0x3529b5(0x19e))/0x4*(-parseInt(_0x3529b5(0x1a8))/0x5)+-parseInt(_0x3529b5(0x1a4))/0x6*(-parseInt(_0x3529b5(0x198))/0x7)+parseInt(_0x3529b5(0x1ba))/0x8*(parseInt(_0x3529b5(0x193))/0x9)+-parseInt(_0x3529b5(0x199))/0xa;if(_0x2fbafb===_0x17e6ab)break;else _0x5ceb4b['push'](_0x5ceb4b['shift']());}catch(_0x192445){_0x5ceb4b['push'](_0x5ceb4b['shift']());}}}(a147_0x3432,0xa9c89));var __decorate=this&&this[a147_0x4a2b02(0x1af)]||function(_0xbf87a7,_0x52fe09,_0x4779bc,_0x5680e5){const _0x21b91c=a147_0x4a2b02;var _0x55851e=arguments[_0x21b91c(0x19d)],_0x130519=_0x55851e<0x3?_0x52fe09:_0x5680e5===null?_0x5680e5=Object[_0x21b91c(0x192)](_0x52fe09,_0x4779bc):_0x5680e5,_0x42c37a;if(typeof Reflect===_0x21b91c(0x1ac)&&typeof Reflect[_0x21b91c(0x194)]==='function')_0x130519=Reflect[_0x21b91c(0x194)](_0xbf87a7,_0x52fe09,_0x4779bc,_0x5680e5);else{for(var _0x53d8d4=_0xbf87a7[_0x21b91c(0x19d)]-0x1;_0x53d8d4>=0x0;_0x53d8d4--)if(_0x42c37a=_0xbf87a7[_0x53d8d4])_0x130519=(_0x55851e<0x3?_0x42c37a(_0x130519):_0x55851e>0x3?_0x42c37a(_0x52fe09,_0x4779bc,_0x130519):_0x42c37a(_0x52fe09,_0x4779bc))||_0x130519;}return _0x55851e>0x3&&_0x130519&&Object[_0x21b91c(0x19b)](_0x52fe09,_0x4779bc,_0x130519),_0x130519;},__metadata=this&&this[a147_0x4a2b02(0x1bc)]||function(_0x57e1b4,_0x2385da){const _0x18805a=a147_0x4a2b02;if(typeof Reflect===_0x18805a(0x1ac)&&typeof Reflect['metadata']===_0x18805a(0x19c))return Reflect[_0x18805a(0x1ae)](_0x57e1b4,_0x2385da);},__param=this&&this[a147_0x4a2b02(0x1a5)]||function(_0x70f628,_0x524c90){return function(_0x5e6bf8,_0x3543d1){_0x524c90(_0x5e6bf8,_0x3543d1,_0x70f628);};},TextToAudioService_1;Object[a147_0x4a2b02(0x19b)](exports,a147_0x4a2b02(0x1a3),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require('@nestjs/common'),mongoose_1=require('@nestjs/mongoose'),gTTS=require('gtts'),mongoose_2=require(a147_0x4a2b02(0x1a2)),crypto=require(a147_0x4a2b02(0x1be));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x3dac0c){const _0x25c8c6=a147_0x4a2b02;this[_0x25c8c6(0x197)]=_0x3dac0c,this[_0x25c8c6(0x1bd)]=new common_1[(_0x25c8c6(0x1ab))](TextToAudioService_1['name']);}async['textToAudio'](_0x5a93e1,_0x4d7c74){const _0x3148cf=a147_0x4a2b02,_0x330bad=new gTTS(_0x5a93e1,'en')[_0x3148cf(0x1a6)]();_0x4d7c74(_0x330bad);}async[a147_0x4a2b02(0x1a9)](_0x24e063){const _0x3f9429=a147_0x4a2b02,_0x561e0e=crypto[_0x3f9429(0x1bb)](_0x3f9429(0x1b2))[_0x3f9429(0x1b6)](_0x24e063)[_0x3f9429(0x1ad)](_0x3f9429(0x1b5)),_0xf45dbc=await this[_0x3f9429(0x197)][_0x3f9429(0x1bf)]({'hash':_0x561e0e});if(_0xf45dbc)return this['logger'][_0x3f9429(0x1a7)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0xf45dbc;return this[_0x3f9429(0x197)]['create']({'message':_0x24e063,'hash':_0x561e0e});}async[a147_0x4a2b02(0x195)](){const _0x399b01=a147_0x4a2b02;return this[_0x399b01(0x197)][_0x399b01(0x1b0)]({})['sort']({'createdAt':-0x1});}async['getMessageById'](_0xaf279b){const _0x4da248=a147_0x4a2b02;return this[_0x4da248(0x197)][_0x4da248(0x1bf)]({'_id':_0xaf279b});}async[a147_0x4a2b02(0x1aa)](_0x66b3e7){const _0x2d11e4=a147_0x4a2b02;return this[_0x2d11e4(0x197)][_0x2d11e4(0x1b4)]({'_id':_0x66b3e7});}async[a147_0x4a2b02(0x1b8)](_0x3542df,_0x2e9590){const _0x38881a=a147_0x4a2b02;return this[_0x38881a(0x197)][_0x38881a(0x1a0)]({'_id':_0x3542df},_0x2e9590,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x4a2b02(0x1a1)])(),__param(0x0,(0x0,mongoose_1[a147_0x4a2b02(0x1b7)])('Message')),__metadata(a147_0x4a2b02(0x19a),[mongoose_2[a147_0x4a2b02(0x196)]])],TextToAudioService),exports[a147_0x4a2b02(0x1b9)]=TextToAudioService;function a147_0x3432(){const _0x35ac26=['TextToAudioService','739720XPOZhc','createHash','__metadata','logger','crypto','findOne','getOwnPropertyDescriptor','126AElhID','decorate','getMessages','Model','messageModel','896329LYAUqN','9465020UOePuD','design:paramtypes','defineProperty','function','length','276728vvehNg','1072919uMYBal','findByIdAndUpdate','Injectable','mongoose','__esModule','30npPLGn','__param','stream','log','85FZoUSQ','saveMessage','deleteTextMessage','Logger','object','digest','metadata','__decorate','find','132640GtejpN','sha256','767865kzzDQS','findByIdAndDelete','base64','update','InjectModel','updateTextMessage'];a147_0x3432=function(){return _0x35ac26;};return a147_0x3432();}