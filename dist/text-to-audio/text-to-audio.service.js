'use strict';function a147_0x11c9(){const _0x719f42=['753129gWqQNM','4488460bOViAF','600954dWGSyi','decorate','6EkSEOk','defineProperty','findOne','messageModel','findByIdAndDelete','42JZdzbS','base64','deleteTextMessage','__param','__metadata','findByIdAndUpdate','@nestjs/mongoose','find','object','223236gulAiw','update','name','getMessages','8453iMOiUf','saveMessage','Message','logger','function','digest','Model','mongoose','22IZVmDb','crypto','__decorate','372537PKGSNd','sha256','getMessageById','TextToAudioService','getOwnPropertyDescriptor','createHash','__esModule','222725DNCBuY','InjectModel','updateTextMessage','88CdygiQ','length','textToAudio'];a147_0x11c9=function(){return _0x719f42;};return a147_0x11c9();}const a147_0x2b18d7=a147_0x4c62;(function(_0x4a7106,_0x240818){const _0x111e50=a147_0x4c62,_0x187e60=_0x4a7106();while(!![]){try{const _0x4586a6=parseInt(_0x111e50(0xfe))/0x1*(parseInt(_0x111e50(0xec))/0x2)+-parseInt(_0x111e50(0xdb))/0x3+-parseInt(_0x111e50(0xfa))/0x4+parseInt(_0x111e50(0xe2))/0x5+parseInt(_0x111e50(0xea))/0x6*(parseInt(_0x111e50(0xf1))/0x7)+-parseInt(_0x111e50(0xe5))/0x8*(parseInt(_0x111e50(0xe8))/0x9)+parseInt(_0x111e50(0xe9))/0xa*(parseInt(_0x111e50(0xd8))/0xb);if(_0x4586a6===_0x240818)break;else _0x187e60['push'](_0x187e60['shift']());}catch(_0x46cf3d){_0x187e60['push'](_0x187e60['shift']());}}}(a147_0x11c9,0x72467));var __decorate=this&&this[a147_0x2b18d7(0xda)]||function(_0x30ec1e,_0x15dddb,_0x10f952,_0x4abeae){const _0x59f169=a147_0x2b18d7;var _0x1eed1c=arguments[_0x59f169(0xe6)],_0x4ee14f=_0x1eed1c<0x3?_0x15dddb:_0x4abeae===null?_0x4abeae=Object[_0x59f169(0xdf)](_0x15dddb,_0x10f952):_0x4abeae,_0x3dc735;if(typeof Reflect===_0x59f169(0xf9)&&typeof Reflect[_0x59f169(0xeb)]===_0x59f169(0x102))_0x4ee14f=Reflect[_0x59f169(0xeb)](_0x30ec1e,_0x15dddb,_0x10f952,_0x4abeae);else{for(var _0x58a942=_0x30ec1e[_0x59f169(0xe6)]-0x1;_0x58a942>=0x0;_0x58a942--)if(_0x3dc735=_0x30ec1e[_0x58a942])_0x4ee14f=(_0x1eed1c<0x3?_0x3dc735(_0x4ee14f):_0x1eed1c>0x3?_0x3dc735(_0x15dddb,_0x10f952,_0x4ee14f):_0x3dc735(_0x15dddb,_0x10f952))||_0x4ee14f;}return _0x1eed1c>0x3&&_0x4ee14f&&Object[_0x59f169(0xed)](_0x15dddb,_0x10f952,_0x4ee14f),_0x4ee14f;},__metadata=this&&this[a147_0x2b18d7(0xf5)]||function(_0x22d134,_0x33c8a0){if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x22d134,_0x33c8a0);},__param=this&&this[a147_0x2b18d7(0xf4)]||function(_0x2b1d43,_0x563987){return function(_0x275fad,_0xaba452){_0x563987(_0x275fad,_0xaba452,_0x2b1d43);};},TextToAudioService_1;Object['defineProperty'](exports,a147_0x2b18d7(0xe1),{'value':!![]}),exports[a147_0x2b18d7(0xde)]=void 0x0;const common_1=require('@nestjs/common'),mongoose_1=require(a147_0x2b18d7(0xf7)),gTTS=require('gtts'),mongoose_2=require(a147_0x2b18d7(0xd7)),crypto=require(a147_0x2b18d7(0xd9));function a147_0x4c62(_0x4d72be,_0x25bd3a){const _0x11c94b=a147_0x11c9();return a147_0x4c62=function(_0x4c6230,_0x311f21){_0x4c6230=_0x4c6230-0xd6;let _0x49581a=_0x11c94b[_0x4c6230];return _0x49581a;},a147_0x4c62(_0x4d72be,_0x25bd3a);}let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x244efa){const _0x329fbe=a147_0x2b18d7;this[_0x329fbe(0xef)]=_0x244efa,this[_0x329fbe(0x101)]=new common_1['Logger'](TextToAudioService_1[_0x329fbe(0xfc)]);}async[a147_0x2b18d7(0xe7)](_0x1e5d84,_0x3066ed){const _0x40dae9=new gTTS(_0x1e5d84,'en')['stream']();_0x3066ed(_0x40dae9);}async[a147_0x2b18d7(0xff)](_0x4346df){const _0xb2b3b1=a147_0x2b18d7,_0x814b59=crypto[_0xb2b3b1(0xe0)](_0xb2b3b1(0xdc))[_0xb2b3b1(0xfb)](_0x4346df)[_0xb2b3b1(0x103)](_0xb2b3b1(0xf2)),_0x205c08=await this['messageModel']['findOne']({'hash':_0x814b59});if(_0x205c08)return this[_0xb2b3b1(0x101)]['log']('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x205c08;return this[_0xb2b3b1(0xef)]['create']({'message':_0x4346df,'hash':_0x814b59});}async[a147_0x2b18d7(0xfd)](){const _0x506b3d=a147_0x2b18d7;return this[_0x506b3d(0xef)][_0x506b3d(0xf8)]({})['sort']({'createdAt':-0x1});}async[a147_0x2b18d7(0xdd)](_0x5dbc34){const _0x466745=a147_0x2b18d7;return this['messageModel'][_0x466745(0xee)]({'_id':_0x5dbc34});}async[a147_0x2b18d7(0xf3)](_0x93eaae){const _0x4f04bb=a147_0x2b18d7;return this['messageModel'][_0x4f04bb(0xf0)]({'_id':_0x93eaae});}async[a147_0x2b18d7(0xe4)](_0x1a721c,_0x12ffba){const _0x16d673=a147_0x2b18d7;return this[_0x16d673(0xef)][_0x16d673(0xf6)]({'_id':_0x1a721c},_0x12ffba,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1[a147_0x2b18d7(0xe3)])(a147_0x2b18d7(0x100))),__metadata('design:paramtypes',[mongoose_2[a147_0x2b18d7(0xd6)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;