'use strict';function a147_0x2ebb(){const _0x14e59f=['messageModel','findOne','find','saveMessage','stream','update','updateTextMessage','name','findByIdAndUpdate','getMessages','5gbpiQc','textToAudio','2534680GPOxjN','1615832sEHcaq','deleteTextMessage','__decorate','Injectable','Message','getMessageById','508832IIuDQh','20hwFOXr','base64','length','create','metadata','defineProperty','object','712266gIyeXn','__esModule','gtts','function','__param','sha256','3645593JUIpkj','crypto','decorate','7561278KiqWjc','2696862stklab','Model','InjectModel','getOwnPropertyDescriptor','@nestjs/mongoose','2dduDBX','__metadata','findByIdAndDelete','logger','digest'];a147_0x2ebb=function(){return _0x14e59f;};return a147_0x2ebb();}const a147_0x349c94=a147_0x28e1;(function(_0xfab85a,_0x39bf7b){const _0x9b5c3f=a147_0x28e1,_0x5dde98=_0xfab85a();while(!![]){try{const _0x2d0091=parseInt(_0x9b5c3f(0xed))/0x1*(-parseInt(_0x9b5c3f(0xd6))/0x2)+-parseInt(_0x9b5c3f(0xde))/0x3+-parseInt(_0x9b5c3f(0xff))/0x4*(parseInt(_0x9b5c3f(0xfc))/0x5)+-parseInt(_0x9b5c3f(0xe8))/0x6+parseInt(_0x9b5c3f(0xe4))/0x7+-parseInt(_0x9b5c3f(0xfe))/0x8+parseInt(_0x9b5c3f(0xe7))/0x9*(parseInt(_0x9b5c3f(0xd7))/0xa);if(_0x2d0091===_0x39bf7b)break;else _0x5dde98['push'](_0x5dde98['shift']());}catch(_0x5d5946){_0x5dde98['push'](_0x5dde98['shift']());}}}(a147_0x2ebb,0x4578f));var __decorate=this&&this[a147_0x349c94(0x101)]||function(_0x134472,_0x923839,_0x147f65,_0x5a1df6){const _0x3f92ad=a147_0x349c94;var _0x581384=arguments['length'],_0x133185=_0x581384<0x3?_0x923839:_0x5a1df6===null?_0x5a1df6=Object[_0x3f92ad(0xeb)](_0x923839,_0x147f65):_0x5a1df6,_0x5a9996;if(typeof Reflect===_0x3f92ad(0xdd)&&typeof Reflect['decorate']===_0x3f92ad(0xe1))_0x133185=Reflect[_0x3f92ad(0xe6)](_0x134472,_0x923839,_0x147f65,_0x5a1df6);else{for(var _0xcc12d6=_0x134472[_0x3f92ad(0xd9)]-0x1;_0xcc12d6>=0x0;_0xcc12d6--)if(_0x5a9996=_0x134472[_0xcc12d6])_0x133185=(_0x581384<0x3?_0x5a9996(_0x133185):_0x581384>0x3?_0x5a9996(_0x923839,_0x147f65,_0x133185):_0x5a9996(_0x923839,_0x147f65))||_0x133185;}return _0x581384>0x3&&_0x133185&&Object[_0x3f92ad(0xdc)](_0x923839,_0x147f65,_0x133185),_0x133185;},__metadata=this&&this[a147_0x349c94(0xee)]||function(_0x4e36b9,_0x39fe6b){const _0x1e2b79=a147_0x349c94;if(typeof Reflect===_0x1e2b79(0xdd)&&typeof Reflect['metadata']===_0x1e2b79(0xe1))return Reflect[_0x1e2b79(0xdb)](_0x4e36b9,_0x39fe6b);},__param=this&&this[a147_0x349c94(0xe2)]||function(_0x5282f7,_0x429663){return function(_0x527d6b,_0xcdff5){_0x429663(_0x527d6b,_0xcdff5,_0x5282f7);};},TextToAudioService_1;function a147_0x28e1(_0x3ba960,_0x159449){const _0x2ebb45=a147_0x2ebb();return a147_0x28e1=function(_0x28e132,_0xf9622b){_0x28e132=_0x28e132-0xd5;let _0x722dec=_0x2ebb45[_0x28e132];return _0x722dec;},a147_0x28e1(_0x3ba960,_0x159449);}Object[a147_0x349c94(0xdc)](exports,a147_0x349c94(0xdf),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require('@nestjs/common'),mongoose_1=require(a147_0x349c94(0xec)),gTTS=require(a147_0x349c94(0xe0)),mongoose_2=require('mongoose'),crypto=require(a147_0x349c94(0xe5));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x16b535){const _0x301f96=a147_0x349c94;this[_0x301f96(0xf2)]=_0x16b535,this[_0x301f96(0xf0)]=new common_1['Logger'](TextToAudioService_1[_0x301f96(0xf9)]);}async[a147_0x349c94(0xfd)](_0x485fa8,_0x221459){const _0x47e706=a147_0x349c94,_0x2cd710=new gTTS(_0x485fa8,'en')[_0x47e706(0xf6)]();_0x221459(_0x2cd710);}async[a147_0x349c94(0xf5)](_0x54d6bc){const _0x23811d=a147_0x349c94,_0x3063a3=crypto['createHash'](_0x23811d(0xe3))[_0x23811d(0xf7)](_0x54d6bc)[_0x23811d(0xf1)](_0x23811d(0xd8)),_0x37286e=await this[_0x23811d(0xf2)][_0x23811d(0xf3)]({'hash':_0x3063a3});if(_0x37286e)return this[_0x23811d(0xf0)]['log']('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x37286e;return this[_0x23811d(0xf2)][_0x23811d(0xda)]({'message':_0x54d6bc,'hash':_0x3063a3});}async[a147_0x349c94(0xfb)](){const _0x48d8ce=a147_0x349c94;return this[_0x48d8ce(0xf2)][_0x48d8ce(0xf4)]({})['sort']({'createdAt':-0x1});}async[a147_0x349c94(0xd5)](_0xcd9a30){const _0x46c832=a147_0x349c94;return this[_0x46c832(0xf2)][_0x46c832(0xf3)]({'_id':_0xcd9a30});}async[a147_0x349c94(0x100)](_0x3c099c){const _0x47bbdf=a147_0x349c94;return this[_0x47bbdf(0xf2)][_0x47bbdf(0xef)]({'_id':_0x3c099c});}async[a147_0x349c94(0xf8)](_0x3f07a4,_0x16c78b){const _0x1c8bcf=a147_0x349c94;return this[_0x1c8bcf(0xf2)][_0x1c8bcf(0xfa)]({'_id':_0x3f07a4},_0x16c78b,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x349c94(0x102)])(),__param(0x0,(0x0,mongoose_1[a147_0x349c94(0xea)])(a147_0x349c94(0x103))),__metadata('design:paramtypes',[mongoose_2[a147_0x349c94(0xe9)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;