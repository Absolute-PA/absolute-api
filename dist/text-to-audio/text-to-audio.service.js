'use strict';function a144_0x53fc(){const _0x3d0196=['find','348776XzuTaU','9HENyRV','updateTextMessage','logger','Logger','Message','log','gtts','7064600APHupw','findOne','update','name','crypto','InjectModel','function','length','131tbChyG','@nestjs/common','6374YPzBJN','create','23750760xfaxgW','Injectable','digest','createHash','__metadata','__param','decorate','1730SAdCsp','__esModule','4920670Dzdkqb','getOwnPropertyDescriptor','@nestjs/mongoose','6bvQWaz','Model','metadata','42pNBDvP','object','39435OfssvD','findByIdAndUpdate','saveMessage','base64','getMessages','12268781pJJAjs','sort','messageModel','TextToAudioService','deleteTextMessage'];a144_0x53fc=function(){return _0x3d0196;};return a144_0x53fc();}function a144_0x45dc(_0x383c30,_0x260bc5){const _0x53fc96=a144_0x53fc();return a144_0x45dc=function(_0x45dc1f,_0xe55a3d){_0x45dc1f=_0x45dc1f-0x1c9;let _0x1a6923=_0x53fc96[_0x45dc1f];return _0x1a6923;},a144_0x45dc(_0x383c30,_0x260bc5);}const a144_0x5dc224=a144_0x45dc;(function(_0x33bae4,_0x57d003){const _0x4cbf93=a144_0x45dc,_0x37ccde=_0x33bae4();while(!![]){try{const _0xb59b06=-parseInt(_0x4cbf93(0x1d0))/0x1*(-parseInt(_0x4cbf93(0x1d2))/0x2)+-parseInt(_0x4cbf93(0x1e3))/0x3*(-parseInt(_0x4cbf93(0x1f0))/0x4)+parseInt(_0x4cbf93(0x1dd))/0x5+parseInt(_0x4cbf93(0x1e0))/0x6*(parseInt(_0x4cbf93(0x1ea))/0x7)+parseInt(_0x4cbf93(0x1f8))/0x8*(-parseInt(_0x4cbf93(0x1f1))/0x9)+parseInt(_0x4cbf93(0x1db))/0xa*(-parseInt(_0x4cbf93(0x1e5))/0xb)+-parseInt(_0x4cbf93(0x1d4))/0xc;if(_0xb59b06===_0x57d003)break;else _0x37ccde['push'](_0x37ccde['shift']());}catch(_0x269137){_0x37ccde['push'](_0x37ccde['shift']());}}}(a144_0x53fc,0xd9e68));var __decorate=this&&this['__decorate']||function(_0x6d8de1,_0x3d63dc,_0x1424e3,_0xa8018f){const _0xb2f31a=a144_0x45dc;var _0x5289f5=arguments[_0xb2f31a(0x1cf)],_0x495068=_0x5289f5<0x3?_0x3d63dc:_0xa8018f===null?_0xa8018f=Object[_0xb2f31a(0x1de)](_0x3d63dc,_0x1424e3):_0xa8018f,_0x47f7a4;if(typeof Reflect===_0xb2f31a(0x1e4)&&typeof Reflect['decorate']===_0xb2f31a(0x1ce))_0x495068=Reflect[_0xb2f31a(0x1da)](_0x6d8de1,_0x3d63dc,_0x1424e3,_0xa8018f);else{for(var _0x2e56fe=_0x6d8de1['length']-0x1;_0x2e56fe>=0x0;_0x2e56fe--)if(_0x47f7a4=_0x6d8de1[_0x2e56fe])_0x495068=(_0x5289f5<0x3?_0x47f7a4(_0x495068):_0x5289f5>0x3?_0x47f7a4(_0x3d63dc,_0x1424e3,_0x495068):_0x47f7a4(_0x3d63dc,_0x1424e3))||_0x495068;}return _0x5289f5>0x3&&_0x495068&&Object['defineProperty'](_0x3d63dc,_0x1424e3,_0x495068),_0x495068;},__metadata=this&&this[a144_0x5dc224(0x1d8)]||function(_0x4f249d,_0x16c0b4){const _0x5695bc=a144_0x5dc224;if(typeof Reflect===_0x5695bc(0x1e4)&&typeof Reflect[_0x5695bc(0x1e2)]===_0x5695bc(0x1ce))return Reflect['metadata'](_0x4f249d,_0x16c0b4);},__param=this&&this[a144_0x5dc224(0x1d9)]||function(_0x4a52bf,_0x2d89ce){return function(_0x202caf,_0xfadd20){_0x2d89ce(_0x202caf,_0xfadd20,_0x4a52bf);};},TextToAudioService_1;Object['defineProperty'](exports,a144_0x5dc224(0x1dc),{'value':!![]}),exports[a144_0x5dc224(0x1ed)]=void 0x0;const common_1=require(a144_0x5dc224(0x1d1)),mongoose_1=require(a144_0x5dc224(0x1df)),gTTS=require(a144_0x5dc224(0x1f7)),mongoose_2=require('mongoose'),crypto=require(a144_0x5dc224(0x1cc));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x2f0a46){const _0xb0bcc8=a144_0x5dc224;this[_0xb0bcc8(0x1ec)]=_0x2f0a46,this[_0xb0bcc8(0x1f3)]=new common_1[(_0xb0bcc8(0x1f4))](TextToAudioService_1[_0xb0bcc8(0x1cb)]);}async['textToAudio'](_0x57d2e0,_0x4158a4){const _0x3b1a38=new gTTS(_0x57d2e0,'en')['stream']();_0x4158a4(_0x3b1a38);}async[a144_0x5dc224(0x1e7)](_0x370762){const _0x50f1c3=a144_0x5dc224,_0x3729fb=crypto[_0x50f1c3(0x1d7)]('sha256')[_0x50f1c3(0x1ca)](_0x370762)[_0x50f1c3(0x1d6)](_0x50f1c3(0x1e8)),_0x49c128=await this[_0x50f1c3(0x1ec)][_0x50f1c3(0x1c9)]({'hash':_0x3729fb});if(_0x49c128)return this[_0x50f1c3(0x1f3)][_0x50f1c3(0x1f6)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x49c128;return this[_0x50f1c3(0x1ec)][_0x50f1c3(0x1d3)]({'message':_0x370762,'hash':_0x3729fb});}async[a144_0x5dc224(0x1e9)](){const _0x49e12a=a144_0x5dc224;return this[_0x49e12a(0x1ec)][_0x49e12a(0x1ef)]({})[_0x49e12a(0x1eb)]({'createdAt':-0x1});}async['getMessageById'](_0x3a4ddd){return this['messageModel']['findOne']({'_id':_0x3a4ddd});}async[a144_0x5dc224(0x1ee)](_0x614584){const _0x126d96=a144_0x5dc224;return this[_0x126d96(0x1ec)]['findByIdAndDelete']({'_id':_0x614584});}async[a144_0x5dc224(0x1f2)](_0x44f5f4,_0x1771e0){const _0xa895fa=a144_0x5dc224;return this[_0xa895fa(0x1ec)][_0xa895fa(0x1e6)]({'_id':_0x44f5f4},_0x1771e0,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x5dc224(0x1d5)])(),__param(0x0,(0x0,mongoose_1[a144_0x5dc224(0x1cd)])(a144_0x5dc224(0x1f5))),__metadata('design:paramtypes',[mongoose_2[a144_0x5dc224(0x1e1)]])],TextToAudioService),exports[a144_0x5dc224(0x1ed)]=TextToAudioService;