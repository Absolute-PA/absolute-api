'use strict';function a147_0x58f6(){const _0x13eefe=['messageModel','InjectModel','Message','1528386qZLSox','112432ldxIYU','logger','4092432mbFbLg','280saPCwQ','Model','deleteTextMessage','Logger','length','@nestjs/common','__esModule','digest','23kSruSh','gtts','metadata','find','saveMessage','Injectable','2884355NNhZyE','function','12218550VjBjiV','object','create','findByIdAndDelete','4QBwiBd','base64','getOwnPropertyDescriptor','log','getMessages','decorate','@nestjs/mongoose','update','design:paramtypes','__param','TextToAudioService','__metadata','mongoose','findOne','name','findByIdAndUpdate','2615598zVWwvj','stream','defineProperty','61432kyhZOv','crypto','11AGRUyc'];a147_0x58f6=function(){return _0x13eefe;};return a147_0x58f6();}const a147_0x3024ba=a147_0x1334;function a147_0x1334(_0x5563b5,_0x4a9a6f){const _0x58f6fe=a147_0x58f6();return a147_0x1334=function(_0x13347a,_0x35c59c){_0x13347a=_0x13347a-0xe5;let _0x52b218=_0x58f6fe[_0x13347a];return _0x52b218;},a147_0x1334(_0x5563b5,_0x4a9a6f);}(function(_0x530c67,_0x2ccba2){const _0x2ae1f2=a147_0x1334,_0x3759fc=_0x530c67();while(!![]){try{const _0x5cf427=-parseInt(_0x2ae1f2(0x115))/0x1*(parseInt(_0x2ae1f2(0x103))/0x2)+-parseInt(_0x2ae1f2(0x109))/0x3*(parseInt(_0x2ae1f2(0xf0))/0x4)+parseInt(_0x2ae1f2(0xea))/0x5+-parseInt(_0x2ae1f2(0x10c))/0x6+-parseInt(_0x2ae1f2(0x10d))/0x7*(-parseInt(_0x2ae1f2(0x10a))/0x8)+parseInt(_0x2ae1f2(0x100))/0x9+-parseInt(_0x2ae1f2(0xec))/0xa*(-parseInt(_0x2ae1f2(0x105))/0xb);if(_0x5cf427===_0x2ccba2)break;else _0x3759fc['push'](_0x3759fc['shift']());}catch(_0x5a8394){_0x3759fc['push'](_0x3759fc['shift']());}}}(a147_0x58f6,0xb7f62));var __decorate=this&&this['__decorate']||function(_0x59e9f8,_0x50d665,_0x414f33,_0xdd5b77){const _0x5ec441=a147_0x1334;var _0x2670ee=arguments[_0x5ec441(0x111)],_0x34ea3c=_0x2670ee<0x3?_0x50d665:_0xdd5b77===null?_0xdd5b77=Object[_0x5ec441(0xf2)](_0x50d665,_0x414f33):_0xdd5b77,_0x4753e0;if(typeof Reflect===_0x5ec441(0xed)&&typeof Reflect[_0x5ec441(0xf5)]==='function')_0x34ea3c=Reflect[_0x5ec441(0xf5)](_0x59e9f8,_0x50d665,_0x414f33,_0xdd5b77);else{for(var _0x4bba21=_0x59e9f8['length']-0x1;_0x4bba21>=0x0;_0x4bba21--)if(_0x4753e0=_0x59e9f8[_0x4bba21])_0x34ea3c=(_0x2670ee<0x3?_0x4753e0(_0x34ea3c):_0x2670ee>0x3?_0x4753e0(_0x50d665,_0x414f33,_0x34ea3c):_0x4753e0(_0x50d665,_0x414f33))||_0x34ea3c;}return _0x2670ee>0x3&&_0x34ea3c&&Object[_0x5ec441(0x102)](_0x50d665,_0x414f33,_0x34ea3c),_0x34ea3c;},__metadata=this&&this[a147_0x3024ba(0xfb)]||function(_0x3282af,_0x2aafe2){const _0x4afa30=a147_0x3024ba;if(typeof Reflect==='object'&&typeof Reflect[_0x4afa30(0xe6)]===_0x4afa30(0xeb))return Reflect['metadata'](_0x3282af,_0x2aafe2);},__param=this&&this[a147_0x3024ba(0xf9)]||function(_0x1e3972,_0x28bbf4){return function(_0x5ca487,_0x386802){_0x28bbf4(_0x5ca487,_0x386802,_0x1e3972);};},TextToAudioService_1;Object[a147_0x3024ba(0x102)](exports,a147_0x3024ba(0x113),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a147_0x3024ba(0x112)),mongoose_1=require(a147_0x3024ba(0xf6)),gTTS=require(a147_0x3024ba(0xe5)),mongoose_2=require(a147_0x3024ba(0xfc)),crypto=require(a147_0x3024ba(0x104));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x2b0c02){const _0x1861be=a147_0x3024ba;this[_0x1861be(0x106)]=_0x2b0c02,this[_0x1861be(0x10b)]=new common_1[(_0x1861be(0x110))](TextToAudioService_1[_0x1861be(0xfe)]);}async['textToAudio'](_0x287cbf,_0x4858da){const _0x36346b=a147_0x3024ba,_0x4b59c9=new gTTS(_0x287cbf,'en')[_0x36346b(0x101)]();_0x4858da(_0x4b59c9);}async[a147_0x3024ba(0xe8)](_0x2fc899){const _0x3a3466=a147_0x3024ba,_0x152886=crypto['createHash']('sha256')[_0x3a3466(0xf7)](_0x2fc899)[_0x3a3466(0x114)](_0x3a3466(0xf1)),_0x603a9b=await this[_0x3a3466(0x106)][_0x3a3466(0xfd)]({'hash':_0x152886});if(_0x603a9b)return this['logger'][_0x3a3466(0xf3)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x603a9b;return this[_0x3a3466(0x106)][_0x3a3466(0xee)]({'message':_0x2fc899,'hash':_0x152886});}async[a147_0x3024ba(0xf4)](){const _0x1c3e0e=a147_0x3024ba;return this['messageModel'][_0x1c3e0e(0xe7)]({})['sort']({'createdAt':-0x1});}async['getMessageById'](_0x44669d){const _0x118c9d=a147_0x3024ba;return this[_0x118c9d(0x106)][_0x118c9d(0xfd)]({'_id':_0x44669d});}async[a147_0x3024ba(0x10f)](_0xba39df){const _0x51ec19=a147_0x3024ba;return this[_0x51ec19(0x106)][_0x51ec19(0xef)]({'_id':_0xba39df});}async['updateTextMessage'](_0x5f107a,_0x172ff1){const _0xeef2f=a147_0x3024ba;return this[_0xeef2f(0x106)][_0xeef2f(0xff)]({'_id':_0x5f107a},_0x172ff1,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x3024ba(0xe9)])(),__param(0x0,(0x0,mongoose_1[a147_0x3024ba(0x107)])(a147_0x3024ba(0x108))),__metadata(a147_0x3024ba(0xf8),[mongoose_2[a147_0x3024ba(0x10e)]])],TextToAudioService),exports[a147_0x3024ba(0xfa)]=TextToAudioService;