'use strict';function a147_0x2749(){const _0x44ae76=['sort','4376460MXlMsi','__param','@nestjs/common','1527908DaBDry','gtts','mongoose','getMessages','decorate','crypto','name','__metadata','stream','getMessageById','function','Message','__decorate','435834WhZpLA','TextToAudioService','Injectable','findOne','findByIdAndDelete','saveMessage','messageModel','17471168ZJYvMy','createHash','textToAudio','4060155ttljpu','Logger','sha256','Model','1169070FyCbHK','InjectModel','digest','Found\x20the\x20same\x20message\x20in\x20the\x20DB','6QhygOa','@nestjs/mongoose','updateTextMessage','logger','update','defineProperty','create','1284808mbotPp','length','findByIdAndUpdate','object','find','design:paramtypes'];a147_0x2749=function(){return _0x44ae76;};return a147_0x2749();}function a147_0x1dcd(_0x2f6f54,_0x5d4bf8){const _0x274920=a147_0x2749();return a147_0x1dcd=function(_0x1dcd8c,_0x50157e){_0x1dcd8c=_0x1dcd8c-0x1cf;let _0x2cd370=_0x274920[_0x1dcd8c];return _0x2cd370;},a147_0x1dcd(_0x2f6f54,_0x5d4bf8);}const a147_0x3c063d=a147_0x1dcd;(function(_0x4e898f,_0x33e8e0){const _0x2d6d3c=a147_0x1dcd,_0x3dec59=_0x4e898f();while(!![]){try{const _0x42a8af=-parseInt(_0x2d6d3c(0x1da))/0x1+-parseInt(_0x2d6d3c(0x1f3))/0x2+-parseInt(_0x2d6d3c(0x1ec))/0x3*(parseInt(_0x2d6d3c(0x1fd))/0x4)+-parseInt(_0x2d6d3c(0x1e4))/0x5+parseInt(_0x2d6d3c(0x1fa))/0x6+parseInt(_0x2d6d3c(0x1e8))/0x7+parseInt(_0x2d6d3c(0x1e1))/0x8;if(_0x42a8af===_0x33e8e0)break;else _0x3dec59['push'](_0x3dec59['shift']());}catch(_0x4b3bc1){_0x3dec59['push'](_0x3dec59['shift']());}}}(a147_0x2749,0x6806d));var __decorate=this&&this[a147_0x3c063d(0x1d9)]||function(_0x31d9fc,_0x54988a,_0x393785,_0x20e0f0){const _0x3bae2e=a147_0x3c063d;var _0x5c2cdf=arguments[_0x3bae2e(0x1f4)],_0xf2b8ea=_0x5c2cdf<0x3?_0x54988a:_0x20e0f0===null?_0x20e0f0=Object['getOwnPropertyDescriptor'](_0x54988a,_0x393785):_0x20e0f0,_0x2860d5;if(typeof Reflect==='object'&&typeof Reflect[_0x3bae2e(0x1d1)]===_0x3bae2e(0x1d7))_0xf2b8ea=Reflect['decorate'](_0x31d9fc,_0x54988a,_0x393785,_0x20e0f0);else{for(var _0x2bcd1e=_0x31d9fc[_0x3bae2e(0x1f4)]-0x1;_0x2bcd1e>=0x0;_0x2bcd1e--)if(_0x2860d5=_0x31d9fc[_0x2bcd1e])_0xf2b8ea=(_0x5c2cdf<0x3?_0x2860d5(_0xf2b8ea):_0x5c2cdf>0x3?_0x2860d5(_0x54988a,_0x393785,_0xf2b8ea):_0x2860d5(_0x54988a,_0x393785))||_0xf2b8ea;}return _0x5c2cdf>0x3&&_0xf2b8ea&&Object[_0x3bae2e(0x1f1)](_0x54988a,_0x393785,_0xf2b8ea),_0xf2b8ea;},__metadata=this&&this[a147_0x3c063d(0x1d4)]||function(_0x39b406,_0x2cf3e7){const _0x5c4f04=a147_0x3c063d;if(typeof Reflect===_0x5c4f04(0x1f6)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x39b406,_0x2cf3e7);},__param=this&&this[a147_0x3c063d(0x1fb)]||function(_0x42bf11,_0x4185ec){return function(_0x9f17f2,_0x520f85){_0x4185ec(_0x9f17f2,_0x520f85,_0x42bf11);};},TextToAudioService_1;Object[a147_0x3c063d(0x1f1)](exports,'__esModule',{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a147_0x3c063d(0x1fc)),mongoose_1=require(a147_0x3c063d(0x1ed)),gTTS=require(a147_0x3c063d(0x1fe)),mongoose_2=require(a147_0x3c063d(0x1cf)),crypto=require(a147_0x3c063d(0x1d2));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x191518){const _0x3393a7=a147_0x3c063d;this['messageModel']=_0x191518,this[_0x3393a7(0x1ef)]=new common_1[(_0x3393a7(0x1e5))](TextToAudioService_1[_0x3393a7(0x1d3)]);}async[a147_0x3c063d(0x1e3)](_0x2f4015,_0x4ba09e){const _0x1f14fb=a147_0x3c063d,_0xfec727=new gTTS(_0x2f4015,'en')[_0x1f14fb(0x1d5)]();_0x4ba09e(_0xfec727);}async[a147_0x3c063d(0x1df)](_0x4188ef){const _0x482fcd=a147_0x3c063d,_0x577edf=crypto[_0x482fcd(0x1e2)](_0x482fcd(0x1e6))[_0x482fcd(0x1f0)](_0x4188ef)[_0x482fcd(0x1ea)]('base64'),_0x1eb48d=await this[_0x482fcd(0x1e0)][_0x482fcd(0x1dd)]({'hash':_0x577edf});if(_0x1eb48d)return this[_0x482fcd(0x1ef)]['log'](_0x482fcd(0x1eb)),_0x1eb48d;return this[_0x482fcd(0x1e0)][_0x482fcd(0x1f2)]({'message':_0x4188ef,'hash':_0x577edf});}async[a147_0x3c063d(0x1d0)](){const _0x34009b=a147_0x3c063d;return this['messageModel'][_0x34009b(0x1f7)]({})[_0x34009b(0x1f9)]({'createdAt':-0x1});}async[a147_0x3c063d(0x1d6)](_0x4963a9){const _0x1ea053=a147_0x3c063d;return this[_0x1ea053(0x1e0)][_0x1ea053(0x1dd)]({'_id':_0x4963a9});}async['deleteTextMessage'](_0x1e747e){const _0xc6d60f=a147_0x3c063d;return this[_0xc6d60f(0x1e0)][_0xc6d60f(0x1de)]({'_id':_0x1e747e});}async[a147_0x3c063d(0x1ee)](_0x43e808,_0x5c7d56){const _0x85a132=a147_0x3c063d;return this['messageModel'][_0x85a132(0x1f5)]({'_id':_0x43e808},_0x5c7d56,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x3c063d(0x1dc)])(),__param(0x0,(0x0,mongoose_1[a147_0x3c063d(0x1e9)])(a147_0x3c063d(0x1d8))),__metadata(a147_0x3c063d(0x1f8),[mongoose_2[a147_0x3c063d(0x1e7)]])],TextToAudioService),exports[a147_0x3c063d(0x1db)]=TextToAudioService;