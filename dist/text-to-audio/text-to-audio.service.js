'use strict';function a144_0x5f1f(){const _0x5a6289=['digest','log','6364810EsYSrj','sha256','getOwnPropertyDescriptor','__esModule','findOne','messageModel','Injectable','defineProperty','saveMessage','textToAudio','Logger','926538lxakbB','updateTextMessage','__decorate','deleteTextMessage','__param','getMessages','getMessageById','findByIdAndDelete','11LXMxEy','32PmXHVL','2BTIEEv','length','gtts','crypto','metadata','340025AfHYFe','@nestjs/common','1184040PzzxZB','1047016zWnKUr','createHash','decorate','base64','Model','object','Message','design:paramtypes','865075TfGzgj','logger','855753jPKqQX','__metadata','InjectModel','21zCTuYu','Found\x20the\x20same\x20message\x20in\x20the\x20DB','findByIdAndUpdate'];a144_0x5f1f=function(){return _0x5a6289;};return a144_0x5f1f();}function a144_0x1642(_0x3c7f88,_0x3144c7){const _0x5f1f24=a144_0x5f1f();return a144_0x1642=function(_0x164206,_0x38b70c){_0x164206=_0x164206-0x16c;let _0x2825c8=_0x5f1f24[_0x164206];return _0x2825c8;},a144_0x1642(_0x3c7f88,_0x3144c7);}const a144_0xc40beb=a144_0x1642;(function(_0x3ef8fb,_0x197f44){const _0x42763a=a144_0x1642,_0x261327=_0x3ef8fb();while(!![]){try{const _0x413d54=parseInt(_0x42763a(0x193))/0x1+parseInt(_0x42763a(0x18e))/0x2*(parseInt(_0x42763a(0x171))/0x3)+parseInt(_0x42763a(0x196))/0x4+-parseInt(_0x42763a(0x16f))/0x5+parseInt(_0x42763a(0x184))/0x6*(-parseInt(_0x42763a(0x174))/0x7)+-parseInt(_0x42763a(0x18d))/0x8*(parseInt(_0x42763a(0x195))/0x9)+-parseInt(_0x42763a(0x179))/0xa*(-parseInt(_0x42763a(0x18c))/0xb);if(_0x413d54===_0x197f44)break;else _0x261327['push'](_0x261327['shift']());}catch(_0x185e0c){_0x261327['push'](_0x261327['shift']());}}}(a144_0x5f1f,0x5821b));var __decorate=this&&this[a144_0xc40beb(0x186)]||function(_0x5cb0d1,_0x55db48,_0xc99d93,_0x1a3ca1){const _0x2b8591=a144_0xc40beb;var _0x522a96=arguments[_0x2b8591(0x18f)],_0x48163e=_0x522a96<0x3?_0x55db48:_0x1a3ca1===null?_0x1a3ca1=Object[_0x2b8591(0x17b)](_0x55db48,_0xc99d93):_0x1a3ca1,_0x41f577;if(typeof Reflect===_0x2b8591(0x16c)&&typeof Reflect[_0x2b8591(0x198)]==='function')_0x48163e=Reflect['decorate'](_0x5cb0d1,_0x55db48,_0xc99d93,_0x1a3ca1);else{for(var _0x3b3fba=_0x5cb0d1['length']-0x1;_0x3b3fba>=0x0;_0x3b3fba--)if(_0x41f577=_0x5cb0d1[_0x3b3fba])_0x48163e=(_0x522a96<0x3?_0x41f577(_0x48163e):_0x522a96>0x3?_0x41f577(_0x55db48,_0xc99d93,_0x48163e):_0x41f577(_0x55db48,_0xc99d93))||_0x48163e;}return _0x522a96>0x3&&_0x48163e&&Object['defineProperty'](_0x55db48,_0xc99d93,_0x48163e),_0x48163e;},__metadata=this&&this[a144_0xc40beb(0x172)]||function(_0x52bd6e,_0x479840){const _0x6b7c8e=a144_0xc40beb;if(typeof Reflect===_0x6b7c8e(0x16c)&&typeof Reflect[_0x6b7c8e(0x192)]==='function')return Reflect['metadata'](_0x52bd6e,_0x479840);},__param=this&&this[a144_0xc40beb(0x188)]||function(_0x11318c,_0x11c405){return function(_0x55fe0c,_0x18dd1a){_0x11c405(_0x55fe0c,_0x18dd1a,_0x11318c);};},TextToAudioService_1;Object[a144_0xc40beb(0x180)](exports,a144_0xc40beb(0x17c),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a144_0xc40beb(0x194)),mongoose_1=require('@nestjs/mongoose'),gTTS=require(a144_0xc40beb(0x190)),mongoose_2=require('mongoose'),crypto=require(a144_0xc40beb(0x191));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x4ba585){const _0x9af252=a144_0xc40beb;this[_0x9af252(0x17e)]=_0x4ba585,this[_0x9af252(0x170)]=new common_1[(_0x9af252(0x183))](TextToAudioService_1['name']);}async[a144_0xc40beb(0x182)](_0x19d8a1,_0x3e463e){const _0x2a2683=new gTTS(_0x19d8a1,'en')['stream']();_0x3e463e(_0x2a2683);}async[a144_0xc40beb(0x181)](_0x3a913f){const _0x2c3bf8=a144_0xc40beb,_0xc57dc1=crypto[_0x2c3bf8(0x197)](_0x2c3bf8(0x17a))['update'](_0x3a913f)[_0x2c3bf8(0x177)](_0x2c3bf8(0x199)),_0x14ee09=await this[_0x2c3bf8(0x17e)]['findOne']({'hash':_0xc57dc1});if(_0x14ee09)return this[_0x2c3bf8(0x170)][_0x2c3bf8(0x178)](_0x2c3bf8(0x175)),_0x14ee09;return this[_0x2c3bf8(0x17e)]['create']({'message':_0x3a913f,'hash':_0xc57dc1});}async[a144_0xc40beb(0x189)](){const _0x4209ed=a144_0xc40beb;return this[_0x4209ed(0x17e)]['find']({})['sort']({'createdAt':-0x1});}async[a144_0xc40beb(0x18a)](_0x4c87b6){const _0x823b77=a144_0xc40beb;return this[_0x823b77(0x17e)][_0x823b77(0x17d)]({'_id':_0x4c87b6});}async[a144_0xc40beb(0x187)](_0x4515b9){const _0x1db15f=a144_0xc40beb;return this[_0x1db15f(0x17e)][_0x1db15f(0x18b)]({'_id':_0x4515b9});}async[a144_0xc40beb(0x185)](_0x4cb8ad,_0x2c36e7){const _0x26088d=a144_0xc40beb;return this[_0x26088d(0x17e)][_0x26088d(0x176)]({'_id':_0x4cb8ad},_0x2c36e7,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0xc40beb(0x17f)])(),__param(0x0,(0x0,mongoose_1[a144_0xc40beb(0x173)])(a144_0xc40beb(0x16d))),__metadata(a144_0xc40beb(0x16e),[mongoose_2[a144_0xc40beb(0x19a)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;