'use strict';function a144_0x27be(){const _0x598a9b=['Logger','create','__param','mongoose','object','40626410iwslcp','length','defineProperty','getMessageById','createHash','50868yOIirK','3587136MuwvfB','1712MwQHix','name','base64','saveMessage','@nestjs/common','Found\x20the\x20same\x20message\x20in\x20the\x20DB','stream','design:paramtypes','function','Message','Injectable','1876410CzJxMh','143mXEaft','__esModule','decorate','TextToAudioService','messageModel','sort','5304595pfoykD','getOwnPropertyDescriptor','findOne','log','metadata','getMessages','7594350WFDMOx','logger','__metadata','crypto','findByIdAndDelete','gtts','8HojPVe','16252aohQgn','update','digest','Model','6kZIDrT'];a144_0x27be=function(){return _0x598a9b;};return a144_0x27be();}const a144_0x32bc3f=a144_0x5d2b;function a144_0x5d2b(_0x463b13,_0x142c51){const _0x27be11=a144_0x27be();return a144_0x5d2b=function(_0x5d2bbb,_0x31e99a){_0x5d2bbb=_0x5d2bbb-0x166;let _0xa1d4=_0x27be11[_0x5d2bbb];return _0xa1d4;},a144_0x5d2b(_0x463b13,_0x142c51);}(function(_0x37d012,_0x28d015){const _0x11d517=a144_0x5d2b,_0x4c2afa=_0x37d012();while(!![]){try{const _0x32db6f=parseInt(_0x11d517(0x17e))/0x1*(parseInt(_0x11d517(0x191))/0x2)+-parseInt(_0x11d517(0x17d))/0x3*(-parseInt(_0x11d517(0x190))/0x4)+-parseInt(_0x11d517(0x184))/0x5*(-parseInt(_0x11d517(0x195))/0x6)+parseInt(_0x11d517(0x171))/0x7+parseInt(_0x11d517(0x172))/0x8*(parseInt(_0x11d517(0x170))/0x9)+-parseInt(_0x11d517(0x18a))/0xa+-parseInt(_0x11d517(0x16b))/0xb;if(_0x32db6f===_0x28d015)break;else _0x4c2afa['push'](_0x4c2afa['shift']());}catch(_0x1220e9){_0x4c2afa['push'](_0x4c2afa['shift']());}}}(a144_0x27be,0xb56c4));var __decorate=this&&this['__decorate']||function(_0x1a6b3c,_0x54a21f,_0x344df3,_0x56a5c0){const _0x5e50a1=a144_0x5d2b;var _0x55bc9f=arguments[_0x5e50a1(0x16c)],_0x1c65b9=_0x55bc9f<0x3?_0x54a21f:_0x56a5c0===null?_0x56a5c0=Object[_0x5e50a1(0x185)](_0x54a21f,_0x344df3):_0x56a5c0,_0x2fc0de;if(typeof Reflect===_0x5e50a1(0x16a)&&typeof Reflect[_0x5e50a1(0x180)]===_0x5e50a1(0x17a))_0x1c65b9=Reflect[_0x5e50a1(0x180)](_0x1a6b3c,_0x54a21f,_0x344df3,_0x56a5c0);else{for(var _0xeb1caa=_0x1a6b3c['length']-0x1;_0xeb1caa>=0x0;_0xeb1caa--)if(_0x2fc0de=_0x1a6b3c[_0xeb1caa])_0x1c65b9=(_0x55bc9f<0x3?_0x2fc0de(_0x1c65b9):_0x55bc9f>0x3?_0x2fc0de(_0x54a21f,_0x344df3,_0x1c65b9):_0x2fc0de(_0x54a21f,_0x344df3))||_0x1c65b9;}return _0x55bc9f>0x3&&_0x1c65b9&&Object[_0x5e50a1(0x16d)](_0x54a21f,_0x344df3,_0x1c65b9),_0x1c65b9;},__metadata=this&&this[a144_0x32bc3f(0x18c)]||function(_0x123b76,_0x6be94f){const _0x5391ef=a144_0x32bc3f;if(typeof Reflect===_0x5391ef(0x16a)&&typeof Reflect[_0x5391ef(0x188)]==='function')return Reflect[_0x5391ef(0x188)](_0x123b76,_0x6be94f);},__param=this&&this[a144_0x32bc3f(0x168)]||function(_0x10330b,_0x45a998){return function(_0xd3b59,_0x231455){_0x45a998(_0xd3b59,_0x231455,_0x10330b);};},TextToAudioService_1;Object['defineProperty'](exports,a144_0x32bc3f(0x17f),{'value':!![]}),exports[a144_0x32bc3f(0x181)]=void 0x0;const common_1=require(a144_0x32bc3f(0x176)),mongoose_1=require('@nestjs/mongoose'),gTTS=require(a144_0x32bc3f(0x18f)),mongoose_2=require(a144_0x32bc3f(0x169)),crypto=require(a144_0x32bc3f(0x18d));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x1a3c7c){const _0x285d66=a144_0x32bc3f;this[_0x285d66(0x182)]=_0x1a3c7c,this[_0x285d66(0x18b)]=new common_1[(_0x285d66(0x166))](TextToAudioService_1[_0x285d66(0x173)]);}async['textToAudio'](_0xb528a9,_0xaa744d){const _0x2b77ad=a144_0x32bc3f,_0x57afe6=new gTTS(_0xb528a9,'en')[_0x2b77ad(0x178)]();_0xaa744d(_0x57afe6);}async[a144_0x32bc3f(0x175)](_0x404611){const _0xebe4d8=a144_0x32bc3f,_0x491532=crypto[_0xebe4d8(0x16f)]('sha256')[_0xebe4d8(0x192)](_0x404611)[_0xebe4d8(0x193)](_0xebe4d8(0x174)),_0x802d60=await this['messageModel'][_0xebe4d8(0x186)]({'hash':_0x491532});if(_0x802d60)return this['logger'][_0xebe4d8(0x187)](_0xebe4d8(0x177)),_0x802d60;return this[_0xebe4d8(0x182)][_0xebe4d8(0x167)]({'message':_0x404611,'hash':_0x491532});}async[a144_0x32bc3f(0x189)](){const _0x1ad998=a144_0x32bc3f;return this[_0x1ad998(0x182)]['find']({})[_0x1ad998(0x183)]({'createdAt':-0x1});}async[a144_0x32bc3f(0x16e)](_0x3d6095){const _0x286334=a144_0x32bc3f;return this['messageModel'][_0x286334(0x186)]({'_id':_0x3d6095});}async['deleteTextMessage'](_0x2c5d5c){const _0x391ac5=a144_0x32bc3f;return this[_0x391ac5(0x182)][_0x391ac5(0x18e)]({'_id':_0x2c5d5c});}async['updateTextMessage'](_0xe2f15e,_0x24f700){const _0x44a6d3=a144_0x32bc3f;return this[_0x44a6d3(0x182)]['findByIdAndUpdate']({'_id':_0xe2f15e},_0x24f700,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x32bc3f(0x17c)])(),__param(0x0,(0x0,mongoose_1['InjectModel'])(a144_0x32bc3f(0x17b))),__metadata(a144_0x32bc3f(0x179),[mongoose_2[a144_0x32bc3f(0x194)]])],TextToAudioService),exports[a144_0x32bc3f(0x181)]=TextToAudioService;