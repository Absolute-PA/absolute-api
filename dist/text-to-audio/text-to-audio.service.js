'use strict';const a147_0x6e9554=a147_0x12a7;(function(_0x27404,_0x1a8e76){const _0x5587cc=a147_0x12a7,_0x351a67=_0x27404();while(!![]){try{const _0x26bf1c=parseInt(_0x5587cc(0x8d))/0x1*(parseInt(_0x5587cc(0x91))/0x2)+parseInt(_0x5587cc(0x9d))/0x3+-parseInt(_0x5587cc(0x9a))/0x4+-parseInt(_0x5587cc(0x8f))/0x5+parseInt(_0x5587cc(0x7c))/0x6+parseInt(_0x5587cc(0x7d))/0x7+parseInt(_0x5587cc(0xa6))/0x8;if(_0x26bf1c===_0x1a8e76)break;else _0x351a67['push'](_0x351a67['shift']());}catch(_0x5c1fe4){_0x351a67['push'](_0x351a67['shift']());}}}(a147_0x3b81,0xbe8e6));var __decorate=this&&this[a147_0x6e9554(0x8a)]||function(_0x5320c1,_0x2808a0,_0x5e32d1,_0x7c25ab){const _0x2e7ce5=a147_0x6e9554;var _0x3af5d1=arguments[_0x2e7ce5(0x92)],_0x408526=_0x3af5d1<0x3?_0x2808a0:_0x7c25ab===null?_0x7c25ab=Object[_0x2e7ce5(0x8b)](_0x2808a0,_0x5e32d1):_0x7c25ab,_0x573ab0;if(typeof Reflect===_0x2e7ce5(0x87)&&typeof Reflect[_0x2e7ce5(0xa3)]===_0x2e7ce5(0x84))_0x408526=Reflect['decorate'](_0x5320c1,_0x2808a0,_0x5e32d1,_0x7c25ab);else{for(var _0x1d9bc9=_0x5320c1[_0x2e7ce5(0x92)]-0x1;_0x1d9bc9>=0x0;_0x1d9bc9--)if(_0x573ab0=_0x5320c1[_0x1d9bc9])_0x408526=(_0x3af5d1<0x3?_0x573ab0(_0x408526):_0x3af5d1>0x3?_0x573ab0(_0x2808a0,_0x5e32d1,_0x408526):_0x573ab0(_0x2808a0,_0x5e32d1))||_0x408526;}return _0x3af5d1>0x3&&_0x408526&&Object['defineProperty'](_0x2808a0,_0x5e32d1,_0x408526),_0x408526;},__metadata=this&&this[a147_0x6e9554(0x95)]||function(_0x48f42b,_0xcd979d){const _0x1c6cb4=a147_0x6e9554;if(typeof Reflect==='object'&&typeof Reflect[_0x1c6cb4(0x9b)]===_0x1c6cb4(0x84))return Reflect[_0x1c6cb4(0x9b)](_0x48f42b,_0xcd979d);},__param=this&&this[a147_0x6e9554(0x83)]||function(_0x8e6f5,_0x1569c6){return function(_0x1f1c40,_0x32d870){_0x1569c6(_0x1f1c40,_0x32d870,_0x8e6f5);};},TextToAudioService_1;function a147_0x12a7(_0x297554,_0x3da5ee){const _0x3b81db=a147_0x3b81();return a147_0x12a7=function(_0x12a716,_0x59ea6a){_0x12a716=_0x12a716-0x7c;let _0x68d55b=_0x3b81db[_0x12a716];return _0x68d55b;},a147_0x12a7(_0x297554,_0x3da5ee);}Object[a147_0x6e9554(0x98)](exports,'__esModule',{'value':!![]}),exports[a147_0x6e9554(0xa1)]=void 0x0;const common_1=require(a147_0x6e9554(0x85)),mongoose_1=require(a147_0x6e9554(0xa0)),gTTS=require('gtts'),mongoose_2=require('mongoose'),crypto=require(a147_0x6e9554(0x9e));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x43bf1b){const _0x471afe=a147_0x6e9554;this[_0x471afe(0xa2)]=_0x43bf1b,this[_0x471afe(0x93)]=new common_1[(_0x471afe(0x9f))](TextToAudioService_1[_0x471afe(0x97)]);}async['textToAudio'](_0x7be60c,_0x1eaae7){const _0x532c19=a147_0x6e9554,_0xfc997b=new gTTS(_0x7be60c,'en')[_0x532c19(0x89)]();_0x1eaae7(_0xfc997b);}async[a147_0x6e9554(0x7e)](_0x46ceb8){const _0x397b80=a147_0x6e9554,_0x53114c=crypto[_0x397b80(0x88)](_0x397b80(0x96))[_0x397b80(0x90)](_0x46ceb8)['digest'](_0x397b80(0x81)),_0xf7bb74=await this['messageModel']['findOne']({'hash':_0x53114c});if(_0xf7bb74)return this[_0x397b80(0x93)][_0x397b80(0x9c)](_0x397b80(0x86)),_0xf7bb74;return this[_0x397b80(0xa2)]['create']({'message':_0x46ceb8,'hash':_0x53114c});}async[a147_0x6e9554(0x8c)](){const _0xebf231=a147_0x6e9554;return this[_0xebf231(0xa2)][_0xebf231(0xa4)]({})[_0xebf231(0xa5)]({'createdAt':-0x1});}async['getMessageById'](_0x4e724b){const _0x253b60=a147_0x6e9554;return this['messageModel'][_0x253b60(0x8e)]({'_id':_0x4e724b});}async[a147_0x6e9554(0x99)](_0x22db8d){const _0x47620e=a147_0x6e9554;return this[_0x47620e(0xa2)][_0x47620e(0x80)]({'_id':_0x22db8d});}async['updateTextMessage'](_0x498803,_0x47032c){const _0x261fd0=a147_0x6e9554;return this[_0x261fd0(0xa2)][_0x261fd0(0x7f)]({'_id':_0x498803},_0x47032c,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1['InjectModel'])(a147_0x6e9554(0x94))),__metadata('design:paramtypes',[mongoose_2[a147_0x6e9554(0x82)]])],TextToAudioService),exports[a147_0x6e9554(0xa1)]=TextToAudioService;function a147_0x3b81(){const _0x3966f8=['getOwnPropertyDescriptor','getMessages','2YPSAbw','findOne','1077040ixxpoX','update','129834ZIwraH','length','logger','Message','__metadata','sha256','name','defineProperty','deleteTextMessage','6218436edRPMj','metadata','log','3992928PnxbHY','crypto','Logger','@nestjs/mongoose','TextToAudioService','messageModel','decorate','find','sort','5826384nAAGNI','1821816wSLpjK','404537CDWUNy','saveMessage','findByIdAndUpdate','findByIdAndDelete','base64','Model','__param','function','@nestjs/common','Found\x20the\x20same\x20message\x20in\x20the\x20DB','object','createHash','stream','__decorate'];a147_0x3b81=function(){return _0x3966f8;};return a147_0x3b81();}