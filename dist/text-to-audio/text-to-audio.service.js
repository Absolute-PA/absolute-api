'use strict';const a147_0x220ff1=a147_0x5fa7;function a147_0x5fa7(_0x4295ba,_0x423062){const _0x3139fd=a147_0x3139();return a147_0x5fa7=function(_0x5fa794,_0x4dc7be){_0x5fa794=_0x5fa794-0x6c;let _0x1f42be=_0x3139fd[_0x5fa794];return _0x1f42be;},a147_0x5fa7(_0x4295ba,_0x423062);}function a147_0x3139(){const _0x2a0c59=['getMessageById','539527OHbVsa','156GKjTzE','crypto','__decorate','__param','metadata','20jXDsTo','4729746QXRaTa','name','TextToAudioService','object','digest','__esModule','InjectModel','findOne','sort','@nestjs/mongoose','Found\x20the\x20same\x20message\x20in\x20the\x20DB','updateTextMessage','create','__metadata','Injectable','deleteTextMessage','2052486ajfuXL','decorate','log','3667100MHYwKZ','saveMessage','gtts','@nestjs/common','update','messageModel','Message','length','defineProperty','6vDAPzS','logger','getOwnPropertyDescriptor','design:paramtypes','6243384ndJwuT','Model','mongoose','sha256','72756PkmYMt','getMessages','3456162JVEgNG','textToAudio','function','stream'];a147_0x3139=function(){return _0x2a0c59;};return a147_0x3139();}(function(_0x582232,_0x31f437){const _0x96ee14=a147_0x5fa7,_0x4d56ca=_0x582232();while(!![]){try{const _0x4b750d=parseInt(_0x96ee14(0x97))/0x1+-parseInt(_0x96ee14(0x7c))/0x2+-parseInt(_0x96ee14(0x98))/0x3*(-parseInt(_0x96ee14(0x90))/0x4)+-parseInt(_0x96ee14(0x7f))/0x5+-parseInt(_0x96ee14(0x88))/0x6*(parseInt(_0x96ee14(0x6c))/0x7)+parseInt(_0x96ee14(0x8c))/0x8+parseInt(_0x96ee14(0x92))/0x9*(parseInt(_0x96ee14(0x9d))/0xa);if(_0x4b750d===_0x31f437)break;else _0x4d56ca['push'](_0x4d56ca['shift']());}catch(_0x27c16c){_0x4d56ca['push'](_0x4d56ca['shift']());}}}(a147_0x3139,0x921c9));var __decorate=this&&this[a147_0x220ff1(0x9a)]||function(_0xc11f01,_0x152af6,_0x1b730a,_0x3f65f3){const _0x3cf955=a147_0x220ff1;var _0x8a54ef=arguments[_0x3cf955(0x86)],_0x296b84=_0x8a54ef<0x3?_0x152af6:_0x3f65f3===null?_0x3f65f3=Object[_0x3cf955(0x8a)](_0x152af6,_0x1b730a):_0x3f65f3,_0x58f989;if(typeof Reflect===_0x3cf955(0x6f)&&typeof Reflect[_0x3cf955(0x7d)]===_0x3cf955(0x94))_0x296b84=Reflect[_0x3cf955(0x7d)](_0xc11f01,_0x152af6,_0x1b730a,_0x3f65f3);else{for(var _0x2f6f91=_0xc11f01[_0x3cf955(0x86)]-0x1;_0x2f6f91>=0x0;_0x2f6f91--)if(_0x58f989=_0xc11f01[_0x2f6f91])_0x296b84=(_0x8a54ef<0x3?_0x58f989(_0x296b84):_0x8a54ef>0x3?_0x58f989(_0x152af6,_0x1b730a,_0x296b84):_0x58f989(_0x152af6,_0x1b730a))||_0x296b84;}return _0x8a54ef>0x3&&_0x296b84&&Object[_0x3cf955(0x87)](_0x152af6,_0x1b730a,_0x296b84),_0x296b84;},__metadata=this&&this[a147_0x220ff1(0x79)]||function(_0x25e24a,_0x42cffb){const _0x466eed=a147_0x220ff1;if(typeof Reflect==='object'&&typeof Reflect[_0x466eed(0x9c)]===_0x466eed(0x94))return Reflect[_0x466eed(0x9c)](_0x25e24a,_0x42cffb);},__param=this&&this[a147_0x220ff1(0x9b)]||function(_0x2e5df6,_0x1789b3){return function(_0x586bf4,_0x2dc27c){_0x1789b3(_0x586bf4,_0x2dc27c,_0x2e5df6);};},TextToAudioService_1;Object[a147_0x220ff1(0x87)](exports,a147_0x220ff1(0x71),{'value':!![]}),exports[a147_0x220ff1(0x6e)]=void 0x0;const common_1=require(a147_0x220ff1(0x82)),mongoose_1=require(a147_0x220ff1(0x75)),gTTS=require(a147_0x220ff1(0x81)),mongoose_2=require(a147_0x220ff1(0x8e)),crypto=require(a147_0x220ff1(0x99));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x3dacc2){const _0x50cef2=a147_0x220ff1;this[_0x50cef2(0x84)]=_0x3dacc2,this['logger']=new common_1['Logger'](TextToAudioService_1[_0x50cef2(0x6d)]);}async[a147_0x220ff1(0x93)](_0x25acb9,_0x11253c){const _0x169ac2=a147_0x220ff1,_0x4b9464=new gTTS(_0x25acb9,'en')[_0x169ac2(0x95)]();_0x11253c(_0x4b9464);}async[a147_0x220ff1(0x80)](_0x5de70f){const _0x45c8e8=a147_0x220ff1,_0x10debb=crypto['createHash'](_0x45c8e8(0x8f))[_0x45c8e8(0x83)](_0x5de70f)[_0x45c8e8(0x70)]('base64'),_0x4871f5=await this[_0x45c8e8(0x84)][_0x45c8e8(0x73)]({'hash':_0x10debb});if(_0x4871f5)return this[_0x45c8e8(0x89)][_0x45c8e8(0x7e)](_0x45c8e8(0x76)),_0x4871f5;return this[_0x45c8e8(0x84)][_0x45c8e8(0x78)]({'message':_0x5de70f,'hash':_0x10debb});}async[a147_0x220ff1(0x91)](){const _0xc644f6=a147_0x220ff1;return this[_0xc644f6(0x84)]['find']({})[_0xc644f6(0x74)]({'createdAt':-0x1});}async[a147_0x220ff1(0x96)](_0x1e7111){const _0x18c3f2=a147_0x220ff1;return this[_0x18c3f2(0x84)][_0x18c3f2(0x73)]({'_id':_0x1e7111});}async[a147_0x220ff1(0x7b)](_0x4c7b5b){const _0x11a161=a147_0x220ff1;return this[_0x11a161(0x84)]['findByIdAndDelete']({'_id':_0x4c7b5b});}async[a147_0x220ff1(0x77)](_0x4a0872,_0xbe743){return this['messageModel']['findByIdAndUpdate']({'_id':_0x4a0872},_0xbe743,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x220ff1(0x7a)])(),__param(0x0,(0x0,mongoose_1[a147_0x220ff1(0x72)])(a147_0x220ff1(0x85))),__metadata(a147_0x220ff1(0x8b),[mongoose_2[a147_0x220ff1(0x8d)]])],TextToAudioService),exports[a147_0x220ff1(0x6e)]=TextToAudioService;