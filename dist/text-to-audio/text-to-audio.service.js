'use strict';function a144_0x3eae(){const _0x46c876=['3432QSjPPD','deleteTextMessage','mongoose','design:paramtypes','stream','4450542BQkubd','object','@nestjs/mongoose','findOne','decorate','logger','findByIdAndUpdate','name','InjectModel','__decorate','gtts','find','getMessageById','messageModel','Injectable','1320765QoIXeH','@nestjs/common','4uDNbQQ','268759oXkzmg','Found\x20the\x20same\x20message\x20in\x20the\x20DB','findByIdAndDelete','digest','defineProperty','354492PSmQvu','TextToAudioService','function','__param','Model','getMessages','10380488ryBvtH','8518580cHlBIQ','__esModule','createHash','textToAudio','length','84YZwleZ','2sYJiDR','37081DIdpSa','9JYkrxM','crypto','Logger'];a144_0x3eae=function(){return _0x46c876;};return a144_0x3eae();}const a144_0x37b332=a144_0x3efe;(function(_0x1d3189,_0x2dd796){const _0x3f3965=a144_0x3efe,_0x55eed3=_0x1d3189();while(!![]){try{const _0x181933=-parseInt(_0x3f3965(0x188))/0x1*(parseInt(_0x3f3965(0x16c))/0x2)+-parseInt(_0x3f3965(0x176))/0x3*(-parseInt(_0x3f3965(0x187))/0x4)+-parseInt(_0x3f3965(0x185))/0x5+parseInt(_0x3f3965(0x15f))/0x6*(-parseInt(_0x3f3965(0x16b))/0x7)+-parseInt(_0x3f3965(0x165))/0x8*(parseInt(_0x3f3965(0x16e))/0x9)+parseInt(_0x3f3965(0x166))/0xa+parseInt(_0x3f3965(0x16d))/0xb*(parseInt(_0x3f3965(0x171))/0xc);if(_0x181933===_0x2dd796)break;else _0x55eed3['push'](_0x55eed3['shift']());}catch(_0x39a1e7){_0x55eed3['push'](_0x55eed3['shift']());}}}(a144_0x3eae,0xb98d5));var __decorate=this&&this[a144_0x37b332(0x17f)]||function(_0x463153,_0x83001b,_0x1ac572,_0x34cf1f){const _0x2c3957=a144_0x37b332;var _0x29e2e1=arguments[_0x2c3957(0x16a)],_0x4bde58=_0x29e2e1<0x3?_0x83001b:_0x34cf1f===null?_0x34cf1f=Object['getOwnPropertyDescriptor'](_0x83001b,_0x1ac572):_0x34cf1f,_0x48de35;if(typeof Reflect===_0x2c3957(0x177)&&typeof Reflect[_0x2c3957(0x17a)]===_0x2c3957(0x161))_0x4bde58=Reflect[_0x2c3957(0x17a)](_0x463153,_0x83001b,_0x1ac572,_0x34cf1f);else{for(var _0x2f374f=_0x463153[_0x2c3957(0x16a)]-0x1;_0x2f374f>=0x0;_0x2f374f--)if(_0x48de35=_0x463153[_0x2f374f])_0x4bde58=(_0x29e2e1<0x3?_0x48de35(_0x4bde58):_0x29e2e1>0x3?_0x48de35(_0x83001b,_0x1ac572,_0x4bde58):_0x48de35(_0x83001b,_0x1ac572))||_0x4bde58;}return _0x29e2e1>0x3&&_0x4bde58&&Object[_0x2c3957(0x15e)](_0x83001b,_0x1ac572,_0x4bde58),_0x4bde58;},__metadata=this&&this['__metadata']||function(_0x2cee8d,_0x46c39e){const _0x29965b=a144_0x37b332;if(typeof Reflect===_0x29965b(0x177)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x2cee8d,_0x46c39e);},__param=this&&this[a144_0x37b332(0x162)]||function(_0xbe78c,_0x3dfc9d){return function(_0x939ca7,_0x171c9d){_0x3dfc9d(_0x939ca7,_0x171c9d,_0xbe78c);};},TextToAudioService_1;Object[a144_0x37b332(0x15e)](exports,a144_0x37b332(0x167),{'value':!![]}),exports[a144_0x37b332(0x160)]=void 0x0;function a144_0x3efe(_0x1f6561,_0x513e52){const _0x3eae5a=a144_0x3eae();return a144_0x3efe=function(_0x3efe40,_0x21e8b1){_0x3efe40=_0x3efe40-0x15e;let _0x44082a=_0x3eae5a[_0x3efe40];return _0x44082a;},a144_0x3efe(_0x1f6561,_0x513e52);}const common_1=require(a144_0x37b332(0x186)),mongoose_1=require(a144_0x37b332(0x178)),gTTS=require(a144_0x37b332(0x180)),mongoose_2=require(a144_0x37b332(0x173)),crypto=require(a144_0x37b332(0x16f));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0xef6c10){const _0x3c1b68=a144_0x37b332;this[_0x3c1b68(0x183)]=_0xef6c10,this[_0x3c1b68(0x17b)]=new common_1[(_0x3c1b68(0x170))](TextToAudioService_1[_0x3c1b68(0x17d)]);}async[a144_0x37b332(0x169)](_0x2b98e1,_0x1234ae){const _0x5c903c=a144_0x37b332,_0x69095a=new gTTS(_0x2b98e1,'en')[_0x5c903c(0x175)]();_0x1234ae(_0x69095a);}async['saveMessage'](_0x2e13c3){const _0x5ec8c7=a144_0x37b332,_0x440ea3=crypto[_0x5ec8c7(0x168)]('sha256')['update'](_0x2e13c3)[_0x5ec8c7(0x18b)]('base64'),_0x21c258=await this['messageModel'][_0x5ec8c7(0x179)]({'hash':_0x440ea3});if(_0x21c258)return this[_0x5ec8c7(0x17b)]['log'](_0x5ec8c7(0x189)),_0x21c258;return this[_0x5ec8c7(0x183)]['create']({'message':_0x2e13c3,'hash':_0x440ea3});}async[a144_0x37b332(0x164)](){const _0x596416=a144_0x37b332;return this['messageModel'][_0x596416(0x181)]({})['sort']({'createdAt':-0x1});}async[a144_0x37b332(0x182)](_0x2f154a){const _0x87a83a=a144_0x37b332;return this[_0x87a83a(0x183)][_0x87a83a(0x179)]({'_id':_0x2f154a});}async[a144_0x37b332(0x172)](_0x13628a){const _0x3e6ec0=a144_0x37b332;return this['messageModel'][_0x3e6ec0(0x18a)]({'_id':_0x13628a});}async['updateTextMessage'](_0x3ef39d,_0x4a209d){const _0x55cf23=a144_0x37b332;return this[_0x55cf23(0x183)][_0x55cf23(0x17c)]({'_id':_0x3ef39d},_0x4a209d,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x37b332(0x184)])(),__param(0x0,(0x0,mongoose_1[a144_0x37b332(0x17e)])('Message')),__metadata(a144_0x37b332(0x174),[mongoose_2[a144_0x37b332(0x163)]])],TextToAudioService),exports[a144_0x37b332(0x160)]=TextToAudioService;