'use strict';const a144_0x3019f9=a144_0x2aca;function a144_0x5b2d(){const _0x29ff88=['136RGbZzY','update','textToAudio','__esModule','__param','function','log','sha256','object','1309749HpFeAM','find','create','updateTextMessage','sort','236505hzshYJ','2693621YCrrqL','Found\x20the\x20same\x20message\x20in\x20the\x20DB','Injectable','design:paramtypes','decorate','name','defineProperty','@nestjs/common','logger','376255xEvvqE','__metadata','13680GNwWYe','findOne','Message','Model','Logger','deleteTextMessage','__decorate','stream','length','InjectModel','1824056ONzFVf','findByIdAndUpdate','findByIdAndDelete','messageModel','saveMessage','metadata','1066743LCTBFP','6jOUYCP'];a144_0x5b2d=function(){return _0x29ff88;};return a144_0x5b2d();}function a144_0x2aca(_0x386263,_0x434003){const _0x5b2dc6=a144_0x5b2d();return a144_0x2aca=function(_0x2aca87,_0x127237){_0x2aca87=_0x2aca87-0x129;let _0x1edae8=_0x5b2dc6[_0x2aca87];return _0x1edae8;},a144_0x2aca(_0x386263,_0x434003);}(function(_0x2bfbeb,_0x2d93cf){const _0xfa2f7b=a144_0x2aca,_0x177be2=_0x2bfbeb();while(!![]){try{const _0x1eed3f=-parseInt(_0xfa2f7b(0x14c))/0x1+-parseInt(_0xfa2f7b(0x14e))/0x2+-parseInt(_0xfa2f7b(0x13d))/0x3+-parseInt(_0xfa2f7b(0x12c))/0x4+-parseInt(_0xfa2f7b(0x142))/0x5+parseInt(_0xfa2f7b(0x133))/0x6*(-parseInt(_0xfa2f7b(0x143))/0x7)+-parseInt(_0xfa2f7b(0x134))/0x8*(-parseInt(_0xfa2f7b(0x132))/0x9);if(_0x1eed3f===_0x2d93cf)break;else _0x177be2['push'](_0x177be2['shift']());}catch(_0x1a5c95){_0x177be2['push'](_0x177be2['shift']());}}}(a144_0x5b2d,0x4afdb));var __decorate=this&&this[a144_0x3019f9(0x154)]||function(_0x20ab85,_0x1c778b,_0x432118,_0x1fcc1f){const _0xc6c24e=a144_0x3019f9;var _0x2e8e36=arguments[_0xc6c24e(0x12a)],_0xa84f1a=_0x2e8e36<0x3?_0x1c778b:_0x1fcc1f===null?_0x1fcc1f=Object['getOwnPropertyDescriptor'](_0x1c778b,_0x432118):_0x1fcc1f,_0x2d81a0;if(typeof Reflect===_0xc6c24e(0x13c)&&typeof Reflect[_0xc6c24e(0x147)]==='function')_0xa84f1a=Reflect['decorate'](_0x20ab85,_0x1c778b,_0x432118,_0x1fcc1f);else{for(var _0x312420=_0x20ab85[_0xc6c24e(0x12a)]-0x1;_0x312420>=0x0;_0x312420--)if(_0x2d81a0=_0x20ab85[_0x312420])_0xa84f1a=(_0x2e8e36<0x3?_0x2d81a0(_0xa84f1a):_0x2e8e36>0x3?_0x2d81a0(_0x1c778b,_0x432118,_0xa84f1a):_0x2d81a0(_0x1c778b,_0x432118))||_0xa84f1a;}return _0x2e8e36>0x3&&_0xa84f1a&&Object[_0xc6c24e(0x149)](_0x1c778b,_0x432118,_0xa84f1a),_0xa84f1a;},__metadata=this&&this[a144_0x3019f9(0x14d)]||function(_0x2646ca,_0x45a1a8){const _0x348e2d=a144_0x3019f9;if(typeof Reflect==='object'&&typeof Reflect[_0x348e2d(0x131)]===_0x348e2d(0x139))return Reflect['metadata'](_0x2646ca,_0x45a1a8);},__param=this&&this[a144_0x3019f9(0x138)]||function(_0x5d5d0b,_0x414a1a){return function(_0x330e64,_0x3516e1){_0x414a1a(_0x330e64,_0x3516e1,_0x5d5d0b);};},TextToAudioService_1;Object[a144_0x3019f9(0x149)](exports,a144_0x3019f9(0x137),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a144_0x3019f9(0x14a)),mongoose_1=require('@nestjs/mongoose'),gTTS=require('gtts'),mongoose_2=require('mongoose'),crypto=require('crypto');let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x1cc112){const _0x57f7c7=a144_0x3019f9;this[_0x57f7c7(0x12f)]=_0x1cc112,this[_0x57f7c7(0x14b)]=new common_1[(_0x57f7c7(0x152))](TextToAudioService_1[_0x57f7c7(0x148)]);}async[a144_0x3019f9(0x136)](_0x239dfd,_0x4763dc){const _0x4b64bc=a144_0x3019f9,_0x26a275=new gTTS(_0x239dfd,'en')[_0x4b64bc(0x129)]();_0x4763dc(_0x26a275);}async[a144_0x3019f9(0x130)](_0x226695){const _0x56cd29=a144_0x3019f9,_0x1cefef=crypto['createHash'](_0x56cd29(0x13b))[_0x56cd29(0x135)](_0x226695)['digest']('base64'),_0x46d495=await this[_0x56cd29(0x12f)][_0x56cd29(0x14f)]({'hash':_0x1cefef});if(_0x46d495)return this[_0x56cd29(0x14b)][_0x56cd29(0x13a)](_0x56cd29(0x144)),_0x46d495;return this[_0x56cd29(0x12f)][_0x56cd29(0x13f)]({'message':_0x226695,'hash':_0x1cefef});}async['getMessages'](){const _0x110b5d=a144_0x3019f9;return this[_0x110b5d(0x12f)][_0x110b5d(0x13e)]({})[_0x110b5d(0x141)]({'createdAt':-0x1});}async['getMessageById'](_0x30e1a9){const _0x3f5894=a144_0x3019f9;return this[_0x3f5894(0x12f)][_0x3f5894(0x14f)]({'_id':_0x30e1a9});}async[a144_0x3019f9(0x153)](_0xd3fe53){const _0x33541e=a144_0x3019f9;return this['messageModel'][_0x33541e(0x12e)]({'_id':_0xd3fe53});}async[a144_0x3019f9(0x140)](_0x52ac97,_0x316a5d){const _0x31b94e=a144_0x3019f9;return this[_0x31b94e(0x12f)][_0x31b94e(0x12d)]({'_id':_0x52ac97},_0x316a5d,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x3019f9(0x145)])(),__param(0x0,(0x0,mongoose_1[a144_0x3019f9(0x12b)])(a144_0x3019f9(0x150))),__metadata(a144_0x3019f9(0x146),[mongoose_2[a144_0x3019f9(0x151)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;