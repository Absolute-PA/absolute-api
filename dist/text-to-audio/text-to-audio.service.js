'use strict';const a144_0x3b0758=a144_0x2279;(function(_0x46db02,_0x11146d){const _0x3fb7ee=a144_0x2279,_0x364fd1=_0x46db02();while(!![]){try{const _0x16fc3f=-parseInt(_0x3fb7ee(0x140))/0x1*(parseInt(_0x3fb7ee(0x145))/0x2)+-parseInt(_0x3fb7ee(0x14e))/0x3+parseInt(_0x3fb7ee(0x143))/0x4+-parseInt(_0x3fb7ee(0x14a))/0x5*(-parseInt(_0x3fb7ee(0x13c))/0x6)+-parseInt(_0x3fb7ee(0x15a))/0x7+parseInt(_0x3fb7ee(0x13f))/0x8*(-parseInt(_0x3fb7ee(0x163))/0x9)+parseInt(_0x3fb7ee(0x146))/0xa;if(_0x16fc3f===_0x11146d)break;else _0x364fd1['push'](_0x364fd1['shift']());}catch(_0x14ef4d){_0x364fd1['push'](_0x364fd1['shift']());}}}(a144_0x8ff7,0x8afac));var __decorate=this&&this[a144_0x3b0758(0x142)]||function(_0x310e72,_0x596891,_0x2a2b14,_0x3957b3){const _0xf18496=a144_0x3b0758;var _0x261361=arguments[_0xf18496(0x157)],_0x28dddf=_0x261361<0x3?_0x596891:_0x3957b3===null?_0x3957b3=Object[_0xf18496(0x15f)](_0x596891,_0x2a2b14):_0x3957b3,_0x1842e5;if(typeof Reflect==='object'&&typeof Reflect[_0xf18496(0x138)]===_0xf18496(0x158))_0x28dddf=Reflect[_0xf18496(0x138)](_0x310e72,_0x596891,_0x2a2b14,_0x3957b3);else{for(var _0x4c6f0c=_0x310e72[_0xf18496(0x157)]-0x1;_0x4c6f0c>=0x0;_0x4c6f0c--)if(_0x1842e5=_0x310e72[_0x4c6f0c])_0x28dddf=(_0x261361<0x3?_0x1842e5(_0x28dddf):_0x261361>0x3?_0x1842e5(_0x596891,_0x2a2b14,_0x28dddf):_0x1842e5(_0x596891,_0x2a2b14))||_0x28dddf;}return _0x261361>0x3&&_0x28dddf&&Object[_0xf18496(0x15c)](_0x596891,_0x2a2b14,_0x28dddf),_0x28dddf;},__metadata=this&&this[a144_0x3b0758(0x148)]||function(_0x13b53e,_0x480f78){const _0x283571=a144_0x3b0758;if(typeof Reflect===_0x283571(0x144)&&typeof Reflect[_0x283571(0x139)]==='function')return Reflect['metadata'](_0x13b53e,_0x480f78);},__param=this&&this[a144_0x3b0758(0x154)]||function(_0x2b1ba3,_0x1b9167){return function(_0x1eaa7c,_0x240f18){_0x1b9167(_0x1eaa7c,_0x240f18,_0x2b1ba3);};},TextToAudioService_1;Object['defineProperty'](exports,a144_0x3b0758(0x160),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a144_0x3b0758(0x156)),mongoose_1=require(a144_0x3b0758(0x13a)),gTTS=require(a144_0x3b0758(0x151)),mongoose_2=require(a144_0x3b0758(0x152)),crypto=require(a144_0x3b0758(0x14b));function a144_0x8ff7(){const _0xbe5f11=['design:paramtypes','TextToAudioService','387CiRHTc','InjectModel','Injectable','createHash','Logger','decorate','metadata','@nestjs/mongoose','findByIdAndDelete','1051368aUzxVA','Message','logger','107080xSDabM','10sQKciS','sort','__decorate','2084892ESJurM','object','79256SHobXi','17085360PnimRS','messageModel','__metadata','getMessageById','10tOZAAa','crypto','findByIdAndUpdate','Model','2689734XUaJHY','find','updateTextMessage','gtts','mongoose','stream','__param','log','@nestjs/common','length','function','name','997794NnRETA','getMessages','defineProperty','findOne','deleteTextMessage','getOwnPropertyDescriptor','__esModule'];a144_0x8ff7=function(){return _0xbe5f11;};return a144_0x8ff7();}let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x593477){const _0x5c5b57=a144_0x3b0758;this['messageModel']=_0x593477,this[_0x5c5b57(0x13e)]=new common_1[(_0x5c5b57(0x137))](TextToAudioService_1[_0x5c5b57(0x159)]);}async['textToAudio'](_0x171efe,_0x3a18d5){const _0x2065c4=a144_0x3b0758,_0x29ebc9=new gTTS(_0x171efe,'en')[_0x2065c4(0x153)]();_0x3a18d5(_0x29ebc9);}async['saveMessage'](_0x4eb7ec){const _0x1f603c=a144_0x3b0758,_0x461b66=crypto[_0x1f603c(0x136)]('sha256')['update'](_0x4eb7ec)['digest']('base64'),_0x250b90=await this['messageModel']['findOne']({'hash':_0x461b66});if(_0x250b90)return this[_0x1f603c(0x13e)][_0x1f603c(0x155)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x250b90;return this['messageModel']['create']({'message':_0x4eb7ec,'hash':_0x461b66});}async[a144_0x3b0758(0x15b)](){const _0x4a4adb=a144_0x3b0758;return this[_0x4a4adb(0x147)][_0x4a4adb(0x14f)]({})[_0x4a4adb(0x141)]({'createdAt':-0x1});}async[a144_0x3b0758(0x149)](_0x333073){const _0x328292=a144_0x3b0758;return this[_0x328292(0x147)][_0x328292(0x15d)]({'_id':_0x333073});}async[a144_0x3b0758(0x15e)](_0x372877){const _0x5cfc6b=a144_0x3b0758;return this[_0x5cfc6b(0x147)][_0x5cfc6b(0x13b)]({'_id':_0x372877});}async[a144_0x3b0758(0x150)](_0x576843,_0x51a47a){const _0x20ecc7=a144_0x3b0758;return this[_0x20ecc7(0x147)][_0x20ecc7(0x14c)]({'_id':_0x576843},_0x51a47a,{'new':!![]});}};function a144_0x2279(_0x4790bf,_0x386d52){const _0x8ff7a8=a144_0x8ff7();return a144_0x2279=function(_0x22793d,_0x21f5a6){_0x22793d=_0x22793d-0x134;let _0xcccd7a=_0x8ff7a8[_0x22793d];return _0xcccd7a;},a144_0x2279(_0x4790bf,_0x386d52);}TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x3b0758(0x135)])(),__param(0x0,(0x0,mongoose_1[a144_0x3b0758(0x134)])(a144_0x3b0758(0x13d))),__metadata(a144_0x3b0758(0x161),[mongoose_2[a144_0x3b0758(0x14d)]])],TextToAudioService),exports[a144_0x3b0758(0x162)]=TextToAudioService;