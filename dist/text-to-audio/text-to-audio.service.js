'use strict';const a144_0x264423=a144_0x4c26;function a144_0x3b2a(){const _0x218bb2=['metadata','crypto','487772ZeMQFn','messageModel','object','findByIdAndDelete','Model','TextToAudioService','find','create','digest','getMessageById','7DdqRvv','update','__param','getOwnPropertyDescriptor','defineProperty','log','Message','length','__esModule','logger','sort','206400WsSIjM','createHash','__decorate','4ZouvLr','390upyQAi','sha256','gtts','mongoose','2547045rkhfUM','updateTextMessage','11305InXXbI','__metadata','name','base64','4174670oPJqTC','saveMessage','@nestjs/common','design:paramtypes','1647680nnbpjC','findOne','204100zDDwwA','InjectModel'];a144_0x3b2a=function(){return _0x218bb2;};return a144_0x3b2a();}(function(_0xd73ffc,_0x2c846f){const _0x168d18=a144_0x4c26,_0x4c6873=_0xd73ffc();while(!![]){try{const _0x42c53a=parseInt(_0x168d18(0x1ce))/0x1+-parseInt(_0x168d18(0x1bd))/0x2*(parseInt(_0x168d18(0x1ba))/0x3)+-parseInt(_0x168d18(0x1d2))/0x4+-parseInt(_0x168d18(0x1c4))/0x5*(parseInt(_0x168d18(0x1be))/0x6)+-parseInt(_0x168d18(0x1dc))/0x7*(parseInt(_0x168d18(0x1cc))/0x8)+parseInt(_0x168d18(0x1c2))/0x9+parseInt(_0x168d18(0x1c8))/0xa;if(_0x42c53a===_0x2c846f)break;else _0x4c6873['push'](_0x4c6873['shift']());}catch(_0x3fdb40){_0x4c6873['push'](_0x4c6873['shift']());}}}(a144_0x3b2a,0x47508));var __decorate=this&&this[a144_0x264423(0x1bc)]||function(_0x598504,_0x5ec088,_0x39c0cb,_0x4ccadb){const _0x3c6d39=a144_0x264423;var _0x18f6a8=arguments[_0x3c6d39(0x1e3)],_0x172780=_0x18f6a8<0x3?_0x5ec088:_0x4ccadb===null?_0x4ccadb=Object[_0x3c6d39(0x1df)](_0x5ec088,_0x39c0cb):_0x4ccadb,_0x3a689b;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x172780=Reflect['decorate'](_0x598504,_0x5ec088,_0x39c0cb,_0x4ccadb);else{for(var _0x445c5a=_0x598504[_0x3c6d39(0x1e3)]-0x1;_0x445c5a>=0x0;_0x445c5a--)if(_0x3a689b=_0x598504[_0x445c5a])_0x172780=(_0x18f6a8<0x3?_0x3a689b(_0x172780):_0x18f6a8>0x3?_0x3a689b(_0x5ec088,_0x39c0cb,_0x172780):_0x3a689b(_0x5ec088,_0x39c0cb))||_0x172780;}return _0x18f6a8>0x3&&_0x172780&&Object[_0x3c6d39(0x1e0)](_0x5ec088,_0x39c0cb,_0x172780),_0x172780;},__metadata=this&&this[a144_0x264423(0x1c5)]||function(_0x416851,_0x3a8790){const _0x1795cf=a144_0x264423;if(typeof Reflect===_0x1795cf(0x1d4)&&typeof Reflect['metadata']==='function')return Reflect[_0x1795cf(0x1d0)](_0x416851,_0x3a8790);},__param=this&&this[a144_0x264423(0x1de)]||function(_0x2d2ea5,_0x464edb){return function(_0x34c24c,_0x228621){_0x464edb(_0x34c24c,_0x228621,_0x2d2ea5);};},TextToAudioService_1;Object[a144_0x264423(0x1e0)](exports,a144_0x264423(0x1b7),{'value':!![]}),exports[a144_0x264423(0x1d7)]=void 0x0;function a144_0x4c26(_0x412d24,_0x357e59){const _0x3b2a30=a144_0x3b2a();return a144_0x4c26=function(_0x4c26b0,_0x4c08d8){_0x4c26b0=_0x4c26b0-0x1b7;let _0x282995=_0x3b2a30[_0x4c26b0];return _0x282995;},a144_0x4c26(_0x412d24,_0x357e59);}const common_1=require(a144_0x264423(0x1ca)),mongoose_1=require('@nestjs/mongoose'),gTTS=require(a144_0x264423(0x1c0)),mongoose_2=require(a144_0x264423(0x1c1)),crypto=require(a144_0x264423(0x1d1));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0xe29e55){const _0x15f352=a144_0x264423;this[_0x15f352(0x1d3)]=_0xe29e55,this['logger']=new common_1['Logger'](TextToAudioService_1[_0x15f352(0x1c6)]);}async['textToAudio'](_0x2cc73f,_0x57c160){const _0x5dd336=new gTTS(_0x2cc73f,'en')['stream']();_0x57c160(_0x5dd336);}async[a144_0x264423(0x1c9)](_0xd82eb4){const _0x437c85=a144_0x264423,_0x5618a8=crypto[_0x437c85(0x1bb)](_0x437c85(0x1bf))[_0x437c85(0x1dd)](_0xd82eb4)[_0x437c85(0x1da)](_0x437c85(0x1c7)),_0x2a1dac=await this['messageModel'][_0x437c85(0x1cd)]({'hash':_0x5618a8});if(_0x2a1dac)return this[_0x437c85(0x1b8)][_0x437c85(0x1e1)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x2a1dac;return this[_0x437c85(0x1d3)][_0x437c85(0x1d9)]({'message':_0xd82eb4,'hash':_0x5618a8});}async['getMessages'](){const _0x58412d=a144_0x264423;return this[_0x58412d(0x1d3)][_0x58412d(0x1d8)]({})[_0x58412d(0x1b9)]({'createdAt':-0x1});}async[a144_0x264423(0x1db)](_0x2f45cc){const _0x4876f5=a144_0x264423;return this['messageModel'][_0x4876f5(0x1cd)]({'_id':_0x2f45cc});}async['deleteTextMessage'](_0x4cf714){const _0x41d11e=a144_0x264423;return this['messageModel'][_0x41d11e(0x1d5)]({'_id':_0x4cf714});}async[a144_0x264423(0x1c3)](_0x19dab1,_0x1ab16e){const _0x5f031b=a144_0x264423;return this[_0x5f031b(0x1d3)]['findByIdAndUpdate']({'_id':_0x19dab1},_0x1ab16e,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1[a144_0x264423(0x1cf)])(a144_0x264423(0x1e2))),__metadata(a144_0x264423(0x1cb),[mongoose_2[a144_0x264423(0x1d6)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;