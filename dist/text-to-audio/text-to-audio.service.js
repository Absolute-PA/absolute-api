'use strict';function a144_0x4f4b(){const _0x30aa21=['Logger','logger','gtts','deleteTextMessage','defineProperty','getOwnPropertyDescriptor','sort','base64','decorate','find','getMessages','53048fEhvze','249NWOPZL','10500576mwtdca','findByIdAndDelete','createHash','Message','design:paramtypes','6589xdhmEW','6LKqYMz','log','messageModel','length','6979MEhQxH','517485xgdTtW','mongoose','create','1416710VOjyNR','textToAudio','updateTextMessage','3095352FVdhBX','16550drMNgh','__metadata','findOne','Injectable','1VipREC','3192LSSsyZ','@nestjs/mongoose','__esModule','metadata','function','name','digest','findByIdAndUpdate','update','sha256','object','TextToAudioService','@nestjs/common','Model'];a144_0x4f4b=function(){return _0x30aa21;};return a144_0x4f4b();}function a144_0x4456(_0x41731a,_0x20f3dd){const _0x4f4bd6=a144_0x4f4b();return a144_0x4456=function(_0x445630,_0x4d4f63){_0x445630=_0x445630-0x69;let _0x18c501=_0x4f4bd6[_0x445630];return _0x18c501;},a144_0x4456(_0x41731a,_0x20f3dd);}const a144_0x1585c4=a144_0x4456;(function(_0x2e5bd,_0x71667c){const _0x1aff69=a144_0x4456,_0x810978=_0x2e5bd();while(!![]){try{const _0x4343c2=parseInt(_0x1aff69(0x72))/0x1*(parseInt(_0x1aff69(0x6a))/0x2)+-parseInt(_0x1aff69(0x8d))/0x3*(parseInt(_0x1aff69(0x8c))/0x4)+parseInt(_0x1aff69(0x99))/0x5*(parseInt(_0x1aff69(0x94))/0x6)+parseInt(_0x1aff69(0x98))/0x7*(parseInt(_0x1aff69(0x73))/0x8)+parseInt(_0x1aff69(0x6d))/0x9+parseInt(_0x1aff69(0x6e))/0xa*(parseInt(_0x1aff69(0x93))/0xb)+-parseInt(_0x1aff69(0x8e))/0xc;if(_0x4343c2===_0x71667c)break;else _0x810978['push'](_0x810978['shift']());}catch(_0x3a9813){_0x810978['push'](_0x810978['shift']());}}}(a144_0x4f4b,0x8af2e));var __decorate=this&&this['__decorate']||function(_0x4ba363,_0x4aefeb,_0x52d86f,_0x859ec1){const _0x1dd9c8=a144_0x4456;var _0x401e92=arguments[_0x1dd9c8(0x97)],_0x3df063=_0x401e92<0x3?_0x4aefeb:_0x859ec1===null?_0x859ec1=Object[_0x1dd9c8(0x86)](_0x4aefeb,_0x52d86f):_0x859ec1,_0x44bb35;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x1dd9c8(0x77))_0x3df063=Reflect[_0x1dd9c8(0x89)](_0x4ba363,_0x4aefeb,_0x52d86f,_0x859ec1);else{for(var _0x2538bd=_0x4ba363['length']-0x1;_0x2538bd>=0x0;_0x2538bd--)if(_0x44bb35=_0x4ba363[_0x2538bd])_0x3df063=(_0x401e92<0x3?_0x44bb35(_0x3df063):_0x401e92>0x3?_0x44bb35(_0x4aefeb,_0x52d86f,_0x3df063):_0x44bb35(_0x4aefeb,_0x52d86f))||_0x3df063;}return _0x401e92>0x3&&_0x3df063&&Object[_0x1dd9c8(0x85)](_0x4aefeb,_0x52d86f,_0x3df063),_0x3df063;},__metadata=this&&this[a144_0x1585c4(0x6f)]||function(_0x4ab419,_0x2d7fbd){const _0x316cd2=a144_0x1585c4;if(typeof Reflect===_0x316cd2(0x7d)&&typeof Reflect[_0x316cd2(0x76)]===_0x316cd2(0x77))return Reflect[_0x316cd2(0x76)](_0x4ab419,_0x2d7fbd);},__param=this&&this['__param']||function(_0x4713c2,_0x492806){return function(_0x39f01c,_0x59b0c9){_0x492806(_0x39f01c,_0x59b0c9,_0x4713c2);};},TextToAudioService_1;Object[a144_0x1585c4(0x85)](exports,a144_0x1585c4(0x75),{'value':!![]}),exports['TextToAudioService']=void 0x0;const common_1=require(a144_0x1585c4(0x7f)),mongoose_1=require(a144_0x1585c4(0x74)),gTTS=require(a144_0x1585c4(0x83)),mongoose_2=require(a144_0x1585c4(0x9a)),crypto=require('crypto');let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0xf1d161){const _0x144b2a=a144_0x1585c4;this[_0x144b2a(0x96)]=_0xf1d161,this[_0x144b2a(0x82)]=new common_1[(_0x144b2a(0x81))](TextToAudioService_1[_0x144b2a(0x78)]);}async[a144_0x1585c4(0x6b)](_0x412e11,_0x47421b){const _0x36030c=new gTTS(_0x412e11,'en')['stream']();_0x47421b(_0x36030c);}async['saveMessage'](_0x22550b){const _0x13e09f=a144_0x1585c4,_0x52551f=crypto[_0x13e09f(0x90)](_0x13e09f(0x7c))[_0x13e09f(0x7b)](_0x22550b)[_0x13e09f(0x79)](_0x13e09f(0x88)),_0x8d8bc3=await this[_0x13e09f(0x96)][_0x13e09f(0x70)]({'hash':_0x52551f});if(_0x8d8bc3)return this[_0x13e09f(0x82)][_0x13e09f(0x95)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x8d8bc3;return this[_0x13e09f(0x96)][_0x13e09f(0x69)]({'message':_0x22550b,'hash':_0x52551f});}async[a144_0x1585c4(0x8b)](){const _0x514642=a144_0x1585c4;return this[_0x514642(0x96)][_0x514642(0x8a)]({})[_0x514642(0x87)]({'createdAt':-0x1});}async['getMessageById'](_0x27ee3a){const _0x503390=a144_0x1585c4;return this[_0x503390(0x96)][_0x503390(0x70)]({'_id':_0x27ee3a});}async[a144_0x1585c4(0x84)](_0x153da7){const _0x410fc1=a144_0x1585c4;return this['messageModel'][_0x410fc1(0x8f)]({'_id':_0x153da7});}async[a144_0x1585c4(0x6c)](_0x43449d,_0x510517){const _0x157deb=a144_0x1585c4;return this[_0x157deb(0x96)][_0x157deb(0x7a)]({'_id':_0x43449d},_0x510517,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a144_0x1585c4(0x71)])(),__param(0x0,(0x0,mongoose_1['InjectModel'])(a144_0x1585c4(0x91))),__metadata(a144_0x1585c4(0x92),[mongoose_2[a144_0x1585c4(0x80)]])],TextToAudioService),exports[a144_0x1585c4(0x7e)]=TextToAudioService;