'use strict';function a147_0x31ea(){const _0x470e46=['name','21xjqava','100158zfqBCW','saveMessage','TextToAudioService','metadata','@nestjs/common','__decorate','findByIdAndUpdate','design:paramtypes','184188pkdmFe','sort','@nestjs/mongoose','messageModel','Model','base64','logger','length','findByIdAndDelete','1922568BySuyA','update','textToAudio','defineProperty','mongoose','crypto','stream','Message','function','__metadata','findOne','getMessages','Injectable','2580056TtotuS','sha256','updateTextMessage','Logger','object','gtts','log','decorate','1991112sPNeZb','InjectModel','7WpBhzx','create','deleteTextMessage','5299695LbHmvH','1667765CqXMaY','__esModule','__param','getMessageById'];a147_0x31ea=function(){return _0x470e46;};return a147_0x31ea();}const a147_0x330530=a147_0x3e4b;function a147_0x3e4b(_0x3d2ef0,_0x13c1bc){const _0x31ea09=a147_0x31ea();return a147_0x3e4b=function(_0x3e4b92,_0x1cec9c){_0x3e4b92=_0x3e4b92-0xcb;let _0x58090c=_0x31ea09[_0x3e4b92];return _0x58090c;},a147_0x3e4b(_0x3d2ef0,_0x13c1bc);}(function(_0xa14e8e,_0x376429){const _0x17b754=a147_0x3e4b,_0x10a6fd=_0xa14e8e();while(!![]){try{const _0x432afa=parseInt(_0x17b754(0xdd))/0x1*(-parseInt(_0x17b754(0xe7))/0x2)+-parseInt(_0x17b754(0xf8))/0x3+parseInt(_0x17b754(0xd3))/0x4+parseInt(_0x17b754(0xe1))/0x5+parseInt(_0x17b754(0xef))/0x6*(parseInt(_0x17b754(0xe6))/0x7)+-parseInt(_0x17b754(0xdb))/0x8+parseInt(_0x17b754(0xe0))/0x9;if(_0x432afa===_0x376429)break;else _0x10a6fd['push'](_0x10a6fd['shift']());}catch(_0x38aee6){_0x10a6fd['push'](_0x10a6fd['shift']());}}}(a147_0x31ea,0x66592));var __decorate=this&&this[a147_0x330530(0xec)]||function(_0x49221b,_0x626af,_0x99779a,_0x5ad03a){const _0x33277e=a147_0x330530;var _0x18aea1=arguments[_0x33277e(0xf6)],_0x14c7f4=_0x18aea1<0x3?_0x626af:_0x5ad03a===null?_0x5ad03a=Object['getOwnPropertyDescriptor'](_0x626af,_0x99779a):_0x5ad03a,_0x30abb6;if(typeof Reflect===_0x33277e(0xd7)&&typeof Reflect['decorate']===_0x33277e(0xce))_0x14c7f4=Reflect[_0x33277e(0xda)](_0x49221b,_0x626af,_0x99779a,_0x5ad03a);else{for(var _0x210ee6=_0x49221b[_0x33277e(0xf6)]-0x1;_0x210ee6>=0x0;_0x210ee6--)if(_0x30abb6=_0x49221b[_0x210ee6])_0x14c7f4=(_0x18aea1<0x3?_0x30abb6(_0x14c7f4):_0x18aea1>0x3?_0x30abb6(_0x626af,_0x99779a,_0x14c7f4):_0x30abb6(_0x626af,_0x99779a))||_0x14c7f4;}return _0x18aea1>0x3&&_0x14c7f4&&Object[_0x33277e(0xfb)](_0x626af,_0x99779a,_0x14c7f4),_0x14c7f4;},__metadata=this&&this[a147_0x330530(0xcf)]||function(_0x578e8e,_0x5d8718){const _0x291b87=a147_0x330530;if(typeof Reflect===_0x291b87(0xd7)&&typeof Reflect[_0x291b87(0xea)]===_0x291b87(0xce))return Reflect[_0x291b87(0xea)](_0x578e8e,_0x5d8718);},__param=this&&this[a147_0x330530(0xe3)]||function(_0x5c418c,_0x43cfa0){return function(_0x49700f,_0x416afd){_0x43cfa0(_0x49700f,_0x416afd,_0x5c418c);};},TextToAudioService_1;Object['defineProperty'](exports,a147_0x330530(0xe2),{'value':!![]}),exports[a147_0x330530(0xe9)]=void 0x0;const common_1=require(a147_0x330530(0xeb)),mongoose_1=require(a147_0x330530(0xf1)),gTTS=require(a147_0x330530(0xd8)),mongoose_2=require(a147_0x330530(0xfc)),crypto=require(a147_0x330530(0xcb));let TextToAudioService=TextToAudioService_1=class TextToAudioService{constructor(_0x4e779b){const _0x30ad79=a147_0x330530;this[_0x30ad79(0xf2)]=_0x4e779b,this[_0x30ad79(0xf5)]=new common_1[(_0x30ad79(0xd6))](TextToAudioService_1[_0x30ad79(0xe5)]);}async[a147_0x330530(0xfa)](_0x1f1804,_0x50a52c){const _0x270742=a147_0x330530,_0x5d2d7a=new gTTS(_0x1f1804,'en')[_0x270742(0xcc)]();_0x50a52c(_0x5d2d7a);}async[a147_0x330530(0xe8)](_0x349f7d){const _0x48e31f=a147_0x330530,_0x8a0e17=crypto['createHash'](_0x48e31f(0xd4))[_0x48e31f(0xf9)](_0x349f7d)['digest'](_0x48e31f(0xf4)),_0x39e69e=await this[_0x48e31f(0xf2)][_0x48e31f(0xd0)]({'hash':_0x8a0e17});if(_0x39e69e)return this[_0x48e31f(0xf5)][_0x48e31f(0xd9)]('Found\x20the\x20same\x20message\x20in\x20the\x20DB'),_0x39e69e;return this['messageModel'][_0x48e31f(0xde)]({'message':_0x349f7d,'hash':_0x8a0e17});}async[a147_0x330530(0xd1)](){const _0x5c04a0=a147_0x330530;return this[_0x5c04a0(0xf2)]['find']({})[_0x5c04a0(0xf0)]({'createdAt':-0x1});}async[a147_0x330530(0xe4)](_0x14ce7b){const _0x411cc8=a147_0x330530;return this[_0x411cc8(0xf2)][_0x411cc8(0xd0)]({'_id':_0x14ce7b});}async[a147_0x330530(0xdf)](_0x5c7583){const _0x4f53a4=a147_0x330530;return this[_0x4f53a4(0xf2)][_0x4f53a4(0xf7)]({'_id':_0x5c7583});}async[a147_0x330530(0xd5)](_0xf39342,_0x2d57ee){const _0x34ba22=a147_0x330530;return this['messageModel'][_0x34ba22(0xed)]({'_id':_0xf39342},_0x2d57ee,{'new':!![]});}};TextToAudioService=TextToAudioService_1=__decorate([(0x0,common_1[a147_0x330530(0xd2)])(),__param(0x0,(0x0,mongoose_1[a147_0x330530(0xdc)])(a147_0x330530(0xcd))),__metadata(a147_0x330530(0xee),[mongoose_2[a147_0x330530(0xf3)]])],TextToAudioService),exports['TextToAudioService']=TextToAudioService;