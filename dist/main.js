'use strict';const a81_0x44bf7f=a81_0x5c73;function a81_0x51e7(){const _0x3a3f9b=['getHttpServer','ExpressPeerServer','DailyRotateFile','peer','90d','HTTPS','/peer','setTitle','332129vyFBMS','6QgxuQx','./app.module','WinstonModule','env','format','145454NzGZrQ','The\x20Absolute\x20PA\x20API\x20description','createLogger','uncaughtException','api','timestamp','Absolute\x20PA\x20application','level','./certificates/localhost.key','join','@nestjs/swagger','log','setup','7357941vwHlPO','-%DATE%-combined.log','NestFactory','9738qfgPmZ','build','1.0','19995552jxutFn','combine','4683173fuwVgn','winston','production','transports','use','@nestjs/core','enableCors','13QUgpAM','setDescription','addTag','2729610VPeTEf','AWS_REGION','message','nest-winston','true','-%DATE%-error.log','errors','AppModule','readFileSync','winston-cloudwatch','AWS_ACCESS_KEY_ID','splat','NODE_ENV','json','LOG_GROUP_NAME','312DvYYud','10qesAgO','winston-daily-rotate-file','blob/logs/','pi-logs','SwaggerModule','8WEdrgG','PORT','App\x20listening\x20on\x20port:\x20','cwd','setVersion'];a81_0x51e7=function(){return _0x3a3f9b;};return a81_0x51e7();}(function(_0x556e5e,_0x4b78e4){const _0x595296=a81_0x5c73,_0x7d145e=_0x556e5e();while(!![]){try{const _0x40055c=parseInt(_0x595296(0x13c))/0x1*(parseInt(_0x595296(0x167))/0x2)+-parseInt(_0x595296(0x130))/0x3*(parseInt(_0x595296(0x14e))/0x4)+parseInt(_0x595296(0x13f))/0x5*(-parseInt(_0x595296(0x162))/0x6)+parseInt(_0x595296(0x161))/0x7*(-parseInt(_0x595296(0x154))/0x8)+-parseInt(_0x595296(0x12d))/0x9+-parseInt(_0x595296(0x14f))/0xa*(parseInt(_0x595296(0x135))/0xb)+parseInt(_0x595296(0x133))/0xc;if(_0x40055c===_0x4b78e4)break;else _0x7d145e['push'](_0x7d145e['shift']());}catch(_0x5acdce){_0x7d145e['push'](_0x7d145e['shift']());}}}(a81_0x51e7,0x7f6aa));Object['defineProperty'](exports,'__esModule',{'value':!![]});const core_1=require(a81_0x44bf7f(0x13a)),swagger_1=require(a81_0x44bf7f(0x171)),nest_winston_1=require(a81_0x44bf7f(0x142)),winston_1=require(a81_0x44bf7f(0x136)),peer_1=require(a81_0x44bf7f(0x15c)),fs=require('fs');require(a81_0x44bf7f(0x150));const path_1=require('path'),app_module_1=require(a81_0x44bf7f(0x163)),WinstonCloudWatch=require(a81_0x44bf7f(0x148)),PI_NAME=process['env']['PI_NAME']||'PI';async function bootstrap(){const _0x4464c7=a81_0x44bf7f,_0x43acb4={'key':fs[_0x4464c7(0x147)]((0x0,path_1[_0x4464c7(0x170)])(process['cwd'](),_0x4464c7(0x16f))),'cert':fs[_0x4464c7(0x147)]((0x0,path_1[_0x4464c7(0x170)])(process[_0x4464c7(0x157)](),'./certificates/localhost.crt'))},_0x1c9d6d=[new winston_1['transports'][(_0x4464c7(0x15b))]({'filename':_0x4464c7(0x151)+PI_NAME+_0x4464c7(0x144),'level':'error','format':winston_1['format']['combine'](winston_1['format'][_0x4464c7(0x16c)](),winston_1[_0x4464c7(0x166)][_0x4464c7(0x14c)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x4464c7(0x165)]['NODE_ENV']===_0x4464c7(0x137)?_0x4464c7(0x15d):'30d'}),new winston_1[(_0x4464c7(0x138))][(_0x4464c7(0x15b))]({'filename':_0x4464c7(0x151)+PI_NAME+_0x4464c7(0x12e),'format':winston_1[_0x4464c7(0x166)][_0x4464c7(0x134)](winston_1['format'][_0x4464c7(0x16c)](),winston_1[_0x4464c7(0x166)][_0x4464c7(0x14c)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x4464c7(0x165)][_0x4464c7(0x14b)]===_0x4464c7(0x137)?_0x4464c7(0x15d):'30d'}),new winston_1['transports']['Console']({'format':winston_1[_0x4464c7(0x166)][_0x4464c7(0x134)](winston_1[_0x4464c7(0x166)]['cli'](),winston_1[_0x4464c7(0x166)][_0x4464c7(0x14a)](),winston_1[_0x4464c7(0x166)]['timestamp'](),winston_1[_0x4464c7(0x166)][_0x4464c7(0x145)]({'stack':!![]}),winston_1['format']['printf'](_0x2c0f84=>{const _0x5a2548=_0x4464c7;return _0x2c0f84[_0x5a2548(0x16c)]+'\x20'+_0x2c0f84[_0x5a2548(0x16e)]+':\x20'+_0x2c0f84[_0x5a2548(0x141)];}))})];(process[_0x4464c7(0x165)][_0x4464c7(0x14b)]===_0x4464c7(0x137)||process['env'][_0x4464c7(0x14b)]==='qa')&&_0x1c9d6d['push'](new WinstonCloudWatch({'logGroupName':process['env'][_0x4464c7(0x14d)]||_0x4464c7(0x152),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x4464c7(0x165)][_0x4464c7(0x149)],'awsSecretKey':process[_0x4464c7(0x165)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process[_0x4464c7(0x165)][_0x4464c7(0x140)]}));const _0xdacdf1={'httpsOptions':process[_0x4464c7(0x165)][_0x4464c7(0x15e)]===_0x4464c7(0x143)?_0x43acb4:undefined,'logger':nest_winston_1[_0x4464c7(0x164)][_0x4464c7(0x169)]({'transports':_0x1c9d6d})},_0x2d7c51=await core_1[_0x4464c7(0x12f)]['create'](app_module_1[_0x4464c7(0x146)],_0xdacdf1);process['on'](_0x4464c7(0x16a),function(_0x2fe0dc){const _0x39d594=_0x4464c7;console[_0x39d594(0x12b)](_0x2fe0dc);}),_0x2d7c51[_0x4464c7(0x13b)]();const _0x2b5b1c=new swagger_1['DocumentBuilder']()[_0x4464c7(0x160)](_0x4464c7(0x16d))[_0x4464c7(0x13d)](_0x4464c7(0x168))[_0x4464c7(0x158)](_0x4464c7(0x132))[_0x4464c7(0x13e)]('PA')[_0x4464c7(0x131)](),_0x53a41a=swagger_1['SwaggerModule']['createDocument'](_0x2d7c51,_0x2b5b1c);swagger_1[_0x4464c7(0x153)][_0x4464c7(0x12c)](_0x4464c7(0x16b),_0x2d7c51,_0x53a41a);const _0x9fa004=_0x2d7c51[_0x4464c7(0x159)](),_0x5adb84=(0x0,peer_1[_0x4464c7(0x15a)])(_0x9fa004,{'path':'/streaming'});_0x2d7c51[_0x4464c7(0x139)](_0x4464c7(0x15f),_0x5adb84);const _0x596162=process['env'][_0x4464c7(0x155)]||0x1f90;await _0x2d7c51['listen'](_0x596162),console[_0x4464c7(0x12b)](_0x4464c7(0x156)+_0x596162);}function a81_0x5c73(_0x4f43d2,_0x321798){const _0x51e70a=a81_0x51e7();return a81_0x5c73=function(_0x5c73eb,_0x2b9038){_0x5c73eb=_0x5c73eb-0x12b;let _0x3f8ebd=_0x51e70a[_0x5c73eb];return _0x3f8ebd;},a81_0x5c73(_0x4f43d2,_0x321798);}bootstrap();