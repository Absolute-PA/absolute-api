'use strict';const a81_0x2daf1b=a81_0x57f5;function a81_0x57f5(_0x57b84c,_0xcb97b3){const _0xe7cb69=a81_0xe7cb();return a81_0x57f5=function(_0x57f56c,_0x299b40){_0x57f56c=_0x57f56c-0x193;let _0x31190c=_0xe7cb69[_0x57f56c];return _0x31190c;},a81_0x57f5(_0x57b84c,_0xcb97b3);}function a81_0xe7cb(){const _0x2ce767=['create','readFileSync','@nestjs/swagger','message','AWS_ACCESS_KEY_ID','YYYY-MM-DD','production','30d','transports','8481534IBMaVB','./certificates/localhost.key','format','path','ExpressPeerServer','winston-cloudwatch','./certificates/localhost.crt','3088255OExCSy','DailyRotateFile','log','setup','use','push','1.0','3858239aIJFqB','true','winston','App\x20listening\x20on\x20port:\x20','setTitle','error','HTTPS','90d','2548GBpdHI','6090qcKWYG','errors','join','LOG_GROUP_NAME','setVersion','AWS_SECRET_ACCESS_KEY','NODE_ENV','printf','timestamp','listen','nest-winston','json','DocumentBuilder','setDescription','9637784AkRgNE','200eakkue','Console','Absolute\x20PA\x20application','__esModule','blob/logs/','PORT','PI_NAME','cwd','combine','cli','defineProperty','createLogger','addTag','15245610XImZGv','9Qmciby','4203CejuUR','-%DATE%-error.log','SwaggerModule','-%DATE%-combined.log','level','env','The\x20Absolute\x20PA\x20API\x20description','getHttpServer'];a81_0xe7cb=function(){return _0x2ce767;};return a81_0xe7cb();}(function(_0x31c756,_0x5d2511){const _0x2538d0=a81_0x57f5,_0x1f3eb1=_0x31c756();while(!![]){try{const _0xd62e71=parseInt(_0x2538d0(0x1c8))/0x1*(-parseInt(_0x2538d0(0x1b9))/0x2)+-parseInt(_0x2538d0(0x1aa))/0x3*(-parseInt(_0x2538d0(0x1a9))/0x4)+-parseInt(_0x2538d0(0x19a))/0x5+parseInt(_0x2538d0(0x193))/0x6+-parseInt(_0x2538d0(0x1a1))/0x7+-parseInt(_0x2538d0(0x1b8))/0x8*(-parseInt(_0x2538d0(0x1c7))/0x9)+-parseInt(_0x2538d0(0x1c6))/0xa;if(_0xd62e71===_0x5d2511)break;else _0x1f3eb1['push'](_0x1f3eb1['shift']());}catch(_0xbdb138){_0x1f3eb1['push'](_0x1f3eb1['shift']());}}}(a81_0xe7cb,0xc2c25));Object[a81_0x2daf1b(0x1c3)](exports,a81_0x2daf1b(0x1bc),{'value':!![]});const core_1=require('@nestjs/core'),swagger_1=require(a81_0x2daf1b(0x1d2)),nest_winston_1=require(a81_0x2daf1b(0x1b4)),winston_1=require(a81_0x2daf1b(0x1a3)),peer_1=require('peer'),fs=require('fs');require('winston-daily-rotate-file');const path_1=require(a81_0x2daf1b(0x196)),app_module_1=require('./app.module'),WinstonCloudWatch=require(a81_0x2daf1b(0x198)),PI_NAME=process[a81_0x2daf1b(0x1cd)][a81_0x2daf1b(0x1bf)]||'PI';async function bootstrap(){const _0x117c91=a81_0x2daf1b,_0x52c830={'key':fs[_0x117c91(0x1d1)]((0x0,path_1[_0x117c91(0x1ac)])(process[_0x117c91(0x1c0)](),_0x117c91(0x194))),'cert':fs['readFileSync']((0x0,path_1[_0x117c91(0x1ac)])(process[_0x117c91(0x1c0)](),_0x117c91(0x199)))},_0x79744a=[new winston_1[(_0x117c91(0x1d8))]['DailyRotateFile']({'filename':'blob/logs/'+PI_NAME+_0x117c91(0x1c9),'level':_0x117c91(0x1a6),'format':winston_1['format']['combine'](winston_1['format'][_0x117c91(0x1b2)](),winston_1['format'][_0x117c91(0x1b5)]()),'datePattern':_0x117c91(0x1d5),'zippedArchive':![],'maxFiles':process[_0x117c91(0x1cd)][_0x117c91(0x1b0)]===_0x117c91(0x1d6)?_0x117c91(0x1a8):_0x117c91(0x1d7)}),new winston_1['transports'][(_0x117c91(0x19b))]({'filename':_0x117c91(0x1bd)+PI_NAME+_0x117c91(0x1cb),'format':winston_1[_0x117c91(0x195)][_0x117c91(0x1c1)](winston_1[_0x117c91(0x195)][_0x117c91(0x1b2)](),winston_1[_0x117c91(0x195)][_0x117c91(0x1b5)]()),'datePattern':_0x117c91(0x1d5),'zippedArchive':![],'maxFiles':process['env'][_0x117c91(0x1b0)]===_0x117c91(0x1d6)?'90d':_0x117c91(0x1d7)}),new winston_1[(_0x117c91(0x1d8))][(_0x117c91(0x1ba))]({'format':winston_1[_0x117c91(0x195)]['combine'](winston_1[_0x117c91(0x195)][_0x117c91(0x1c2)](),winston_1['format']['splat'](),winston_1[_0x117c91(0x195)]['timestamp'](),winston_1['format'][_0x117c91(0x1ab)]({'stack':!![]}),winston_1['format'][_0x117c91(0x1b1)](_0x149a6e=>{const _0xde8784=_0x117c91;return _0x149a6e[_0xde8784(0x1b2)]+'\x20'+_0x149a6e[_0xde8784(0x1cc)]+':\x20'+_0x149a6e[_0xde8784(0x1d3)];}))})];(process[_0x117c91(0x1cd)][_0x117c91(0x1b0)]===_0x117c91(0x1d6)||process[_0x117c91(0x1cd)]['NODE_ENV']==='qa')&&_0x79744a[_0x117c91(0x19f)](new WinstonCloudWatch({'logGroupName':process[_0x117c91(0x1cd)][_0x117c91(0x1ad)]||'pi-logs','logStreamName':PI_NAME,'awsAccessKeyId':process[_0x117c91(0x1cd)][_0x117c91(0x1d4)],'awsSecretKey':process[_0x117c91(0x1cd)][_0x117c91(0x1af)],'awsRegion':process['env']['AWS_REGION']}));const _0x77f9d0={'httpsOptions':process[_0x117c91(0x1cd)][_0x117c91(0x1a7)]===_0x117c91(0x1a2)?_0x52c830:undefined,'logger':nest_winston_1['WinstonModule'][_0x117c91(0x1c4)]({'transports':_0x79744a})},_0x26263a=await core_1['NestFactory'][_0x117c91(0x1d0)](app_module_1['AppModule'],_0x77f9d0);process['on']('uncaughtException',function(_0x24b209){const _0x380094=_0x117c91;console[_0x380094(0x19c)](_0x24b209);}),_0x26263a['enableCors']();const _0x5bc40e=new swagger_1[(_0x117c91(0x1b6))]()[_0x117c91(0x1a5)](_0x117c91(0x1bb))[_0x117c91(0x1b7)](_0x117c91(0x1ce))[_0x117c91(0x1ae)](_0x117c91(0x1a0))[_0x117c91(0x1c5)]('PA')['build'](),_0x185f2c=swagger_1[_0x117c91(0x1ca)]['createDocument'](_0x26263a,_0x5bc40e);swagger_1[_0x117c91(0x1ca)][_0x117c91(0x19d)]('api',_0x26263a,_0x185f2c);const _0x3f6009=_0x26263a[_0x117c91(0x1cf)](),_0x44aa36=(0x0,peer_1[_0x117c91(0x197)])(_0x3f6009,{'path':'/streaming'});_0x26263a[_0x117c91(0x19e)]('/peer',_0x44aa36);const _0x5da75c=process[_0x117c91(0x1cd)][_0x117c91(0x1be)]||0x1f90;await _0x26263a[_0x117c91(0x1b3)](_0x5da75c),console[_0x117c91(0x19c)](_0x117c91(0x1a4)+_0x5da75c);}bootstrap();