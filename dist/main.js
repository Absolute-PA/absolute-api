'use strict';const a78_0x243527=a78_0x31a6;(function(_0x1a2111,_0x88d847){const _0x246dd9=a78_0x31a6,_0x3dbf73=_0x1a2111();while(!![]){try{const _0xffd966=-parseInt(_0x246dd9(0xb9))/0x1+-parseInt(_0x246dd9(0xac))/0x2*(parseInt(_0x246dd9(0xae))/0x3)+parseInt(_0x246dd9(0x8f))/0x4*(parseInt(_0x246dd9(0x79))/0x5)+parseInt(_0x246dd9(0x89))/0x6+parseInt(_0x246dd9(0x9e))/0x7+-parseInt(_0x246dd9(0xb1))/0x8*(-parseInt(_0x246dd9(0x84))/0x9)+-parseInt(_0x246dd9(0x90))/0xa*(-parseInt(_0x246dd9(0xb8))/0xb);if(_0xffd966===_0x88d847)break;else _0x3dbf73['push'](_0x3dbf73['shift']());}catch(_0x337a08){_0x3dbf73['push'](_0x3dbf73['shift']());}}}(a78_0xc057,0x59f93));Object['defineProperty'](exports,a78_0x243527(0x8d),{'value':!![]});function a78_0xc057(){const _0x2a56a7=['186QPCXlU','Console','Absolute\x20PA\x20application','1608272RJufbV','setTitle','env','transports','splat','level','AWS_REGION','385YObsEe','543287sVNghC','NestFactory','create','YYYY-MM-DD','30d','combine','addTag','./app.module','readFileSync','build','format','519620tzJlGw','ExpressPeerServer','HTTPS','NODE_ENV','cwd','winston','DailyRotateFile','@nestjs/swagger','AWS_SECRET_ACCESS_KEY','timestamp','App\x20listening\x20on\x20port:\x20','27YeKKzX','/streaming','listen','@nestjs/core','log','595020ZuijFf','PORT','./certificates/localhost.crt','printf','__esModule','getHttpServer','4vfvvej','175730atiYwX','production','enableCors','1.0','PI_NAME','90d','createDocument','setVersion','blob/logs/','true','json','join','error','SwaggerModule','1170645boMrNs','winston-daily-rotate-file','The\x20Absolute\x20PA\x20API\x20description','peer','push','./certificates/localhost.key','WinstonModule','AWS_ACCESS_KEY_ID','winston-cloudwatch','-%DATE%-combined.log','nest-winston','uncaughtException','-%DATE%-error.log','createLogger','21828oqGfnU','LOG_GROUP_NAME'];a78_0xc057=function(){return _0x2a56a7;};return a78_0xc057();}function a78_0x31a6(_0x40d8a1,_0x3dfb37){const _0xc0576a=a78_0xc057();return a78_0x31a6=function(_0x31a639,_0xcf0d5e){_0x31a639=_0x31a639-0x75;let _0x165164=_0xc0576a[_0x31a639];return _0x165164;},a78_0x31a6(_0x40d8a1,_0x3dfb37);}const core_1=require(a78_0x243527(0x87)),swagger_1=require(a78_0x243527(0x80)),nest_winston_1=require(a78_0x243527(0xa8)),winston_1=require(a78_0x243527(0x7e)),peer_1=require(a78_0x243527(0xa1)),fs=require('fs');require(a78_0x243527(0x9f));const path_1=require('path'),app_module_1=require(a78_0x243527(0x75)),WinstonCloudWatch=require(a78_0x243527(0xa6)),PI_NAME=process[a78_0x243527(0xb3)][a78_0x243527(0x94)]||'PI';async function bootstrap(){const _0x4bba5c=a78_0x243527,_0x459ad5={'key':fs['readFileSync']((0x0,path_1[_0x4bba5c(0x9b)])(process[_0x4bba5c(0x7d)](),_0x4bba5c(0xa3))),'cert':fs[_0x4bba5c(0x76)]((0x0,path_1['join'])(process['cwd'](),_0x4bba5c(0x8b)))},_0x26e302=[new winston_1[(_0x4bba5c(0xb4))][(_0x4bba5c(0x7f))]({'filename':_0x4bba5c(0x98)+PI_NAME+_0x4bba5c(0xaa),'level':_0x4bba5c(0x9c),'format':winston_1['format']['combine'](winston_1[_0x4bba5c(0x78)]['timestamp'](),winston_1[_0x4bba5c(0x78)]['json']()),'datePattern':_0x4bba5c(0xbc),'zippedArchive':![],'maxFiles':process[_0x4bba5c(0xb3)][_0x4bba5c(0x7c)]===_0x4bba5c(0x91)?_0x4bba5c(0x95):_0x4bba5c(0xbd)}),new winston_1[(_0x4bba5c(0xb4))][(_0x4bba5c(0x7f))]({'filename':_0x4bba5c(0x98)+PI_NAME+_0x4bba5c(0xa7),'format':winston_1[_0x4bba5c(0x78)][_0x4bba5c(0xbe)](winston_1[_0x4bba5c(0x78)][_0x4bba5c(0x82)](),winston_1['format'][_0x4bba5c(0x9a)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process['env']['NODE_ENV']===_0x4bba5c(0x91)?_0x4bba5c(0x95):_0x4bba5c(0xbd)}),new winston_1[(_0x4bba5c(0xb4))][(_0x4bba5c(0xaf))]({'format':winston_1[_0x4bba5c(0x78)][_0x4bba5c(0xbe)](winston_1[_0x4bba5c(0x78)]['cli'](),winston_1[_0x4bba5c(0x78)][_0x4bba5c(0xb5)](),winston_1['format']['timestamp'](),winston_1['format']['errors']({'stack':!![]}),winston_1[_0x4bba5c(0x78)][_0x4bba5c(0x8c)](_0x454598=>{const _0xc58ae6=_0x4bba5c;return _0x454598['timestamp']+'\x20'+_0x454598[_0xc58ae6(0xb6)]+':\x20'+_0x454598['message'];}))})];(process['env'][_0x4bba5c(0x7c)]===_0x4bba5c(0x91)||process[_0x4bba5c(0xb3)][_0x4bba5c(0x7c)]==='qa')&&_0x26e302[_0x4bba5c(0xa2)](new WinstonCloudWatch({'logGroupName':process[_0x4bba5c(0xb3)][_0x4bba5c(0xad)]||'pi-logs','logStreamName':PI_NAME,'awsAccessKeyId':process[_0x4bba5c(0xb3)][_0x4bba5c(0xa5)],'awsSecretKey':process['env'][_0x4bba5c(0x81)],'awsRegion':process[_0x4bba5c(0xb3)][_0x4bba5c(0xb7)]}));const _0x39271b={'httpsOptions':process['env'][_0x4bba5c(0x7b)]===_0x4bba5c(0x99)?_0x459ad5:undefined,'logger':nest_winston_1[_0x4bba5c(0xa4)][_0x4bba5c(0xab)]({'transports':_0x26e302})},_0x40c45a=await core_1[_0x4bba5c(0xba)][_0x4bba5c(0xbb)](app_module_1['AppModule'],_0x39271b);process['on'](_0x4bba5c(0xa9),function(_0xf02e7c){const _0x539234=_0x4bba5c;console[_0x539234(0x88)](_0xf02e7c);}),_0x40c45a[_0x4bba5c(0x92)]();const _0xad8aec=new swagger_1['DocumentBuilder']()[_0x4bba5c(0xb2)](_0x4bba5c(0xb0))['setDescription'](_0x4bba5c(0xa0))[_0x4bba5c(0x97)](_0x4bba5c(0x93))[_0x4bba5c(0xbf)]('PA')[_0x4bba5c(0x77)](),_0x1e7a16=swagger_1['SwaggerModule'][_0x4bba5c(0x96)](_0x40c45a,_0xad8aec);swagger_1[_0x4bba5c(0x9d)]['setup']('api',_0x40c45a,_0x1e7a16);const _0x18b9c3=_0x40c45a[_0x4bba5c(0x8e)](),_0x3d53fd=(0x0,peer_1[_0x4bba5c(0x7a)])(_0x18b9c3,{'path':_0x4bba5c(0x85)});_0x40c45a['use']('/peer',_0x3d53fd);const _0x157189=process['env'][_0x4bba5c(0x8a)]||0x1f90;await _0x40c45a[_0x4bba5c(0x86)](_0x157189),console[_0x4bba5c(0x88)](_0x4bba5c(0x83)+_0x157189);}bootstrap();