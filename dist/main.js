'use strict';const a81_0x2cee13=a81_0x3a1f;(function(_0x59a4c2,_0x292ffc){const _0x18cc97=a81_0x3a1f,_0x5d8629=_0x59a4c2();while(!![]){try{const _0x1f972=-parseInt(_0x18cc97(0x1b6))/0x1*(parseInt(_0x18cc97(0x19a))/0x2)+parseInt(_0x18cc97(0x1b8))/0x3*(-parseInt(_0x18cc97(0x1c3))/0x4)+-parseInt(_0x18cc97(0x1af))/0x5+parseInt(_0x18cc97(0x1de))/0x6*(-parseInt(_0x18cc97(0x1d0))/0x7)+-parseInt(_0x18cc97(0x1a2))/0x8+-parseInt(_0x18cc97(0x1da))/0x9+parseInt(_0x18cc97(0x1ca))/0xa;if(_0x1f972===_0x292ffc)break;else _0x5d8629['push'](_0x5d8629['shift']());}catch(_0x261351){_0x5d8629['push'](_0x5d8629['shift']());}}}(a81_0xd1a5,0x7e49f));Object[a81_0x2cee13(0x1db)](exports,a81_0x2cee13(0x1a5),{'value':!![]});function a81_0xd1a5(){const _0x20f0a6=['listen','combine','57274soRhvw','Absolute\x20PA\x20application','15tiOUEm','blob/logs/','splat','setTitle','AppModule','1.0','setDescription','printf','NODE_ENV','PI_NAME','LOG_GROUP_NAME','389308PdWXcQ','The\x20Absolute\x20PA\x20API\x20description','/peer','setup','env','App\x20listening\x20on\x20port:\x20','WinstonModule','26975550chSJCH','@nestjs/swagger','api','log','create','AWS_ACCESS_KEY_ID','365386HouOsz','errors','timestamp','winston-daily-rotate-file','join','AWS_REGION','cli','true','./certificates/localhost.crt','setVersion','723141xBLQry','defineProperty','cwd','message','42JwqPzy','getHttpServer','22fPwkzj','format','SwaggerModule','YYYY-MM-DD','30d','AWS_SECRET_ACCESS_KEY','json','DailyRotateFile','626720qLniWV','winston-cloudwatch','addTag','__esModule','pi-logs','transports','createDocument','winston','readFileSync','HTTPS','DocumentBuilder','90d','Console','2697760QRHaIH','production','/streaming','uncaughtException','@nestjs/core'];a81_0xd1a5=function(){return _0x20f0a6;};return a81_0xd1a5();}const core_1=require(a81_0x2cee13(0x1b3)),swagger_1=require(a81_0x2cee13(0x1cb)),nest_winston_1=require('nest-winston'),winston_1=require(a81_0x2cee13(0x1a9)),peer_1=require('peer'),fs=require('fs');require(a81_0x2cee13(0x1d3));function a81_0x3a1f(_0x2dd7d5,_0x36062b){const _0xd1a5ea=a81_0xd1a5();return a81_0x3a1f=function(_0x3a1fff,_0x474ea0){_0x3a1fff=_0x3a1fff-0x19a;let _0x280456=_0xd1a5ea[_0x3a1fff];return _0x280456;},a81_0x3a1f(_0x2dd7d5,_0x36062b);}const path_1=require('path'),app_module_1=require('./app.module'),WinstonCloudWatch=require(a81_0x2cee13(0x1a3)),PI_NAME=process['env'][a81_0x2cee13(0x1c1)]||'PI';async function bootstrap(){const _0x297e99=a81_0x2cee13,_0x55d244={'key':fs[_0x297e99(0x1aa)]((0x0,path_1[_0x297e99(0x1d4)])(process[_0x297e99(0x1dc)](),'./certificates/localhost.key')),'cert':fs['readFileSync']((0x0,path_1[_0x297e99(0x1d4)])(process[_0x297e99(0x1dc)](),_0x297e99(0x1d8)))},_0x3cce73=[new winston_1[(_0x297e99(0x1a7))][(_0x297e99(0x1a1))]({'filename':_0x297e99(0x1b9)+PI_NAME+'-%DATE%-error.log','level':'error','format':winston_1[_0x297e99(0x19b)][_0x297e99(0x1b5)](winston_1[_0x297e99(0x19b)][_0x297e99(0x1d2)](),winston_1[_0x297e99(0x19b)][_0x297e99(0x1a0)]()),'datePattern':_0x297e99(0x19d),'zippedArchive':![],'maxFiles':process[_0x297e99(0x1c7)][_0x297e99(0x1c0)]===_0x297e99(0x1b0)?_0x297e99(0x1ad):_0x297e99(0x19e)}),new winston_1[(_0x297e99(0x1a7))][(_0x297e99(0x1a1))]({'filename':'blob/logs/'+PI_NAME+'-%DATE%-combined.log','format':winston_1[_0x297e99(0x19b)][_0x297e99(0x1b5)](winston_1[_0x297e99(0x19b)]['timestamp'](),winston_1[_0x297e99(0x19b)][_0x297e99(0x1a0)]()),'datePattern':_0x297e99(0x19d),'zippedArchive':![],'maxFiles':process['env'][_0x297e99(0x1c0)]===_0x297e99(0x1b0)?_0x297e99(0x1ad):_0x297e99(0x19e)}),new winston_1['transports'][(_0x297e99(0x1ae))]({'format':winston_1[_0x297e99(0x19b)][_0x297e99(0x1b5)](winston_1[_0x297e99(0x19b)][_0x297e99(0x1d6)](),winston_1[_0x297e99(0x19b)][_0x297e99(0x1ba)](),winston_1[_0x297e99(0x19b)]['timestamp'](),winston_1[_0x297e99(0x19b)][_0x297e99(0x1d1)]({'stack':!![]}),winston_1['format'][_0x297e99(0x1bf)](_0x96ac86=>{const _0x28c4a5=_0x297e99;return _0x96ac86[_0x28c4a5(0x1d2)]+'\x20'+_0x96ac86['level']+':\x20'+_0x96ac86[_0x28c4a5(0x1dd)];}))})];(process[_0x297e99(0x1c7)][_0x297e99(0x1c0)]===_0x297e99(0x1b0)||process[_0x297e99(0x1c7)][_0x297e99(0x1c0)]==='qa')&&_0x3cce73['push'](new WinstonCloudWatch({'logGroupName':process['env'][_0x297e99(0x1c2)]||_0x297e99(0x1a6),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x297e99(0x1c7)][_0x297e99(0x1cf)],'awsSecretKey':process[_0x297e99(0x1c7)][_0x297e99(0x19f)],'awsRegion':process[_0x297e99(0x1c7)][_0x297e99(0x1d5)]}));const _0x237d2e={'httpsOptions':process[_0x297e99(0x1c7)][_0x297e99(0x1ab)]===_0x297e99(0x1d7)?_0x55d244:undefined,'logger':nest_winston_1[_0x297e99(0x1c9)]['createLogger']({'transports':_0x3cce73})},_0x4ccc33=await core_1['NestFactory'][_0x297e99(0x1ce)](app_module_1[_0x297e99(0x1bc)],_0x237d2e);process['on'](_0x297e99(0x1b2),function(_0x1fd6c5){const _0x3d5d58=_0x297e99;console[_0x3d5d58(0x1cd)](_0x1fd6c5);}),_0x4ccc33['enableCors']();const _0x595d6a=new swagger_1[(_0x297e99(0x1ac))]()[_0x297e99(0x1bb)](_0x297e99(0x1b7))[_0x297e99(0x1be)](_0x297e99(0x1c4))[_0x297e99(0x1d9)](_0x297e99(0x1bd))[_0x297e99(0x1a4)]('PA')['build'](),_0x602523=swagger_1['SwaggerModule'][_0x297e99(0x1a8)](_0x4ccc33,_0x595d6a);swagger_1[_0x297e99(0x19c)][_0x297e99(0x1c6)](_0x297e99(0x1cc),_0x4ccc33,_0x602523);const _0x47624a=_0x4ccc33[_0x297e99(0x1df)](),_0x155303=(0x0,peer_1['ExpressPeerServer'])(_0x47624a,{'path':_0x297e99(0x1b1)});_0x4ccc33['use'](_0x297e99(0x1c5),_0x155303);const _0x238654=process[_0x297e99(0x1c7)]['PORT']||0x1f90;await _0x4ccc33[_0x297e99(0x1b4)](_0x238654),console[_0x297e99(0x1cd)](_0x297e99(0x1c8)+_0x238654);}bootstrap();