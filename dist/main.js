'use strict';const a81_0x5012a6=a81_0x5370;function a81_0x5370(_0x1c3cdc,_0x49c0e7){const _0x164a3a=a81_0x164a();return a81_0x5370=function(_0x53707d,_0x523813){_0x53707d=_0x53707d-0x9a;let _0x4b3ee3=_0x164a3a[_0x53707d];return _0x4b3ee3;},a81_0x5370(_0x1c3cdc,_0x49c0e7);}function a81_0x164a(){const _0x877631=['AppModule','./certificates/localhost.crt','winston','json','DocumentBuilder','90d','AWS_SECRET_ACCESS_KEY','cwd','transports','use','combine','createDocument','printf','YYYY-MM-DD','defineProperty','cli','createLogger','true','HTTPS','-%DATE%-error.log','timestamp','NODE_ENV','4552668zYZVWP','30d','env','readFileSync','getHttpServer','PI_NAME','5233400Tgwerk','Console','/streaming','./certificates/localhost.key','errors','8jDOypr','log','setVersion','setup','SwaggerModule','PORT','blob/logs/','311294ELxRYJ','NestFactory','production','ExpressPeerServer','winston-daily-rotate-file','join','524650buLkCe','./app.module','2160657krzYPi','App\x20listening\x20on\x20port:\x20','format','DailyRotateFile','Absolute\x20PA\x20application','AWS_ACCESS_KEY_ID','uncaughtException','message','1tqROZJ','addTag','-%DATE%-combined.log','level','WinstonModule','3037728IQdKqw','8675271BsKwHW','pi-logs','@nestjs/core','LOG_GROUP_NAME','peer'];a81_0x164a=function(){return _0x877631;};return a81_0x164a();}(function(_0x214ac6,_0x4ca502){const _0x7bb95d=a81_0x5370,_0x2a093c=_0x214ac6();while(!![]){try{const _0x3928ec=-parseInt(_0x7bb95d(0xbc))/0x1*(-parseInt(_0x7bb95d(0xac))/0x2)+parseInt(_0x7bb95d(0xb4))/0x3+parseInt(_0x7bb95d(0x9a))/0x4+-parseInt(_0x7bb95d(0xa0))/0x5+parseInt(_0x7bb95d(0xc1))/0x6+parseInt(_0x7bb95d(0xb2))/0x7+parseInt(_0x7bb95d(0xa5))/0x8*(-parseInt(_0x7bb95d(0xc2))/0x9);if(_0x3928ec===_0x4ca502)break;else _0x2a093c['push'](_0x2a093c['shift']());}catch(_0x1b3bff){_0x2a093c['push'](_0x2a093c['shift']());}}}(a81_0x164a,0x8ebe0));Object[a81_0x5012a6(0xd5)](exports,'__esModule',{'value':!![]});const core_1=require(a81_0x5012a6(0xc4)),swagger_1=require('@nestjs/swagger'),nest_winston_1=require('nest-winston'),winston_1=require(a81_0x5012a6(0xc9)),peer_1=require(a81_0x5012a6(0xc6)),fs=require('fs');require(a81_0x5012a6(0xb0));const path_1=require('path'),app_module_1=require(a81_0x5012a6(0xb3)),WinstonCloudWatch=require('winston-cloudwatch'),PI_NAME=process[a81_0x5012a6(0x9c)][a81_0x5012a6(0x9f)]||'PI';async function bootstrap(){const _0x33ff1c=a81_0x5012a6,_0x2f91aa={'key':fs[_0x33ff1c(0x9d)]((0x0,path_1[_0x33ff1c(0xb1)])(process[_0x33ff1c(0xce)](),_0x33ff1c(0xa3))),'cert':fs['readFileSync']((0x0,path_1['join'])(process[_0x33ff1c(0xce)](),_0x33ff1c(0xc8)))},_0x3190a7=[new winston_1['transports']['DailyRotateFile']({'filename':_0x33ff1c(0xab)+PI_NAME+_0x33ff1c(0xda),'level':'error','format':winston_1['format']['combine'](winston_1[_0x33ff1c(0xb6)]['timestamp'](),winston_1['format'][_0x33ff1c(0xca)]()),'datePattern':_0x33ff1c(0xd4),'zippedArchive':![],'maxFiles':process['env'][_0x33ff1c(0xdc)]===_0x33ff1c(0xae)?_0x33ff1c(0xcc):_0x33ff1c(0x9b)}),new winston_1[(_0x33ff1c(0xcf))][(_0x33ff1c(0xb7))]({'filename':_0x33ff1c(0xab)+PI_NAME+_0x33ff1c(0xbe),'format':winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xd1)](winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xdb)](),winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xca)]()),'datePattern':_0x33ff1c(0xd4),'zippedArchive':![],'maxFiles':process[_0x33ff1c(0x9c)][_0x33ff1c(0xdc)]===_0x33ff1c(0xae)?'90d':_0x33ff1c(0x9b)}),new winston_1['transports'][(_0x33ff1c(0xa1))]({'format':winston_1['format'][_0x33ff1c(0xd1)](winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xd6)](),winston_1['format']['splat'](),winston_1[_0x33ff1c(0xb6)]['timestamp'](),winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xa4)]({'stack':!![]}),winston_1[_0x33ff1c(0xb6)][_0x33ff1c(0xd3)](_0x4e3415=>{const _0x17e19e=_0x33ff1c;return _0x4e3415[_0x17e19e(0xdb)]+'\x20'+_0x4e3415[_0x17e19e(0xbf)]+':\x20'+_0x4e3415[_0x17e19e(0xbb)];}))})];(process[_0x33ff1c(0x9c)][_0x33ff1c(0xdc)]===_0x33ff1c(0xae)||process[_0x33ff1c(0x9c)][_0x33ff1c(0xdc)]==='qa')&&_0x3190a7['push'](new WinstonCloudWatch({'logGroupName':process[_0x33ff1c(0x9c)][_0x33ff1c(0xc5)]||_0x33ff1c(0xc3),'logStreamName':PI_NAME,'awsAccessKeyId':process['env'][_0x33ff1c(0xb9)],'awsSecretKey':process[_0x33ff1c(0x9c)][_0x33ff1c(0xcd)],'awsRegion':process[_0x33ff1c(0x9c)]['AWS_REGION']}));const _0x50f96d={'httpsOptions':process[_0x33ff1c(0x9c)][_0x33ff1c(0xd9)]===_0x33ff1c(0xd8)?_0x2f91aa:undefined,'logger':nest_winston_1[_0x33ff1c(0xc0)][_0x33ff1c(0xd7)]({'transports':_0x3190a7})},_0x271303=await core_1[_0x33ff1c(0xad)]['create'](app_module_1[_0x33ff1c(0xc7)],_0x50f96d);process['on'](_0x33ff1c(0xba),function(_0x15ec55){console['log'](_0x15ec55);}),_0x271303['enableCors']();const _0x198f05=new swagger_1[(_0x33ff1c(0xcb))]()['setTitle'](_0x33ff1c(0xb8))['setDescription']('The\x20Absolute\x20PA\x20API\x20description')[_0x33ff1c(0xa7)]('1.0')[_0x33ff1c(0xbd)]('PA')['build'](),_0x428ec4=swagger_1[_0x33ff1c(0xa9)][_0x33ff1c(0xd2)](_0x271303,_0x198f05);swagger_1['SwaggerModule'][_0x33ff1c(0xa8)]('api',_0x271303,_0x428ec4);const _0x318e0e=_0x271303[_0x33ff1c(0x9e)](),_0x134df2=(0x0,peer_1[_0x33ff1c(0xaf)])(_0x318e0e,{'path':_0x33ff1c(0xa2)});_0x271303[_0x33ff1c(0xd0)]('/peer',_0x134df2);const _0x4b00ab=process[_0x33ff1c(0x9c)][_0x33ff1c(0xaa)]||0x1f90;await _0x271303['listen'](_0x4b00ab),console[_0x33ff1c(0xa6)](_0x33ff1c(0xb5)+_0x4b00ab);}bootstrap();