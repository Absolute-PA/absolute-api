'use strict';const a78_0xba5da7=a78_0xc60a;(function(_0x45bad8,_0x325f1b){const _0x16e7ad=a78_0xc60a,_0x5383f3=_0x45bad8();while(!![]){try{const _0xe4cde4=parseInt(_0x16e7ad(0x138))/0x1*(-parseInt(_0x16e7ad(0x168))/0x2)+parseInt(_0x16e7ad(0x15e))/0x3*(parseInt(_0x16e7ad(0x167))/0x4)+-parseInt(_0x16e7ad(0x12f))/0x5*(parseInt(_0x16e7ad(0x14a))/0x6)+parseInt(_0x16e7ad(0x155))/0x7*(parseInt(_0x16e7ad(0x169))/0x8)+parseInt(_0x16e7ad(0x14b))/0x9+-parseInt(_0x16e7ad(0x15a))/0xa+-parseInt(_0x16e7ad(0x146))/0xb;if(_0xe4cde4===_0x325f1b)break;else _0x5383f3['push'](_0x5383f3['shift']());}catch(_0xb21677){_0x5383f3['push'](_0x5383f3['shift']());}}}(a78_0x31bb,0x848c3));function a78_0x31bb(){const _0x187761=['YYYY-MM-DD','nest-winston','2967FEaTlR','blob/logs/','production','-%DATE%-combined.log','winston-daily-rotate-file','30d','createLogger','uncaughtException','DailyRotateFile','1424wlllLA','61998dEvemc','67064lkyjsM','error','AppModule','defineProperty','true','AWS_ACCESS_KEY_ID','push','SwaggerModule','combine','getHttpServer','transports','PORT','DocumentBuilder','timestamp','20RvKGJH','ExpressPeerServer','The\x20Absolute\x20PA\x20API\x20description','join','App\x20listening\x20on\x20port:\x20','WinstonModule','cwd','winston','90d','5SGjJdR','message','pi-logs','build','AWS_REGION','log','format','setTitle','readFileSync','json','setDescription','level','Console','NestFactory','11145222PzuUXH','env','NODE_ENV','use','412098vmcctj','7519608kGmBoz','-%DATE%-error.log','peer','setup','./certificates/localhost.crt','1.0','errors','cli','winston-cloudwatch','@nestjs/core','742NlZLZu','splat','./app.module','listen','@nestjs/swagger','903500DzNMNd','HTTPS'];a78_0x31bb=function(){return _0x187761;};return a78_0x31bb();}function a78_0xc60a(_0x2158fa,_0x47b530){const _0x31bbf4=a78_0x31bb();return a78_0xc60a=function(_0xc60a2a,_0xa4cea6){_0xc60a2a=_0xc60a2a-0x12f;let _0x5d28cf=_0x31bbf4[_0xc60a2a];return _0x5d28cf;},a78_0xc60a(_0x2158fa,_0x47b530);}Object[a78_0xba5da7(0x16c)](exports,'__esModule',{'value':!![]});const core_1=require(a78_0xba5da7(0x154)),swagger_1=require(a78_0xba5da7(0x159)),nest_winston_1=require(a78_0xba5da7(0x15d)),winston_1=require(a78_0xba5da7(0x136)),peer_1=require(a78_0xba5da7(0x14d)),fs=require('fs');require(a78_0xba5da7(0x162));const path_1=require('path'),app_module_1=require(a78_0xba5da7(0x157)),WinstonCloudWatch=require(a78_0xba5da7(0x153)),PI_NAME=process['env']['PI_NAME']||'PI';async function bootstrap(){const _0x3e6797=a78_0xba5da7,_0x3a5cdd={'key':fs[_0x3e6797(0x140)]((0x0,path_1[_0x3e6797(0x132)])(process[_0x3e6797(0x135)](),'./certificates/localhost.key')),'cert':fs[_0x3e6797(0x140)]((0x0,path_1[_0x3e6797(0x132)])(process[_0x3e6797(0x135)](),_0x3e6797(0x14f)))},_0x362e38=[new winston_1[(_0x3e6797(0x173))]['DailyRotateFile']({'filename':_0x3e6797(0x15f)+PI_NAME+_0x3e6797(0x14c),'level':_0x3e6797(0x16a),'format':winston_1[_0x3e6797(0x13e)]['combine'](winston_1['format'][_0x3e6797(0x176)](),winston_1['format'][_0x3e6797(0x141)]()),'datePattern':_0x3e6797(0x15c),'zippedArchive':![],'maxFiles':process[_0x3e6797(0x147)][_0x3e6797(0x148)]==='production'?'90d':_0x3e6797(0x163)}),new winston_1[(_0x3e6797(0x173))][(_0x3e6797(0x166))]({'filename':'blob/logs/'+PI_NAME+_0x3e6797(0x161),'format':winston_1[_0x3e6797(0x13e)][_0x3e6797(0x171)](winston_1[_0x3e6797(0x13e)][_0x3e6797(0x176)](),winston_1['format'][_0x3e6797(0x141)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process['env'][_0x3e6797(0x148)]===_0x3e6797(0x160)?_0x3e6797(0x137):_0x3e6797(0x163)}),new winston_1[(_0x3e6797(0x173))][(_0x3e6797(0x144))]({'format':winston_1['format']['combine'](winston_1[_0x3e6797(0x13e)][_0x3e6797(0x152)](),winston_1[_0x3e6797(0x13e)][_0x3e6797(0x156)](),winston_1[_0x3e6797(0x13e)][_0x3e6797(0x176)](),winston_1[_0x3e6797(0x13e)][_0x3e6797(0x151)]({'stack':!![]}),winston_1['format']['printf'](_0x1abe9a=>{const _0x554677=_0x3e6797;return _0x1abe9a[_0x554677(0x176)]+'\x20'+_0x1abe9a[_0x554677(0x143)]+':\x20'+_0x1abe9a[_0x554677(0x139)];}))})];(process[_0x3e6797(0x147)]['NODE_ENV']===_0x3e6797(0x160)||process[_0x3e6797(0x147)]['NODE_ENV']==='qa')&&_0x362e38[_0x3e6797(0x16f)](new WinstonCloudWatch({'logGroupName':process[_0x3e6797(0x147)]['LOG_GROUP_NAME']||_0x3e6797(0x13a),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x3e6797(0x147)][_0x3e6797(0x16e)],'awsSecretKey':process[_0x3e6797(0x147)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process[_0x3e6797(0x147)][_0x3e6797(0x13c)]}));const _0x290d91={'httpsOptions':process[_0x3e6797(0x147)][_0x3e6797(0x15b)]===_0x3e6797(0x16d)?_0x3a5cdd:undefined,'logger':nest_winston_1[_0x3e6797(0x134)][_0x3e6797(0x164)]({'transports':_0x362e38})},_0x20cff4=await core_1[_0x3e6797(0x145)]['create'](app_module_1[_0x3e6797(0x16b)],_0x290d91);process['on'](_0x3e6797(0x165),function(_0x399039){const _0x470559=_0x3e6797;console[_0x470559(0x13d)](_0x399039);}),_0x20cff4['enableCors']();const _0x586eec=new swagger_1[(_0x3e6797(0x175))]()[_0x3e6797(0x13f)]('Absolute\x20PA\x20application')[_0x3e6797(0x142)](_0x3e6797(0x131))['setVersion'](_0x3e6797(0x150))['addTag']('PA')[_0x3e6797(0x13b)](),_0x438b39=swagger_1[_0x3e6797(0x170)]['createDocument'](_0x20cff4,_0x586eec);swagger_1['SwaggerModule'][_0x3e6797(0x14e)]('api',_0x20cff4,_0x438b39);const _0x25282f=_0x20cff4[_0x3e6797(0x172)](),_0x2aa90e=(0x0,peer_1[_0x3e6797(0x130)])(_0x25282f,{'path':'/streaming'});_0x20cff4[_0x3e6797(0x149)]('/peer',_0x2aa90e);const _0x27c2d3=process[_0x3e6797(0x147)][_0x3e6797(0x174)]||0x1f90;await _0x20cff4[_0x3e6797(0x158)](_0x27c2d3),console[_0x3e6797(0x13d)](_0x3e6797(0x133)+_0x27c2d3);}bootstrap();