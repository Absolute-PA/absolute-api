'use strict';const a78_0x4e0884=a78_0x36f5;(function(_0x5f51bd,_0x7783f8){const _0x479370=a78_0x36f5,_0x7f5a59=_0x5f51bd();while(!![]){try{const _0x2a5f6f=parseInt(_0x479370(0x14e))/0x1*(parseInt(_0x479370(0x161))/0x2)+-parseInt(_0x479370(0x16c))/0x3+-parseInt(_0x479370(0x131))/0x4*(-parseInt(_0x479370(0x144))/0x5)+parseInt(_0x479370(0x142))/0x6+parseInt(_0x479370(0x15c))/0x7+parseInt(_0x479370(0x136))/0x8+-parseInt(_0x479370(0x155))/0x9*(parseInt(_0x479370(0x147))/0xa);if(_0x2a5f6f===_0x7783f8)break;else _0x7f5a59['push'](_0x7f5a59['shift']());}catch(_0x3c228f){_0x7f5a59['push'](_0x7f5a59['shift']());}}}(a78_0x3238,0x5d911));function a78_0x36f5(_0x306980,_0x3184be){const _0x323881=a78_0x3238();return a78_0x36f5=function(_0x36f58c,_0x549af7){_0x36f58c=_0x36f58c-0x129;let _0x244f6f=_0x323881[_0x36f58c];return _0x244f6f;},a78_0x36f5(_0x306980,_0x3184be);}function a78_0x3238(){const _0x11fd60=['75CJFQbs','message','90d','192030KHdxJO','log','env','DailyRotateFile','__esModule','enableCors','setVersion','69653tnCtvs','AppModule','winston','errors','setDescription','cli','join','639dRnzBe','create','-%DATE%-combined.log','addTag','NestFactory','ExpressPeerServer','defineProperty','3974579wLBwyg','getHttpServer','printf','winston-cloudwatch','AWS_REGION','12WtJhTD','WinstonModule','pi-logs','PORT','@nestjs/swagger','push','-%DATE%-error.log','readFileSync','PI_NAME','SwaggerModule','peer','1860588sJvWsX','winston-daily-rotate-file','LOG_GROUP_NAME','listen','AWS_SECRET_ACCESS_KEY','setTitle','true','transports','The\x20Absolute\x20PA\x20API\x20description','error','DocumentBuilder','/streaming','/peer','format','92376vWOUJR','NODE_ENV','./certificates/localhost.key','production','blob/logs/','3274160MURGWu','use','cwd','timestamp','AWS_ACCESS_KEY_ID','30d','1.0','path','nest-winston','./app.module','combine','json','3752778WwoHnm','YYYY-MM-DD'];a78_0x3238=function(){return _0x11fd60;};return a78_0x3238();}Object[a78_0x4e0884(0x15b)](exports,a78_0x4e0884(0x14b),{'value':!![]});const core_1=require('@nestjs/core'),swagger_1=require(a78_0x4e0884(0x165)),nest_winston_1=require(a78_0x4e0884(0x13e)),winston_1=require(a78_0x4e0884(0x150)),peer_1=require(a78_0x4e0884(0x16b)),fs=require('fs');require(a78_0x4e0884(0x16d));const path_1=require(a78_0x4e0884(0x13d)),app_module_1=require(a78_0x4e0884(0x13f)),WinstonCloudWatch=require(a78_0x4e0884(0x15f)),PI_NAME=process['env'][a78_0x4e0884(0x169)]||'PI';async function bootstrap(){const _0x5dfb34=a78_0x4e0884,_0x29c31c={'key':fs[_0x5dfb34(0x168)]((0x0,path_1[_0x5dfb34(0x154)])(process[_0x5dfb34(0x138)](),_0x5dfb34(0x133))),'cert':fs[_0x5dfb34(0x168)]((0x0,path_1[_0x5dfb34(0x154)])(process[_0x5dfb34(0x138)](),'./certificates/localhost.crt'))},_0x26c15c=[new winston_1[(_0x5dfb34(0x12a))]['DailyRotateFile']({'filename':_0x5dfb34(0x135)+PI_NAME+_0x5dfb34(0x167),'level':_0x5dfb34(0x12c),'format':winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x140)](winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x139)](),winston_1['format'][_0x5dfb34(0x141)]()),'datePattern':_0x5dfb34(0x143),'zippedArchive':![],'maxFiles':process['env'][_0x5dfb34(0x132)]===_0x5dfb34(0x134)?_0x5dfb34(0x146):_0x5dfb34(0x13b)}),new winston_1[(_0x5dfb34(0x12a))][(_0x5dfb34(0x14a))]({'filename':'blob/logs/'+PI_NAME+_0x5dfb34(0x157),'format':winston_1['format'][_0x5dfb34(0x140)](winston_1[_0x5dfb34(0x130)]['timestamp'](),winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x141)]()),'datePattern':_0x5dfb34(0x143),'zippedArchive':![],'maxFiles':process[_0x5dfb34(0x149)]['NODE_ENV']==='production'?_0x5dfb34(0x146):_0x5dfb34(0x13b)}),new winston_1[(_0x5dfb34(0x12a))]['Console']({'format':winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x140)](winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x153)](),winston_1['format']['splat'](),winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x139)](),winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x151)]({'stack':!![]}),winston_1[_0x5dfb34(0x130)][_0x5dfb34(0x15e)](_0x3fe7ed=>{const _0x135ff1=_0x5dfb34;return _0x3fe7ed[_0x135ff1(0x139)]+'\x20'+_0x3fe7ed['level']+':\x20'+_0x3fe7ed[_0x135ff1(0x145)];}))})];(process[_0x5dfb34(0x149)]['NODE_ENV']===_0x5dfb34(0x134)||process[_0x5dfb34(0x149)][_0x5dfb34(0x132)]==='qa')&&_0x26c15c[_0x5dfb34(0x166)](new WinstonCloudWatch({'logGroupName':process['env'][_0x5dfb34(0x16e)]||_0x5dfb34(0x163),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x5dfb34(0x149)][_0x5dfb34(0x13a)],'awsSecretKey':process[_0x5dfb34(0x149)][_0x5dfb34(0x170)],'awsRegion':process[_0x5dfb34(0x149)][_0x5dfb34(0x160)]}));const _0x53982a={'httpsOptions':process[_0x5dfb34(0x149)]['HTTPS']===_0x5dfb34(0x129)?_0x29c31c:undefined,'logger':nest_winston_1[_0x5dfb34(0x162)]['createLogger']({'transports':_0x26c15c})},_0x96f2eb=await core_1[_0x5dfb34(0x159)][_0x5dfb34(0x156)](app_module_1[_0x5dfb34(0x14f)],_0x53982a);process['on']('uncaughtException',function(_0x5e363b){const _0x5a27a4=_0x5dfb34;console[_0x5a27a4(0x148)](_0x5e363b);}),_0x96f2eb[_0x5dfb34(0x14c)]();const _0x145d3d=new swagger_1[(_0x5dfb34(0x12d))]()[_0x5dfb34(0x171)]('Absolute\x20PA\x20application')[_0x5dfb34(0x152)](_0x5dfb34(0x12b))[_0x5dfb34(0x14d)](_0x5dfb34(0x13c))[_0x5dfb34(0x158)]('PA')['build'](),_0x4c0a50=swagger_1[_0x5dfb34(0x16a)]['createDocument'](_0x96f2eb,_0x145d3d);swagger_1['SwaggerModule']['setup']('api',_0x96f2eb,_0x4c0a50);const _0x782c47=_0x96f2eb[_0x5dfb34(0x15d)](),_0x51a2e1=(0x0,peer_1[_0x5dfb34(0x15a)])(_0x782c47,{'path':_0x5dfb34(0x12e)});_0x96f2eb[_0x5dfb34(0x137)](_0x5dfb34(0x12f),_0x51a2e1);const _0x1b297c=process[_0x5dfb34(0x149)][_0x5dfb34(0x164)]||0x1f90;await _0x96f2eb[_0x5dfb34(0x16f)](_0x1b297c),console[_0x5dfb34(0x148)]('App\x20listening\x20on\x20port:\x20'+_0x1b297c);}bootstrap();