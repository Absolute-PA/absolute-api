'use strict';const a81_0x3f2d06=a81_0x4d44;function a81_0x1100(){const _0x2b8624=['createLogger','splat','15750000Pfzdyg','7TACWnw','json','PI_NAME','1.0','6302732SmuGnY','winston','@nestjs/swagger','DocumentBuilder','9186132LgZsuc','join','DailyRotateFile','uncaughtException','/peer','36426EGHQzq','true','enableCors','pi-logs','LOG_GROUP_NAME','185517HKYckL','blob/logs/','log','setDescription','use','timestamp','/streaming','cli','production','message','transports','error','env','@nestjs/core','winston-daily-rotate-file','2svohip','PORT','AWS_ACCESS_KEY_ID','setTitle','format','errors','NODE_ENV','create','winston-cloudwatch','-%DATE%-combined.log','1957470abujrv','SwaggerModule','90d','cwd','level','NestFactory','createDocument','HTTPS','peer','listen','printf','AWS_REGION','api','__esModule','YYYY-MM-DD','./certificates/localhost.key','748913MsxkKc','30d','Console','combine','The\x20Absolute\x20PA\x20API\x20description','ExpressPeerServer','136TjnwDF','AppModule','readFileSync','build'];a81_0x1100=function(){return _0x2b8624;};return a81_0x1100();}(function(_0x4b0f51,_0x2a6323){const _0x197eab=a81_0x4d44,_0x36aef5=_0x4b0f51();while(!![]){try{const _0x4cfd9d=parseInt(_0x197eab(0x104))/0x1*(-parseInt(_0x197eab(0x132))/0x2)+parseInt(_0x197eab(0x11e))/0x3+parseInt(_0x197eab(0x115))/0x4+-parseInt(_0x197eab(0xf4))/0x5+-parseInt(_0x197eab(0x119))/0x6*(parseInt(_0x197eab(0x111))/0x7)+-parseInt(_0x197eab(0x10a))/0x8*(-parseInt(_0x197eab(0x123))/0x9)+parseInt(_0x197eab(0x110))/0xa;if(_0x4cfd9d===_0x2a6323)break;else _0x36aef5['push'](_0x36aef5['shift']());}catch(_0x1b7d2d){_0x36aef5['push'](_0x36aef5['shift']());}}}(a81_0x1100,0xcd859));Object['defineProperty'](exports,a81_0x3f2d06(0x101),{'value':!![]});function a81_0x4d44(_0x5d245d,_0xfbba4d){const _0x1100d8=a81_0x1100();return a81_0x4d44=function(_0x4d44a4,_0x283238){_0x4d44a4=_0x4d44a4-0xf2;let _0x24fd6a=_0x1100d8[_0x4d44a4];return _0x24fd6a;},a81_0x4d44(_0x5d245d,_0xfbba4d);}const core_1=require(a81_0x3f2d06(0x130)),swagger_1=require(a81_0x3f2d06(0x117)),nest_winston_1=require('nest-winston'),winston_1=require(a81_0x3f2d06(0x116)),peer_1=require(a81_0x3f2d06(0xfc)),fs=require('fs');require(a81_0x3f2d06(0x131));const path_1=require('path'),app_module_1=require('./app.module'),WinstonCloudWatch=require(a81_0x3f2d06(0xf2)),PI_NAME=process[a81_0x3f2d06(0x12f)][a81_0x3f2d06(0x113)]||'PI';async function bootstrap(){const _0x242d59=a81_0x3f2d06,_0x5e3451={'key':fs[_0x242d59(0x10c)]((0x0,path_1[_0x242d59(0x11a)])(process[_0x242d59(0xf7)](),_0x242d59(0x103))),'cert':fs[_0x242d59(0x10c)]((0x0,path_1[_0x242d59(0x11a)])(process[_0x242d59(0xf7)](),'./certificates/localhost.crt'))},_0x2bf520=[new winston_1[(_0x242d59(0x12d))][(_0x242d59(0x11b))]({'filename':_0x242d59(0x124)+PI_NAME+'-%DATE%-error.log','level':_0x242d59(0x12e),'format':winston_1[_0x242d59(0x136)][_0x242d59(0x107)](winston_1[_0x242d59(0x136)][_0x242d59(0x128)](),winston_1['format'][_0x242d59(0x112)]()),'datePattern':_0x242d59(0x102),'zippedArchive':![],'maxFiles':process[_0x242d59(0x12f)]['NODE_ENV']===_0x242d59(0x12b)?_0x242d59(0xf6):_0x242d59(0x105)}),new winston_1[(_0x242d59(0x12d))][(_0x242d59(0x11b))]({'filename':'blob/logs/'+PI_NAME+_0x242d59(0xf3),'format':winston_1['format'][_0x242d59(0x107)](winston_1[_0x242d59(0x136)][_0x242d59(0x128)](),winston_1[_0x242d59(0x136)][_0x242d59(0x112)]()),'datePattern':_0x242d59(0x102),'zippedArchive':![],'maxFiles':process[_0x242d59(0x12f)][_0x242d59(0x138)]===_0x242d59(0x12b)?'90d':_0x242d59(0x105)}),new winston_1[(_0x242d59(0x12d))][(_0x242d59(0x106))]({'format':winston_1[_0x242d59(0x136)][_0x242d59(0x107)](winston_1[_0x242d59(0x136)][_0x242d59(0x12a)](),winston_1[_0x242d59(0x136)][_0x242d59(0x10f)](),winston_1['format']['timestamp'](),winston_1[_0x242d59(0x136)][_0x242d59(0x137)]({'stack':!![]}),winston_1[_0x242d59(0x136)][_0x242d59(0xfe)](_0x578b4a=>{const _0x5bd96c=_0x242d59;return _0x578b4a['timestamp']+'\x20'+_0x578b4a[_0x5bd96c(0xf8)]+':\x20'+_0x578b4a[_0x5bd96c(0x12c)];}))})];(process[_0x242d59(0x12f)][_0x242d59(0x138)]===_0x242d59(0x12b)||process['env']['NODE_ENV']==='qa')&&_0x2bf520['push'](new WinstonCloudWatch({'logGroupName':process[_0x242d59(0x12f)][_0x242d59(0x122)]||_0x242d59(0x121),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x242d59(0x12f)][_0x242d59(0x134)],'awsSecretKey':process[_0x242d59(0x12f)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process[_0x242d59(0x12f)][_0x242d59(0xff)]}));const _0x49daa4={'httpsOptions':process[_0x242d59(0x12f)][_0x242d59(0xfb)]===_0x242d59(0x11f)?_0x5e3451:undefined,'logger':nest_winston_1['WinstonModule'][_0x242d59(0x10e)]({'transports':_0x2bf520})},_0x43f196=await core_1[_0x242d59(0xf9)][_0x242d59(0x139)](app_module_1[_0x242d59(0x10b)],_0x49daa4);process['on'](_0x242d59(0x11c),function(_0x18dddf){console['log'](_0x18dddf);}),_0x43f196[_0x242d59(0x120)]();const _0x538d08=new swagger_1[(_0x242d59(0x118))]()[_0x242d59(0x135)]('Absolute\x20PA\x20application')[_0x242d59(0x126)](_0x242d59(0x108))['setVersion'](_0x242d59(0x114))['addTag']('PA')[_0x242d59(0x10d)](),_0x45a18f=swagger_1[_0x242d59(0xf5)][_0x242d59(0xfa)](_0x43f196,_0x538d08);swagger_1[_0x242d59(0xf5)]['setup'](_0x242d59(0x100),_0x43f196,_0x45a18f);const _0x1de9b0=_0x43f196['getHttpServer'](),_0x12cd94=(0x0,peer_1[_0x242d59(0x109)])(_0x1de9b0,{'path':_0x242d59(0x129)});_0x43f196[_0x242d59(0x127)](_0x242d59(0x11d),_0x12cd94);const _0x3509e4=process[_0x242d59(0x12f)][_0x242d59(0x133)]||0x1f90;await _0x43f196[_0x242d59(0xfd)](_0x3509e4),console[_0x242d59(0x125)]('App\x20listening\x20on\x20port:\x20'+_0x3509e4);}bootstrap();