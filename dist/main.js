'use strict';const a78_0x3c64ea=a78_0x1d8a;(function(_0x3e6c21,_0x25de33){const _0x2f9e95=a78_0x1d8a,_0x10ac4c=_0x3e6c21();while(!![]){try{const _0x48f7b4=parseInt(_0x2f9e95(0x13f))/0x1+-parseInt(_0x2f9e95(0x155))/0x2*(parseInt(_0x2f9e95(0x142))/0x3)+parseInt(_0x2f9e95(0x13c))/0x4+parseInt(_0x2f9e95(0x14c))/0x5*(-parseInt(_0x2f9e95(0x17b))/0x6)+parseInt(_0x2f9e95(0x13b))/0x7+-parseInt(_0x2f9e95(0x14f))/0x8+parseInt(_0x2f9e95(0x17e))/0x9*(parseInt(_0x2f9e95(0x137))/0xa);if(_0x48f7b4===_0x25de33)break;else _0x10ac4c['push'](_0x10ac4c['shift']());}catch(_0x13e0ed){_0x10ac4c['push'](_0x10ac4c['shift']());}}}(a78_0xd6e4,0x30910));function a78_0x1d8a(_0x18bf19,_0x2b7971){const _0xd6e46c=a78_0xd6e4();return a78_0x1d8a=function(_0x1d8a5d,_0x4855d3){_0x1d8a5d=_0x1d8a5d-0x137;let _0x3c8971=_0xd6e46c[_0x1d8a5d];return _0x3c8971;},a78_0x1d8a(_0x18bf19,_0x2b7971);}Object['defineProperty'](exports,'__esModule',{'value':!![]});const core_1=require(a78_0x3c64ea(0x16f)),swagger_1=require(a78_0x3c64ea(0x176)),nest_winston_1=require(a78_0x3c64ea(0x180)),winston_1=require(a78_0x3c64ea(0x157)),peer_1=require(a78_0x3c64ea(0x171)),fs=require('fs');function a78_0xd6e4(){const _0x3009e9=['PORT','./certificates/localhost.key','YYYY-MM-DD','format','json','level','build','DocumentBuilder','timestamp','WinstonModule','combine','cli','createLogger','blob/logs/','printf','setTitle','1.0','create','cwd','message','ExpressPeerServer','90d','@nestjs/core','api','peer','readFileSync','use','-%DATE%-combined.log','errors','@nestjs/swagger','LOG_GROUP_NAME','NODE_ENV','AWS_ACCESS_KEY_ID','push','558YDyrij','splat','env','1863eSAUhL','winston-daily-rotate-file','nest-winston','path','production','./certificates/localhost.crt','./app.module','enableCors','20180afPgBS','join','setVersion','AWS_SECRET_ACCESS_KEY','93905gdwsho','465876xsMknu','error','AWS_REGION','41537WfawCh','/streaming','AppModule','873294bkBRnS','PI_NAME','uncaughtException','pi-logs','App\x20listening\x20on\x20port:\x20','Console','getHttpServer','setDescription','NestFactory','true','1005QKVZsM','30d','The\x20Absolute\x20PA\x20API\x20description','643424uRexeL','DailyRotateFile','transports','/peer','SwaggerModule','log','2QOYjHd','Absolute\x20PA\x20application','winston','HTTPS'];a78_0xd6e4=function(){return _0x3009e9;};return a78_0xd6e4();}require(a78_0x3c64ea(0x17f));const path_1=require(a78_0x3c64ea(0x181)),app_module_1=require(a78_0x3c64ea(0x184)),WinstonCloudWatch=require('winston-cloudwatch'),PI_NAME=process['env'][a78_0x3c64ea(0x143)]||'PI';async function bootstrap(){const _0x2ba147=a78_0x3c64ea,_0x7efafb={'key':fs[_0x2ba147(0x172)]((0x0,path_1[_0x2ba147(0x138)])(process[_0x2ba147(0x16b)](),_0x2ba147(0x15a))),'cert':fs[_0x2ba147(0x172)]((0x0,path_1[_0x2ba147(0x138)])(process[_0x2ba147(0x16b)](),_0x2ba147(0x183)))},_0x3438ca=[new winston_1[(_0x2ba147(0x151))][(_0x2ba147(0x150))]({'filename':_0x2ba147(0x166)+PI_NAME+'-%DATE%-error.log','level':_0x2ba147(0x13d),'format':winston_1[_0x2ba147(0x15c)][_0x2ba147(0x163)](winston_1[_0x2ba147(0x15c)][_0x2ba147(0x161)](),winston_1['format']['json']()),'datePattern':_0x2ba147(0x15b),'zippedArchive':![],'maxFiles':process['env']['NODE_ENV']===_0x2ba147(0x182)?_0x2ba147(0x16e):_0x2ba147(0x14d)}),new winston_1[(_0x2ba147(0x151))][(_0x2ba147(0x150))]({'filename':_0x2ba147(0x166)+PI_NAME+_0x2ba147(0x174),'format':winston_1[_0x2ba147(0x15c)][_0x2ba147(0x163)](winston_1[_0x2ba147(0x15c)][_0x2ba147(0x161)](),winston_1[_0x2ba147(0x15c)][_0x2ba147(0x15d)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x2ba147(0x17d)][_0x2ba147(0x178)]===_0x2ba147(0x182)?_0x2ba147(0x16e):'30d'}),new winston_1[(_0x2ba147(0x151))][(_0x2ba147(0x147))]({'format':winston_1['format'][_0x2ba147(0x163)](winston_1[_0x2ba147(0x15c)][_0x2ba147(0x164)](),winston_1[_0x2ba147(0x15c)][_0x2ba147(0x17c)](),winston_1[_0x2ba147(0x15c)][_0x2ba147(0x161)](),winston_1[_0x2ba147(0x15c)][_0x2ba147(0x175)]({'stack':!![]}),winston_1['format'][_0x2ba147(0x167)](_0x30a9df=>{const _0x538118=_0x2ba147;return _0x30a9df['timestamp']+'\x20'+_0x30a9df[_0x538118(0x15e)]+':\x20'+_0x30a9df[_0x538118(0x16c)];}))})];(process[_0x2ba147(0x17d)]['NODE_ENV']==='production'||process[_0x2ba147(0x17d)]['NODE_ENV']==='qa')&&_0x3438ca[_0x2ba147(0x17a)](new WinstonCloudWatch({'logGroupName':process['env'][_0x2ba147(0x177)]||_0x2ba147(0x145),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x2ba147(0x17d)][_0x2ba147(0x179)],'awsSecretKey':process['env'][_0x2ba147(0x13a)],'awsRegion':process[_0x2ba147(0x17d)][_0x2ba147(0x13e)]}));const _0xf66b26={'httpsOptions':process[_0x2ba147(0x17d)][_0x2ba147(0x158)]===_0x2ba147(0x14b)?_0x7efafb:undefined,'logger':nest_winston_1[_0x2ba147(0x162)][_0x2ba147(0x165)]({'transports':_0x3438ca})},_0x13ff04=await core_1[_0x2ba147(0x14a)][_0x2ba147(0x16a)](app_module_1[_0x2ba147(0x141)],_0xf66b26);process['on'](_0x2ba147(0x144),function(_0x37c219){console['log'](_0x37c219);}),_0x13ff04[_0x2ba147(0x185)]();const _0x143b74=new swagger_1[(_0x2ba147(0x160))]()[_0x2ba147(0x168)](_0x2ba147(0x156))[_0x2ba147(0x149)](_0x2ba147(0x14e))[_0x2ba147(0x139)](_0x2ba147(0x169))['addTag']('PA')[_0x2ba147(0x15f)](),_0xe0855b=swagger_1[_0x2ba147(0x153)]['createDocument'](_0x13ff04,_0x143b74);swagger_1['SwaggerModule']['setup'](_0x2ba147(0x170),_0x13ff04,_0xe0855b);const _0x333ed8=_0x13ff04[_0x2ba147(0x148)](),_0x5cde27=(0x0,peer_1[_0x2ba147(0x16d)])(_0x333ed8,{'path':_0x2ba147(0x140)});_0x13ff04[_0x2ba147(0x173)](_0x2ba147(0x152),_0x5cde27);const _0x28b639=process['env'][_0x2ba147(0x159)]||0x1f90;await _0x13ff04['listen'](_0x28b639),console[_0x2ba147(0x154)](_0x2ba147(0x146)+_0x28b639);}bootstrap();