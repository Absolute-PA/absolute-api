'use strict';const a81_0x46cfee=a81_0xf29c;function a81_0xf29c(_0x43b441,_0x22b400){const _0x4cdba4=a81_0x4cdb();return a81_0xf29c=function(_0xf29c3b,_0x225bbe){_0xf29c3b=_0xf29c3b-0xe0;let _0x2750fa=_0x4cdba4[_0xf29c3b];return _0x2750fa;},a81_0xf29c(_0x43b441,_0x22b400);}(function(_0x387944,_0x30dc1c){const _0x239634=a81_0xf29c,_0x58bc83=_0x387944();while(!![]){try{const _0x5a1988=parseInt(_0x239634(0xea))/0x1*(-parseInt(_0x239634(0xe3))/0x2)+-parseInt(_0x239634(0xf9))/0x3+-parseInt(_0x239634(0xf5))/0x4*(-parseInt(_0x239634(0x119))/0x5)+parseInt(_0x239634(0xe7))/0x6+parseInt(_0x239634(0x117))/0x7*(parseInt(_0x239634(0x103))/0x8)+-parseInt(_0x239634(0x107))/0x9*(-parseInt(_0x239634(0xf6))/0xa)+-parseInt(_0x239634(0x11e))/0xb;if(_0x5a1988===_0x30dc1c)break;else _0x58bc83['push'](_0x58bc83['shift']());}catch(_0x5198dc){_0x58bc83['push'](_0x58bc83['shift']());}}}(a81_0x4cdb,0xec7ab));Object[a81_0x46cfee(0x121)](exports,a81_0x46cfee(0x10d),{'value':!![]});const core_1=require(a81_0x46cfee(0xf7)),swagger_1=require('@nestjs/swagger'),nest_winston_1=require('nest-winston'),winston_1=require(a81_0x46cfee(0xf2)),peer_1=require(a81_0x46cfee(0x11c)),fs=require('fs');require(a81_0x46cfee(0xfd));const path_1=require('path'),app_module_1=require(a81_0x46cfee(0x10c)),WinstonCloudWatch=require('winston-cloudwatch'),PI_NAME=process[a81_0x46cfee(0x10a)][a81_0x46cfee(0xe2)]||'PI';async function bootstrap(){const _0x50c949=a81_0x46cfee,_0x1314cb={'key':fs['readFileSync']((0x0,path_1['join'])(process[_0x50c949(0x112)](),_0x50c949(0x100))),'cert':fs['readFileSync']((0x0,path_1['join'])(process['cwd'](),_0x50c949(0xed)))},_0x36ca40=[new winston_1['transports'][(_0x50c949(0xf0))]({'filename':_0x50c949(0xe4)+PI_NAME+_0x50c949(0xec),'level':_0x50c949(0x118),'format':winston_1[_0x50c949(0x101)][_0x50c949(0xeb)](winston_1['format'][_0x50c949(0xfe)](),winston_1[_0x50c949(0x101)]['json']()),'datePattern':_0x50c949(0x10b),'zippedArchive':![],'maxFiles':process[_0x50c949(0x10a)][_0x50c949(0x11f)]===_0x50c949(0xe0)?_0x50c949(0x116):_0x50c949(0xe9)}),new winston_1[(_0x50c949(0x105))][(_0x50c949(0xf0))]({'filename':_0x50c949(0xe4)+PI_NAME+_0x50c949(0xf8),'format':winston_1[_0x50c949(0x101)][_0x50c949(0xeb)](winston_1['format'][_0x50c949(0xfe)](),winston_1[_0x50c949(0x101)]['json']()),'datePattern':_0x50c949(0x10b),'zippedArchive':![],'maxFiles':process[_0x50c949(0x10a)][_0x50c949(0x11f)]===_0x50c949(0xe0)?_0x50c949(0x116):'30d'}),new winston_1[(_0x50c949(0x105))][(_0x50c949(0xe6))]({'format':winston_1[_0x50c949(0x101)][_0x50c949(0xeb)](winston_1[_0x50c949(0x101)][_0x50c949(0x102)](),winston_1[_0x50c949(0x101)][_0x50c949(0xfb)](),winston_1[_0x50c949(0x101)][_0x50c949(0xfe)](),winston_1[_0x50c949(0x101)]['errors']({'stack':!![]}),winston_1[_0x50c949(0x101)][_0x50c949(0x109)](_0xff4a79=>{const _0x4fbaa6=_0x50c949;return _0xff4a79['timestamp']+'\x20'+_0xff4a79[_0x4fbaa6(0xf3)]+':\x20'+_0xff4a79[_0x4fbaa6(0xf1)];}))})];(process[_0x50c949(0x10a)][_0x50c949(0x11f)]===_0x50c949(0xe0)||process['env'][_0x50c949(0x11f)]==='qa')&&_0x36ca40[_0x50c949(0x111)](new WinstonCloudWatch({'logGroupName':process['env']['LOG_GROUP_NAME']||_0x50c949(0xe8),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x50c949(0x10a)][_0x50c949(0x113)],'awsSecretKey':process[_0x50c949(0x10a)][_0x50c949(0xf4)],'awsRegion':process[_0x50c949(0x10a)]['AWS_REGION']}));const _0x5b5859={'httpsOptions':process['env']['HTTPS']===_0x50c949(0x104)?_0x1314cb:undefined,'logger':nest_winston_1[_0x50c949(0x115)]['createLogger']({'transports':_0x36ca40})},_0x5124fc=await core_1[_0x50c949(0xe5)]['create'](app_module_1[_0x50c949(0xef)],_0x5b5859);process['on'](_0x50c949(0x11d),function(_0x4be0d8){const _0x401594=_0x50c949;console[_0x401594(0xee)](_0x4be0d8);}),_0x5124fc['enableCors']();const _0x7b8731=new swagger_1[(_0x50c949(0x11b))]()[_0x50c949(0x108)](_0x50c949(0x10e))[_0x50c949(0x106)]('The\x20Absolute\x20PA\x20API\x20description')[_0x50c949(0x11a)]('1.0')[_0x50c949(0xfa)]('PA')['build'](),_0x35f922=swagger_1['SwaggerModule'][_0x50c949(0x110)](_0x5124fc,_0x7b8731);swagger_1[_0x50c949(0xff)][_0x50c949(0xfc)](_0x50c949(0x114),_0x5124fc,_0x35f922);const _0x142fb7=_0x5124fc[_0x50c949(0x120)](),_0x56e598=(0x0,peer_1[_0x50c949(0x10f)])(_0x142fb7,{'path':'/streaming'});_0x5124fc['use']('/peer',_0x56e598);const _0x21044b=process[_0x50c949(0x10a)][_0x50c949(0xe1)]||0x1f90;await _0x5124fc['listen'](_0x21044b),console[_0x50c949(0xee)]('App\x20listening\x20on\x20port:\x20'+_0x21044b);}function a81_0x4cdb(){const _0x3f4d3e=['peer','uncaughtException','41728401hkjyNm','NODE_ENV','getHttpServer','defineProperty','production','PORT','PI_NAME','530qqQejN','blob/logs/','NestFactory','Console','10137486RRhMxJ','pi-logs','30d','570hxsSYP','combine','-%DATE%-error.log','./certificates/localhost.crt','log','AppModule','DailyRotateFile','message','winston','level','AWS_SECRET_ACCESS_KEY','5987252VGlqkn','2174250KvxeHV','@nestjs/core','-%DATE%-combined.log','875325GGvKSC','addTag','splat','setup','winston-daily-rotate-file','timestamp','SwaggerModule','./certificates/localhost.key','format','cli','12669528XVrMjq','true','transports','setDescription','18JKRukF','setTitle','printf','env','YYYY-MM-DD','./app.module','__esModule','Absolute\x20PA\x20application','ExpressPeerServer','createDocument','push','cwd','AWS_ACCESS_KEY_ID','api','WinstonModule','90d','7UwYRPZ','error','5ReQnHr','setVersion','DocumentBuilder'];a81_0x4cdb=function(){return _0x3f4d3e;};return a81_0x4cdb();}bootstrap();