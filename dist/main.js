'use strict';function a78_0x2079(_0x592215,_0x39e98e){const _0x4d1044=a78_0x4d10();return a78_0x2079=function(_0x207937,_0x288270){_0x207937=_0x207937-0x12e;let _0x2df923=_0x4d1044[_0x207937];return _0x2df923;},a78_0x2079(_0x592215,_0x39e98e);}const a78_0x253a31=a78_0x2079;(function(_0x1c5255,_0x13b165){const _0x5cf5d6=a78_0x2079,_0x173dd8=_0x1c5255();while(!![]){try{const _0x521ac4=-parseInt(_0x5cf5d6(0x15d))/0x1+-parseInt(_0x5cf5d6(0x174))/0x2*(-parseInt(_0x5cf5d6(0x150))/0x3)+-parseInt(_0x5cf5d6(0x135))/0x4*(-parseInt(_0x5cf5d6(0x163))/0x5)+-parseInt(_0x5cf5d6(0x171))/0x6+parseInt(_0x5cf5d6(0x156))/0x7+parseInt(_0x5cf5d6(0x14f))/0x8+parseInt(_0x5cf5d6(0x14e))/0x9*(parseInt(_0x5cf5d6(0x16e))/0xa);if(_0x521ac4===_0x13b165)break;else _0x173dd8['push'](_0x173dd8['shift']());}catch(_0x4b1df7){_0x173dd8['push'](_0x173dd8['shift']());}}}(a78_0x4d10,0xae187));Object[a78_0x253a31(0x160)](exports,a78_0x253a31(0x142),{'value':!![]});const core_1=require(a78_0x253a31(0x133)),swagger_1=require(a78_0x253a31(0x13b)),nest_winston_1=require(a78_0x253a31(0x172)),winston_1=require('winston'),peer_1=require('peer'),fs=require('fs');require(a78_0x253a31(0x134));const path_1=require('path'),app_module_1=require(a78_0x253a31(0x143)),WinstonCloudWatch=require(a78_0x253a31(0x170)),PI_NAME=process[a78_0x253a31(0x136)]['PI_NAME']||'PI';function a78_0x4d10(){const _0x49981a=['10mgQLOr','./certificates/localhost.key','winston-cloudwatch','8513238oiCwoL','nest-winston','true','21568qYZWJK','-%DATE%-combined.log','Console','getHttpServer','format','AWS_ACCESS_KEY_ID','@nestjs/core','winston-daily-rotate-file','74468rQmZYX','env','errors','AppModule','api','-%DATE%-error.log','@nestjs/swagger','production','error','90d','json','createLogger','DocumentBuilder','__esModule','./app.module','cwd','printf','AWS_REGION','listen','1.0','build','NODE_ENV','join','create','HTTPS','12249756FeYEHk','3066424lgWmDo','114wttgXh','timestamp','blob/logs/','SwaggerModule','readFileSync','./certificates/localhost.crt','3568488NZDVPQ','DailyRotateFile','LOG_GROUP_NAME','log','cli','setDescription','transports','587846wFjPvN','App\x20listening\x20on\x20port:\x20','30d','defineProperty','/streaming','uncaughtException','15IfoUBk','message','ExpressPeerServer','combine','YYYY-MM-DD','Absolute\x20PA\x20application','addTag','NestFactory','PORT','splat','use'];a78_0x4d10=function(){return _0x49981a;};return a78_0x4d10();}async function bootstrap(){const _0x584283=a78_0x253a31,_0x3e55a7={'key':fs['readFileSync']((0x0,path_1[_0x584283(0x14b)])(process[_0x584283(0x144)](),_0x584283(0x16f))),'cert':fs[_0x584283(0x154)]((0x0,path_1[_0x584283(0x14b)])(process['cwd'](),_0x584283(0x155)))},_0x211fa9=[new winston_1['transports'][(_0x584283(0x157))]({'filename':_0x584283(0x152)+PI_NAME+_0x584283(0x13a),'level':_0x584283(0x13d),'format':winston_1[_0x584283(0x131)][_0x584283(0x166)](winston_1[_0x584283(0x131)][_0x584283(0x151)](),winston_1[_0x584283(0x131)]['json']()),'datePattern':_0x584283(0x167),'zippedArchive':![],'maxFiles':process[_0x584283(0x136)][_0x584283(0x14a)]===_0x584283(0x13c)?'90d':_0x584283(0x15f)}),new winston_1[(_0x584283(0x15c))][(_0x584283(0x157))]({'filename':_0x584283(0x152)+PI_NAME+_0x584283(0x12e),'format':winston_1['format'][_0x584283(0x166)](winston_1[_0x584283(0x131)][_0x584283(0x151)](),winston_1['format'][_0x584283(0x13f)]()),'datePattern':_0x584283(0x167),'zippedArchive':![],'maxFiles':process['env'][_0x584283(0x14a)]===_0x584283(0x13c)?_0x584283(0x13e):'30d'}),new winston_1[(_0x584283(0x15c))][(_0x584283(0x12f))]({'format':winston_1[_0x584283(0x131)][_0x584283(0x166)](winston_1['format'][_0x584283(0x15a)](),winston_1[_0x584283(0x131)][_0x584283(0x16c)](),winston_1[_0x584283(0x131)][_0x584283(0x151)](),winston_1[_0x584283(0x131)][_0x584283(0x137)]({'stack':!![]}),winston_1[_0x584283(0x131)][_0x584283(0x145)](_0x472131=>{const _0x574bb2=_0x584283;return _0x472131[_0x574bb2(0x151)]+'\x20'+_0x472131['level']+':\x20'+_0x472131[_0x574bb2(0x164)];}))})];(process['env'][_0x584283(0x14a)]===_0x584283(0x13c)||process[_0x584283(0x136)]['NODE_ENV']==='qa')&&_0x211fa9['push'](new WinstonCloudWatch({'logGroupName':process[_0x584283(0x136)][_0x584283(0x158)]||'pi-logs','logStreamName':PI_NAME,'awsAccessKeyId':process['env'][_0x584283(0x132)],'awsSecretKey':process[_0x584283(0x136)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process['env'][_0x584283(0x146)]}));const _0x399785={'httpsOptions':process[_0x584283(0x136)][_0x584283(0x14d)]===_0x584283(0x173)?_0x3e55a7:undefined,'logger':nest_winston_1['WinstonModule'][_0x584283(0x140)]({'transports':_0x211fa9})},_0x2c28c2=await core_1[_0x584283(0x16a)][_0x584283(0x14c)](app_module_1[_0x584283(0x138)],_0x399785);process['on'](_0x584283(0x162),function(_0x3ea9cf){const _0x5db69e=_0x584283;console[_0x5db69e(0x159)](_0x3ea9cf);}),_0x2c28c2['enableCors']();const _0x3a8d6a=new swagger_1[(_0x584283(0x141))]()['setTitle'](_0x584283(0x168))[_0x584283(0x15b)]('The\x20Absolute\x20PA\x20API\x20description')['setVersion'](_0x584283(0x148))[_0x584283(0x169)]('PA')[_0x584283(0x149)](),_0x24bd1e=swagger_1[_0x584283(0x153)]['createDocument'](_0x2c28c2,_0x3a8d6a);swagger_1['SwaggerModule']['setup'](_0x584283(0x139),_0x2c28c2,_0x24bd1e);const _0x4d9326=_0x2c28c2[_0x584283(0x130)](),_0x276903=(0x0,peer_1[_0x584283(0x165)])(_0x4d9326,{'path':_0x584283(0x161)});_0x2c28c2[_0x584283(0x16d)]('/peer',_0x276903);const _0x4f77d3=process[_0x584283(0x136)][_0x584283(0x16b)]||0x1f90;await _0x2c28c2[_0x584283(0x147)](_0x4f77d3),console[_0x584283(0x159)](_0x584283(0x15e)+_0x4f77d3);}bootstrap();