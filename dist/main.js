'use strict';function a78_0x48aa(){const _0x5ba83a=['DailyRotateFile','PI_NAME','uncaughtException','setTitle','combine','errors','winston','./certificates/localhost.key','-%DATE%-error.log','setup','cwd','SwaggerModule','setVersion','enableCors','The\x20Absolute\x20PA\x20API\x20description','90d','message','env','path','DocumentBuilder','transports','use','AWS_ACCESS_KEY_ID','create','__esModule','true','join','ExpressPeerServer','30d','production','setDescription','Console','createLogger','/streaming','5794085pLvNFZ','blob/logs/','api','13294728WoPERk','listen','80754zXNHYK','splat','timestamp','createDocument','peer','printf','@nestjs/core','pi-logs','7661913hlKZDZ','nest-winston','/peer','build','4634613XYYKvX','defineProperty','push','1347955veRmdd','2965632qMfKkU','winston-cloudwatch','json','8DXoWAp','getHttpServer','cli','4tqJyEM','./app.module','format','NODE_ENV','AWS_REGION'];a78_0x48aa=function(){return _0x5ba83a;};return a78_0x48aa();}const a78_0x56ef47=a78_0x439e;(function(_0x49938e,_0x1f1db3){const _0x1f676a=a78_0x439e,_0x6c4493=_0x49938e();while(!![]){try{const _0x20675b=-parseInt(_0x1f676a(0x123))/0x1+parseInt(_0x1f676a(0x124))/0x2+parseInt(_0x1f676a(0x120))/0x3*(parseInt(_0x1f676a(0x12a))/0x4)+-parseInt(_0x1f676a(0x10f))/0x5+parseInt(_0x1f676a(0x114))/0x6+parseInt(_0x1f676a(0x11c))/0x7*(-parseInt(_0x1f676a(0x127))/0x8)+parseInt(_0x1f676a(0x112))/0x9;if(_0x20675b===_0x1f1db3)break;else _0x6c4493['push'](_0x6c4493['shift']());}catch(_0x58b146){_0x6c4493['push'](_0x6c4493['shift']());}}}(a78_0x48aa,0xdfe0f));function a78_0x439e(_0x1909c3,_0x38e818){const _0x48aa33=a78_0x48aa();return a78_0x439e=function(_0x439e33,_0x5cf592){_0x439e33=_0x439e33-0xf7;let _0x37bb4c=_0x48aa33[_0x439e33];return _0x37bb4c;},a78_0x439e(_0x1909c3,_0x38e818);}Object[a78_0x56ef47(0x121)](exports,a78_0x56ef47(0x105),{'value':!![]});const core_1=require(a78_0x56ef47(0x11a)),swagger_1=require('@nestjs/swagger'),nest_winston_1=require(a78_0x56ef47(0x11d)),winston_1=require(a78_0x56ef47(0x135)),peer_1=require(a78_0x56ef47(0x118)),fs=require('fs');require('winston-daily-rotate-file');const path_1=require(a78_0x56ef47(0xff)),app_module_1=require(a78_0x56ef47(0x12b)),WinstonCloudWatch=require(a78_0x56ef47(0x125)),PI_NAME=process[a78_0x56ef47(0xfe)][a78_0x56ef47(0x130)]||'PI';async function bootstrap(){const _0x55cd07=a78_0x56ef47,_0x54e5b0={'key':fs['readFileSync']((0x0,path_1[_0x55cd07(0x107)])(process[_0x55cd07(0xf7)](),_0x55cd07(0x136))),'cert':fs['readFileSync']((0x0,path_1[_0x55cd07(0x107)])(process['cwd'](),'./certificates/localhost.crt'))},_0x1b34f6=[new winston_1[(_0x55cd07(0x101))][(_0x55cd07(0x12f))]({'filename':_0x55cd07(0x110)+PI_NAME+_0x55cd07(0x137),'level':'error','format':winston_1[_0x55cd07(0x12c)]['combine'](winston_1[_0x55cd07(0x12c)][_0x55cd07(0x116)](),winston_1['format'][_0x55cd07(0x126)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x55cd07(0xfe)][_0x55cd07(0x12d)]===_0x55cd07(0x10a)?'90d':_0x55cd07(0x109)}),new winston_1['transports']['DailyRotateFile']({'filename':'blob/logs/'+PI_NAME+'-%DATE%-combined.log','format':winston_1[_0x55cd07(0x12c)][_0x55cd07(0x133)](winston_1[_0x55cd07(0x12c)][_0x55cd07(0x116)](),winston_1['format'][_0x55cd07(0x126)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x55cd07(0xfe)][_0x55cd07(0x12d)]===_0x55cd07(0x10a)?_0x55cd07(0xfc):_0x55cd07(0x109)}),new winston_1[(_0x55cd07(0x101))][(_0x55cd07(0x10c))]({'format':winston_1[_0x55cd07(0x12c)][_0x55cd07(0x133)](winston_1['format'][_0x55cd07(0x129)](),winston_1[_0x55cd07(0x12c)][_0x55cd07(0x115)](),winston_1[_0x55cd07(0x12c)]['timestamp'](),winston_1[_0x55cd07(0x12c)][_0x55cd07(0x134)]({'stack':!![]}),winston_1[_0x55cd07(0x12c)][_0x55cd07(0x119)](_0x49d94f=>{const _0x5ee5c7=_0x55cd07;return _0x49d94f[_0x5ee5c7(0x116)]+'\x20'+_0x49d94f['level']+':\x20'+_0x49d94f[_0x5ee5c7(0xfd)];}))})];(process['env']['NODE_ENV']===_0x55cd07(0x10a)||process[_0x55cd07(0xfe)]['NODE_ENV']==='qa')&&_0x1b34f6[_0x55cd07(0x122)](new WinstonCloudWatch({'logGroupName':process[_0x55cd07(0xfe)]['LOG_GROUP_NAME']||_0x55cd07(0x11b),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x55cd07(0xfe)][_0x55cd07(0x103)],'awsSecretKey':process[_0x55cd07(0xfe)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process[_0x55cd07(0xfe)][_0x55cd07(0x12e)]}));const _0x1804a0={'httpsOptions':process['env']['HTTPS']===_0x55cd07(0x106)?_0x54e5b0:undefined,'logger':nest_winston_1['WinstonModule'][_0x55cd07(0x10d)]({'transports':_0x1b34f6})},_0x1342f8=await core_1['NestFactory'][_0x55cd07(0x104)](app_module_1['AppModule'],_0x1804a0);process['on'](_0x55cd07(0x131),function(_0x4d1453){console['log'](_0x4d1453);}),_0x1342f8[_0x55cd07(0xfa)]();const _0x481563=new swagger_1[(_0x55cd07(0x100))]()[_0x55cd07(0x132)]('Absolute\x20PA\x20application')[_0x55cd07(0x10b)](_0x55cd07(0xfb))[_0x55cd07(0xf9)]('1.0')['addTag']('PA')[_0x55cd07(0x11f)](),_0x304d2f=swagger_1[_0x55cd07(0xf8)][_0x55cd07(0x117)](_0x1342f8,_0x481563);swagger_1[_0x55cd07(0xf8)][_0x55cd07(0x138)](_0x55cd07(0x111),_0x1342f8,_0x304d2f);const _0x57d09c=_0x1342f8[_0x55cd07(0x128)](),_0x44112d=(0x0,peer_1[_0x55cd07(0x108)])(_0x57d09c,{'path':_0x55cd07(0x10e)});_0x1342f8[_0x55cd07(0x102)](_0x55cd07(0x11e),_0x44112d);const _0x549d17=process[_0x55cd07(0xfe)]['PORT']||0x1f90;await _0x1342f8[_0x55cd07(0x113)](_0x549d17),console['log']('App\x20listening\x20on\x20port:\x20'+_0x549d17);}bootstrap();