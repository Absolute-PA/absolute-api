'use strict';const a81_0x25fbb9=a81_0xe4ed;function a81_0x5436(){const _0x388316=['addTag','pi-logs','use','winston-cloudwatch','__esModule','winston-daily-rotate-file','api','AWS_ACCESS_KEY_ID','210QIYrpY','30d','7241985aVrwHu','HTTPS','blob/logs/','splat','DocumentBuilder','PI_NAME','level','env','./certificates/localhost.key','90d','-%DATE%-combined.log','nest-winston','cli','602657wOAEoa','LOG_GROUP_NAME','7zoareb','528432QYeXJq','./app.module','setVersion','setTitle','10WWMJbg','1439980KcFOMx','1916241WOsyOU','NestFactory','NODE_ENV','error','ExpressPeerServer','format','errors','true','YYYY-MM-DD','winston','setup','PORT','SwaggerModule','production','timestamp','readFileSync','1.0','path','push','log','combine','createDocument','1101693vTZToH','DailyRotateFile','join','The\x20Absolute\x20PA\x20API\x20description','Console','transports','@nestjs/swagger','AppModule','json','listen','4856530tqxqDB','6yIrmJE','./certificates/localhost.crt','message'];a81_0x5436=function(){return _0x388316;};return a81_0x5436();}(function(_0x409692,_0x1fcbf3){const _0x502f74=a81_0xe4ed,_0x41e1f8=_0x409692();while(!![]){try{const _0x542417=parseInt(_0x502f74(0x1a7))/0x1+-parseInt(_0x502f74(0x1a5))/0x2*(parseInt(_0x502f74(0x179))/0x3)+parseInt(_0x502f74(0x1a6))/0x4+parseInt(_0x502f74(0x183))/0x5*(parseInt(_0x502f74(0x184))/0x6)+parseInt(_0x502f74(0x1a0))/0x7*(-parseInt(_0x502f74(0x1a1))/0x8)+parseInt(_0x502f74(0x191))/0x9+parseInt(_0x502f74(0x18f))/0xa*(-parseInt(_0x502f74(0x19e))/0xb);if(_0x542417===_0x1fcbf3)break;else _0x41e1f8['push'](_0x41e1f8['shift']());}catch(_0x269eec){_0x41e1f8['push'](_0x41e1f8['shift']());}}}(a81_0x5436,0xf402f));function a81_0xe4ed(_0x567a3d,_0x1c54fa){const _0x5436c6=a81_0x5436();return a81_0xe4ed=function(_0xe4ed6d,_0x728c1){_0xe4ed6d=_0xe4ed6d-0x179;let _0x3f5bb3=_0x5436c6[_0xe4ed6d];return _0x3f5bb3;},a81_0xe4ed(_0x567a3d,_0x1c54fa);}Object['defineProperty'](exports,a81_0x25fbb9(0x18b),{'value':!![]});const core_1=require('@nestjs/core'),swagger_1=require(a81_0x25fbb9(0x17f)),nest_winston_1=require(a81_0x25fbb9(0x19c)),winston_1=require(a81_0x25fbb9(0x1b0)),peer_1=require('peer'),fs=require('fs');require(a81_0x25fbb9(0x18c));const path_1=require(a81_0x25fbb9(0x1b8)),app_module_1=require(a81_0x25fbb9(0x1a2)),WinstonCloudWatch=require(a81_0x25fbb9(0x18a)),PI_NAME=process[a81_0x25fbb9(0x198)][a81_0x25fbb9(0x196)]||'PI';async function bootstrap(){const _0x18e7fd=a81_0x25fbb9,_0x2c0e17={'key':fs['readFileSync']((0x0,path_1[_0x18e7fd(0x17b)])(process['cwd'](),_0x18e7fd(0x199))),'cert':fs[_0x18e7fd(0x1b6)]((0x0,path_1[_0x18e7fd(0x17b)])(process['cwd'](),_0x18e7fd(0x185)))},_0x7ca3a7=[new winston_1[(_0x18e7fd(0x17e))]['DailyRotateFile']({'filename':_0x18e7fd(0x193)+PI_NAME+'-%DATE%-error.log','level':_0x18e7fd(0x1aa),'format':winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x1bb)](winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x1b5)](),winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x181)]()),'datePattern':_0x18e7fd(0x1af),'zippedArchive':![],'maxFiles':process[_0x18e7fd(0x198)][_0x18e7fd(0x1a9)]===_0x18e7fd(0x1b4)?_0x18e7fd(0x19a):_0x18e7fd(0x190)}),new winston_1[(_0x18e7fd(0x17e))][(_0x18e7fd(0x17a))]({'filename':_0x18e7fd(0x193)+PI_NAME+_0x18e7fd(0x19b),'format':winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x1bb)](winston_1[_0x18e7fd(0x1ac)]['timestamp'](),winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x181)]()),'datePattern':'YYYY-MM-DD','zippedArchive':![],'maxFiles':process[_0x18e7fd(0x198)]['NODE_ENV']==='production'?_0x18e7fd(0x19a):_0x18e7fd(0x190)}),new winston_1[(_0x18e7fd(0x17e))][(_0x18e7fd(0x17d))]({'format':winston_1['format'][_0x18e7fd(0x1bb)](winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x19d)](),winston_1['format'][_0x18e7fd(0x194)](),winston_1[_0x18e7fd(0x1ac)][_0x18e7fd(0x1b5)](),winston_1['format'][_0x18e7fd(0x1ad)]({'stack':!![]}),winston_1[_0x18e7fd(0x1ac)]['printf'](_0x51ea57=>{const _0x395191=_0x18e7fd;return _0x51ea57['timestamp']+'\x20'+_0x51ea57[_0x395191(0x197)]+':\x20'+_0x51ea57[_0x395191(0x186)];}))})];(process['env']['NODE_ENV']===_0x18e7fd(0x1b4)||process[_0x18e7fd(0x198)][_0x18e7fd(0x1a9)]==='qa')&&_0x7ca3a7[_0x18e7fd(0x1b9)](new WinstonCloudWatch({'logGroupName':process[_0x18e7fd(0x198)][_0x18e7fd(0x19f)]||_0x18e7fd(0x188),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x18e7fd(0x198)][_0x18e7fd(0x18e)],'awsSecretKey':process[_0x18e7fd(0x198)]['AWS_SECRET_ACCESS_KEY'],'awsRegion':process['env']['AWS_REGION']}));const _0x389adf={'httpsOptions':process[_0x18e7fd(0x198)][_0x18e7fd(0x192)]===_0x18e7fd(0x1ae)?_0x2c0e17:undefined,'logger':nest_winston_1['WinstonModule']['createLogger']({'transports':_0x7ca3a7})},_0x411f34=await core_1[_0x18e7fd(0x1a8)]['create'](app_module_1[_0x18e7fd(0x180)],_0x389adf);process['on']('uncaughtException',function(_0x419b04){const _0x1bf5b8=_0x18e7fd;console[_0x1bf5b8(0x1ba)](_0x419b04);}),_0x411f34['enableCors']();const _0x32cdf1=new swagger_1[(_0x18e7fd(0x195))]()[_0x18e7fd(0x1a4)]('Absolute\x20PA\x20application')['setDescription'](_0x18e7fd(0x17c))[_0x18e7fd(0x1a3)](_0x18e7fd(0x1b7))[_0x18e7fd(0x187)]('PA')['build'](),_0x18d3fe=swagger_1['SwaggerModule'][_0x18e7fd(0x1bc)](_0x411f34,_0x32cdf1);swagger_1[_0x18e7fd(0x1b3)][_0x18e7fd(0x1b1)](_0x18e7fd(0x18d),_0x411f34,_0x18d3fe);const _0x2080dd=_0x411f34['getHttpServer'](),_0x350ab8=(0x0,peer_1[_0x18e7fd(0x1ab)])(_0x2080dd,{'path':'/streaming'});_0x411f34[_0x18e7fd(0x189)]('/peer',_0x350ab8);const _0x4f3f40=process['env'][_0x18e7fd(0x1b2)]||0x1f90;await _0x411f34[_0x18e7fd(0x182)](_0x4f3f40),console[_0x18e7fd(0x1ba)]('App\x20listening\x20on\x20port:\x20'+_0x4f3f40);}bootstrap();