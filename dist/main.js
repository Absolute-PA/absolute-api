'use strict';const a81_0x48c6ec=a81_0x3a43;(function(_0x4dcb48,_0x1cafd0){const _0x27c122=a81_0x3a43,_0x31eb4c=_0x4dcb48();while(!![]){try{const _0x4b47f1=-parseInt(_0x27c122(0x156))/0x1*(-parseInt(_0x27c122(0x12a))/0x2)+-parseInt(_0x27c122(0x130))/0x3*(-parseInt(_0x27c122(0x139))/0x4)+-parseInt(_0x27c122(0x13c))/0x5*(parseInt(_0x27c122(0x12e))/0x6)+-parseInt(_0x27c122(0x146))/0x7+-parseInt(_0x27c122(0x151))/0x8*(parseInt(_0x27c122(0x11f))/0x9)+-parseInt(_0x27c122(0x148))/0xa*(-parseInt(_0x27c122(0x155))/0xb)+parseInt(_0x27c122(0x143))/0xc*(-parseInt(_0x27c122(0x15b))/0xd);if(_0x4b47f1===_0x1cafd0)break;else _0x31eb4c['push'](_0x31eb4c['shift']());}catch(_0x18987d){_0x31eb4c['push'](_0x31eb4c['shift']());}}}(a81_0x1ff6,0x4c9fc));Object['defineProperty'](exports,'__esModule',{'value':!![]});function a81_0x1ff6(){const _0x1591f8=['env','winston-daily-rotate-file','listen','LOG_GROUP_NAME','timestamp','json','./certificates/localhost.crt','AppModule','pi-logs','SwaggerModule','30upCfnI','join','/streaming','AWS_SECRET_ACCESS_KEY','10434BNKHul','setVersion','10518oxvdNy','/peer','build','YYYY-MM-DD','combine','DailyRotateFile','-%DATE%-error.log','true','level','280iDzyeh','setTitle','ExpressPeerServer','185ThYlnJ','uncaughtException','setDescription','readFileSync','90d','The\x20Absolute\x20PA\x20API\x20description','NODE_ENV','110604lgnxLy','cwd','transports','1167971UNWOEn','./app.module','1934900YdqIKR','push','log','create','AWS_ACCESS_KEY_ID','peer','cli','addTag','format','10600FsayWc','error','createDocument','printf','11oThCvs','18732eVLbVf','winston','30d','Console','AWS_REGION','13vlxcWO','production','-%DATE%-combined.log','enableCors','@nestjs/core','blob/logs/','PORT','NestFactory','getHttpServer','1125ygrmNa'];a81_0x1ff6=function(){return _0x1591f8;};return a81_0x1ff6();}function a81_0x3a43(_0x1bb96e,_0x491039){const _0x1ff6e5=a81_0x1ff6();return a81_0x3a43=function(_0x3a43b0,_0x2b75f1){_0x3a43b0=_0x3a43b0-0x11e;let _0xd35583=_0x1ff6e5[_0x3a43b0];return _0xd35583;},a81_0x3a43(_0x1bb96e,_0x491039);}const core_1=require(a81_0x48c6ec(0x15f)),swagger_1=require('@nestjs/swagger'),nest_winston_1=require('nest-winston'),winston_1=require(a81_0x48c6ec(0x157)),peer_1=require(a81_0x48c6ec(0x14d)),fs=require('fs');require(a81_0x48c6ec(0x121));const path_1=require('path'),app_module_1=require(a81_0x48c6ec(0x147)),WinstonCloudWatch=require('winston-cloudwatch'),PI_NAME=process[a81_0x48c6ec(0x120)]['PI_NAME']||'PI';async function bootstrap(){const _0x36f5e2=a81_0x48c6ec,_0x46e8c7={'key':fs[_0x36f5e2(0x13f)]((0x0,path_1[_0x36f5e2(0x12b)])(process[_0x36f5e2(0x144)](),'./certificates/localhost.key')),'cert':fs[_0x36f5e2(0x13f)]((0x0,path_1[_0x36f5e2(0x12b)])(process[_0x36f5e2(0x144)](),_0x36f5e2(0x126)))},_0x1ef4c4=[new winston_1[(_0x36f5e2(0x145))]['DailyRotateFile']({'filename':_0x36f5e2(0x160)+PI_NAME+_0x36f5e2(0x136),'level':_0x36f5e2(0x152),'format':winston_1[_0x36f5e2(0x150)]['combine'](winston_1[_0x36f5e2(0x150)][_0x36f5e2(0x124)](),winston_1[_0x36f5e2(0x150)][_0x36f5e2(0x125)]()),'datePattern':_0x36f5e2(0x133),'zippedArchive':![],'maxFiles':process[_0x36f5e2(0x120)][_0x36f5e2(0x142)]==='production'?_0x36f5e2(0x140):_0x36f5e2(0x158)}),new winston_1['transports'][(_0x36f5e2(0x135))]({'filename':'blob/logs/'+PI_NAME+_0x36f5e2(0x15d),'format':winston_1['format'][_0x36f5e2(0x134)](winston_1['format'][_0x36f5e2(0x124)](),winston_1[_0x36f5e2(0x150)][_0x36f5e2(0x125)]()),'datePattern':_0x36f5e2(0x133),'zippedArchive':![],'maxFiles':process[_0x36f5e2(0x120)][_0x36f5e2(0x142)]===_0x36f5e2(0x15c)?_0x36f5e2(0x140):_0x36f5e2(0x158)}),new winston_1[(_0x36f5e2(0x145))][(_0x36f5e2(0x159))]({'format':winston_1[_0x36f5e2(0x150)][_0x36f5e2(0x134)](winston_1['format'][_0x36f5e2(0x14e)](),winston_1[_0x36f5e2(0x150)]['splat'](),winston_1['format']['timestamp'](),winston_1[_0x36f5e2(0x150)]['errors']({'stack':!![]}),winston_1[_0x36f5e2(0x150)][_0x36f5e2(0x154)](_0xaa6e91=>{const _0x2510b7=_0x36f5e2;return _0xaa6e91[_0x2510b7(0x124)]+'\x20'+_0xaa6e91[_0x2510b7(0x138)]+':\x20'+_0xaa6e91['message'];}))})];(process[_0x36f5e2(0x120)]['NODE_ENV']===_0x36f5e2(0x15c)||process[_0x36f5e2(0x120)][_0x36f5e2(0x142)]==='qa')&&_0x1ef4c4[_0x36f5e2(0x149)](new WinstonCloudWatch({'logGroupName':process[_0x36f5e2(0x120)][_0x36f5e2(0x123)]||_0x36f5e2(0x128),'logStreamName':PI_NAME,'awsAccessKeyId':process[_0x36f5e2(0x120)][_0x36f5e2(0x14c)],'awsSecretKey':process['env'][_0x36f5e2(0x12d)],'awsRegion':process[_0x36f5e2(0x120)][_0x36f5e2(0x15a)]}));const _0x7361fc={'httpsOptions':process['env']['HTTPS']===_0x36f5e2(0x137)?_0x46e8c7:undefined,'logger':nest_winston_1['WinstonModule']['createLogger']({'transports':_0x1ef4c4})},_0x4cfe67=await core_1[_0x36f5e2(0x162)][_0x36f5e2(0x14b)](app_module_1[_0x36f5e2(0x127)],_0x7361fc);process['on'](_0x36f5e2(0x13d),function(_0x59f9a7){const _0x4edc7d=_0x36f5e2;console[_0x4edc7d(0x14a)](_0x59f9a7);}),_0x4cfe67[_0x36f5e2(0x15e)]();const _0x425f2a=new swagger_1['DocumentBuilder']()[_0x36f5e2(0x13a)]('Absolute\x20PA\x20application')[_0x36f5e2(0x13e)](_0x36f5e2(0x141))[_0x36f5e2(0x12f)]('1.0')[_0x36f5e2(0x14f)]('PA')[_0x36f5e2(0x132)](),_0x5f375e=swagger_1[_0x36f5e2(0x129)][_0x36f5e2(0x153)](_0x4cfe67,_0x425f2a);swagger_1[_0x36f5e2(0x129)]['setup']('api',_0x4cfe67,_0x5f375e);const _0x556782=_0x4cfe67[_0x36f5e2(0x11e)](),_0x3f18ed=(0x0,peer_1[_0x36f5e2(0x13b)])(_0x556782,{'path':_0x36f5e2(0x12c)});_0x4cfe67['use'](_0x36f5e2(0x131),_0x3f18ed);const _0xb2e8c3=process[_0x36f5e2(0x120)][_0x36f5e2(0x161)]||0x1f90;await _0x4cfe67[_0x36f5e2(0x122)](_0xb2e8c3),console[_0x36f5e2(0x14a)]('App\x20listening\x20on\x20port:\x20'+_0xb2e8c3);}bootstrap();