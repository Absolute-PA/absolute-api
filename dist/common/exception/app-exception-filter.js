'use strict';function a69_0x2165(_0x486a26,_0x416bf7){const _0x3ffb72=a69_0x3ffb();return a69_0x2165=function(_0x2165e1,_0x46275){_0x2165e1=_0x2165e1-0x6f;let _0x5c5732=_0x3ffb72[_0x2165e1];return _0x5c5732;},a69_0x2165(_0x486a26,_0x416bf7);}const a69_0x8c79e0=a69_0x2165;(function(_0x12c894,_0x3f07fe){const _0x424ca4=a69_0x2165,_0x4543b9=_0x12c894();while(!![]){try{const _0xf6e8cb=-parseInt(_0x424ca4(0x97))/0x1*(-parseInt(_0x424ca4(0x7c))/0x2)+parseInt(_0x424ca4(0x7a))/0x3*(parseInt(_0x424ca4(0x80))/0x4)+parseInt(_0x424ca4(0x7f))/0x5*(parseInt(_0x424ca4(0x85))/0x6)+parseInt(_0x424ca4(0x90))/0x7*(-parseInt(_0x424ca4(0x9c))/0x8)+parseInt(_0x424ca4(0x8c))/0x9*(parseInt(_0x424ca4(0x6f))/0xa)+parseInt(_0x424ca4(0x77))/0xb*(parseInt(_0x424ca4(0x70))/0xc)+-parseInt(_0x424ca4(0x9f))/0xd;if(_0xf6e8cb===_0x3f07fe)break;else _0x4543b9['push'](_0x4543b9['shift']());}catch(_0x560da9){_0x4543b9['push'](_0x4543b9['shift']());}}}(a69_0x3ffb,0x9f143));var __decorate=this&&this[a69_0x8c79e0(0x93)]||function(_0x1f85e1,_0xf5d9c9,_0x4f32ae,_0x52f99c){const _0x4dafbf=a69_0x8c79e0;var _0x59a7d3=arguments['length'],_0x319453=_0x59a7d3<0x3?_0xf5d9c9:_0x52f99c===null?_0x52f99c=Object[_0x4dafbf(0x78)](_0xf5d9c9,_0x4f32ae):_0x52f99c,_0x294028;if(typeof Reflect===_0x4dafbf(0x8b)&&typeof Reflect['decorate']==='function')_0x319453=Reflect['decorate'](_0x1f85e1,_0xf5d9c9,_0x4f32ae,_0x52f99c);else{for(var _0x4d42e1=_0x1f85e1['length']-0x1;_0x4d42e1>=0x0;_0x4d42e1--)if(_0x294028=_0x1f85e1[_0x4d42e1])_0x319453=(_0x59a7d3<0x3?_0x294028(_0x319453):_0x59a7d3>0x3?_0x294028(_0xf5d9c9,_0x4f32ae,_0x319453):_0x294028(_0xf5d9c9,_0x4f32ae))||_0x319453;}return _0x59a7d3>0x3&&_0x319453&&Object[_0x4dafbf(0x7d)](_0xf5d9c9,_0x4f32ae,_0x319453),_0x319453;},__metadata=this&&this[a69_0x8c79e0(0x88)]||function(_0x3a0710,_0x2d572d){const _0x2235cb=a69_0x8c79e0;if(typeof Reflect===_0x2235cb(0x8b)&&typeof Reflect[_0x2235cb(0x92)]==='function')return Reflect[_0x2235cb(0x92)](_0x3a0710,_0x2d572d);};function a69_0x3ffb(){const _0x4cfa0a=['defineProperty','authorization','45NneEZY','24yOSaam','../../email/email.service','AppExceptionFilter','Failed\x20to\x20send\x20exception\x20email:','toISOString','341232LEVENQ','sanitizeHeaders','getStatus','__metadata','x-api-key','getRequest','object','7407PiEekA','assign','HttpException','switchToHttp','779555YdAtin','Logger','metadata','__decorate','status','cookie','emailService','399AGkaeq','json','method','Catch','error','8cKMXEi','sendExceptionNotification','url','40301729qYJQJx','message','design:paramtypes','14140qxWpuE','948lfMjiy','PI_NAME','Internal\x20Server\x20Error','Injectable','getResponse','headers','__esModule','89782qmRisF','getOwnPropertyDescriptor','body','329865nCjNtC','logger','4426hBIhTW'];a69_0x3ffb=function(){return _0x4cfa0a;};return a69_0x3ffb();}Object[a69_0x8c79e0(0x7d)](exports,a69_0x8c79e0(0x76),{'value':!![]}),exports[a69_0x8c79e0(0x82)]=void 0x0;const common_1=require('@nestjs/common'),email_service_1=require(a69_0x8c79e0(0x81));let AppExceptionFilter=class AppExceptionFilter{constructor(_0x107959){const _0x4e3318=a69_0x8c79e0;this['emailService']=_0x107959,this[_0x4e3318(0x7b)]=new common_1[(_0x4e3318(0x91))]('AppException');}async['catch'](_0x5451d2,_0x22173d){const _0x256bbb=a69_0x8c79e0,_0x2e5872=_0x22173d[_0x256bbb(0x8f)](),_0x3a7c05=_0x2e5872[_0x256bbb(0x8a)](),_0x5bb193=_0x2e5872[_0x256bbb(0x74)]();this['logger'][_0x256bbb(0x9b)](_0x5451d2);if(!(_0x5451d2 instanceof common_1[_0x256bbb(0x8e)]))try{await this[_0x256bbb(0x96)][_0x256bbb(0x9d)]({'message':_0x5451d2['stack']||_0x5451d2[_0x256bbb(0xa0)],'url':_0x3a7c05[_0x256bbb(0x9e)],'method':_0x3a7c05[_0x256bbb(0x99)],'body':_0x3a7c05[_0x256bbb(0x79)],'headers':this[_0x256bbb(0x86)](_0x3a7c05[_0x256bbb(0x75)]),'timestamp':new Date()[_0x256bbb(0x84)](),'piName':process['env'][_0x256bbb(0x71)]});}catch(_0x7c1ba4){this[_0x256bbb(0x7b)][_0x256bbb(0x9b)](_0x256bbb(0x83),_0x7c1ba4);}_0x5451d2 instanceof common_1[_0x256bbb(0x8e)]?_0x5bb193[_0x256bbb(0x94)](_0x5451d2[_0x256bbb(0x87)]())[_0x256bbb(0x98)](_0x5451d2[_0x256bbb(0x74)]()):_0x5bb193['status'](0x1f4)['json']({'statusCode':0x1f4,'message':_0x256bbb(0x72)});}['sanitizeHeaders'](_0x27e228){const _0x292de0=a69_0x8c79e0,_0x1eab2a=Object[_0x292de0(0x8d)]({},_0x27e228);return delete _0x1eab2a[_0x292de0(0x7e)],delete _0x1eab2a[_0x292de0(0x95)],delete _0x1eab2a[_0x292de0(0x89)],_0x1eab2a;}};AppExceptionFilter=__decorate([(0x0,common_1[a69_0x8c79e0(0x9a)])(),(0x0,common_1[a69_0x8c79e0(0x73)])(),__metadata(a69_0x8c79e0(0xa1),[email_service_1['EmailService']])],AppExceptionFilter),exports[a69_0x8c79e0(0x82)]=AppExceptionFilter;