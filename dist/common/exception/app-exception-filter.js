'use strict';const a69_0xa02cd3=a69_0x3e44;(function(_0x15f2fc,_0x56be6d){const _0x101deb=a69_0x3e44,_0x23d7a6=_0x15f2fc();while(!![]){try{const _0x1ae994=parseInt(_0x101deb(0x208))/0x1*(-parseInt(_0x101deb(0x1ff))/0x2)+parseInt(_0x101deb(0x1fa))/0x3+parseInt(_0x101deb(0x20f))/0x4+-parseInt(_0x101deb(0x200))/0x5+parseInt(_0x101deb(0x1ee))/0x6+parseInt(_0x101deb(0x210))/0x7+-parseInt(_0x101deb(0x1fd))/0x8*(parseInt(_0x101deb(0x206))/0x9);if(_0x1ae994===_0x56be6d)break;else _0x23d7a6['push'](_0x23d7a6['shift']());}catch(_0x1e9f33){_0x23d7a6['push'](_0x23d7a6['shift']());}}}(a69_0x3bdb,0xcf5bf));function a69_0x3bdb(){const _0x23a9e2=['5937720UojeJe','metadata','../../email/email.service','headers','design:paramtypes','HttpException','852741NMLXFd','AppExceptionFilter','2137sbSmqj','assign','decorate','getOwnPropertyDescriptor','sanitizeHeaders','catch','cookie','5585116ukKjZH','4583264MMcCiZ','switchToHttp','AppException','getRequest','__esModule','authorization','message','logger','7757244sLbZJJ','Failed\x20to\x20send\x20exception\x20email:','@nestjs/common','Catch','object','defineProperty','url','function','sendExceptionNotification','__decorate','EmailService','Injectable','1932345UkqiRC','status','getResponse','48YSccIT','error','1294mYRyNf'];a69_0x3bdb=function(){return _0x23a9e2;};return a69_0x3bdb();}var __decorate=this&&this[a69_0xa02cd3(0x1f7)]||function(_0x2a1520,_0x553cef,_0x466641,_0x143077){const _0x139c5c=a69_0xa02cd3;var _0xe6487b=arguments['length'],_0x525e8b=_0xe6487b<0x3?_0x553cef:_0x143077===null?_0x143077=Object[_0x139c5c(0x20b)](_0x553cef,_0x466641):_0x143077,_0x3c87d9;if(typeof Reflect===_0x139c5c(0x1f2)&&typeof Reflect[_0x139c5c(0x20a)]==='function')_0x525e8b=Reflect['decorate'](_0x2a1520,_0x553cef,_0x466641,_0x143077);else{for(var _0x4d4bc1=_0x2a1520['length']-0x1;_0x4d4bc1>=0x0;_0x4d4bc1--)if(_0x3c87d9=_0x2a1520[_0x4d4bc1])_0x525e8b=(_0xe6487b<0x3?_0x3c87d9(_0x525e8b):_0xe6487b>0x3?_0x3c87d9(_0x553cef,_0x466641,_0x525e8b):_0x3c87d9(_0x553cef,_0x466641))||_0x525e8b;}return _0xe6487b>0x3&&_0x525e8b&&Object[_0x139c5c(0x1f3)](_0x553cef,_0x466641,_0x525e8b),_0x525e8b;},__metadata=this&&this['__metadata']||function(_0x56cf6a,_0x38b2b5){const _0x5e6932=a69_0xa02cd3;if(typeof Reflect===_0x5e6932(0x1f2)&&typeof Reflect[_0x5e6932(0x201)]===_0x5e6932(0x1f5))return Reflect[_0x5e6932(0x201)](_0x56cf6a,_0x38b2b5);};Object[a69_0xa02cd3(0x1f3)](exports,a69_0xa02cd3(0x1ea),{'value':!![]}),exports['AppExceptionFilter']=void 0x0;const common_1=require(a69_0xa02cd3(0x1f0)),email_service_1=require(a69_0xa02cd3(0x202));let AppExceptionFilter=class AppExceptionFilter{constructor(_0x4ab297){const _0x375946=a69_0xa02cd3;this['emailService']=_0x4ab297,this['logger']=new common_1['Logger'](_0x375946(0x1e8));}async[a69_0xa02cd3(0x20d)](_0x240c03,_0x20ad7b){const _0x32cb01=a69_0xa02cd3,_0x3d1a53=_0x20ad7b[_0x32cb01(0x211)](),_0x5e230c=_0x3d1a53[_0x32cb01(0x1e9)](),_0x25ac09=_0x3d1a53['getResponse']();this[_0x32cb01(0x1ed)][_0x32cb01(0x1fe)](_0x240c03);if(!(_0x240c03 instanceof common_1[_0x32cb01(0x205)]))try{await this['emailService'][_0x32cb01(0x1f6)]({'message':_0x240c03['stack']||_0x240c03[_0x32cb01(0x1ec)],'url':_0x5e230c[_0x32cb01(0x1f4)],'method':_0x5e230c['method'],'body':_0x5e230c['body'],'headers':this[_0x32cb01(0x20c)](_0x5e230c[_0x32cb01(0x203)]),'timestamp':new Date()['toISOString'](),'piName':process['env']['PI_NAME']});}catch(_0x432915){this[_0x32cb01(0x1ed)][_0x32cb01(0x1fe)](_0x32cb01(0x1ef),_0x432915);}_0x240c03 instanceof common_1[_0x32cb01(0x205)]?_0x25ac09[_0x32cb01(0x1fb)](_0x240c03['getStatus']())['json'](_0x240c03[_0x32cb01(0x1fc)]()):_0x25ac09[_0x32cb01(0x1fb)](0x1f4)['json']({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}[a69_0xa02cd3(0x20c)](_0x3b6eed){const _0x487512=a69_0xa02cd3,_0x2ce92c=Object[_0x487512(0x209)]({},_0x3b6eed);return delete _0x2ce92c[_0x487512(0x1eb)],delete _0x2ce92c[_0x487512(0x20e)],delete _0x2ce92c['x-api-key'],_0x2ce92c;}};function a69_0x3e44(_0x121ac0,_0x33ac9d){const _0x3bdb76=a69_0x3bdb();return a69_0x3e44=function(_0x3e445b,_0x52076c){_0x3e445b=_0x3e445b-0x1e8;let _0xf931d0=_0x3bdb76[_0x3e445b];return _0xf931d0;},a69_0x3e44(_0x121ac0,_0x33ac9d);}AppExceptionFilter=__decorate([(0x0,common_1[a69_0xa02cd3(0x1f1)])(),(0x0,common_1[a69_0xa02cd3(0x1f9)])(),__metadata(a69_0xa02cd3(0x204),[email_service_1[a69_0xa02cd3(0x1f8)]])],AppExceptionFilter),exports[a69_0xa02cd3(0x207)]=AppExceptionFilter;