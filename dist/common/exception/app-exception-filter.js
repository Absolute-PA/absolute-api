'use strict';const a69_0xae04a7=a69_0xc384;(function(_0x234961,_0x544b74){const _0x2e4a45=a69_0xc384,_0x36dc5f=_0x234961();while(!![]){try{const _0x4a98fb=-parseInt(_0x2e4a45(0x1b9))/0x1*(-parseInt(_0x2e4a45(0x19b))/0x2)+parseInt(_0x2e4a45(0x195))/0x3*(-parseInt(_0x2e4a45(0x1ad))/0x4)+-parseInt(_0x2e4a45(0x19a))/0x5+parseInt(_0x2e4a45(0x1b6))/0x6+-parseInt(_0x2e4a45(0x1b4))/0x7+parseInt(_0x2e4a45(0x19e))/0x8+parseInt(_0x2e4a45(0x191))/0x9;if(_0x4a98fb===_0x544b74)break;else _0x36dc5f['push'](_0x36dc5f['shift']());}catch(_0x5ea13f){_0x36dc5f['push'](_0x36dc5f['shift']());}}}(a69_0x13a0,0xaef51));var __decorate=this&&this[a69_0xae04a7(0x19c)]||function(_0x1a43bb,_0x252d7e,_0x1f4c2c,_0x4449a9){const _0x512885=a69_0xae04a7;var _0x54b632=arguments[_0x512885(0x1ae)],_0x2fc1ec=_0x54b632<0x3?_0x252d7e:_0x4449a9===null?_0x4449a9=Object[_0x512885(0x1b1)](_0x252d7e,_0x1f4c2c):_0x4449a9,_0x3a0701;if(typeof Reflect==='object'&&typeof Reflect[_0x512885(0x1ba)]===_0x512885(0x19f))_0x2fc1ec=Reflect[_0x512885(0x1ba)](_0x1a43bb,_0x252d7e,_0x1f4c2c,_0x4449a9);else{for(var _0x5044cf=_0x1a43bb[_0x512885(0x1ae)]-0x1;_0x5044cf>=0x0;_0x5044cf--)if(_0x3a0701=_0x1a43bb[_0x5044cf])_0x2fc1ec=(_0x54b632<0x3?_0x3a0701(_0x2fc1ec):_0x54b632>0x3?_0x3a0701(_0x252d7e,_0x1f4c2c,_0x2fc1ec):_0x3a0701(_0x252d7e,_0x1f4c2c))||_0x2fc1ec;}return _0x54b632>0x3&&_0x2fc1ec&&Object[_0x512885(0x1b2)](_0x252d7e,_0x1f4c2c,_0x2fc1ec),_0x2fc1ec;},__metadata=this&&this[a69_0xae04a7(0x1bd)]||function(_0x2978fd,_0x5e3258){const _0x3eafc1=a69_0xae04a7;if(typeof Reflect===_0x3eafc1(0x1bb)&&typeof Reflect[_0x3eafc1(0x1c2)]===_0x3eafc1(0x19f))return Reflect['metadata'](_0x2978fd,_0x5e3258);};Object[a69_0xae04a7(0x1b2)](exports,a69_0xae04a7(0x197),{'value':!![]}),exports[a69_0xae04a7(0x1aa)]=void 0x0;function a69_0xc384(_0x5037c5,_0x188fbb){const _0x13a0ee=a69_0x13a0();return a69_0xc384=function(_0xc3842e,_0x5bfb65){_0xc3842e=_0xc3842e-0x191;let _0x12e1ec=_0x13a0ee[_0xc3842e];return _0x12e1ec;},a69_0xc384(_0x5037c5,_0x188fbb);}const common_1=require(a69_0xae04a7(0x193)),email_service_1=require(a69_0xae04a7(0x1c0));let AppExceptionFilter=class AppExceptionFilter{constructor(_0x30847c){const _0x23dbb9=a69_0xae04a7;this['emailService']=_0x30847c,this[_0x23dbb9(0x19d)]=new common_1[(_0x23dbb9(0x1c1))](_0x23dbb9(0x196));}async[a69_0xae04a7(0x1a8)](_0xf27f01,_0xb12e16){const _0xfe654f=a69_0xae04a7,_0x4ae9b3=_0xb12e16[_0xfe654f(0x1ab)](),_0x4cf1b5=_0x4ae9b3['getRequest'](),_0x5b42fd=_0x4ae9b3[_0xfe654f(0x1a6)]();this['logger'][_0xfe654f(0x1be)](_0xf27f01);if(!(_0xf27f01 instanceof common_1[_0xfe654f(0x1bc)]))try{await this['emailService']['sendExceptionNotification']({'message':_0xf27f01[_0xfe654f(0x1b0)]||_0xf27f01[_0xfe654f(0x1a3)],'url':_0x4cf1b5[_0xfe654f(0x1a4)],'method':_0x4cf1b5[_0xfe654f(0x1a9)],'body':_0x4cf1b5[_0xfe654f(0x1a7)],'headers':this['sanitizeHeaders'](_0x4cf1b5[_0xfe654f(0x1ac)]),'timestamp':new Date()[_0xfe654f(0x192)](),'piName':process[_0xfe654f(0x1c3)][_0xfe654f(0x194)]});}catch(_0x3423e3){this[_0xfe654f(0x19d)][_0xfe654f(0x1be)](_0xfe654f(0x1b5),_0x3423e3);}_0xf27f01 instanceof common_1['HttpException']?_0x5b42fd[_0xfe654f(0x1b7)](_0xf27f01[_0xfe654f(0x1a5)]())[_0xfe654f(0x1b3)](_0xf27f01[_0xfe654f(0x1a6)]()):_0x5b42fd['status'](0x1f4)[_0xfe654f(0x1b3)]({'statusCode':0x1f4,'message':_0xfe654f(0x1a2)});}[a69_0xae04a7(0x1b8)](_0x274c71){const _0x3470d4=a69_0xae04a7,_0x3330bc=Object[_0x3470d4(0x1a0)]({},_0x274c71);return delete _0x3330bc['authorization'],delete _0x3330bc[_0x3470d4(0x1a1)],delete _0x3330bc[_0x3470d4(0x1af)],_0x3330bc;}};AppExceptionFilter=__decorate([(0x0,common_1[a69_0xae04a7(0x198)])(),(0x0,common_1[a69_0xae04a7(0x1bf)])(),__metadata('design:paramtypes',[email_service_1[a69_0xae04a7(0x199)]])],AppExceptionFilter),exports['AppExceptionFilter']=AppExceptionFilter;function a69_0x13a0(){const _0x3315bb=['Logger','metadata','env','6983730RoWPbg','toISOString','@nestjs/common','PI_NAME','9frNIax','AppException','__esModule','Catch','EmailService','4918710dLanXo','4gcpvjo','__decorate','logger','2141560hoUCns','function','assign','cookie','Internal\x20Server\x20Error','message','url','getStatus','getResponse','body','catch','method','AppExceptionFilter','switchToHttp','headers','1312384RVDJmM','length','x-api-key','stack','getOwnPropertyDescriptor','defineProperty','json','266903KjWyAd','Failed\x20to\x20send\x20exception\x20email:','3805002iznzLe','status','sanitizeHeaders','522476YYTjxJ','decorate','object','HttpException','__metadata','error','Injectable','../../email/email.service'];a69_0x13a0=function(){return _0x3315bb;};return a69_0x13a0();}