'use strict';const a69_0x5556ed=a69_0xc05a;(function(_0x1c9caf,_0x45cbe3){const _0x5ee64e=a69_0xc05a,_0x59302a=_0x1c9caf();while(!![]){try{const _0x125a3c=parseInt(_0x5ee64e(0x142))/0x1+-parseInt(_0x5ee64e(0x161))/0x2*(-parseInt(_0x5ee64e(0x158))/0x3)+-parseInt(_0x5ee64e(0x150))/0x4*(-parseInt(_0x5ee64e(0x154))/0x5)+-parseInt(_0x5ee64e(0x163))/0x6+parseInt(_0x5ee64e(0x151))/0x7+parseInt(_0x5ee64e(0x144))/0x8*(parseInt(_0x5ee64e(0x15c))/0x9)+-parseInt(_0x5ee64e(0x153))/0xa;if(_0x125a3c===_0x45cbe3)break;else _0x59302a['push'](_0x59302a['shift']());}catch(_0x5249ae){_0x59302a['push'](_0x59302a['shift']());}}}(a69_0x3df3,0x5c049));var __decorate=this&&this[a69_0x5556ed(0x149)]||function(_0x40d980,_0x52edfa,_0x469898,_0x32d28f){const _0x49ca1c=a69_0x5556ed;var _0x22ac45=arguments[_0x49ca1c(0x14d)],_0x314333=_0x22ac45<0x3?_0x52edfa:_0x32d28f===null?_0x32d28f=Object[_0x49ca1c(0x155)](_0x52edfa,_0x469898):_0x32d28f,_0x410b31;if(typeof Reflect===_0x49ca1c(0x145)&&typeof Reflect[_0x49ca1c(0x15b)]==='function')_0x314333=Reflect[_0x49ca1c(0x15b)](_0x40d980,_0x52edfa,_0x469898,_0x32d28f);else{for(var _0x16aafc=_0x40d980[_0x49ca1c(0x14d)]-0x1;_0x16aafc>=0x0;_0x16aafc--)if(_0x410b31=_0x40d980[_0x16aafc])_0x314333=(_0x22ac45<0x3?_0x410b31(_0x314333):_0x22ac45>0x3?_0x410b31(_0x52edfa,_0x469898,_0x314333):_0x410b31(_0x52edfa,_0x469898))||_0x314333;}return _0x22ac45>0x3&&_0x314333&&Object[_0x49ca1c(0x152)](_0x52edfa,_0x469898,_0x314333),_0x314333;},__metadata=this&&this['__metadata']||function(_0x13d754,_0x590d8e){const _0x5a1850=a69_0x5556ed;if(typeof Reflect===_0x5a1850(0x145)&&typeof Reflect['metadata']===_0x5a1850(0x166))return Reflect['metadata'](_0x13d754,_0x590d8e);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a69_0x5556ed(0x16e)]=void 0x0;const common_1=require('@nestjs/common'),email_service_1=require(a69_0x5556ed(0x147));function a69_0xc05a(_0xbd41e2,_0x2b05f5){const _0x3df372=a69_0x3df3();return a69_0xc05a=function(_0xc05aa2,_0x173e3b){_0xc05aa2=_0xc05aa2-0x142;let _0x2f677b=_0x3df372[_0xc05aa2];return _0x2f677b;},a69_0xc05a(_0xbd41e2,_0x2b05f5);}let AppExceptionFilter=class AppExceptionFilter{constructor(_0x5f25c1){const _0x1172b5=a69_0x5556ed;this[_0x1172b5(0x14a)]=_0x5f25c1,this[_0x1172b5(0x148)]=new common_1[(_0x1172b5(0x160))](_0x1172b5(0x16f));}async[a69_0x5556ed(0x16c)](_0x42d7ab,_0x2a61b0){const _0x13e3f6=a69_0x5556ed,_0x192799=_0x2a61b0[_0x13e3f6(0x14f)](),_0x50b2ce=_0x192799['getRequest'](),_0x21dbf6=_0x192799['getResponse']();this[_0x13e3f6(0x148)]['error'](_0x42d7ab);if(!(_0x42d7ab instanceof common_1['HttpException']))try{await this['emailService'][_0x13e3f6(0x169)]({'message':_0x42d7ab[_0x13e3f6(0x16b)]||_0x42d7ab[_0x13e3f6(0x157)],'url':_0x50b2ce[_0x13e3f6(0x167)],'method':_0x50b2ce[_0x13e3f6(0x156)],'body':_0x50b2ce[_0x13e3f6(0x168)],'headers':this[_0x13e3f6(0x15a)](_0x50b2ce['headers']),'timestamp':new Date()[_0x13e3f6(0x162)](),'piName':process[_0x13e3f6(0x15d)][_0x13e3f6(0x143)]});}catch(_0x126f1d){this[_0x13e3f6(0x148)][_0x13e3f6(0x14e)]('Failed\x20to\x20send\x20exception\x20email:',_0x126f1d);}_0x42d7ab instanceof common_1[_0x13e3f6(0x159)]?_0x21dbf6[_0x13e3f6(0x164)](_0x42d7ab[_0x13e3f6(0x16d)]())[_0x13e3f6(0x146)](_0x42d7ab[_0x13e3f6(0x165)]()):_0x21dbf6[_0x13e3f6(0x164)](0x1f4)['json']({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}[a69_0x5556ed(0x15a)](_0xe08424){const _0x501731=a69_0x5556ed,_0x99f556=Object['assign']({},_0xe08424);return delete _0x99f556['authorization'],delete _0x99f556[_0x501731(0x14b)],delete _0x99f556[_0x501731(0x15e)],_0x99f556;}};AppExceptionFilter=__decorate([(0x0,common_1[a69_0x5556ed(0x14c)])(),(0x0,common_1['Injectable'])(),__metadata(a69_0x5556ed(0x16a),[email_service_1[a69_0x5556ed(0x15f)]])],AppExceptionFilter),exports['AppExceptionFilter']=AppExceptionFilter;function a69_0x3df3(){const _0x5ce2cc=['EmailService','Logger','18IxhUhJ','toISOString','610182uRKsvC','status','getResponse','function','url','body','sendExceptionNotification','design:paramtypes','stack','catch','getStatus','AppExceptionFilter','AppException','558518svOUkv','PI_NAME','24CXoeMp','object','json','../../email/email.service','logger','__decorate','emailService','cookie','Catch','length','error','switchToHttp','28SafzQg','3212706hKntYC','defineProperty','16635100xNLkQI','260035SYeQmc','getOwnPropertyDescriptor','method','message','60243DOaDSg','HttpException','sanitizeHeaders','decorate','1739574yJyzsr','env','x-api-key'];a69_0x3df3=function(){return _0x5ce2cc;};return a69_0x3df3();}