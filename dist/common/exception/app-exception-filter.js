'use strict';const a69_0x492a9a=a69_0x18c8;(function(_0x28622a,_0xa717c7){const _0x6c7c4c=a69_0x18c8,_0x1521ab=_0x28622a();while(!![]){try{const _0x2cdf54=parseInt(_0x6c7c4c(0x1c7))/0x1*(-parseInt(_0x6c7c4c(0x1ad))/0x2)+-parseInt(_0x6c7c4c(0x1be))/0x3*(parseInt(_0x6c7c4c(0x1d5))/0x4)+parseInt(_0x6c7c4c(0x1d6))/0x5+-parseInt(_0x6c7c4c(0x1ac))/0x6*(-parseInt(_0x6c7c4c(0x1b8))/0x7)+-parseInt(_0x6c7c4c(0x1ce))/0x8+parseInt(_0x6c7c4c(0x1dc))/0x9+parseInt(_0x6c7c4c(0x1cf))/0xa;if(_0x2cdf54===_0xa717c7)break;else _0x1521ab['push'](_0x1521ab['shift']());}catch(_0x430c96){_0x1521ab['push'](_0x1521ab['shift']());}}}(a69_0x573f,0x563b9));var __decorate=this&&this[a69_0x492a9a(0x1b6)]||function(_0x148fc1,_0x41058d,_0x5a695,_0x2610a0){const _0x17b684=a69_0x492a9a;var _0x540e12=arguments[_0x17b684(0x1c2)],_0x3c3743=_0x540e12<0x3?_0x41058d:_0x2610a0===null?_0x2610a0=Object['getOwnPropertyDescriptor'](_0x41058d,_0x5a695):_0x2610a0,_0x1149ac;if(typeof Reflect==='object'&&typeof Reflect[_0x17b684(0x1cb)]==='function')_0x3c3743=Reflect[_0x17b684(0x1cb)](_0x148fc1,_0x41058d,_0x5a695,_0x2610a0);else{for(var _0x5be203=_0x148fc1['length']-0x1;_0x5be203>=0x0;_0x5be203--)if(_0x1149ac=_0x148fc1[_0x5be203])_0x3c3743=(_0x540e12<0x3?_0x1149ac(_0x3c3743):_0x540e12>0x3?_0x1149ac(_0x41058d,_0x5a695,_0x3c3743):_0x1149ac(_0x41058d,_0x5a695))||_0x3c3743;}return _0x540e12>0x3&&_0x3c3743&&Object['defineProperty'](_0x41058d,_0x5a695,_0x3c3743),_0x3c3743;},__metadata=this&&this[a69_0x492a9a(0x1b9)]||function(_0x101941,_0x56b5d3){const _0x58b2c8=a69_0x492a9a;if(typeof Reflect===_0x58b2c8(0x1c4)&&typeof Reflect[_0x58b2c8(0x1cd)]===_0x58b2c8(0x1c5))return Reflect['metadata'](_0x101941,_0x56b5d3);};Object[a69_0x492a9a(0x1ba)](exports,a69_0x492a9a(0x1b2),{'value':!![]}),exports['AppExceptionFilter']=void 0x0;function a69_0x573f(){const _0x468a28=['__decorate','Logger','49kHJbkX','__metadata','defineProperty','json','x-api-key','HttpException','42rhtFIt','error','Internal\x20Server\x20Error','status','length','AppExceptionFilter','object','function','stack','76561WniDkx','@nestjs/common','../../email/email.service','logger','decorate','Injectable','metadata','1191920TmKwtT','111110CkmqPf','sendExceptionNotification','sanitizeHeaders','getRequest','catch','body','115168kbXIWD','912065WyLzGm','switchToHttp','assign','EmailService','Catch','Failed\x20to\x20send\x20exception\x20email:','5243409hgTcmF','authorization','getStatus','PI_NAME','176334SUayjA','2cdWAzE','message','getResponse','design:paramtypes','cookie','__esModule','url','emailService','method'];a69_0x573f=function(){return _0x468a28;};return a69_0x573f();}const common_1=require(a69_0x492a9a(0x1c8)),email_service_1=require(a69_0x492a9a(0x1c9));let AppExceptionFilter=class AppExceptionFilter{constructor(_0x227587){const _0x417921=a69_0x492a9a;this[_0x417921(0x1b4)]=_0x227587,this[_0x417921(0x1ca)]=new common_1[(_0x417921(0x1b7))]('AppException');}async[a69_0x492a9a(0x1d3)](_0x5364a0,_0x13326a){const _0x311320=a69_0x492a9a,_0x5b5853=_0x13326a[_0x311320(0x1d7)](),_0xf62f5d=_0x5b5853[_0x311320(0x1d2)](),_0x5766ae=_0x5b5853[_0x311320(0x1af)]();this[_0x311320(0x1ca)][_0x311320(0x1bf)](_0x5364a0);if(!(_0x5364a0 instanceof common_1[_0x311320(0x1bd)]))try{await this['emailService'][_0x311320(0x1d0)]({'message':_0x5364a0[_0x311320(0x1c6)]||_0x5364a0[_0x311320(0x1ae)],'url':_0xf62f5d[_0x311320(0x1b3)],'method':_0xf62f5d[_0x311320(0x1b5)],'body':_0xf62f5d[_0x311320(0x1d4)],'headers':this[_0x311320(0x1d1)](_0xf62f5d['headers']),'timestamp':new Date()['toISOString'](),'piName':process['env'][_0x311320(0x1ab)]});}catch(_0x3ecc73){this[_0x311320(0x1ca)][_0x311320(0x1bf)](_0x311320(0x1db),_0x3ecc73);}_0x5364a0 instanceof common_1[_0x311320(0x1bd)]?_0x5766ae[_0x311320(0x1c1)](_0x5364a0[_0x311320(0x1aa)]())[_0x311320(0x1bb)](_0x5364a0[_0x311320(0x1af)]()):_0x5766ae[_0x311320(0x1c1)](0x1f4)[_0x311320(0x1bb)]({'statusCode':0x1f4,'message':_0x311320(0x1c0)});}[a69_0x492a9a(0x1d1)](_0x48bf55){const _0x2a7792=a69_0x492a9a,_0xf3f24f=Object[_0x2a7792(0x1d8)]({},_0x48bf55);return delete _0xf3f24f[_0x2a7792(0x1a9)],delete _0xf3f24f[_0x2a7792(0x1b1)],delete _0xf3f24f[_0x2a7792(0x1bc)],_0xf3f24f;}};function a69_0x18c8(_0x2eb2c9,_0x392cd6){const _0x573f86=a69_0x573f();return a69_0x18c8=function(_0x18c83a,_0x5de959){_0x18c83a=_0x18c83a-0x1a9;let _0x37e8db=_0x573f86[_0x18c83a];return _0x37e8db;},a69_0x18c8(_0x2eb2c9,_0x392cd6);}AppExceptionFilter=__decorate([(0x0,common_1[a69_0x492a9a(0x1da)])(),(0x0,common_1[a69_0x492a9a(0x1cc)])(),__metadata(a69_0x492a9a(0x1b0),[email_service_1[a69_0x492a9a(0x1d9)]])],AppExceptionFilter),exports[a69_0x492a9a(0x1c3)]=AppExceptionFilter;