'use strict';const a69_0x356b9e=a69_0x3772;function a69_0x3772(_0x4b7d9e,_0x5c37b7){const _0x210920=a69_0x2109();return a69_0x3772=function(_0x3772c0,_0x2bfde8){_0x3772c0=_0x3772c0-0xbd;let _0x2a0570=_0x210920[_0x3772c0];return _0x2a0570;},a69_0x3772(_0x4b7d9e,_0x5c37b7);}(function(_0x1e8c2e,_0x28fc5c){const _0x42672e=a69_0x3772,_0x2ad864=_0x1e8c2e();while(!![]){try{const _0xed2c02=parseInt(_0x42672e(0xe2))/0x1*(-parseInt(_0x42672e(0xe3))/0x2)+-parseInt(_0x42672e(0xd8))/0x3*(parseInt(_0x42672e(0xc6))/0x4)+parseInt(_0x42672e(0xea))/0x5*(-parseInt(_0x42672e(0xd4))/0x6)+-parseInt(_0x42672e(0xd0))/0x7*(-parseInt(_0x42672e(0xeb))/0x8)+-parseInt(_0x42672e(0xce))/0x9+parseInt(_0x42672e(0xc1))/0xa+parseInt(_0x42672e(0xd5))/0xb;if(_0xed2c02===_0x28fc5c)break;else _0x2ad864['push'](_0x2ad864['shift']());}catch(_0x24360d){_0x2ad864['push'](_0x2ad864['shift']());}}}(a69_0x2109,0xcc1ab));function a69_0x2109(){const _0x29786b=['PI_NAME','emailService','stack','Failed\x20to\x20send\x20exception\x20email:','__decorate','10828854xmJkKg','headers','14wjQgHO','Logger','HttpException','url','4852662hdCWOC','10556425tRByIU','metadata','body','6YGSCyS','__metadata','error','__esModule','design:paramtypes','json','decorate','length','defineProperty','sanitizeHeaders','306053MKuSmf','2LcbzKM','function','cookie','Internal\x20Server\x20Error','status','message','logger','5TGmXWB','6115712MzwtjF','@nestjs/common','switchToHttp','getResponse','catch','getRequest','13042480uLkdne','env','object','AppException','AppExceptionFilter','1277608sjPGNE','getStatus','Injectable'];a69_0x2109=function(){return _0x29786b;};return a69_0x2109();}var __decorate=this&&this[a69_0x356b9e(0xcd)]||function(_0x48403d,_0x4fed1c,_0x47550d,_0x3753d0){const _0xf30d57=a69_0x356b9e;var _0xf275ea=arguments['length'],_0x3597e5=_0xf275ea<0x3?_0x4fed1c:_0x3753d0===null?_0x3753d0=Object['getOwnPropertyDescriptor'](_0x4fed1c,_0x47550d):_0x3753d0,_0x3d85aa;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xf30d57(0xe4))_0x3597e5=Reflect[_0xf30d57(0xde)](_0x48403d,_0x4fed1c,_0x47550d,_0x3753d0);else{for(var _0x388573=_0x48403d[_0xf30d57(0xdf)]-0x1;_0x388573>=0x0;_0x388573--)if(_0x3d85aa=_0x48403d[_0x388573])_0x3597e5=(_0xf275ea<0x3?_0x3d85aa(_0x3597e5):_0xf275ea>0x3?_0x3d85aa(_0x4fed1c,_0x47550d,_0x3597e5):_0x3d85aa(_0x4fed1c,_0x47550d))||_0x3597e5;}return _0xf275ea>0x3&&_0x3597e5&&Object[_0xf30d57(0xe0)](_0x4fed1c,_0x47550d,_0x3597e5),_0x3597e5;},__metadata=this&&this[a69_0x356b9e(0xd9)]||function(_0x216ad3,_0x3673a0){const _0x10682d=a69_0x356b9e;if(typeof Reflect===_0x10682d(0xc3)&&typeof Reflect[_0x10682d(0xd6)]===_0x10682d(0xe4))return Reflect[_0x10682d(0xd6)](_0x216ad3,_0x3673a0);};Object[a69_0x356b9e(0xe0)](exports,a69_0x356b9e(0xdb),{'value':!![]}),exports[a69_0x356b9e(0xc5)]=void 0x0;const common_1=require(a69_0x356b9e(0xec)),email_service_1=require('../../email/email.service');let AppExceptionFilter=class AppExceptionFilter{constructor(_0x38bf80){const _0xc2a7e0=a69_0x356b9e;this[_0xc2a7e0(0xca)]=_0x38bf80,this[_0xc2a7e0(0xe9)]=new common_1[(_0xc2a7e0(0xd1))](_0xc2a7e0(0xc4));}async[a69_0x356b9e(0xbf)](_0x1ca289,_0x4099f0){const _0x2d4368=a69_0x356b9e,_0x19c66d=_0x4099f0[_0x2d4368(0xbd)](),_0x1b7073=_0x19c66d[_0x2d4368(0xc0)](),_0x46c8de=_0x19c66d[_0x2d4368(0xbe)]();this[_0x2d4368(0xe9)][_0x2d4368(0xda)](_0x1ca289);if(!(_0x1ca289 instanceof common_1[_0x2d4368(0xd2)]))try{await this[_0x2d4368(0xca)]['sendExceptionNotification']({'message':_0x1ca289[_0x2d4368(0xcb)]||_0x1ca289[_0x2d4368(0xe8)],'url':_0x1b7073[_0x2d4368(0xd3)],'method':_0x1b7073['method'],'body':_0x1b7073[_0x2d4368(0xd7)],'headers':this[_0x2d4368(0xe1)](_0x1b7073[_0x2d4368(0xcf)]),'timestamp':new Date()['toISOString'](),'piName':process[_0x2d4368(0xc2)][_0x2d4368(0xc9)]});}catch(_0x3f8828){this['logger'][_0x2d4368(0xda)](_0x2d4368(0xcc),_0x3f8828);}_0x1ca289 instanceof common_1['HttpException']?_0x46c8de[_0x2d4368(0xe7)](_0x1ca289[_0x2d4368(0xc7)]())[_0x2d4368(0xdd)](_0x1ca289['getResponse']()):_0x46c8de['status'](0x1f4)[_0x2d4368(0xdd)]({'statusCode':0x1f4,'message':_0x2d4368(0xe6)});}['sanitizeHeaders'](_0x95468a){const _0x15e767=a69_0x356b9e,_0x1047f5=Object['assign']({},_0x95468a);return delete _0x1047f5['authorization'],delete _0x1047f5[_0x15e767(0xe5)],delete _0x1047f5['x-api-key'],_0x1047f5;}};AppExceptionFilter=__decorate([(0x0,common_1['Catch'])(),(0x0,common_1[a69_0x356b9e(0xc8)])(),__metadata(a69_0x356b9e(0xdc),[email_service_1['EmailService']])],AppExceptionFilter),exports['AppExceptionFilter']=AppExceptionFilter;