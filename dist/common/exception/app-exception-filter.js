'use strict';const a69_0x2f86ee=a69_0x429f;(function(_0x3e94a7,_0x88810d){const _0x45d53d=a69_0x429f,_0x329c30=_0x3e94a7();while(!![]){try{const _0x400340=-parseInt(_0x45d53d(0x1a8))/0x1*(parseInt(_0x45d53d(0x19e))/0x2)+parseInt(_0x45d53d(0x187))/0x3*(parseInt(_0x45d53d(0x197))/0x4)+-parseInt(_0x45d53d(0x182))/0x5*(-parseInt(_0x45d53d(0x1a7))/0x6)+-parseInt(_0x45d53d(0x19f))/0x7+parseInt(_0x45d53d(0x19c))/0x8+parseInt(_0x45d53d(0x193))/0x9+-parseInt(_0x45d53d(0x176))/0xa*(parseInt(_0x45d53d(0x183))/0xb);if(_0x400340===_0x88810d)break;else _0x329c30['push'](_0x329c30['shift']());}catch(_0x6c55bc){_0x329c30['push'](_0x329c30['shift']());}}}(a69_0x229d,0x50777));var __decorate=this&&this[a69_0x2f86ee(0x185)]||function(_0x19098e,_0x21f94b,_0x1dbb2b,_0x408248){const _0x5bada7=a69_0x2f86ee;var _0x4d7c69=arguments[_0x5bada7(0x17f)],_0x42c9f0=_0x4d7c69<0x3?_0x21f94b:_0x408248===null?_0x408248=Object[_0x5bada7(0x1a2)](_0x21f94b,_0x1dbb2b):_0x408248,_0x3b8df9;if(typeof Reflect===_0x5bada7(0x18a)&&typeof Reflect[_0x5bada7(0x179)]===_0x5bada7(0x184))_0x42c9f0=Reflect[_0x5bada7(0x179)](_0x19098e,_0x21f94b,_0x1dbb2b,_0x408248);else{for(var _0x491241=_0x19098e['length']-0x1;_0x491241>=0x0;_0x491241--)if(_0x3b8df9=_0x19098e[_0x491241])_0x42c9f0=(_0x4d7c69<0x3?_0x3b8df9(_0x42c9f0):_0x4d7c69>0x3?_0x3b8df9(_0x21f94b,_0x1dbb2b,_0x42c9f0):_0x3b8df9(_0x21f94b,_0x1dbb2b))||_0x42c9f0;}return _0x4d7c69>0x3&&_0x42c9f0&&Object[_0x5bada7(0x17e)](_0x21f94b,_0x1dbb2b,_0x42c9f0),_0x42c9f0;},__metadata=this&&this[a69_0x2f86ee(0x17a)]||function(_0x2c781e,_0x4199a4){const _0x288edd=a69_0x2f86ee;if(typeof Reflect===_0x288edd(0x18a)&&typeof Reflect[_0x288edd(0x19b)]==='function')return Reflect[_0x288edd(0x19b)](_0x2c781e,_0x4199a4);};Object['defineProperty'](exports,a69_0x2f86ee(0x181),{'value':!![]}),exports[a69_0x2f86ee(0x1a4)]=void 0x0;function a69_0x429f(_0x355be4,_0x25d357){const _0x229da6=a69_0x229d();return a69_0x429f=function(_0x429f37,_0x7bbc5a){_0x429f37=_0x429f37-0x176;let _0x56ca54=_0x229da6[_0x429f37];return _0x56ca54;},a69_0x429f(_0x355be4,_0x25d357);}const common_1=require(a69_0x2f86ee(0x178)),email_service_1=require(a69_0x2f86ee(0x186));let AppExceptionFilter=class AppExceptionFilter{constructor(_0x106e1c){const _0x24bbd0=a69_0x2f86ee;this[_0x24bbd0(0x1a5)]=_0x106e1c,this[_0x24bbd0(0x190)]=new common_1['Logger'](_0x24bbd0(0x17c));}async[a69_0x2f86ee(0x199)](_0x368e0d,_0x49e701){const _0x4bb5da=a69_0x2f86ee,_0x25ca6c=_0x49e701[_0x4bb5da(0x180)](),_0x39c891=_0x25ca6c[_0x4bb5da(0x198)](),_0x438a58=_0x25ca6c['getResponse']();this[_0x4bb5da(0x190)][_0x4bb5da(0x19a)](_0x368e0d);if(!(_0x368e0d instanceof common_1[_0x4bb5da(0x189)]))try{await this['emailService'][_0x4bb5da(0x1a3)]({'message':_0x368e0d[_0x4bb5da(0x195)]||_0x368e0d[_0x4bb5da(0x194)],'url':_0x39c891['url'],'method':_0x39c891[_0x4bb5da(0x18e)],'body':_0x39c891[_0x4bb5da(0x19d)],'headers':this['sanitizeHeaders'](_0x39c891[_0x4bb5da(0x1a6)]),'timestamp':new Date()[_0x4bb5da(0x1a0)](),'piName':process[_0x4bb5da(0x1a9)][_0x4bb5da(0x17d)]});}catch(_0x5b006e){this['logger'][_0x4bb5da(0x19a)](_0x4bb5da(0x1a1),_0x5b006e);}_0x368e0d instanceof common_1['HttpException']?_0x438a58[_0x4bb5da(0x192)](_0x368e0d[_0x4bb5da(0x177)]())[_0x4bb5da(0x17b)](_0x368e0d[_0x4bb5da(0x188)]()):_0x438a58['status'](0x1f4)[_0x4bb5da(0x17b)]({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}[a69_0x2f86ee(0x18c)](_0x4a6362){const _0x2f00de=a69_0x2f86ee,_0x3e4a3b=Object[_0x2f00de(0x196)]({},_0x4a6362);return delete _0x3e4a3b['authorization'],delete _0x3e4a3b[_0x2f00de(0x18b)],delete _0x3e4a3b['x-api-key'],_0x3e4a3b;}};function a69_0x229d(){const _0x4ee346=['HttpException','object','cookie','sanitizeHeaders','Injectable','method','EmailService','logger','design:paramtypes','status','1111500TUzYSP','message','stack','assign','50164PDYtXy','getRequest','catch','error','metadata','4950496rjDObP','body','2GPpUvO','1569799giFCmv','toISOString','Failed\x20to\x20send\x20exception\x20email:','getOwnPropertyDescriptor','sendExceptionNotification','AppExceptionFilter','emailService','headers','674430CdEIKZ','176647ERkZJi','env','168470AelJDP','getStatus','@nestjs/common','decorate','__metadata','json','AppException','PI_NAME','defineProperty','length','switchToHttp','__esModule','20vlegRZ','506kQqniD','function','__decorate','../../email/email.service','75QPXiyF','getResponse'];a69_0x229d=function(){return _0x4ee346;};return a69_0x229d();}AppExceptionFilter=__decorate([(0x0,common_1['Catch'])(),(0x0,common_1[a69_0x2f86ee(0x18d)])(),__metadata(a69_0x2f86ee(0x191),[email_service_1[a69_0x2f86ee(0x18f)]])],AppExceptionFilter),exports[a69_0x2f86ee(0x1a4)]=AppExceptionFilter;