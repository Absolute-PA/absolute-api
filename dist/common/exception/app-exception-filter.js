'use strict';const a69_0x259de6=a69_0x12d4;(function(_0x197ca6,_0x1a9f03){const _0x4dbba1=a69_0x12d4,_0x296eaa=_0x197ca6();while(!![]){try{const _0x13851e=parseInt(_0x4dbba1(0x10a))/0x1*(-parseInt(_0x4dbba1(0xe6))/0x2)+parseInt(_0x4dbba1(0xfb))/0x3+parseInt(_0x4dbba1(0xe7))/0x4+-parseInt(_0x4dbba1(0xfa))/0x5+-parseInt(_0x4dbba1(0xf5))/0x6*(parseInt(_0x4dbba1(0xe1))/0x7)+parseInt(_0x4dbba1(0xf0))/0x8+-parseInt(_0x4dbba1(0x106))/0x9*(-parseInt(_0x4dbba1(0xfc))/0xa);if(_0x13851e===_0x1a9f03)break;else _0x296eaa['push'](_0x296eaa['shift']());}catch(_0x3cdb95){_0x296eaa['push'](_0x296eaa['shift']());}}}(a69_0x3678,0xc2704));var __decorate=this&&this[a69_0x259de6(0xee)]||function(_0x2b2eea,_0x210a09,_0x3ebbbc,_0x39c1dd){const _0x353d35=a69_0x259de6;var _0xa78a2=arguments[_0x353d35(0xf4)],_0x34dd00=_0xa78a2<0x3?_0x210a09:_0x39c1dd===null?_0x39c1dd=Object[_0x353d35(0x102)](_0x210a09,_0x3ebbbc):_0x39c1dd,_0x5ce525;if(typeof Reflect==='object'&&typeof Reflect[_0x353d35(0xea)]===_0x353d35(0xe0))_0x34dd00=Reflect[_0x353d35(0xea)](_0x2b2eea,_0x210a09,_0x3ebbbc,_0x39c1dd);else{for(var _0x58bc9f=_0x2b2eea[_0x353d35(0xf4)]-0x1;_0x58bc9f>=0x0;_0x58bc9f--)if(_0x5ce525=_0x2b2eea[_0x58bc9f])_0x34dd00=(_0xa78a2<0x3?_0x5ce525(_0x34dd00):_0xa78a2>0x3?_0x5ce525(_0x210a09,_0x3ebbbc,_0x34dd00):_0x5ce525(_0x210a09,_0x3ebbbc))||_0x34dd00;}return _0xa78a2>0x3&&_0x34dd00&&Object['defineProperty'](_0x210a09,_0x3ebbbc,_0x34dd00),_0x34dd00;},__metadata=this&&this[a69_0x259de6(0xe9)]||function(_0x5d28e8,_0x578656){const _0x1e5da5=a69_0x259de6;if(typeof Reflect===_0x1e5da5(0xf1)&&typeof Reflect[_0x1e5da5(0x108)]===_0x1e5da5(0xe0))return Reflect[_0x1e5da5(0x108)](_0x5d28e8,_0x578656);};Object[a69_0x259de6(0x107)](exports,'__esModule',{'value':!![]}),exports['AppExceptionFilter']=void 0x0;const common_1=require(a69_0x259de6(0x10b)),email_service_1=require('../../email/email.service');let AppExceptionFilter=class AppExceptionFilter{constructor(_0x1f335c){const _0x261734=a69_0x259de6;this['emailService']=_0x1f335c,this[_0x261734(0x105)]=new common_1[(_0x261734(0xed))](_0x261734(0xeb));}async[a69_0x259de6(0xe5)](_0x2a1ecd,_0x492ae6){const _0x2dec6f=a69_0x259de6,_0x217068=_0x492ae6['switchToHttp'](),_0x288db7=_0x217068[_0x2dec6f(0x109)](),_0x23b433=_0x217068[_0x2dec6f(0x10d)]();this[_0x2dec6f(0x105)]['error'](_0x2a1ecd);if(!(_0x2a1ecd instanceof common_1[_0x2dec6f(0xfe)]))try{await this[_0x2dec6f(0xe4)]['sendExceptionNotification']({'message':_0x2a1ecd['stack']||_0x2a1ecd[_0x2dec6f(0xec)],'url':_0x288db7['url'],'method':_0x288db7['method'],'body':_0x288db7[_0x2dec6f(0xf7)],'headers':this[_0x2dec6f(0xef)](_0x288db7['headers']),'timestamp':new Date()[_0x2dec6f(0xff)](),'piName':process[_0x2dec6f(0x101)]['PI_NAME']});}catch(_0x53cd8f){this['logger']['error'](_0x2dec6f(0xf6),_0x53cd8f);}_0x2a1ecd instanceof common_1['HttpException']?_0x23b433['status'](_0x2a1ecd[_0x2dec6f(0x100)]())['json'](_0x2a1ecd['getResponse']()):_0x23b433[_0x2dec6f(0xf8)](0x1f4)[_0x2dec6f(0xf2)]({'statusCode':0x1f4,'message':_0x2dec6f(0xe8)});}[a69_0x259de6(0xef)](_0x24099c){const _0x4de3e5=a69_0x259de6,_0x57f71f=Object[_0x4de3e5(0x10c)]({},_0x24099c);return delete _0x57f71f[_0x4de3e5(0xe3)],delete _0x57f71f['cookie'],delete _0x57f71f[_0x4de3e5(0xf9)],_0x57f71f;}};function a69_0x3678(){const _0x23d2ba=['json','design:paramtypes','length','2133078TvEqwd','Failed\x20to\x20send\x20exception\x20email:','body','status','x-api-key','5634740jpWgds','1427370kYNcCm','410GspBRH','Catch','HttpException','toISOString','getStatus','env','getOwnPropertyDescriptor','AppExceptionFilter','Injectable','logger','459369KyJmsX','defineProperty','metadata','getRequest','3278Stmdda','@nestjs/common','assign','getResponse','function','28FkxoCE','EmailService','authorization','emailService','catch','176ujEHeM','332928CbFzLU','Internal\x20Server\x20Error','__metadata','decorate','AppException','message','Logger','__decorate','sanitizeHeaders','7857448Kuudgn','object'];a69_0x3678=function(){return _0x23d2ba;};return a69_0x3678();}function a69_0x12d4(_0x3e02f1,_0x43796e){const _0x3678ec=a69_0x3678();return a69_0x12d4=function(_0x12d43a,_0x3396ed){_0x12d43a=_0x12d43a-0xe0;let _0x27c3da=_0x3678ec[_0x12d43a];return _0x27c3da;},a69_0x12d4(_0x3e02f1,_0x43796e);}AppExceptionFilter=__decorate([(0x0,common_1[a69_0x259de6(0xfd)])(),(0x0,common_1[a69_0x259de6(0x104)])(),__metadata(a69_0x259de6(0xf3),[email_service_1[a69_0x259de6(0xe2)]])],AppExceptionFilter),exports[a69_0x259de6(0x103)]=AppExceptionFilter;