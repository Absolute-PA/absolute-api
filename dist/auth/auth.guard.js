'use strict';const a33_0x4fdd4d=a33_0x1558;function a33_0x1558(_0x4bb0b3,_0x22a40a){const _0x34d153=a33_0x34d1();return a33_0x1558=function(_0x15582c,_0x20b4d7){_0x15582c=_0x15582c-0x17b;let _0x2363a2=_0x34d153[_0x15582c];return _0x2363a2;},a33_0x1558(_0x4bb0b3,_0x22a40a);}(function(_0x22dcab,_0x42d7e0){const _0x1272dc=a33_0x1558,_0x15df7d=_0x22dcab();while(!![]){try{const _0x363c97=parseInt(_0x1272dc(0x17c))/0x1*(parseInt(_0x1272dc(0x19d))/0x2)+-parseInt(_0x1272dc(0x18b))/0x3*(-parseInt(_0x1272dc(0x18a))/0x4)+parseInt(_0x1272dc(0x192))/0x5+-parseInt(_0x1272dc(0x182))/0x6+-parseInt(_0x1272dc(0x18e))/0x7+parseInt(_0x1272dc(0x17b))/0x8+parseInt(_0x1272dc(0x19c))/0x9;if(_0x363c97===_0x42d7e0)break;else _0x15df7d['push'](_0x15df7d['shift']());}catch(_0x4ad7c1){_0x15df7d['push'](_0x15df7d['shift']());}}}(a33_0x34d1,0xec68c));var __decorate=this&&this[a33_0x4fdd4d(0x18c)]||function(_0x2d69ac,_0x595bd7,_0x54134e,_0x2eab1c){const _0x1b5fde=a33_0x4fdd4d;var _0x14d2f6=arguments[_0x1b5fde(0x191)],_0x4c1175=_0x14d2f6<0x3?_0x595bd7:_0x2eab1c===null?_0x2eab1c=Object[_0x1b5fde(0x1a0)](_0x595bd7,_0x54134e):_0x2eab1c,_0x4f0aae;if(typeof Reflect===_0x1b5fde(0x194)&&typeof Reflect[_0x1b5fde(0x183)]==='function')_0x4c1175=Reflect[_0x1b5fde(0x183)](_0x2d69ac,_0x595bd7,_0x54134e,_0x2eab1c);else{for(var _0x1c09c0=_0x2d69ac[_0x1b5fde(0x191)]-0x1;_0x1c09c0>=0x0;_0x1c09c0--)if(_0x4f0aae=_0x2d69ac[_0x1c09c0])_0x4c1175=(_0x14d2f6<0x3?_0x4f0aae(_0x4c1175):_0x14d2f6>0x3?_0x4f0aae(_0x595bd7,_0x54134e,_0x4c1175):_0x4f0aae(_0x595bd7,_0x54134e))||_0x4c1175;}return _0x14d2f6>0x3&&_0x4c1175&&Object['defineProperty'](_0x595bd7,_0x54134e,_0x4c1175),_0x4c1175;},__metadata=this&&this[a33_0x4fdd4d(0x190)]||function(_0x3c9ede,_0x24cef3){const _0x5618a2=a33_0x4fdd4d;if(typeof Reflect===_0x5618a2(0x194)&&typeof Reflect[_0x5618a2(0x19f)]==='function')return Reflect['metadata'](_0x3c9ede,_0x24cef3);};Object[a33_0x4fdd4d(0x181)](exports,a33_0x4fdd4d(0x184),{'value':!![]}),exports['AuthGuard']=void 0x0;function a33_0x34d1(){const _0x3c84d7=['headers','@nestjs/core','@nestjs/jwt','./decorators/public.decorator','defineProperty','6627114TwExPH','decorate','__esModule','getRequest','canActivate','jwtService','log','reflector','10724odSJwJ','1059UcOZxq','__decorate','verifyAsync','10121370ByTBVa','getClass','__metadata','length','3863780PVoALE','env','object','user','authorization','UnauthorizedException','getAllAndOverride','design:paramtypes','Bearer','Injectable','840150jqSvKm','24832vzdHXf','extractTokenFromHeader','metadata','getOwnPropertyDescriptor','1830064GcYgpL','119giJSqB'];a33_0x34d1=function(){return _0x3c84d7;};return a33_0x34d1();}const common_1=require('@nestjs/common'),core_1=require(a33_0x4fdd4d(0x17e)),jwt_1=require(a33_0x4fdd4d(0x17f)),public_decorator_1=require(a33_0x4fdd4d(0x180));let AuthGuard=class AuthGuard{constructor(_0x170c24,_0x450ada){const _0x4a0666=a33_0x4fdd4d;this[_0x4a0666(0x187)]=_0x170c24,this[_0x4a0666(0x189)]=_0x450ada;}async[a33_0x4fdd4d(0x186)](_0x4061bf){const _0x33ece4=a33_0x4fdd4d,_0x211ce0=this[_0x33ece4(0x189)][_0x33ece4(0x198)](public_decorator_1['IS_PUBLIC_KEY'],[_0x4061bf['getHandler'](),_0x4061bf[_0x33ece4(0x18f)]()]);if(_0x211ce0)return!![];const _0x3b3bc3=_0x4061bf['switchToHttp']()[_0x33ece4(0x185)](),_0x57e3c7=this[_0x33ece4(0x19e)](_0x3b3bc3);if(!_0x57e3c7)throw new common_1[(_0x33ece4(0x197))]();try{const _0x1b50c8=await this[_0x33ece4(0x187)][_0x33ece4(0x18d)](_0x57e3c7,{'secret':process[_0x33ece4(0x193)]['JWT_SECRET']});_0x3b3bc3[_0x33ece4(0x195)]=_0x1b50c8;}catch(_0x32d329){console[_0x33ece4(0x188)](_0x32d329);throw new common_1[(_0x33ece4(0x197))]();}return!![];}['extractTokenFromHeader'](_0x31e382){const _0x3b7724=a33_0x4fdd4d;var _0x426b2c,_0x520b2b;const [_0x170b49,_0x1d6068]=(_0x520b2b=(_0x426b2c=_0x31e382[_0x3b7724(0x17d)][_0x3b7724(0x196)])===null||_0x426b2c===void 0x0?void 0x0:_0x426b2c['split']('\x20'))!==null&&_0x520b2b!==void 0x0?_0x520b2b:[];return _0x170b49===_0x3b7724(0x19a)?_0x1d6068:undefined;}};AuthGuard=__decorate([(0x0,common_1[a33_0x4fdd4d(0x19b)])(),__metadata(a33_0x4fdd4d(0x199),[jwt_1['JwtService'],core_1['Reflector']])],AuthGuard),exports['AuthGuard']=AuthGuard;