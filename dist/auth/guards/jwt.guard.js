'use strict';const a40_0x7c1c9d=a40_0x343f;function a40_0x3619(){const _0x39eae4=['getAllAndOverride','jwtService','11709732yWttLi','660996NOASaP','8fuRoCa','verifyAsync','jwt','@nestjs/passport','__decorate','length','function','canActivate','metadata','@nestjs/jwt','switchToHttp','getRequest','user','../decorators/public.decorator','5HVtxoR','@nestjs/core','668676cLlNMc','3367007iQsdEi','AuthGuard','design:paramtypes','3775854QPgBXT','IS_PUBLIC_KEY','reflector','9345380MnVDdg','headers','extractTokenFromHeader','UnauthorizedException','getOwnPropertyDescriptor','split','JWT_SECRET','3sWHbsu','object','204160mLXbUm','__metadata','defineProperty','getClass','9iHjSAb','JwtService','decorate','Bearer','126xHgAlO','__esModule'];a40_0x3619=function(){return _0x39eae4;};return a40_0x3619();}(function(_0x39c655,_0xb470cb){const _0x28f111=a40_0x343f,_0x134ab5=_0x39c655();while(!![]){try{const _0x1b2914=-parseInt(_0x28f111(0x98))/0x1*(parseInt(_0x28f111(0x8a))/0x2)+-parseInt(_0x28f111(0x9e))/0x3*(-parseInt(_0x28f111(0xa7))/0x4)+parseInt(_0x28f111(0x88))/0x5*(-parseInt(_0x28f111(0x8e))/0x6)+-parseInt(_0x28f111(0x8b))/0x7*(-parseInt(_0x28f111(0xa8))/0x8)+-parseInt(_0x28f111(0xa2))/0x9*(parseInt(_0x28f111(0x9a))/0xa)+parseInt(_0x28f111(0x91))/0xb+parseInt(_0x28f111(0xa6))/0xc;if(_0x1b2914===_0xb470cb)break;else _0x134ab5['push'](_0x134ab5['shift']());}catch(_0x4b4e83){_0x134ab5['push'](_0x134ab5['shift']());}}}(a40_0x3619,0xd7d18));var __decorate=this&&this[a40_0x7c1c9d(0xac)]||function(_0x29cb9c,_0x530381,_0x240b16,_0x5b725c){const _0xd3939d=a40_0x7c1c9d;var _0x18c4bb=arguments[_0xd3939d(0xad)],_0x44ab69=_0x18c4bb<0x3?_0x530381:_0x5b725c===null?_0x5b725c=Object[_0xd3939d(0x95)](_0x530381,_0x240b16):_0x5b725c,_0x5a4aa1;if(typeof Reflect===_0xd3939d(0x99)&&typeof Reflect[_0xd3939d(0xa0)]===_0xd3939d(0xae))_0x44ab69=Reflect[_0xd3939d(0xa0)](_0x29cb9c,_0x530381,_0x240b16,_0x5b725c);else{for(var _0x2281e0=_0x29cb9c['length']-0x1;_0x2281e0>=0x0;_0x2281e0--)if(_0x5a4aa1=_0x29cb9c[_0x2281e0])_0x44ab69=(_0x18c4bb<0x3?_0x5a4aa1(_0x44ab69):_0x18c4bb>0x3?_0x5a4aa1(_0x530381,_0x240b16,_0x44ab69):_0x5a4aa1(_0x530381,_0x240b16))||_0x44ab69;}return _0x18c4bb>0x3&&_0x44ab69&&Object[_0xd3939d(0x9c)](_0x530381,_0x240b16,_0x44ab69),_0x44ab69;},__metadata=this&&this[a40_0x7c1c9d(0x9b)]||function(_0x16e826,_0x291fd0){const _0x29fea0=a40_0x7c1c9d;if(typeof Reflect===_0x29fea0(0x99)&&typeof Reflect[_0x29fea0(0x82)]===_0x29fea0(0xae))return Reflect['metadata'](_0x16e826,_0x291fd0);};Object[a40_0x7c1c9d(0x9c)](exports,a40_0x7c1c9d(0xa3),{'value':!![]}),exports['JwtAuthGuard']=void 0x0;function a40_0x343f(_0x5e9de7,_0x3bae66){const _0x36198b=a40_0x3619();return a40_0x343f=function(_0x343f80,_0x326fda){_0x343f80=_0x343f80-0x82;let _0x34aea9=_0x36198b[_0x343f80];return _0x34aea9;},a40_0x343f(_0x5e9de7,_0x3bae66);}const common_1=require('@nestjs/common'),core_1=require(a40_0x7c1c9d(0x89)),passport_1=require(a40_0x7c1c9d(0xab)),public_decorator_1=require(a40_0x7c1c9d(0x87)),jwt_1=require(a40_0x7c1c9d(0x83));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x7c1c9d(0x8c)])(a40_0x7c1c9d(0xaa)){constructor(_0x4e2842,_0x4d43d1){const _0x4db1d0=a40_0x7c1c9d;super(),this[_0x4db1d0(0x90)]=_0x4e2842,this[_0x4db1d0(0xa5)]=_0x4d43d1;}async[a40_0x7c1c9d(0xaf)](_0x221ea4){const _0x702e8f=a40_0x7c1c9d,_0x20516c=this[_0x702e8f(0x90)][_0x702e8f(0xa4)](public_decorator_1[_0x702e8f(0x8f)],[_0x221ea4['getHandler'](),_0x221ea4[_0x702e8f(0x9d)]()]);if(_0x20516c)return!![];const _0xa2861f=_0x221ea4[_0x702e8f(0x84)]()[_0x702e8f(0x85)](),_0x57cd44=this[_0x702e8f(0x93)](_0xa2861f);if(!_0x57cd44)throw new common_1[(_0x702e8f(0x94))]();try{const _0x10d00f=await this[_0x702e8f(0xa5)][_0x702e8f(0xa9)](_0x57cd44,{'secret':process['env'][_0x702e8f(0x97)]});_0xa2861f[_0x702e8f(0x86)]=_0x10d00f;}catch(_0x441098){throw new common_1[(_0x702e8f(0x94))]();}return!![];}['extractTokenFromHeader'](_0x7f20b5){const _0x20b10b=a40_0x7c1c9d;var _0x134df7,_0x531afe;const [_0x5bac65,_0x369a9e]=(_0x531afe=(_0x134df7=_0x7f20b5[_0x20b10b(0x92)]['authorization'])===null||_0x134df7===void 0x0?void 0x0:_0x134df7[_0x20b10b(0x96)]('\x20'))!==null&&_0x531afe!==void 0x0?_0x531afe:[];return _0x5bac65===_0x20b10b(0xa1)?_0x369a9e:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1['Injectable'])(),__metadata(a40_0x7c1c9d(0x8d),[core_1['Reflector'],jwt_1[a40_0x7c1c9d(0x9f)]])],JwtAuthGuard),exports['JwtAuthGuard']=JwtAuthGuard;