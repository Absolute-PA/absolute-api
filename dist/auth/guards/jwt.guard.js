'use strict';const a40_0x378f96=a40_0x83d3;function a40_0x83d3(_0x12684f,_0x36da1a){const _0x691875=a40_0x6918();return a40_0x83d3=function(_0x83d380,_0x406a10){_0x83d380=_0x83d380-0xfa;let _0x4119b6=_0x691875[_0x83d380];return _0x4119b6;},a40_0x83d3(_0x12684f,_0x36da1a);}(function(_0x1c20f4,_0x288a9c){const _0x58438a=a40_0x83d3,_0x404c32=_0x1c20f4();while(!![]){try{const _0x313243=-parseInt(_0x58438a(0xfa))/0x1+parseInt(_0x58438a(0x107))/0x2*(parseInt(_0x58438a(0xfe))/0x3)+-parseInt(_0x58438a(0x106))/0x4+parseInt(_0x58438a(0x109))/0x5+-parseInt(_0x58438a(0x112))/0x6+-parseInt(_0x58438a(0x108))/0x7+parseInt(_0x58438a(0x116))/0x8;if(_0x313243===_0x288a9c)break;else _0x404c32['push'](_0x404c32['shift']());}catch(_0x469bba){_0x404c32['push'](_0x404c32['shift']());}}}(a40_0x6918,0x52bbd));var __decorate=this&&this['__decorate']||function(_0x59daaa,_0x23e4a0,_0x2a072c,_0x43844a){const _0x32bf4c=a40_0x83d3;var _0x2eaccd=arguments[_0x32bf4c(0x11d)],_0x14a694=_0x2eaccd<0x3?_0x23e4a0:_0x43844a===null?_0x43844a=Object[_0x32bf4c(0x117)](_0x23e4a0,_0x2a072c):_0x43844a,_0x17fc31;if(typeof Reflect===_0x32bf4c(0xfd)&&typeof Reflect[_0x32bf4c(0x10e)]===_0x32bf4c(0x111))_0x14a694=Reflect['decorate'](_0x59daaa,_0x23e4a0,_0x2a072c,_0x43844a);else{for(var _0x3cf6fe=_0x59daaa['length']-0x1;_0x3cf6fe>=0x0;_0x3cf6fe--)if(_0x17fc31=_0x59daaa[_0x3cf6fe])_0x14a694=(_0x2eaccd<0x3?_0x17fc31(_0x14a694):_0x2eaccd>0x3?_0x17fc31(_0x23e4a0,_0x2a072c,_0x14a694):_0x17fc31(_0x23e4a0,_0x2a072c))||_0x14a694;}return _0x2eaccd>0x3&&_0x14a694&&Object[_0x32bf4c(0x11c)](_0x23e4a0,_0x2a072c,_0x14a694),_0x14a694;},__metadata=this&&this[a40_0x378f96(0x101)]||function(_0x2cb11e,_0x2f5402){const _0x37470c=a40_0x378f96;if(typeof Reflect===_0x37470c(0xfd)&&typeof Reflect[_0x37470c(0x11a)]===_0x37470c(0x111))return Reflect[_0x37470c(0x11a)](_0x2cb11e,_0x2f5402);};function a40_0x6918(){const _0x10e264=['metadata','AuthGuard','defineProperty','length','555433usYLRj','Bearer','../decorators/public.decorator','object','194766rpyvdm','jwtService','getHandler','__metadata','getAllAndOverride','getClass','@nestjs/common','IS_PUBLIC_KEY','1779340WyfNAu','8Vafmhe','2163063AyMByQ','1790800ZVpImx','@nestjs/jwt','@nestjs/passport','headers','reflector','decorate','UnauthorizedException','Injectable','function','1166340wkvRuc','design:paramtypes','split','user','9797568OzKUJl','getOwnPropertyDescriptor','JwtService','getRequest'];a40_0x6918=function(){return _0x10e264;};return a40_0x6918();}Object[a40_0x378f96(0x11c)](exports,'__esModule',{'value':!![]}),exports['JwtAuthGuard']=void 0x0;const common_1=require(a40_0x378f96(0x104)),core_1=require('@nestjs/core'),passport_1=require(a40_0x378f96(0x10b)),public_decorator_1=require(a40_0x378f96(0xfc)),jwt_1=require(a40_0x378f96(0x10a));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x378f96(0x11b)])('jwt'){constructor(_0x5b302c,_0x33fb01){const _0x52b6d3=a40_0x378f96;super(),this['reflector']=_0x5b302c,this[_0x52b6d3(0xff)]=_0x33fb01;}async['canActivate'](_0x50faf1){const _0xa9d010=a40_0x378f96,_0x171bcb=this[_0xa9d010(0x10d)][_0xa9d010(0x102)](public_decorator_1[_0xa9d010(0x105)],[_0x50faf1[_0xa9d010(0x100)](),_0x50faf1[_0xa9d010(0x103)]()]);if(_0x171bcb)return!![];const _0x4583ca=_0x50faf1['switchToHttp']()[_0xa9d010(0x119)](),_0x126383=this['extractTokenFromHeader'](_0x4583ca);if(!_0x126383)throw new common_1[(_0xa9d010(0x10f))]();try{const _0x1a1c9f=await this[_0xa9d010(0xff)]['verifyAsync'](_0x126383,{'secret':process['env']['JWT_SECRET']});_0x4583ca[_0xa9d010(0x115)]=_0x1a1c9f;}catch(_0x26309d){throw new common_1['UnauthorizedException']();}return!![];}['extractTokenFromHeader'](_0x5ef11e){const _0x2a1615=a40_0x378f96;var _0x471583,_0x421eb0;const [_0x2d4a75,_0x14c662]=(_0x421eb0=(_0x471583=_0x5ef11e[_0x2a1615(0x10c)]['authorization'])===null||_0x471583===void 0x0?void 0x0:_0x471583[_0x2a1615(0x114)]('\x20'))!==null&&_0x421eb0!==void 0x0?_0x421eb0:[];return _0x2d4a75===_0x2a1615(0xfb)?_0x14c662:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x378f96(0x110)])(),__metadata(a40_0x378f96(0x113),[core_1['Reflector'],jwt_1[a40_0x378f96(0x118)]])],JwtAuthGuard),exports['JwtAuthGuard']=JwtAuthGuard;