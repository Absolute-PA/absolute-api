'use strict';const a40_0x687639=a40_0x56dc;(function(_0x516684,_0x16f541){const _0x79ff89=a40_0x56dc,_0x2c223f=_0x516684();while(!![]){try{const _0x3f3115=parseInt(_0x79ff89(0x1b4))/0x1*(-parseInt(_0x79ff89(0x1b7))/0x2)+parseInt(_0x79ff89(0x199))/0x3+-parseInt(_0x79ff89(0x194))/0x4*(parseInt(_0x79ff89(0x1a0))/0x5)+-parseInt(_0x79ff89(0x1ac))/0x6+-parseInt(_0x79ff89(0x19d))/0x7+-parseInt(_0x79ff89(0x19e))/0x8+parseInt(_0x79ff89(0x1a5))/0x9;if(_0x3f3115===_0x16f541)break;else _0x2c223f['push'](_0x2c223f['shift']());}catch(_0x285147){_0x2c223f['push'](_0x2c223f['shift']());}}}(a40_0x34b4,0x59e1c));var __decorate=this&&this['__decorate']||function(_0x24e1ff,_0x4606dd,_0x54ca62,_0x26dcf2){const _0x413de5=a40_0x56dc;var _0x5a142c=arguments[_0x413de5(0x1ae)],_0xee60e6=_0x5a142c<0x3?_0x4606dd:_0x26dcf2===null?_0x26dcf2=Object[_0x413de5(0x1ad)](_0x4606dd,_0x54ca62):_0x26dcf2,_0x4d8d16;if(typeof Reflect===_0x413de5(0x1af)&&typeof Reflect[_0x413de5(0x195)]===_0x413de5(0x1b1))_0xee60e6=Reflect['decorate'](_0x24e1ff,_0x4606dd,_0x54ca62,_0x26dcf2);else{for(var _0x280b61=_0x24e1ff[_0x413de5(0x1ae)]-0x1;_0x280b61>=0x0;_0x280b61--)if(_0x4d8d16=_0x24e1ff[_0x280b61])_0xee60e6=(_0x5a142c<0x3?_0x4d8d16(_0xee60e6):_0x5a142c>0x3?_0x4d8d16(_0x4606dd,_0x54ca62,_0xee60e6):_0x4d8d16(_0x4606dd,_0x54ca62))||_0xee60e6;}return _0x5a142c>0x3&&_0xee60e6&&Object[_0x413de5(0x193)](_0x4606dd,_0x54ca62,_0xee60e6),_0xee60e6;},__metadata=this&&this[a40_0x687639(0x1b5)]||function(_0xa0e3d0,_0x2bdf13){const _0x137e6c=a40_0x687639;if(typeof Reflect===_0x137e6c(0x1af)&&typeof Reflect[_0x137e6c(0x1a3)]==='function')return Reflect['metadata'](_0xa0e3d0,_0x2bdf13);};Object['defineProperty'](exports,a40_0x687639(0x19b),{'value':!![]}),exports['JwtAuthGuard']=void 0x0;const common_1=require('@nestjs/common'),core_1=require(a40_0x687639(0x198)),passport_1=require(a40_0x687639(0x1b3)),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x687639(0x1ab));function a40_0x34b4(){const _0x49dfae=['reflector','UnauthorizedException','JWT_SECRET','defineProperty','123404Agjblg','decorate','user','Bearer','@nestjs/core','2030226bdMtYQ','getAllAndOverride','__esModule','design:paramtypes','3835475aFBeod','3121104imCjOp','switchToHttp','115YChzrq','getRequest','authorization','metadata','JwtService','16690671qBOVWG','IS_PUBLIC_KEY','Reflector','env','JwtAuthGuard','jwtService','@nestjs/jwt','2892780BdXqfH','getOwnPropertyDescriptor','length','object','extractTokenFromHeader','function','AuthGuard','@nestjs/passport','33339RAmzdd','__metadata','getClass','2wUwaeb'];a40_0x34b4=function(){return _0x49dfae;};return a40_0x34b4();}function a40_0x56dc(_0x13c4f2,_0x1e2020){const _0x34b435=a40_0x34b4();return a40_0x56dc=function(_0x56dcbb,_0x2648f0){_0x56dcbb=_0x56dcbb-0x190;let _0xb8874c=_0x34b435[_0x56dcbb];return _0xb8874c;},a40_0x56dc(_0x13c4f2,_0x1e2020);}let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x687639(0x1b2)])('jwt'){constructor(_0x43b866,_0x17e169){const _0x4adca3=a40_0x687639;super(),this['reflector']=_0x43b866,this[_0x4adca3(0x1aa)]=_0x17e169;}async['canActivate'](_0x4fa4eb){const _0x54da41=a40_0x687639,_0x343101=this[_0x54da41(0x190)][_0x54da41(0x19a)](public_decorator_1[_0x54da41(0x1a6)],[_0x4fa4eb['getHandler'](),_0x4fa4eb[_0x54da41(0x1b6)]()]);if(_0x343101)return!![];const _0x50a174=_0x4fa4eb[_0x54da41(0x19f)]()[_0x54da41(0x1a1)](),_0x37a6f6=this[_0x54da41(0x1b0)](_0x50a174);if(!_0x37a6f6)throw new common_1[(_0x54da41(0x191))]();try{const _0x24ed45=await this[_0x54da41(0x1aa)]['verifyAsync'](_0x37a6f6,{'secret':process[_0x54da41(0x1a8)][_0x54da41(0x192)]});_0x50a174[_0x54da41(0x196)]=_0x24ed45;}catch(_0x5283ee){throw new common_1['UnauthorizedException']();}return!![];}[a40_0x687639(0x1b0)](_0x1e79f2){const _0x38c6e3=a40_0x687639;var _0x52fbc9,_0x1c1b70;const [_0x436d66,_0xa79a4]=(_0x1c1b70=(_0x52fbc9=_0x1e79f2['headers'][_0x38c6e3(0x1a2)])===null||_0x52fbc9===void 0x0?void 0x0:_0x52fbc9['split']('\x20'))!==null&&_0x1c1b70!==void 0x0?_0x1c1b70:[];return _0x436d66===_0x38c6e3(0x197)?_0xa79a4:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1['Injectable'])(),__metadata(a40_0x687639(0x19c),[core_1[a40_0x687639(0x1a7)],jwt_1[a40_0x687639(0x1a4)]])],JwtAuthGuard),exports[a40_0x687639(0x1a9)]=JwtAuthGuard;