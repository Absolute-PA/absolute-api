'use strict';const a40_0x251916=a40_0xed51;(function(_0x4717c6,_0x45006e){const _0x3b164a=a40_0xed51,_0x5df782=_0x4717c6();while(!![]){try{const _0x4a99b4=parseInt(_0x3b164a(0xae))/0x1+parseInt(_0x3b164a(0xaf))/0x2+-parseInt(_0x3b164a(0x99))/0x3*(-parseInt(_0x3b164a(0xa2))/0x4)+parseInt(_0x3b164a(0xa7))/0x5+parseInt(_0x3b164a(0xad))/0x6+parseInt(_0x3b164a(0x9b))/0x7*(parseInt(_0x3b164a(0x9e))/0x8)+-parseInt(_0x3b164a(0xab))/0x9;if(_0x4a99b4===_0x45006e)break;else _0x5df782['push'](_0x5df782['shift']());}catch(_0x1a0a9c){_0x5df782['push'](_0x5df782['shift']());}}}(a40_0x2c4b,0x19517));function a40_0x2c4b(){const _0x298b97=['function','176956tiUNKz','length','metadata','canActivate','getHandler','657600iKQumx','jwtService','__esModule','AuthGuard','2810259cMPNpH','../decorators/public.decorator','75930ywRXAh','75463yJVVfh','618gytZOW','defineProperty','JwtService','@nestjs/core','JWT_SECRET','getClass','verifyAsync','JwtAuthGuard','object','reflector','__metadata','getAllAndOverride','Injectable','getOwnPropertyDescriptor','user','@nestjs/jwt','env','decorate','3qRooej','@nestjs/common','8708iBOHoE','UnauthorizedException','extractTokenFromHeader','976WjGdBl','jwt','__decorate'];a40_0x2c4b=function(){return _0x298b97;};return a40_0x2c4b();}var __decorate=this&&this[a40_0x251916(0xa0)]||function(_0x4ec6c5,_0x435c42,_0x353b49,_0x4faf4){const _0x2b66db=a40_0x251916;var _0x2390ba=arguments[_0x2b66db(0xa3)],_0x1228b9=_0x2390ba<0x3?_0x435c42:_0x4faf4===null?_0x4faf4=Object[_0x2b66db(0xbc)](_0x435c42,_0x353b49):_0x4faf4,_0x4e93c2;if(typeof Reflect===_0x2b66db(0xb7)&&typeof Reflect[_0x2b66db(0x98)]===_0x2b66db(0xa1))_0x1228b9=Reflect[_0x2b66db(0x98)](_0x4ec6c5,_0x435c42,_0x353b49,_0x4faf4);else{for(var _0x1c521b=_0x4ec6c5[_0x2b66db(0xa3)]-0x1;_0x1c521b>=0x0;_0x1c521b--)if(_0x4e93c2=_0x4ec6c5[_0x1c521b])_0x1228b9=(_0x2390ba<0x3?_0x4e93c2(_0x1228b9):_0x2390ba>0x3?_0x4e93c2(_0x435c42,_0x353b49,_0x1228b9):_0x4e93c2(_0x435c42,_0x353b49))||_0x1228b9;}return _0x2390ba>0x3&&_0x1228b9&&Object[_0x2b66db(0xb0)](_0x435c42,_0x353b49,_0x1228b9),_0x1228b9;},__metadata=this&&this[a40_0x251916(0xb9)]||function(_0x5753f0,_0x3e1661){const _0xd7cfed=a40_0x251916;if(typeof Reflect===_0xd7cfed(0xb7)&&typeof Reflect[_0xd7cfed(0xa4)]===_0xd7cfed(0xa1))return Reflect[_0xd7cfed(0xa4)](_0x5753f0,_0x3e1661);};Object[a40_0x251916(0xb0)](exports,a40_0x251916(0xa9),{'value':!![]}),exports['JwtAuthGuard']=void 0x0;function a40_0xed51(_0x26b536,_0x19da4d){const _0x2c4b68=a40_0x2c4b();return a40_0xed51=function(_0xed519b,_0x2d67df){_0xed519b=_0xed519b-0x98;let _0x486c65=_0x2c4b68[_0xed519b];return _0x486c65;},a40_0xed51(_0x26b536,_0x19da4d);}const common_1=require(a40_0x251916(0x9a)),core_1=require(a40_0x251916(0xb2)),passport_1=require('@nestjs/passport'),public_decorator_1=require(a40_0x251916(0xac)),jwt_1=require(a40_0x251916(0xbe));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x251916(0xaa)])(a40_0x251916(0x9f)){constructor(_0x24bacb,_0x3dcae8){const _0x15e78c=a40_0x251916;super(),this[_0x15e78c(0xb8)]=_0x24bacb,this[_0x15e78c(0xa8)]=_0x3dcae8;}async[a40_0x251916(0xa5)](_0x5e3086){const _0x5b1b04=a40_0x251916,_0x3fd6d8=this[_0x5b1b04(0xb8)][_0x5b1b04(0xba)](public_decorator_1['IS_PUBLIC_KEY'],[_0x5e3086[_0x5b1b04(0xa6)](),_0x5e3086[_0x5b1b04(0xb4)]()]);if(_0x3fd6d8)return!![];const _0x464c54=_0x5e3086['switchToHttp']()['getRequest'](),_0x519988=this['extractTokenFromHeader'](_0x464c54);if(!_0x519988)throw new common_1[(_0x5b1b04(0x9c))]();try{const _0x2cc606=await this['jwtService'][_0x5b1b04(0xb5)](_0x519988,{'secret':process[_0x5b1b04(0xbf)][_0x5b1b04(0xb3)]});_0x464c54[_0x5b1b04(0xbd)]=_0x2cc606;}catch(_0x59ffa1){throw new common_1[(_0x5b1b04(0x9c))]();}return!![];}[a40_0x251916(0x9d)](_0x5ec8fa){var _0x280469,_0x24ecc4;const [_0x29cfd0,_0x58ff92]=(_0x24ecc4=(_0x280469=_0x5ec8fa['headers']['authorization'])===null||_0x280469===void 0x0?void 0x0:_0x280469['split']('\x20'))!==null&&_0x24ecc4!==void 0x0?_0x24ecc4:[];return _0x29cfd0==='Bearer'?_0x58ff92:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x251916(0xbb)])(),__metadata('design:paramtypes',[core_1['Reflector'],jwt_1[a40_0x251916(0xb1)]])],JwtAuthGuard),exports[a40_0x251916(0xb6)]=JwtAuthGuard;