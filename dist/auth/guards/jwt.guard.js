'use strict';const a40_0x44e177=a40_0x1288;function a40_0x2d5d(){const _0x2cf6ff=['authorization','@nestjs/passport','__esModule','verifyAsync','1373420Odpybi','3946314wiMwLi','jwtService','JwtService','defineProperty','Bearer','14904nSaflh','function','@nestjs/jwt','jwt','canActivate','164196tgNmPt','decorate','Reflector','headers','metadata','UnauthorizedException','5IqlrYv','8757LxxhvJ','386878QygYCi','length','getOwnPropertyDescriptor','9683268mOjbEe','Injectable','__metadata','getClass','getAllAndOverride','JWT_SECRET','object','740974RwZKnf','__decorate','getRequest','extractTokenFromHeader','env','JwtAuthGuard','AuthGuard','IS_PUBLIC_KEY','user'];a40_0x2d5d=function(){return _0x2cf6ff;};return a40_0x2d5d();}(function(_0x552308,_0x35a43f){const _0x2c2818=a40_0x1288,_0x2dfd5a=_0x552308();while(!![]){try{const _0x5a68ad=parseInt(_0x2c2818(0x16f))/0x1+-parseInt(_0x2c2818(0x165))/0x2+parseInt(_0x2c2818(0x187))/0x3+parseInt(_0x2c2818(0x17c))/0x4+parseInt(_0x2c2818(0x18d))/0x5*(-parseInt(_0x2c2818(0x17d))/0x6)+-parseInt(_0x2c2818(0x168))/0x7+-parseInt(_0x2c2818(0x182))/0x8*(-parseInt(_0x2c2818(0x164))/0x9);if(_0x5a68ad===_0x35a43f)break;else _0x2dfd5a['push'](_0x2dfd5a['shift']());}catch(_0x3578cf){_0x2dfd5a['push'](_0x2dfd5a['shift']());}}}(a40_0x2d5d,0xaf1de));var __decorate=this&&this[a40_0x44e177(0x170)]||function(_0x1de4cc,_0x3b4f0c,_0xc5b63d,_0x3eedad){const _0x10a52f=a40_0x44e177;var _0x522272=arguments[_0x10a52f(0x166)],_0x3514bb=_0x522272<0x3?_0x3b4f0c:_0x3eedad===null?_0x3eedad=Object[_0x10a52f(0x167)](_0x3b4f0c,_0xc5b63d):_0x3eedad,_0x25731c;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x10a52f(0x183))_0x3514bb=Reflect[_0x10a52f(0x188)](_0x1de4cc,_0x3b4f0c,_0xc5b63d,_0x3eedad);else{for(var _0x4c2bbc=_0x1de4cc[_0x10a52f(0x166)]-0x1;_0x4c2bbc>=0x0;_0x4c2bbc--)if(_0x25731c=_0x1de4cc[_0x4c2bbc])_0x3514bb=(_0x522272<0x3?_0x25731c(_0x3514bb):_0x522272>0x3?_0x25731c(_0x3b4f0c,_0xc5b63d,_0x3514bb):_0x25731c(_0x3b4f0c,_0xc5b63d))||_0x3514bb;}return _0x522272>0x3&&_0x3514bb&&Object[_0x10a52f(0x180)](_0x3b4f0c,_0xc5b63d,_0x3514bb),_0x3514bb;},__metadata=this&&this[a40_0x44e177(0x16a)]||function(_0x4819fe,_0x2edbf5){const _0xe7c321=a40_0x44e177;if(typeof Reflect===_0xe7c321(0x16e)&&typeof Reflect[_0xe7c321(0x18b)]===_0xe7c321(0x183))return Reflect['metadata'](_0x4819fe,_0x2edbf5);};function a40_0x1288(_0x434838,_0x4031b3){const _0x2d5d06=a40_0x2d5d();return a40_0x1288=function(_0x12887e,_0x19d021){_0x12887e=_0x12887e-0x164;let _0x20e8ec=_0x2d5d06[_0x12887e];return _0x20e8ec;},a40_0x1288(_0x434838,_0x4031b3);}Object[a40_0x44e177(0x180)](exports,a40_0x44e177(0x17a),{'value':!![]}),exports[a40_0x44e177(0x174)]=void 0x0;const common_1=require('@nestjs/common'),core_1=require('@nestjs/core'),passport_1=require(a40_0x44e177(0x179)),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x44e177(0x184));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x44e177(0x175)])(a40_0x44e177(0x185)){constructor(_0x1abeda,_0x102dc2){const _0x2142b3=a40_0x44e177;super(),this['reflector']=_0x1abeda,this[_0x2142b3(0x17e)]=_0x102dc2;}async[a40_0x44e177(0x186)](_0x40cf90){const _0x2ac39b=a40_0x44e177,_0x5100da=this['reflector'][_0x2ac39b(0x16c)](public_decorator_1[_0x2ac39b(0x176)],[_0x40cf90['getHandler'](),_0x40cf90[_0x2ac39b(0x16b)]()]);if(_0x5100da)return!![];const _0x131f77=_0x40cf90['switchToHttp']()[_0x2ac39b(0x171)](),_0xa18023=this['extractTokenFromHeader'](_0x131f77);if(!_0xa18023)throw new common_1[(_0x2ac39b(0x18c))]();try{const _0x37a02a=await this[_0x2ac39b(0x17e)][_0x2ac39b(0x17b)](_0xa18023,{'secret':process[_0x2ac39b(0x173)][_0x2ac39b(0x16d)]});_0x131f77[_0x2ac39b(0x177)]=_0x37a02a;}catch(_0x5937af){throw new common_1[(_0x2ac39b(0x18c))]();}return!![];}[a40_0x44e177(0x172)](_0x3dc2d1){const _0x4ad277=a40_0x44e177;var _0xfe6841,_0x3cb269;const [_0x550e85,_0x4125dd]=(_0x3cb269=(_0xfe6841=_0x3dc2d1[_0x4ad277(0x18a)][_0x4ad277(0x178)])===null||_0xfe6841===void 0x0?void 0x0:_0xfe6841['split']('\x20'))!==null&&_0x3cb269!==void 0x0?_0x3cb269:[];return _0x550e85===_0x4ad277(0x181)?_0x4125dd:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x44e177(0x169)])(),__metadata('design:paramtypes',[core_1[a40_0x44e177(0x189)],jwt_1[a40_0x44e177(0x17f)]])],JwtAuthGuard),exports[a40_0x44e177(0x174)]=JwtAuthGuard;