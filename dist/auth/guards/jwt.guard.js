'use strict';function a40_0x4a3f(){const _0x19bcc5=['split','@nestjs/jwt','canActivate','IS_PUBLIC_KEY','4233304rPWnIT','decorate','Reflector','jwtService','__decorate','@nestjs/passport','getOwnPropertyDescriptor','length','extractTokenFromHeader','jwt','UnauthorizedException','JWT_SECRET','design:paramtypes','__metadata','env','verifyAsync','switchToHttp','2797214tDafPx','object','290wOdZjN','__esModule','Injectable','function','headers','metadata','@nestjs/core','getAllAndOverride','694701WJlQdm','AuthGuard','JwtAuthGuard','user','1638384cczPcQ','@nestjs/common','Bearer','getRequest','1098132ScYFGV','defineProperty','JwtService','getClass','65460KoPIQW','1857376ZpCpuq'];a40_0x4a3f=function(){return _0x19bcc5;};return a40_0x4a3f();}const a40_0x4daf32=a40_0x54bf;function a40_0x54bf(_0x1f53fc,_0x327328){const _0x4a3fdb=a40_0x4a3f();return a40_0x54bf=function(_0x54bf02,_0x5bfdc1){_0x54bf02=_0x54bf02-0x130;let _0x4d199e=_0x4a3fdb[_0x54bf02];return _0x4d199e;},a40_0x54bf(_0x1f53fc,_0x327328);}(function(_0x43e23c,_0x793d85){const _0x3514db=a40_0x54bf,_0x5220be=_0x43e23c();while(!![]){try{const _0x47d52a=parseInt(_0x3514db(0x131))/0x1+-parseInt(_0x3514db(0x136))/0x2+parseInt(_0x3514db(0x156))/0x3+-parseInt(_0x3514db(0x13b))/0x4+parseInt(_0x3514db(0x14e))/0x5*(parseInt(_0x3514db(0x135))/0x6)+parseInt(_0x3514db(0x14c))/0x7+parseInt(_0x3514db(0x15a))/0x8;if(_0x47d52a===_0x793d85)break;else _0x5220be['push'](_0x5220be['shift']());}catch(_0x1d2112){_0x5220be['push'](_0x5220be['shift']());}}}(a40_0x4a3f,0x8d919));var __decorate=this&&this[a40_0x4daf32(0x13f)]||function(_0xbe59ba,_0x319c12,_0x35ffab,_0x2e9833){const _0x4ed1ae=a40_0x4daf32;var _0x564ae5=arguments[_0x4ed1ae(0x142)],_0xde2c2b=_0x564ae5<0x3?_0x319c12:_0x2e9833===null?_0x2e9833=Object[_0x4ed1ae(0x141)](_0x319c12,_0x35ffab):_0x2e9833,_0x1d52cc;if(typeof Reflect===_0x4ed1ae(0x14d)&&typeof Reflect[_0x4ed1ae(0x13c)]===_0x4ed1ae(0x151))_0xde2c2b=Reflect['decorate'](_0xbe59ba,_0x319c12,_0x35ffab,_0x2e9833);else{for(var _0x56ddfd=_0xbe59ba['length']-0x1;_0x56ddfd>=0x0;_0x56ddfd--)if(_0x1d52cc=_0xbe59ba[_0x56ddfd])_0xde2c2b=(_0x564ae5<0x3?_0x1d52cc(_0xde2c2b):_0x564ae5>0x3?_0x1d52cc(_0x319c12,_0x35ffab,_0xde2c2b):_0x1d52cc(_0x319c12,_0x35ffab))||_0xde2c2b;}return _0x564ae5>0x3&&_0xde2c2b&&Object[_0x4ed1ae(0x132)](_0x319c12,_0x35ffab,_0xde2c2b),_0xde2c2b;},__metadata=this&&this[a40_0x4daf32(0x148)]||function(_0x3dfcb8,_0x4e6d92){const _0x193666=a40_0x4daf32;if(typeof Reflect===_0x193666(0x14d)&&typeof Reflect[_0x193666(0x153)]===_0x193666(0x151))return Reflect[_0x193666(0x153)](_0x3dfcb8,_0x4e6d92);};Object['defineProperty'](exports,a40_0x4daf32(0x14f),{'value':!![]}),exports[a40_0x4daf32(0x158)]=void 0x0;const common_1=require(a40_0x4daf32(0x15b)),core_1=require(a40_0x4daf32(0x154)),passport_1=require(a40_0x4daf32(0x140)),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x4daf32(0x138));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x4daf32(0x157)])(a40_0x4daf32(0x144)){constructor(_0x4ccf88,_0x17d8f9){const _0x29aa79=a40_0x4daf32;super(),this['reflector']=_0x4ccf88,this[_0x29aa79(0x13e)]=_0x17d8f9;}async[a40_0x4daf32(0x139)](_0x38e80c){const _0x382fef=a40_0x4daf32,_0x355344=this['reflector'][_0x382fef(0x155)](public_decorator_1[_0x382fef(0x13a)],[_0x38e80c['getHandler'](),_0x38e80c[_0x382fef(0x134)]()]);if(_0x355344)return!![];const _0x22873f=_0x38e80c[_0x382fef(0x14b)]()[_0x382fef(0x130)](),_0x34a462=this[_0x382fef(0x143)](_0x22873f);if(!_0x34a462)throw new common_1['UnauthorizedException']();try{const _0x212dd4=await this[_0x382fef(0x13e)][_0x382fef(0x14a)](_0x34a462,{'secret':process[_0x382fef(0x149)][_0x382fef(0x146)]});_0x22873f[_0x382fef(0x159)]=_0x212dd4;}catch(_0x3e9fe9){throw new common_1[(_0x382fef(0x145))]();}return!![];}[a40_0x4daf32(0x143)](_0x400ce7){const _0x353854=a40_0x4daf32;var _0x31bd28,_0x58f852;const [_0x3945e3,_0x5be9a8]=(_0x58f852=(_0x31bd28=_0x400ce7[_0x353854(0x152)]['authorization'])===null||_0x31bd28===void 0x0?void 0x0:_0x31bd28[_0x353854(0x137)]('\x20'))!==null&&_0x58f852!==void 0x0?_0x58f852:[];return _0x3945e3===_0x353854(0x15c)?_0x5be9a8:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x4daf32(0x150)])(),__metadata(a40_0x4daf32(0x147),[core_1[a40_0x4daf32(0x13d)],jwt_1[a40_0x4daf32(0x133)]])],JwtAuthGuard),exports[a40_0x4daf32(0x158)]=JwtAuthGuard;