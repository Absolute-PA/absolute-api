'use strict';function a40_0x8267(_0x4c20f4,_0x292379){const _0x543aa1=a40_0x543a();return a40_0x8267=function(_0x826739,_0x5530a7){_0x826739=_0x826739-0x159;let _0x3a2c3a=_0x543aa1[_0x826739];return _0x3a2c3a;},a40_0x8267(_0x4c20f4,_0x292379);}const a40_0x234cd6=a40_0x8267;(function(_0x3c8cf8,_0x3d488e){const _0x44dbb4=a40_0x8267,_0x14d399=_0x3c8cf8();while(!![]){try{const _0x49c46c=parseInt(_0x44dbb4(0x179))/0x1*(parseInt(_0x44dbb4(0x15c))/0x2)+parseInt(_0x44dbb4(0x17f))/0x3*(parseInt(_0x44dbb4(0x17c))/0x4)+-parseInt(_0x44dbb4(0x160))/0x5*(-parseInt(_0x44dbb4(0x172))/0x6)+parseInt(_0x44dbb4(0x167))/0x7*(parseInt(_0x44dbb4(0x170))/0x8)+-parseInt(_0x44dbb4(0x177))/0x9+-parseInt(_0x44dbb4(0x16d))/0xa*(parseInt(_0x44dbb4(0x161))/0xb)+-parseInt(_0x44dbb4(0x16f))/0xc*(parseInt(_0x44dbb4(0x16e))/0xd);if(_0x49c46c===_0x3d488e)break;else _0x14d399['push'](_0x14d399['shift']());}catch(_0x3784e1){_0x14d399['push'](_0x14d399['shift']());}}}(a40_0x543a,0xa0ed3));var __decorate=this&&this[a40_0x234cd6(0x15f)]||function(_0x2a85ed,_0x1c58eb,_0x190542,_0x17803f){const _0x3d7e4b=a40_0x234cd6;var _0x26b070=arguments[_0x3d7e4b(0x15e)],_0xbf2fcd=_0x26b070<0x3?_0x1c58eb:_0x17803f===null?_0x17803f=Object[_0x3d7e4b(0x16b)](_0x1c58eb,_0x190542):_0x17803f,_0x45a19a;if(typeof Reflect===_0x3d7e4b(0x17a)&&typeof Reflect[_0x3d7e4b(0x17d)]===_0x3d7e4b(0x178))_0xbf2fcd=Reflect[_0x3d7e4b(0x17d)](_0x2a85ed,_0x1c58eb,_0x190542,_0x17803f);else{for(var _0x47c292=_0x2a85ed[_0x3d7e4b(0x15e)]-0x1;_0x47c292>=0x0;_0x47c292--)if(_0x45a19a=_0x2a85ed[_0x47c292])_0xbf2fcd=(_0x26b070<0x3?_0x45a19a(_0xbf2fcd):_0x26b070>0x3?_0x45a19a(_0x1c58eb,_0x190542,_0xbf2fcd):_0x45a19a(_0x1c58eb,_0x190542))||_0xbf2fcd;}return _0x26b070>0x3&&_0xbf2fcd&&Object[_0x3d7e4b(0x15b)](_0x1c58eb,_0x190542,_0xbf2fcd),_0xbf2fcd;},__metadata=this&&this[a40_0x234cd6(0x165)]||function(_0x55cd73,_0x595cc3){const _0x1322ee=a40_0x234cd6;if(typeof Reflect==='object'&&typeof Reflect[_0x1322ee(0x17e)]===_0x1322ee(0x178))return Reflect['metadata'](_0x55cd73,_0x595cc3);};Object[a40_0x234cd6(0x15b)](exports,a40_0x234cd6(0x16a),{'value':!![]}),exports['JwtAuthGuard']=void 0x0;const common_1=require('@nestjs/common'),core_1=require('@nestjs/core'),passport_1=require(a40_0x234cd6(0x176)),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x234cd6(0x159));function a40_0x543a(){const _0x1b1489=['JwtService','verifyAsync','@nestjs/passport','4416048oXsdjX','function','75499oTDEhO','object','getClass','20gYZqaf','decorate','metadata','483243rfXvor','reflector','jwt','getRequest','@nestjs/jwt','jwtService','defineProperty','6chStew','env','length','__decorate','2226650jAluHH','11Qglksg','extractTokenFromHeader','Reflector','getAllAndOverride','__metadata','UnauthorizedException','560693SmSiKi','getHandler','canActivate','__esModule','getOwnPropertyDescriptor','JwtAuthGuard','525110VEqqOR','26PTPnpL','5494116QhtNne','64xOhzAO','Bearer','6NRYlPl','Injectable'];a40_0x543a=function(){return _0x1b1489;};return a40_0x543a();}let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1['AuthGuard'])(a40_0x234cd6(0x181)){constructor(_0x3a44a8,_0x3a1168){const _0x1aaaff=a40_0x234cd6;super(),this[_0x1aaaff(0x180)]=_0x3a44a8,this[_0x1aaaff(0x15a)]=_0x3a1168;}async[a40_0x234cd6(0x169)](_0x4d2500){const _0x7aee3=a40_0x234cd6,_0x766050=this[_0x7aee3(0x180)][_0x7aee3(0x164)](public_decorator_1['IS_PUBLIC_KEY'],[_0x4d2500[_0x7aee3(0x168)](),_0x4d2500[_0x7aee3(0x17b)]()]);if(_0x766050)return!![];const _0x2e097e=_0x4d2500['switchToHttp']()[_0x7aee3(0x182)](),_0x40a18e=this['extractTokenFromHeader'](_0x2e097e);if(!_0x40a18e)throw new common_1[(_0x7aee3(0x166))]();try{const _0x19f921=await this[_0x7aee3(0x15a)][_0x7aee3(0x175)](_0x40a18e,{'secret':process[_0x7aee3(0x15d)]['JWT_SECRET']});_0x2e097e['user']=_0x19f921;}catch(_0x5802f8){throw new common_1['UnauthorizedException']();}return!![];}[a40_0x234cd6(0x162)](_0x2f0d4c){const _0x4e1144=a40_0x234cd6;var _0x5dca5b,_0x9ba9ba;const [_0x591fe8,_0x50e94e]=(_0x9ba9ba=(_0x5dca5b=_0x2f0d4c['headers']['authorization'])===null||_0x5dca5b===void 0x0?void 0x0:_0x5dca5b['split']('\x20'))!==null&&_0x9ba9ba!==void 0x0?_0x9ba9ba:[];return _0x591fe8===_0x4e1144(0x171)?_0x50e94e:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x234cd6(0x173)])(),__metadata('design:paramtypes',[core_1[a40_0x234cd6(0x163)],jwt_1[a40_0x234cd6(0x174)]])],JwtAuthGuard),exports[a40_0x234cd6(0x16c)]=JwtAuthGuard;