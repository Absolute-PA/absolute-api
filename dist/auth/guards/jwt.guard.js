'use strict';const a40_0x4a619d=a40_0x5b4d;function a40_0x1a75(){const _0x426ffb=['split','724812diKYMV','metadata','getRequest','13608400gdtSgF','Bearer','50uAxlZk','extractTokenFromHeader','JWT_SECRET','design:paramtypes','__esModule','length','1629261SFsRLs','__metadata','function','3hoeDTb','jwtService','reflector','env','5443016vOYOdw','verifyAsync','getClass','162fKahxI','5784540fIbbRY','jwt','Injectable','user','710722LkOiyh','@nestjs/passport','121093wAQTad','../decorators/public.decorator','defineProperty','JwtService','Reflector','JwtAuthGuard','object','getHandler','@nestjs/common','UnauthorizedException','decorate'];a40_0x1a75=function(){return _0x426ffb;};return a40_0x1a75();}function a40_0x5b4d(_0x506115,_0x2b7b7f){const _0x1a75f5=a40_0x1a75();return a40_0x5b4d=function(_0x5b4dec,_0x246886){_0x5b4dec=_0x5b4dec-0x131;let _0x5706ca=_0x1a75f5[_0x5b4dec];return _0x5706ca;},a40_0x5b4d(_0x506115,_0x2b7b7f);}(function(_0x1e4ce5,_0x749e11){const _0x35d404=a40_0x5b4d,_0x2ed2ea=_0x1e4ce5();while(!![]){try{const _0x26b571=-parseInt(_0x35d404(0x138))/0x1+parseInt(_0x35d404(0x146))/0x2+parseInt(_0x35d404(0x154))/0x3*(parseInt(_0x35d404(0x158))/0x4)+parseInt(_0x35d404(0x134))/0x5+-parseInt(_0x35d404(0x133))/0x6*(parseInt(_0x35d404(0x13a))/0x7)+-parseInt(_0x35d404(0x149))/0x8+parseInt(_0x35d404(0x151))/0x9*(parseInt(_0x35d404(0x14b))/0xa);if(_0x26b571===_0x749e11)break;else _0x2ed2ea['push'](_0x2ed2ea['shift']());}catch(_0x6b0e77){_0x2ed2ea['push'](_0x2ed2ea['shift']());}}}(a40_0x1a75,0xdd480));var __decorate=this&&this['__decorate']||function(_0x4052eb,_0x5b9d08,_0x8a974a,_0x46f6e8){const _0x1a9337=a40_0x5b4d;var _0x3781be=arguments['length'],_0x3285b9=_0x3781be<0x3?_0x5b9d08:_0x46f6e8===null?_0x46f6e8=Object['getOwnPropertyDescriptor'](_0x5b9d08,_0x8a974a):_0x46f6e8,_0x13d5d8;if(typeof Reflect===_0x1a9337(0x140)&&typeof Reflect[_0x1a9337(0x144)]===_0x1a9337(0x153))_0x3285b9=Reflect['decorate'](_0x4052eb,_0x5b9d08,_0x8a974a,_0x46f6e8);else{for(var _0x538b0c=_0x4052eb[_0x1a9337(0x150)]-0x1;_0x538b0c>=0x0;_0x538b0c--)if(_0x13d5d8=_0x4052eb[_0x538b0c])_0x3285b9=(_0x3781be<0x3?_0x13d5d8(_0x3285b9):_0x3781be>0x3?_0x13d5d8(_0x5b9d08,_0x8a974a,_0x3285b9):_0x13d5d8(_0x5b9d08,_0x8a974a))||_0x3285b9;}return _0x3781be>0x3&&_0x3285b9&&Object[_0x1a9337(0x13c)](_0x5b9d08,_0x8a974a,_0x3285b9),_0x3285b9;},__metadata=this&&this[a40_0x4a619d(0x152)]||function(_0x543373,_0x305081){const _0x1a6095=a40_0x4a619d;if(typeof Reflect===_0x1a6095(0x140)&&typeof Reflect[_0x1a6095(0x147)]===_0x1a6095(0x153))return Reflect[_0x1a6095(0x147)](_0x543373,_0x305081);};Object['defineProperty'](exports,a40_0x4a619d(0x14f),{'value':!![]}),exports[a40_0x4a619d(0x13f)]=void 0x0;const common_1=require(a40_0x4a619d(0x142)),core_1=require('@nestjs/core'),passport_1=require(a40_0x4a619d(0x139)),public_decorator_1=require(a40_0x4a619d(0x13b)),jwt_1=require('@nestjs/jwt');let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1['AuthGuard'])(a40_0x4a619d(0x135)){constructor(_0xcce91e,_0x4aa2e4){const _0x2a37c8=a40_0x4a619d;super(),this[_0x2a37c8(0x156)]=_0xcce91e,this[_0x2a37c8(0x155)]=_0x4aa2e4;}async['canActivate'](_0x259906){const _0x417ff8=a40_0x4a619d,_0x398c86=this[_0x417ff8(0x156)]['getAllAndOverride'](public_decorator_1['IS_PUBLIC_KEY'],[_0x259906[_0x417ff8(0x141)](),_0x259906[_0x417ff8(0x132)]()]);if(_0x398c86)return!![];const _0x4308b6=_0x259906['switchToHttp']()[_0x417ff8(0x148)](),_0xa7b6cc=this[_0x417ff8(0x14c)](_0x4308b6);if(!_0xa7b6cc)throw new common_1[(_0x417ff8(0x143))]();try{const _0x4e321f=await this[_0x417ff8(0x155)][_0x417ff8(0x131)](_0xa7b6cc,{'secret':process[_0x417ff8(0x157)][_0x417ff8(0x14d)]});_0x4308b6[_0x417ff8(0x137)]=_0x4e321f;}catch(_0x5d302){throw new common_1[(_0x417ff8(0x143))]();}return!![];}[a40_0x4a619d(0x14c)](_0x5ad3f7){const _0x54749e=a40_0x4a619d;var _0x5d3988,_0x28f28b;const [_0x5489ad,_0x297cd6]=(_0x28f28b=(_0x5d3988=_0x5ad3f7['headers']['authorization'])===null||_0x5d3988===void 0x0?void 0x0:_0x5d3988[_0x54749e(0x145)]('\x20'))!==null&&_0x28f28b!==void 0x0?_0x28f28b:[];return _0x5489ad===_0x54749e(0x14a)?_0x297cd6:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x4a619d(0x136)])(),__metadata(a40_0x4a619d(0x14e),[core_1[a40_0x4a619d(0x13e)],jwt_1[a40_0x4a619d(0x13d)]])],JwtAuthGuard),exports[a40_0x4a619d(0x13f)]=JwtAuthGuard;