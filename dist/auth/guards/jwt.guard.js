'use strict';const a40_0x3aea16=a40_0x111b;(function(_0x17ff4a,_0x5ea391){const _0x2c5c69=a40_0x111b,_0x1e7b1f=_0x17ff4a();while(!![]){try{const _0x34b356=-parseInt(_0x2c5c69(0x1c1))/0x1*(parseInt(_0x2c5c69(0x1b8))/0x2)+parseInt(_0x2c5c69(0x1bf))/0x3+parseInt(_0x2c5c69(0x1c3))/0x4*(parseInt(_0x2c5c69(0x1ab))/0x5)+parseInt(_0x2c5c69(0x1b1))/0x6*(parseInt(_0x2c5c69(0x1ad))/0x7)+parseInt(_0x2c5c69(0x1c7))/0x8*(-parseInt(_0x2c5c69(0x1b3))/0x9)+parseInt(_0x2c5c69(0x1b6))/0xa+-parseInt(_0x2c5c69(0x1b0))/0xb;if(_0x34b356===_0x5ea391)break;else _0x1e7b1f['push'](_0x1e7b1f['shift']());}catch(_0x1f3ca6){_0x1e7b1f['push'](_0x1e7b1f['shift']());}}}(a40_0x2d65,0xdc90f));function a40_0x2d65(){const _0x30a62e=['object','@nestjs/jwt','env','5iMVlyy','canActivate','1435XUxeHU','JwtAuthGuard','getHandler','4582633VcAJWk','38226sQdUYH','__esModule','8395767Eyzwga','authorization','function','5563200QdggiC','JWT_SECRET','40PNmswc','reflector','design:paramtypes','@nestjs/passport','Reflector','verifyAsync','jwtService','5099133XOaaLn','getRequest','79877cHUElL','defineProperty','1153436NXeZXy','IS_PUBLIC_KEY','UnauthorizedException','decorate','8gAQebo','jwt','switchToHttp','metadata','__metadata','getAllAndOverride','Injectable','extractTokenFromHeader','JwtService'];a40_0x2d65=function(){return _0x30a62e;};return a40_0x2d65();}var __decorate=this&&this['__decorate']||function(_0x1e07e1,_0x566781,_0x34fdf1,_0x22f4e2){const _0x50a051=a40_0x111b;var _0x8eb25d=arguments['length'],_0x9b62c8=_0x8eb25d<0x3?_0x566781:_0x22f4e2===null?_0x22f4e2=Object['getOwnPropertyDescriptor'](_0x566781,_0x34fdf1):_0x22f4e2,_0x22b221;if(typeof Reflect===_0x50a051(0x1a8)&&typeof Reflect[_0x50a051(0x1c6)]===_0x50a051(0x1b5))_0x9b62c8=Reflect[_0x50a051(0x1c6)](_0x1e07e1,_0x566781,_0x34fdf1,_0x22f4e2);else{for(var _0x13e85d=_0x1e07e1['length']-0x1;_0x13e85d>=0x0;_0x13e85d--)if(_0x22b221=_0x1e07e1[_0x13e85d])_0x9b62c8=(_0x8eb25d<0x3?_0x22b221(_0x9b62c8):_0x8eb25d>0x3?_0x22b221(_0x566781,_0x34fdf1,_0x9b62c8):_0x22b221(_0x566781,_0x34fdf1))||_0x9b62c8;}return _0x8eb25d>0x3&&_0x9b62c8&&Object[_0x50a051(0x1c2)](_0x566781,_0x34fdf1,_0x9b62c8),_0x9b62c8;},__metadata=this&&this[a40_0x3aea16(0x1cb)]||function(_0x7c792a,_0x223b34){const _0x16bfc7=a40_0x3aea16;if(typeof Reflect===_0x16bfc7(0x1a8)&&typeof Reflect[_0x16bfc7(0x1ca)]===_0x16bfc7(0x1b5))return Reflect[_0x16bfc7(0x1ca)](_0x7c792a,_0x223b34);};Object[a40_0x3aea16(0x1c2)](exports,a40_0x3aea16(0x1b2),{'value':!![]}),exports[a40_0x3aea16(0x1ae)]=void 0x0;const common_1=require('@nestjs/common'),core_1=require('@nestjs/core'),passport_1=require(a40_0x3aea16(0x1bb)),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x3aea16(0x1a9));function a40_0x111b(_0x1fc28a,_0x4d7537){const _0x2d6590=a40_0x2d65();return a40_0x111b=function(_0x111b9e,_0x174c5a){_0x111b9e=_0x111b9e-0x1a5;let _0x353d9b=_0x2d6590[_0x111b9e];return _0x353d9b;},a40_0x111b(_0x1fc28a,_0x4d7537);}let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1['AuthGuard'])(a40_0x3aea16(0x1c8)){constructor(_0x57037c,_0x48bb48){const _0x683cf8=a40_0x3aea16;super(),this['reflector']=_0x57037c,this[_0x683cf8(0x1be)]=_0x48bb48;}async[a40_0x3aea16(0x1ac)](_0x52f7de){const _0x23600e=a40_0x3aea16,_0x91ebce=this[_0x23600e(0x1b9)][_0x23600e(0x1cc)](public_decorator_1[_0x23600e(0x1c4)],[_0x52f7de[_0x23600e(0x1af)](),_0x52f7de['getClass']()]);if(_0x91ebce)return!![];const _0x26114d=_0x52f7de[_0x23600e(0x1c9)]()[_0x23600e(0x1c0)](),_0x2fac2c=this[_0x23600e(0x1a6)](_0x26114d);if(!_0x2fac2c)throw new common_1['UnauthorizedException']();try{const _0x523cd7=await this['jwtService'][_0x23600e(0x1bd)](_0x2fac2c,{'secret':process[_0x23600e(0x1aa)][_0x23600e(0x1b7)]});_0x26114d['user']=_0x523cd7;}catch(_0x33bb2c){throw new common_1[(_0x23600e(0x1c5))]();}return!![];}[a40_0x3aea16(0x1a6)](_0x3f152a){const _0x1177c8=a40_0x3aea16;var _0x12e37d,_0x5bc10e;const [_0x1d3fa0,_0x34a725]=(_0x5bc10e=(_0x12e37d=_0x3f152a['headers'][_0x1177c8(0x1b4)])===null||_0x12e37d===void 0x0?void 0x0:_0x12e37d['split']('\x20'))!==null&&_0x5bc10e!==void 0x0?_0x5bc10e:[];return _0x1d3fa0==='Bearer'?_0x34a725:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x3aea16(0x1a5)])(),__metadata(a40_0x3aea16(0x1ba),[core_1[a40_0x3aea16(0x1bc)],jwt_1[a40_0x3aea16(0x1a7)]])],JwtAuthGuard),exports[a40_0x3aea16(0x1ae)]=JwtAuthGuard;