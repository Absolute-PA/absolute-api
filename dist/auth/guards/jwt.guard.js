'use strict';const a40_0x30838d=a40_0x149f;function a40_0x1ad8(){const _0x338861=['@nestjs/passport','54153pQpDDy','Reflector','defineProperty','296VrnYtL','extractTokenFromHeader','user','__esModule','../decorators/public.decorator','getRequest','@nestjs/common','UnauthorizedException','metadata','52WizbbN','__decorate','length','264126QMNIub','jwtService','152886YkFkIs','70045foEdqT','10LvpVEm','3938924EsLvvV','decorate','@nestjs/jwt','function','340390EbakHq','605184iEyLOj','AuthGuard','design:paramtypes','jwt','getClass','switchToHttp','object','JWT_SECRET','IS_PUBLIC_KEY','@nestjs/core','getOwnPropertyDescriptor','Injectable','canActivate','getAllAndOverride','Bearer','14MpDVPP','env','JwtAuthGuard','JwtService','reflector'];a40_0x1ad8=function(){return _0x338861;};return a40_0x1ad8();}(function(_0x3a3b04,_0x9e1cab){const _0x3abc45=a40_0x149f,_0x409ad9=_0x3a3b04();while(!![]){try{const _0x2cddd0=parseInt(_0x3abc45(0x8b))/0x1+-parseInt(_0x3abc45(0x84))/0x2+parseInt(_0x3abc45(0x8c))/0x3+-parseInt(_0x3abc45(0x7f))/0x4*(parseInt(_0x3abc45(0x85))/0x5)+-parseInt(_0x3abc45(0x82))/0x6*(-parseInt(_0x3abc45(0x6d))/0x7)+-parseInt(_0x3abc45(0x76))/0x8*(-parseInt(_0x3abc45(0x73))/0x9)+-parseInt(_0x3abc45(0x86))/0xa*(parseInt(_0x3abc45(0x87))/0xb);if(_0x2cddd0===_0x9e1cab)break;else _0x409ad9['push'](_0x409ad9['shift']());}catch(_0x1c3d1d){_0x409ad9['push'](_0x409ad9['shift']());}}}(a40_0x1ad8,0x39a71));var __decorate=this&&this[a40_0x30838d(0x80)]||function(_0x54dcd8,_0x1fec5c,_0x10da77,_0x20fda8){const _0x3bf4e0=a40_0x30838d;var _0x4488c2=arguments['length'],_0x4a36ee=_0x4488c2<0x3?_0x1fec5c:_0x20fda8===null?_0x20fda8=Object[_0x3bf4e0(0x68)](_0x1fec5c,_0x10da77):_0x20fda8,_0x41dcd0;if(typeof Reflect===_0x3bf4e0(0x92)&&typeof Reflect['decorate']===_0x3bf4e0(0x8a))_0x4a36ee=Reflect[_0x3bf4e0(0x88)](_0x54dcd8,_0x1fec5c,_0x10da77,_0x20fda8);else{for(var _0x1c0078=_0x54dcd8[_0x3bf4e0(0x81)]-0x1;_0x1c0078>=0x0;_0x1c0078--)if(_0x41dcd0=_0x54dcd8[_0x1c0078])_0x4a36ee=(_0x4488c2<0x3?_0x41dcd0(_0x4a36ee):_0x4488c2>0x3?_0x41dcd0(_0x1fec5c,_0x10da77,_0x4a36ee):_0x41dcd0(_0x1fec5c,_0x10da77))||_0x4a36ee;}return _0x4488c2>0x3&&_0x4a36ee&&Object[_0x3bf4e0(0x75)](_0x1fec5c,_0x10da77,_0x4a36ee),_0x4a36ee;},__metadata=this&&this['__metadata']||function(_0x41bddd,_0x5e87ba){const _0x439dee=a40_0x30838d;if(typeof Reflect===_0x439dee(0x92)&&typeof Reflect[_0x439dee(0x7e)]===_0x439dee(0x8a))return Reflect[_0x439dee(0x7e)](_0x41bddd,_0x5e87ba);};Object[a40_0x30838d(0x75)](exports,a40_0x30838d(0x79),{'value':!![]}),exports[a40_0x30838d(0x6f)]=void 0x0;const common_1=require(a40_0x30838d(0x7c)),core_1=require(a40_0x30838d(0x95)),passport_1=require(a40_0x30838d(0x72)),public_decorator_1=require(a40_0x30838d(0x7a)),jwt_1=require(a40_0x30838d(0x89));function a40_0x149f(_0x4305c5,_0x33bf25){const _0x1ad85e=a40_0x1ad8();return a40_0x149f=function(_0x149ff1,_0x26f076){_0x149ff1=_0x149ff1-0x68;let _0x15df9f=_0x1ad85e[_0x149ff1];return _0x15df9f;},a40_0x149f(_0x4305c5,_0x33bf25);}let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x30838d(0x8d)])(a40_0x30838d(0x8f)){constructor(_0x5d5518,_0x237c40){const _0x49dfa3=a40_0x30838d;super(),this[_0x49dfa3(0x71)]=_0x5d5518,this['jwtService']=_0x237c40;}async[a40_0x30838d(0x6a)](_0x4a9d9b){const _0x1f93f4=a40_0x30838d,_0xd59511=this[_0x1f93f4(0x71)][_0x1f93f4(0x6b)](public_decorator_1[_0x1f93f4(0x94)],[_0x4a9d9b['getHandler'](),_0x4a9d9b[_0x1f93f4(0x90)]()]);if(_0xd59511)return!![];const _0x1ce569=_0x4a9d9b[_0x1f93f4(0x91)]()[_0x1f93f4(0x7b)](),_0x3412fb=this[_0x1f93f4(0x77)](_0x1ce569);if(!_0x3412fb)throw new common_1[(_0x1f93f4(0x7d))]();try{const _0x46c0a7=await this[_0x1f93f4(0x83)]['verifyAsync'](_0x3412fb,{'secret':process[_0x1f93f4(0x6e)][_0x1f93f4(0x93)]});_0x1ce569[_0x1f93f4(0x78)]=_0x46c0a7;}catch(_0x37d5d9){throw new common_1[(_0x1f93f4(0x7d))]();}return!![];}[a40_0x30838d(0x77)](_0x5159de){const _0x20870d=a40_0x30838d;var _0x18f940,_0x21c911;const [_0x574807,_0x470632]=(_0x21c911=(_0x18f940=_0x5159de['headers']['authorization'])===null||_0x18f940===void 0x0?void 0x0:_0x18f940['split']('\x20'))!==null&&_0x21c911!==void 0x0?_0x21c911:[];return _0x574807===_0x20870d(0x6c)?_0x470632:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x30838d(0x69)])(),__metadata(a40_0x30838d(0x8e),[core_1[a40_0x30838d(0x74)],jwt_1[a40_0x30838d(0x70)]])],JwtAuthGuard),exports[a40_0x30838d(0x6f)]=JwtAuthGuard;