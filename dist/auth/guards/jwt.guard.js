'use strict';function a40_0x2fc5(){const _0x5a4c6d=['@nestjs/common','JWT_SECRET','jwtService','canActivate','defineProperty','length','5319635TIZylq','48784ubfwCJ','../decorators/public.decorator','getAllAndOverride','extractTokenFromHeader','Reflector','split','object','__metadata','verifyAsync','__decorate','IS_PUBLIC_KEY','110RUzSEU','AuthGuard','JwtService','getOwnPropertyDescriptor','Injectable','@nestjs/core','reflector','headers','metadata','4ocuryL','getRequest','env','2763580RwMFXf','657xDtRrr','getClass','4141605cLBIFz','JwtAuthGuard','4ZqgtyN','@nestjs/jwt','jwt','UnauthorizedException','decorate','user','3270066PPQsRg','getHandler','328218NdCzEQ','Bearer','8874306LDhaGq','authorization'];a40_0x2fc5=function(){return _0x5a4c6d;};return a40_0x2fc5();}const a40_0x53a98f=a40_0x42c6;(function(_0x55c921,_0x2f9718){const _0x16bf6d=a40_0x42c6,_0x12b486=_0x55c921();while(!![]){try{const _0x90f810=-parseInt(_0x16bf6d(0xea))/0x1*(parseInt(_0x16bf6d(0xf2))/0x2)+-parseInt(_0x16bf6d(0xe8))/0x3+-parseInt(_0x16bf6d(0x111))/0x4*(parseInt(_0x16bf6d(0xfc))/0x5)+-parseInt(_0x16bf6d(0xf0))/0x6+parseInt(_0x16bf6d(0xf4))/0x7+-parseInt(_0x16bf6d(0xfd))/0x8*(-parseInt(_0x16bf6d(0x115))/0x9)+parseInt(_0x16bf6d(0x114))/0xa*(parseInt(_0x16bf6d(0x108))/0xb);if(_0x90f810===_0x2f9718)break;else _0x12b486['push'](_0x12b486['shift']());}catch(_0x2e5fc2){_0x12b486['push'](_0x12b486['shift']());}}}(a40_0x2fc5,0xcac77));var __decorate=this&&this[a40_0x53a98f(0x106)]||function(_0x498e89,_0x224dd1,_0x2f848c,_0x4198f4){const _0x4d28b3=a40_0x53a98f;var _0x5cfeba=arguments[_0x4d28b3(0xfb)],_0x400a9d=_0x5cfeba<0x3?_0x224dd1:_0x4198f4===null?_0x4198f4=Object[_0x4d28b3(0x10b)](_0x224dd1,_0x2f848c):_0x4198f4,_0xb8eb89;if(typeof Reflect===_0x4d28b3(0x103)&&typeof Reflect[_0x4d28b3(0xee)]==='function')_0x400a9d=Reflect[_0x4d28b3(0xee)](_0x498e89,_0x224dd1,_0x2f848c,_0x4198f4);else{for(var _0x596ff7=_0x498e89[_0x4d28b3(0xfb)]-0x1;_0x596ff7>=0x0;_0x596ff7--)if(_0xb8eb89=_0x498e89[_0x596ff7])_0x400a9d=(_0x5cfeba<0x3?_0xb8eb89(_0x400a9d):_0x5cfeba>0x3?_0xb8eb89(_0x224dd1,_0x2f848c,_0x400a9d):_0xb8eb89(_0x224dd1,_0x2f848c))||_0x400a9d;}return _0x5cfeba>0x3&&_0x400a9d&&Object[_0x4d28b3(0xfa)](_0x224dd1,_0x2f848c,_0x400a9d),_0x400a9d;},__metadata=this&&this[a40_0x53a98f(0x104)]||function(_0x415a88,_0x50c5c1){const _0x539797=a40_0x53a98f;if(typeof Reflect===_0x539797(0x103)&&typeof Reflect['metadata']==='function')return Reflect[_0x539797(0x110)](_0x415a88,_0x50c5c1);};function a40_0x42c6(_0x4f5679,_0x4cc0fd){const _0x2fc50b=a40_0x2fc5();return a40_0x42c6=function(_0x42c659,_0x1d59cb){_0x42c659=_0x42c659-0xe8;let _0x172933=_0x2fc50b[_0x42c659];return _0x172933;},a40_0x42c6(_0x4f5679,_0x4cc0fd);}Object[a40_0x53a98f(0xfa)](exports,'__esModule',{'value':!![]}),exports[a40_0x53a98f(0xe9)]=void 0x0;const common_1=require(a40_0x53a98f(0xf6)),core_1=require(a40_0x53a98f(0x10d)),passport_1=require('@nestjs/passport'),public_decorator_1=require(a40_0x53a98f(0xfe)),jwt_1=require(a40_0x53a98f(0xeb));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x53a98f(0x109)])(a40_0x53a98f(0xec)){constructor(_0x47a1b0,_0x1ff3d2){const _0x2601c7=a40_0x53a98f;super(),this[_0x2601c7(0x10e)]=_0x47a1b0,this['jwtService']=_0x1ff3d2;}async[a40_0x53a98f(0xf9)](_0x44598d){const _0x2e7c83=a40_0x53a98f,_0x5b0bc1=this[_0x2e7c83(0x10e)][_0x2e7c83(0xff)](public_decorator_1[_0x2e7c83(0x107)],[_0x44598d[_0x2e7c83(0xf1)](),_0x44598d[_0x2e7c83(0x116)]()]);if(_0x5b0bc1)return!![];const _0x6cdcae=_0x44598d['switchToHttp']()[_0x2e7c83(0x112)](),_0x4931ab=this[_0x2e7c83(0x100)](_0x6cdcae);if(!_0x4931ab)throw new common_1[(_0x2e7c83(0xed))]();try{const _0x640e96=await this[_0x2e7c83(0xf8)][_0x2e7c83(0x105)](_0x4931ab,{'secret':process[_0x2e7c83(0x113)][_0x2e7c83(0xf7)]});_0x6cdcae[_0x2e7c83(0xef)]=_0x640e96;}catch(_0x3422ff){throw new common_1[(_0x2e7c83(0xed))]();}return!![];}['extractTokenFromHeader'](_0x48a8d1){const _0x5cb57f=a40_0x53a98f;var _0xfcef1e,_0xfac7bf;const [_0x288c5c,_0x3fc714]=(_0xfac7bf=(_0xfcef1e=_0x48a8d1[_0x5cb57f(0x10f)][_0x5cb57f(0xf5)])===null||_0xfcef1e===void 0x0?void 0x0:_0xfcef1e[_0x5cb57f(0x102)]('\x20'))!==null&&_0xfac7bf!==void 0x0?_0xfac7bf:[];return _0x288c5c===_0x5cb57f(0xf3)?_0x3fc714:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1[a40_0x53a98f(0x10c)])(),__metadata('design:paramtypes',[core_1[a40_0x53a98f(0x101)],jwt_1[a40_0x53a98f(0x10a)]])],JwtAuthGuard),exports['JwtAuthGuard']=JwtAuthGuard;