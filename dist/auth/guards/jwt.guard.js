'use strict';const a40_0x41173a=a40_0x56c6;(function(_0x4b60d9,_0x3757d6){const _0x393f19=a40_0x56c6,_0x257d0d=_0x4b60d9();while(!![]){try{const _0x57570a=-parseInt(_0x393f19(0x1a7))/0x1*(-parseInt(_0x393f19(0x1b9))/0x2)+parseInt(_0x393f19(0x19a))/0x3+-parseInt(_0x393f19(0x197))/0x4+parseInt(_0x393f19(0x196))/0x5*(-parseInt(_0x393f19(0x195))/0x6)+-parseInt(_0x393f19(0x1ab))/0x7+parseInt(_0x393f19(0x194))/0x8*(-parseInt(_0x393f19(0x1a0))/0x9)+parseInt(_0x393f19(0x1a1))/0xa;if(_0x57570a===_0x3757d6)break;else _0x257d0d['push'](_0x257d0d['shift']());}catch(_0x31dd45){_0x257d0d['push'](_0x257d0d['shift']());}}}(a40_0x2448,0xe99ea));function a40_0x2448(){const _0x45ff82=['@nestjs/jwt','decorate','19699PdHvxW','defineProperty','JwtAuthGuard','jwtService','3791018sENNnc','jwt','object','getRequest','split','Bearer','function','UnauthorizedException','switchToHttp','AuthGuard','reflector','__esModule','IS_PUBLIC_KEY','getAllAndOverride','24GoCerB','JwtService','getClass','extractTokenFromHeader','canActivate','@nestjs/common','10568uYebzY','366SRxhlV','57935StIpVF','2133324VWrNoz','env','verifyAsync','1952796puldao','design:paramtypes','__metadata','getOwnPropertyDescriptor','headers','Reflector','9594XdsaEx','32594840cjEqZm','length','JWT_SECRET','metadata'];a40_0x2448=function(){return _0x45ff82;};return a40_0x2448();}function a40_0x56c6(_0x5e5004,_0x3faf58){const _0x24482a=a40_0x2448();return a40_0x56c6=function(_0x56c6e7,_0x275179){_0x56c6e7=_0x56c6e7-0x192;let _0x256c82=_0x24482a[_0x56c6e7];return _0x256c82;},a40_0x56c6(_0x5e5004,_0x3faf58);}var __decorate=this&&this['__decorate']||function(_0x3b4854,_0xcb82ee,_0x399173,_0xd963b8){const _0x3a19e8=a40_0x56c6;var _0x2e873a=arguments[_0x3a19e8(0x1a2)],_0x19e967=_0x2e873a<0x3?_0xcb82ee:_0xd963b8===null?_0xd963b8=Object[_0x3a19e8(0x19d)](_0xcb82ee,_0x399173):_0xd963b8,_0x2a4cee;if(typeof Reflect===_0x3a19e8(0x1ad)&&typeof Reflect[_0x3a19e8(0x1a6)]===_0x3a19e8(0x1b1))_0x19e967=Reflect[_0x3a19e8(0x1a6)](_0x3b4854,_0xcb82ee,_0x399173,_0xd963b8);else{for(var _0x2b69b6=_0x3b4854[_0x3a19e8(0x1a2)]-0x1;_0x2b69b6>=0x0;_0x2b69b6--)if(_0x2a4cee=_0x3b4854[_0x2b69b6])_0x19e967=(_0x2e873a<0x3?_0x2a4cee(_0x19e967):_0x2e873a>0x3?_0x2a4cee(_0xcb82ee,_0x399173,_0x19e967):_0x2a4cee(_0xcb82ee,_0x399173))||_0x19e967;}return _0x2e873a>0x3&&_0x19e967&&Object['defineProperty'](_0xcb82ee,_0x399173,_0x19e967),_0x19e967;},__metadata=this&&this[a40_0x41173a(0x19c)]||function(_0x3f6af8,_0x33fabf){const _0x59819e=a40_0x41173a;if(typeof Reflect===_0x59819e(0x1ad)&&typeof Reflect['metadata']===_0x59819e(0x1b1))return Reflect[_0x59819e(0x1a4)](_0x3f6af8,_0x33fabf);};Object[a40_0x41173a(0x1a8)](exports,a40_0x41173a(0x1b6),{'value':!![]}),exports[a40_0x41173a(0x1a9)]=void 0x0;const common_1=require(a40_0x41173a(0x193)),core_1=require('@nestjs/core'),passport_1=require('@nestjs/passport'),public_decorator_1=require('../decorators/public.decorator'),jwt_1=require(a40_0x41173a(0x1a5));let JwtAuthGuard=class JwtAuthGuard extends(0x0,passport_1[a40_0x41173a(0x1b4)])(a40_0x41173a(0x1ac)){constructor(_0x3eaa61,_0x451a9d){const _0x2cae61=a40_0x41173a;super(),this['reflector']=_0x3eaa61,this[_0x2cae61(0x1aa)]=_0x451a9d;}async[a40_0x41173a(0x192)](_0x1d9c59){const _0x1054bd=a40_0x41173a,_0x1f71d3=this[_0x1054bd(0x1b5)][_0x1054bd(0x1b8)](public_decorator_1[_0x1054bd(0x1b7)],[_0x1d9c59['getHandler'](),_0x1d9c59[_0x1054bd(0x1bb)]()]);if(_0x1f71d3)return!![];const _0x7939a1=_0x1d9c59[_0x1054bd(0x1b3)]()[_0x1054bd(0x1ae)](),_0xc3d34=this['extractTokenFromHeader'](_0x7939a1);if(!_0xc3d34)throw new common_1[(_0x1054bd(0x1b2))]();try{const _0x4765b9=await this[_0x1054bd(0x1aa)][_0x1054bd(0x199)](_0xc3d34,{'secret':process[_0x1054bd(0x198)][_0x1054bd(0x1a3)]});_0x7939a1['user']=_0x4765b9;}catch(_0x354f4e){throw new common_1[(_0x1054bd(0x1b2))]();}return!![];}[a40_0x41173a(0x1bc)](_0x47b67f){const _0x4d4169=a40_0x41173a;var _0x52b9e8,_0x270939;const [_0xb8cce,_0x3f7f62]=(_0x270939=(_0x52b9e8=_0x47b67f[_0x4d4169(0x19e)]['authorization'])===null||_0x52b9e8===void 0x0?void 0x0:_0x52b9e8[_0x4d4169(0x1af)]('\x20'))!==null&&_0x270939!==void 0x0?_0x270939:[];return _0xb8cce===_0x4d4169(0x1b0)?_0x3f7f62:undefined;}};JwtAuthGuard=__decorate([(0x0,common_1['Injectable'])(),__metadata(a40_0x41173a(0x19b),[core_1[a40_0x41173a(0x19f)],jwt_1[a40_0x41173a(0x1ba)]])],JwtAuthGuard),exports[a40_0x41173a(0x1a9)]=JwtAuthGuard;