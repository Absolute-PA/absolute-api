'use strict';const a35_0x4f7511=a35_0x5c97;(function(_0x3b32b5,_0x2e5042){const _0x4b38dd=a35_0x5c97,_0x4518bd=_0x3b32b5();while(!![]){try{const _0x32dcaf=parseInt(_0x4b38dd(0x12e))/0x1+-parseInt(_0x4b38dd(0x133))/0x2+-parseInt(_0x4b38dd(0x13e))/0x3+-parseInt(_0x4b38dd(0x12b))/0x4+parseInt(_0x4b38dd(0x149))/0x5+parseInt(_0x4b38dd(0x13b))/0x6*(-parseInt(_0x4b38dd(0x131))/0x7)+parseInt(_0x4b38dd(0x132))/0x8;if(_0x32dcaf===_0x2e5042)break;else _0x4518bd['push'](_0x4518bd['shift']());}catch(_0x36f412){_0x4518bd['push'](_0x4518bd['shift']());}}}(a35_0x2ec9,0x43d78));var __decorate=this&&this[a35_0x4f7511(0x12a)]||function(_0x1c6c7a,_0xa65c4b,_0x4e5418,_0x154a86){const _0x331181=a35_0x4f7511;var _0x40b72b=arguments[_0x331181(0x14b)],_0x247977=_0x40b72b<0x3?_0xa65c4b:_0x154a86===null?_0x154a86=Object[_0x331181(0x142)](_0xa65c4b,_0x4e5418):_0x154a86,_0x4e14f5;if(typeof Reflect==='object'&&typeof Reflect[_0x331181(0x14a)]==='function')_0x247977=Reflect[_0x331181(0x14a)](_0x1c6c7a,_0xa65c4b,_0x4e5418,_0x154a86);else{for(var _0x6e7ef2=_0x1c6c7a[_0x331181(0x14b)]-0x1;_0x6e7ef2>=0x0;_0x6e7ef2--)if(_0x4e14f5=_0x1c6c7a[_0x6e7ef2])_0x247977=(_0x40b72b<0x3?_0x4e14f5(_0x247977):_0x40b72b>0x3?_0x4e14f5(_0xa65c4b,_0x4e5418,_0x247977):_0x4e14f5(_0xa65c4b,_0x4e5418))||_0x247977;}return _0x40b72b>0x3&&_0x247977&&Object['defineProperty'](_0xa65c4b,_0x4e5418,_0x247977),_0x247977;},__metadata=this&&this[a35_0x4f7511(0x12f)]||function(_0x142b55,_0x3b7f42){const _0x47c850=a35_0x4f7511;if(typeof Reflect==='object'&&typeof Reflect[_0x47c850(0x144)]===_0x47c850(0x143))return Reflect[_0x47c850(0x144)](_0x142b55,_0x3b7f42);};Object[a35_0x4f7511(0x14e)](exports,a35_0x4f7511(0x140),{'value':!![]}),exports['AuthService']=void 0x0;const common_1=require(a35_0x4f7511(0x13d)),user_service_1=require(a35_0x4f7511(0x14c)),jwt_1=require(a35_0x4f7511(0x138)),verify_1=require(a35_0x4f7511(0x139));let AuthService=class AuthService{constructor(_0x1906d1,_0x36a32d){const _0x19067a=a35_0x4f7511;this[_0x19067a(0x148)]=_0x1906d1,this[_0x19067a(0x135)]=_0x36a32d;}async[a35_0x4f7511(0x13a)](_0x91ea8f,_0x4da87b){const _0x5d4e87=a35_0x4f7511,_0x53733b=await this[_0x5d4e87(0x148)][_0x5d4e87(0x145)](_0x91ea8f);if(!_0x53733b)return null;console[_0x5d4e87(0x14f)](_0x53733b[_0x5d4e87(0x13f)],_0x4da87b,'user.password,\x20password');const _0x552057=await(0x0,verify_1[_0x5d4e87(0x137)])(_0x4da87b,_0x53733b[_0x5d4e87(0x13f)]);if(_0x53733b&&_0x552057)return _0x53733b;return null;}async['updatePassword'](_0x551ff7,{newPassword:_0x2a53d9}){const _0x304357=a35_0x4f7511,_0x37e035=await(0x0,verify_1[_0x304357(0x134)])(_0x2a53d9);return await this[_0x304357(0x148)][_0x304357(0x146)](_0x551ff7['sub'],Object['assign'](Object[_0x304357(0x12c)]({},_0x551ff7),{'password':_0x37e035}));}async['login'](_0x31a5b6){const _0x10da09=a35_0x4f7511,_0x2d83f4={'username':_0x31a5b6[_0x10da09(0x12d)],'sub':_0x31a5b6['_id'],'roles':_0x31a5b6[_0x10da09(0x130)],'email':_0x31a5b6[_0x10da09(0x147)]};return{'access_token':this[_0x10da09(0x135)][_0x10da09(0x141)](_0x2d83f4)};}};function a35_0x5c97(_0x304c65,_0x23bb18){const _0x2ec96a=a35_0x2ec9();return a35_0x5c97=function(_0x5c977f,_0x29e0f0){_0x5c977f=_0x5c977f-0x12a;let _0x9a29c2=_0x2ec96a[_0x5c977f];return _0x9a29c2;},a35_0x5c97(_0x304c65,_0x23bb18);}AuthService=__decorate([(0x0,common_1['Injectable'])(),__metadata(a35_0x4f7511(0x14d),[user_service_1[a35_0x4f7511(0x13c)],jwt_1[a35_0x4f7511(0x136)]])],AuthService),exports['AuthService']=AuthService;function a35_0x2ec9(){const _0x41180c=['__metadata','roles','7uvSzBI','1171168aumNmc','61640ZeqsoT','hash','jwtService','JwtService','verify','@nestjs/jwt','./verify','validateUser','2684886ihgVsX','UserService','@nestjs/common','398628oiXVUp','password','__esModule','sign','getOwnPropertyDescriptor','function','metadata','findUser','updateUser','email','userService','2316420IsYwGI','decorate','length','../user/user.service','design:paramtypes','defineProperty','log','__decorate','973812FZigzO','assign','username','522830CUKQLc'];a35_0x2ec9=function(){return _0x41180c;};return a35_0x2ec9();}