'use strict';const a35_0x4a9195=a35_0x1dde;(function(_0x496a3c,_0x4507b1){const _0x2507c5=a35_0x1dde,_0x212775=_0x496a3c();while(!![]){try{const _0x21afa5=parseInt(_0x2507c5(0x10e))/0x1+parseInt(_0x2507c5(0x109))/0x2*(-parseInt(_0x2507c5(0x114))/0x3)+-parseInt(_0x2507c5(0x125))/0x4*(parseInt(_0x2507c5(0x111))/0x5)+-parseInt(_0x2507c5(0x123))/0x6+parseInt(_0x2507c5(0x126))/0x7*(-parseInt(_0x2507c5(0x119))/0x8)+-parseInt(_0x2507c5(0x11d))/0x9*(-parseInt(_0x2507c5(0x112))/0xa)+parseInt(_0x2507c5(0x10c))/0xb*(parseInt(_0x2507c5(0x10a))/0xc);if(_0x21afa5===_0x4507b1)break;else _0x212775['push'](_0x212775['shift']());}catch(_0x1d8049){_0x212775['push'](_0x212775['shift']());}}}(a35_0x481d,0x88953));var __decorate=this&&this[a35_0x4a9195(0x113)]||function(_0x4e5405,_0x1acac2,_0x15e2e6,_0x4f75cc){const _0x5f1ae1=a35_0x4a9195;var _0x350386=arguments[_0x5f1ae1(0x122)],_0xad8bf3=_0x350386<0x3?_0x1acac2:_0x4f75cc===null?_0x4f75cc=Object[_0x5f1ae1(0x128)](_0x1acac2,_0x15e2e6):_0x4f75cc,_0x271bd1;if(typeof Reflect===_0x5f1ae1(0x10f)&&typeof Reflect[_0x5f1ae1(0x115)]==='function')_0xad8bf3=Reflect[_0x5f1ae1(0x115)](_0x4e5405,_0x1acac2,_0x15e2e6,_0x4f75cc);else{for(var _0x564a2e=_0x4e5405[_0x5f1ae1(0x122)]-0x1;_0x564a2e>=0x0;_0x564a2e--)if(_0x271bd1=_0x4e5405[_0x564a2e])_0xad8bf3=(_0x350386<0x3?_0x271bd1(_0xad8bf3):_0x350386>0x3?_0x271bd1(_0x1acac2,_0x15e2e6,_0xad8bf3):_0x271bd1(_0x1acac2,_0x15e2e6))||_0xad8bf3;}return _0x350386>0x3&&_0xad8bf3&&Object[_0x5f1ae1(0x124)](_0x1acac2,_0x15e2e6,_0xad8bf3),_0xad8bf3;},__metadata=this&&this['__metadata']||function(_0x365e67,_0x32f481){const _0x105162=a35_0x4a9195;if(typeof Reflect===_0x105162(0x10f)&&typeof Reflect[_0x105162(0x12c)]==='function')return Reflect[_0x105162(0x12c)](_0x365e67,_0x32f481);};Object[a35_0x4a9195(0x124)](exports,'__esModule',{'value':!![]}),exports[a35_0x4a9195(0x10b)]=void 0x0;function a35_0x1dde(_0x5f3c26,_0x403f69){const _0x481d5b=a35_0x481d();return a35_0x1dde=function(_0x1dde9a,_0x21a202){_0x1dde9a=_0x1dde9a-0x106;let _0xb2d0a2=_0x481d5b[_0x1dde9a];return _0xb2d0a2;},a35_0x1dde(_0x5f3c26,_0x403f69);}const common_1=require('@nestjs/common'),user_service_1=require(a35_0x4a9195(0x10d)),jwt_1=require(a35_0x4a9195(0x116)),verify_1=require(a35_0x4a9195(0x106));let AuthService=class AuthService{constructor(_0x54e8f2,_0x47fff4){const _0x2ec547=a35_0x4a9195;this[_0x2ec547(0x107)]=_0x54e8f2,this['jwtService']=_0x47fff4;}async[a35_0x4a9195(0x117)](_0xce790d,_0x300175){const _0x4bfa48=a35_0x4a9195,_0x10d61f=await this[_0x4bfa48(0x107)][_0x4bfa48(0x12d)](_0xce790d);if(!_0x10d61f)return null;console[_0x4bfa48(0x110)](_0x10d61f['password'],_0x300175,'user.password,\x20password');const _0x50abbd=await(0x0,verify_1['verify'])(_0x300175,_0x10d61f[_0x4bfa48(0x12b)]);if(_0x10d61f&&_0x50abbd)return _0x10d61f;return null;}async[a35_0x4a9195(0x127)](_0x1d2fea,{newPassword:_0x50b3d5}){const _0x1cc64c=a35_0x4a9195,_0x532906=await(0x0,verify_1[_0x1cc64c(0x11b)])(_0x50b3d5);return await this['userService'][_0x1cc64c(0x12a)](_0x1d2fea[_0x1cc64c(0x118)],Object['assign'](Object['assign']({},_0x1d2fea),{'password':_0x532906}));}async[a35_0x4a9195(0x121)](_0x53cae2){const _0x52365e=a35_0x4a9195,_0x49dd81={'username':_0x53cae2['username'],'sub':_0x53cae2['_id'],'roles':_0x53cae2[_0x52365e(0x11c)],'email':_0x53cae2[_0x52365e(0x129)]};return{'access_token':this[_0x52365e(0x11f)][_0x52365e(0x12e)](_0x49dd81)};}};AuthService=__decorate([(0x0,common_1[a35_0x4a9195(0x120)])(),__metadata(a35_0x4a9195(0x108),[user_service_1[a35_0x4a9195(0x11e)],jwt_1[a35_0x4a9195(0x11a)]])],AuthService),exports['AuthService']=AuthService;function a35_0x481d(){const _0xe58926=['design:paramtypes','4196klmbje','228EFgTxr','AuthService','1332133cdMOUf','../user/user.service','432699AHIovN','object','log','5AhHlDT','50390ScAlXL','__decorate','33lhISHN','decorate','@nestjs/jwt','validateUser','sub','2712iBvgTT','JwtService','hash','roles','900LxdvRf','UserService','jwtService','Injectable','login','length','6689106wIUiZD','defineProperty','3485348gCKSFJ','13811wQFkJT','updatePassword','getOwnPropertyDescriptor','email','updateUser','password','metadata','findUser','sign','./verify','userService'];a35_0x481d=function(){return _0xe58926;};return a35_0x481d();}