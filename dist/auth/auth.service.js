'use strict';const a35_0x4a3053=a35_0xff36;(function(_0x48518e,_0x1c45c2){const _0x592333=a35_0xff36,_0x43fca6=_0x48518e();while(!![]){try{const _0x5f08bc=parseInt(_0x592333(0x149))/0x1+-parseInt(_0x592333(0x133))/0x2+-parseInt(_0x592333(0x15b))/0x3*(parseInt(_0x592333(0x14b))/0x4)+parseInt(_0x592333(0x146))/0x5*(parseInt(_0x592333(0x143))/0x6)+parseInt(_0x592333(0x141))/0x7+-parseInt(_0x592333(0x14d))/0x8*(-parseInt(_0x592333(0x13f))/0x9)+parseInt(_0x592333(0x148))/0xa;if(_0x5f08bc===_0x1c45c2)break;else _0x43fca6['push'](_0x43fca6['shift']());}catch(_0x3ec258){_0x43fca6['push'](_0x43fca6['shift']());}}}(a35_0x294a,0xc089c));function a35_0xff36(_0x1b189f,_0x49df4a){const _0x294ab9=a35_0x294a();return a35_0xff36=function(_0xff36b0,_0x4d85d0){_0xff36b0=_0xff36b0-0x131;let _0x4c753b=_0x294ab9[_0xff36b0];return _0x4c753b;},a35_0xff36(_0x1b189f,_0x49df4a);}function a35_0x294a(){const _0x227476=['log','10tvBFZk','@nestjs/common','5146160JWSakm','862169wigFdF','assign','4mVemcf','Injectable','328nXrwJu','sign','_id','verify','validateUser','password','email','function','userService','metadata','JwtService','../user/user.service','getOwnPropertyDescriptor','roles','1666731eouFqz','jwtService','__decorate','3090134hzaGHA','@nestjs/jwt','hash','__esModule','AuthService','login','updateUser','__metadata','decorate','design:paramtypes','user.password,\x20password','length','33291kneSgI','defineProperty','9265298VKQALo','object','111666XqKAIq','sub'];a35_0x294a=function(){return _0x227476;};return a35_0x294a();}var __decorate=this&&this[a35_0x4a3053(0x132)]||function(_0xfba9a3,_0x347679,_0x5103dd,_0x2d6c68){const _0x34049b=a35_0x4a3053;var _0x2fc466=arguments[_0x34049b(0x13e)],_0x15a7da=_0x2fc466<0x3?_0x347679:_0x2d6c68===null?_0x2d6c68=Object[_0x34049b(0x159)](_0x347679,_0x5103dd):_0x2d6c68,_0x4fbb52;if(typeof Reflect===_0x34049b(0x142)&&typeof Reflect[_0x34049b(0x13b)]==='function')_0x15a7da=Reflect[_0x34049b(0x13b)](_0xfba9a3,_0x347679,_0x5103dd,_0x2d6c68);else{for(var _0x4197eb=_0xfba9a3['length']-0x1;_0x4197eb>=0x0;_0x4197eb--)if(_0x4fbb52=_0xfba9a3[_0x4197eb])_0x15a7da=(_0x2fc466<0x3?_0x4fbb52(_0x15a7da):_0x2fc466>0x3?_0x4fbb52(_0x347679,_0x5103dd,_0x15a7da):_0x4fbb52(_0x347679,_0x5103dd))||_0x15a7da;}return _0x2fc466>0x3&&_0x15a7da&&Object[_0x34049b(0x140)](_0x347679,_0x5103dd,_0x15a7da),_0x15a7da;},__metadata=this&&this[a35_0x4a3053(0x13a)]||function(_0x4d2671,_0x187a3f){const _0x312fa0=a35_0x4a3053;if(typeof Reflect===_0x312fa0(0x142)&&typeof Reflect[_0x312fa0(0x156)]===_0x312fa0(0x154))return Reflect[_0x312fa0(0x156)](_0x4d2671,_0x187a3f);};Object['defineProperty'](exports,a35_0x4a3053(0x136),{'value':!![]}),exports[a35_0x4a3053(0x137)]=void 0x0;const common_1=require(a35_0x4a3053(0x147)),user_service_1=require(a35_0x4a3053(0x158)),jwt_1=require(a35_0x4a3053(0x134)),verify_1=require('./verify');let AuthService=class AuthService{constructor(_0x30c3fd,_0x998246){const _0x27927a=a35_0x4a3053;this[_0x27927a(0x155)]=_0x30c3fd,this['jwtService']=_0x998246;}async[a35_0x4a3053(0x151)](_0x1bd472,_0xb89c9f){const _0x21417c=a35_0x4a3053,_0x479d75=await this[_0x21417c(0x155)]['findUser'](_0x1bd472);if(!_0x479d75)return null;console[_0x21417c(0x145)](_0x479d75[_0x21417c(0x152)],_0xb89c9f,_0x21417c(0x13d));const _0x1f270b=await(0x0,verify_1[_0x21417c(0x150)])(_0xb89c9f,_0x479d75[_0x21417c(0x152)]);if(_0x479d75&&_0x1f270b)return _0x479d75;return null;}async['updatePassword'](_0x1ab24a,{newPassword:_0x45c5dd}){const _0x2fca6a=a35_0x4a3053,_0x177a83=await(0x0,verify_1[_0x2fca6a(0x135)])(_0x45c5dd);return await this[_0x2fca6a(0x155)][_0x2fca6a(0x139)](_0x1ab24a[_0x2fca6a(0x144)],Object[_0x2fca6a(0x14a)](Object[_0x2fca6a(0x14a)]({},_0x1ab24a),{'password':_0x177a83}));}async[a35_0x4a3053(0x138)](_0x197a98){const _0x534413=a35_0x4a3053,_0x1faa01={'username':_0x197a98['username'],'sub':_0x197a98[_0x534413(0x14f)],'roles':_0x197a98[_0x534413(0x15a)],'email':_0x197a98[_0x534413(0x153)]};return{'access_token':this[_0x534413(0x131)][_0x534413(0x14e)](_0x1faa01)};}};AuthService=__decorate([(0x0,common_1[a35_0x4a3053(0x14c)])(),__metadata(a35_0x4a3053(0x13c),[user_service_1['UserService'],jwt_1[a35_0x4a3053(0x157)]])],AuthService),exports[a35_0x4a3053(0x137)]=AuthService;