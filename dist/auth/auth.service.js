'use strict';const a35_0x453cb2=a35_0x2baa;(function(_0x50f2b2,_0x33f0c3){const _0x1510a7=a35_0x2baa,_0x56ee81=_0x50f2b2();while(!![]){try{const _0x16b56c=-parseInt(_0x1510a7(0x8d))/0x1*(parseInt(_0x1510a7(0x69))/0x2)+-parseInt(_0x1510a7(0x72))/0x3+-parseInt(_0x1510a7(0x76))/0x4+-parseInt(_0x1510a7(0x88))/0x5*(-parseInt(_0x1510a7(0x92))/0x6)+-parseInt(_0x1510a7(0x8e))/0x7+parseInt(_0x1510a7(0x71))/0x8+-parseInt(_0x1510a7(0x87))/0x9*(-parseInt(_0x1510a7(0x75))/0xa);if(_0x16b56c===_0x33f0c3)break;else _0x56ee81['push'](_0x56ee81['shift']());}catch(_0x31225f){_0x56ee81['push'](_0x56ee81['shift']());}}}(a35_0x6ceb,0xf1f6f));var __decorate=this&&this[a35_0x453cb2(0x89)]||function(_0x3b3e72,_0x5ddf8d,_0x1a0426,_0x356616){const _0x5f3afd=a35_0x453cb2;var _0x3a65e9=arguments['length'],_0xae8080=_0x3a65e9<0x3?_0x5ddf8d:_0x356616===null?_0x356616=Object['getOwnPropertyDescriptor'](_0x5ddf8d,_0x1a0426):_0x356616,_0x522b71;if(typeof Reflect===_0x5f3afd(0x8c)&&typeof Reflect[_0x5f3afd(0x74)]==='function')_0xae8080=Reflect[_0x5f3afd(0x74)](_0x3b3e72,_0x5ddf8d,_0x1a0426,_0x356616);else{for(var _0x5041cb=_0x3b3e72[_0x5f3afd(0x90)]-0x1;_0x5041cb>=0x0;_0x5041cb--)if(_0x522b71=_0x3b3e72[_0x5041cb])_0xae8080=(_0x3a65e9<0x3?_0x522b71(_0xae8080):_0x3a65e9>0x3?_0x522b71(_0x5ddf8d,_0x1a0426,_0xae8080):_0x522b71(_0x5ddf8d,_0x1a0426))||_0xae8080;}return _0x3a65e9>0x3&&_0xae8080&&Object[_0x5f3afd(0x7b)](_0x5ddf8d,_0x1a0426,_0xae8080),_0xae8080;},__metadata=this&&this[a35_0x453cb2(0x68)]||function(_0x35e2c9,_0x5503bd){const _0x8959a5=a35_0x453cb2;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x8959a5(0x84))return Reflect[_0x8959a5(0x8b)](_0x35e2c9,_0x5503bd);};function a35_0x2baa(_0x4a77a2,_0x40f8ca){const _0x6ceb9f=a35_0x6ceb();return a35_0x2baa=function(_0x2baafb,_0x3e1aac){_0x2baafb=_0x2baafb-0x68;let _0x576e4c=_0x6ceb9f[_0x2baafb];return _0x576e4c;},a35_0x2baa(_0x4a77a2,_0x40f8ca);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a35_0x453cb2(0x81)]=void 0x0;const common_1=require(a35_0x453cb2(0x6f)),user_service_1=require(a35_0x453cb2(0x70)),jwt_1=require(a35_0x453cb2(0x78)),verify_1=require(a35_0x453cb2(0x7d));function a35_0x6ceb(){const _0xfc13ea=['AuthService','sign','password','function','userService','jwtService','37887039vKfYFb','190515pjAwIS','__decorate','sub','metadata','object','945126Omstvr','12011293CeIMRJ','user.password,\x20password','length','findUser','6tZildB','updatePassword','__metadata','2cLMYZN','assign','JwtService','_id','validateUser','hash','@nestjs/common','../user/user.service','1136688gjXpmG','1288305uAdswS','Injectable','decorate','10PKQUPX','1233252YyGtxr','login','@nestjs/jwt','username','roles','defineProperty','UserService','./verify','log','design:paramtypes','updateUser'];a35_0x6ceb=function(){return _0xfc13ea;};return a35_0x6ceb();}let AuthService=class AuthService{constructor(_0x276f92,_0x26a57e){const _0x4f6db2=a35_0x453cb2;this[_0x4f6db2(0x85)]=_0x276f92,this[_0x4f6db2(0x86)]=_0x26a57e;}async[a35_0x453cb2(0x6d)](_0x482275,_0x4e5a0c){const _0x28b034=a35_0x453cb2,_0x3396ad=await this['userService'][_0x28b034(0x91)](_0x482275);if(!_0x3396ad)return null;console[_0x28b034(0x7e)](_0x3396ad[_0x28b034(0x83)],_0x4e5a0c,_0x28b034(0x8f));const _0x1eee65=await(0x0,verify_1['verify'])(_0x4e5a0c,_0x3396ad[_0x28b034(0x83)]);if(_0x3396ad&&_0x1eee65)return _0x3396ad;return null;}async[a35_0x453cb2(0x93)](_0x317cd3,{newPassword:_0x11fde7}){const _0x28c616=a35_0x453cb2,_0x146ae2=await(0x0,verify_1[_0x28c616(0x6e)])(_0x11fde7);return await this[_0x28c616(0x85)][_0x28c616(0x80)](_0x317cd3[_0x28c616(0x8a)],Object[_0x28c616(0x6a)](Object[_0x28c616(0x6a)]({},_0x317cd3),{'password':_0x146ae2}));}async[a35_0x453cb2(0x77)](_0x451679){const _0x3d3f68=a35_0x453cb2,_0x2e3f2a={'username':_0x451679[_0x3d3f68(0x79)],'sub':_0x451679[_0x3d3f68(0x6c)],'roles':_0x451679[_0x3d3f68(0x7a)],'email':_0x451679['email']};return{'access_token':this[_0x3d3f68(0x86)][_0x3d3f68(0x82)](_0x2e3f2a)};}};AuthService=__decorate([(0x0,common_1[a35_0x453cb2(0x73)])(),__metadata(a35_0x453cb2(0x7f),[user_service_1[a35_0x453cb2(0x7c)],jwt_1[a35_0x453cb2(0x6b)]])],AuthService),exports[a35_0x453cb2(0x81)]=AuthService;