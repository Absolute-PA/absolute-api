'use strict';const a35_0x5c8da8=a35_0x30f0;(function(_0x5a51ee,_0x50dc27){const _0x20fa35=a35_0x30f0,_0x33815d=_0x5a51ee();while(!![]){try{const _0x56f1dc=parseInt(_0x20fa35(0x17e))/0x1+parseInt(_0x20fa35(0x1a1))/0x2+-parseInt(_0x20fa35(0x19c))/0x3*(-parseInt(_0x20fa35(0x182))/0x4)+-parseInt(_0x20fa35(0x181))/0x5*(-parseInt(_0x20fa35(0x187))/0x6)+parseInt(_0x20fa35(0x1a0))/0x7+parseInt(_0x20fa35(0x180))/0x8*(parseInt(_0x20fa35(0x185))/0x9)+parseInt(_0x20fa35(0x18a))/0xa*(-parseInt(_0x20fa35(0x190))/0xb);if(_0x56f1dc===_0x50dc27)break;else _0x33815d['push'](_0x33815d['shift']());}catch(_0x2f38c0){_0x33815d['push'](_0x33815d['shift']());}}}(a35_0x2535,0x233b5));function a35_0x30f0(_0x248832,_0x58ed83){const _0x25353f=a35_0x2535();return a35_0x30f0=function(_0x30f030,_0x17a06d){_0x30f030=_0x30f030-0x17c;let _0x2276de=_0x25353f[_0x30f030];return _0x2276de;},a35_0x30f0(_0x248832,_0x58ed83);}function a35_0x2535(){const _0xae9696=['__decorate','jwtService','verify','512393tVbvTV','456186PsOCid','object','hash','sign','design:paramtypes','defineProperty','updatePassword','function','UserService','116580amHsEq','findUser','2536fckKLs','4030JkfWEA','268rZTVEz','Injectable','userService','3141deDeLL','@nestjs/jwt','1842dTqvpA','validateUser','length','210qNyFPk','updateUser','AuthService','login','decorate','password','340439SmxWWo','email','log','__metadata','_id','getOwnPropertyDescriptor','../user/user.service','./verify','username','sub','assign','roles','819ltKhgV'];a35_0x2535=function(){return _0xae9696;};return a35_0x2535();}var __decorate=this&&this[a35_0x5c8da8(0x19d)]||function(_0x425f8e,_0x3a7a7,_0xcc59ed,_0x548223){const _0x44874b=a35_0x5c8da8;var _0x2c4529=arguments[_0x44874b(0x189)],_0x2bd841=_0x2c4529<0x3?_0x3a7a7:_0x548223===null?_0x548223=Object[_0x44874b(0x195)](_0x3a7a7,_0xcc59ed):_0x548223,_0x2b2902;if(typeof Reflect==='object'&&typeof Reflect[_0x44874b(0x18e)]===_0x44874b(0x17c))_0x2bd841=Reflect[_0x44874b(0x18e)](_0x425f8e,_0x3a7a7,_0xcc59ed,_0x548223);else{for(var _0x273962=_0x425f8e[_0x44874b(0x189)]-0x1;_0x273962>=0x0;_0x273962--)if(_0x2b2902=_0x425f8e[_0x273962])_0x2bd841=(_0x2c4529<0x3?_0x2b2902(_0x2bd841):_0x2c4529>0x3?_0x2b2902(_0x3a7a7,_0xcc59ed,_0x2bd841):_0x2b2902(_0x3a7a7,_0xcc59ed))||_0x2bd841;}return _0x2c4529>0x3&&_0x2bd841&&Object[_0x44874b(0x1a6)](_0x3a7a7,_0xcc59ed,_0x2bd841),_0x2bd841;},__metadata=this&&this[a35_0x5c8da8(0x193)]||function(_0x515a03,_0x31d966){const _0x454798=a35_0x5c8da8;if(typeof Reflect===_0x454798(0x1a2)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x515a03,_0x31d966);};Object[a35_0x5c8da8(0x1a6)](exports,'__esModule',{'value':!![]}),exports[a35_0x5c8da8(0x18c)]=void 0x0;const common_1=require('@nestjs/common'),user_service_1=require(a35_0x5c8da8(0x196)),jwt_1=require(a35_0x5c8da8(0x186)),verify_1=require(a35_0x5c8da8(0x197));let AuthService=class AuthService{constructor(_0x6b8591,_0x7b56a0){const _0x458250=a35_0x5c8da8;this[_0x458250(0x184)]=_0x6b8591,this['jwtService']=_0x7b56a0;}async[a35_0x5c8da8(0x188)](_0x18eed9,_0x4e6318){const _0xf9819=a35_0x5c8da8,_0x4d10af=await this[_0xf9819(0x184)][_0xf9819(0x17f)](_0x18eed9);if(!_0x4d10af)return null;console[_0xf9819(0x192)](_0x4d10af[_0xf9819(0x18f)],_0x4e6318,'user.password,\x20password');const _0x50409b=await(0x0,verify_1[_0xf9819(0x19f)])(_0x4e6318,_0x4d10af[_0xf9819(0x18f)]);if(_0x4d10af&&_0x50409b)return _0x4d10af;return null;}async[a35_0x5c8da8(0x1a7)](_0x3c584a,{newPassword:_0x3ad479}){const _0x2379ec=a35_0x5c8da8,_0x134d49=await(0x0,verify_1[_0x2379ec(0x1a3)])(_0x3ad479);return await this[_0x2379ec(0x184)][_0x2379ec(0x18b)](_0x3c584a[_0x2379ec(0x199)],Object['assign'](Object[_0x2379ec(0x19a)]({},_0x3c584a),{'password':_0x134d49}));}async[a35_0x5c8da8(0x18d)](_0xbc97e6){const _0x5ae58b=a35_0x5c8da8,_0x2134d7={'username':_0xbc97e6[_0x5ae58b(0x198)],'sub':_0xbc97e6[_0x5ae58b(0x194)],'roles':_0xbc97e6[_0x5ae58b(0x19b)],'email':_0xbc97e6[_0x5ae58b(0x191)]};return{'access_token':this[_0x5ae58b(0x19e)][_0x5ae58b(0x1a4)](_0x2134d7)};}};AuthService=__decorate([(0x0,common_1[a35_0x5c8da8(0x183)])(),__metadata(a35_0x5c8da8(0x1a5),[user_service_1[a35_0x5c8da8(0x17d)],jwt_1['JwtService']])],AuthService),exports['AuthService']=AuthService;