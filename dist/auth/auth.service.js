'use strict';const a35_0x216b33=a35_0x4bce;(function(_0x1af8c8,_0x4a544b){const _0x10c8bb=a35_0x4bce,_0x2e269d=_0x1af8c8();while(!![]){try{const _0x4e1e23=-parseInt(_0x10c8bb(0x19f))/0x1*(-parseInt(_0x10c8bb(0x1b0))/0x2)+-parseInt(_0x10c8bb(0x1c0))/0x3*(-parseInt(_0x10c8bb(0x1b4))/0x4)+-parseInt(_0x10c8bb(0x1a0))/0x5+parseInt(_0x10c8bb(0x1a1))/0x6*(parseInt(_0x10c8bb(0x1a7))/0x7)+parseInt(_0x10c8bb(0x1ae))/0x8*(-parseInt(_0x10c8bb(0x1be))/0x9)+parseInt(_0x10c8bb(0x1a8))/0xa*(parseInt(_0x10c8bb(0x1aa))/0xb)+parseInt(_0x10c8bb(0x1b2))/0xc*(parseInt(_0x10c8bb(0x1af))/0xd);if(_0x4e1e23===_0x4a544b)break;else _0x2e269d['push'](_0x2e269d['shift']());}catch(_0x410d3f){_0x2e269d['push'](_0x2e269d['shift']());}}}(a35_0x1131,0xd05bf));function a35_0x1131(){const _0x39c4e1=['2036892QiIShP','updatePassword','4438212FfYxWi','Injectable','email','defineProperty','assign','findUser','metadata','object','./verify','hash','6227838UbyOUE','length','3RjXBUn','JwtService','log','sign','decorate','jwtService','../user/user.service','1394462DcOfRb','6410910aEabGL','973308YmiLyu','roles','username','user.password,\x20password','userService','__decorate','28EcwJXo','68040wwBpJm','design:paramtypes','44BjPCXm','password','AuthService','sub','16RambBj','26xsFcGC','2ShgLME','updateUser'];a35_0x1131=function(){return _0x39c4e1;};return a35_0x1131();}var __decorate=this&&this[a35_0x216b33(0x1a6)]||function(_0x160fda,_0x2c0896,_0x541236,_0x801c6e){const _0x5a0122=a35_0x216b33;var _0x2c8323=arguments[_0x5a0122(0x1bf)],_0x479dc0=_0x2c8323<0x3?_0x2c0896:_0x801c6e===null?_0x801c6e=Object['getOwnPropertyDescriptor'](_0x2c0896,_0x541236):_0x801c6e,_0x29c790;if(typeof Reflect===_0x5a0122(0x1bb)&&typeof Reflect[_0x5a0122(0x19c)]==='function')_0x479dc0=Reflect[_0x5a0122(0x19c)](_0x160fda,_0x2c0896,_0x541236,_0x801c6e);else{for(var _0x14194d=_0x160fda[_0x5a0122(0x1bf)]-0x1;_0x14194d>=0x0;_0x14194d--)if(_0x29c790=_0x160fda[_0x14194d])_0x479dc0=(_0x2c8323<0x3?_0x29c790(_0x479dc0):_0x2c8323>0x3?_0x29c790(_0x2c0896,_0x541236,_0x479dc0):_0x29c790(_0x2c0896,_0x541236))||_0x479dc0;}return _0x2c8323>0x3&&_0x479dc0&&Object[_0x5a0122(0x1b7)](_0x2c0896,_0x541236,_0x479dc0),_0x479dc0;},__metadata=this&&this['__metadata']||function(_0x2e3216,_0x41530c){const _0x4a5e58=a35_0x216b33;if(typeof Reflect===_0x4a5e58(0x1bb)&&typeof Reflect[_0x4a5e58(0x1ba)]==='function')return Reflect[_0x4a5e58(0x1ba)](_0x2e3216,_0x41530c);};function a35_0x4bce(_0x5b0f03,_0x432066){const _0x11312c=a35_0x1131();return a35_0x4bce=function(_0x4bce8e,_0x22bdb5){_0x4bce8e=_0x4bce8e-0x19c;let _0x2e08b2=_0x11312c[_0x4bce8e];return _0x2e08b2;},a35_0x4bce(_0x5b0f03,_0x432066);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['AuthService']=void 0x0;const common_1=require('@nestjs/common'),user_service_1=require(a35_0x216b33(0x19e)),jwt_1=require('@nestjs/jwt'),verify_1=require(a35_0x216b33(0x1bc));let AuthService=class AuthService{constructor(_0x1a6504,_0x52ea57){const _0x3f16d2=a35_0x216b33;this[_0x3f16d2(0x1a5)]=_0x1a6504,this[_0x3f16d2(0x19d)]=_0x52ea57;}async['validateUser'](_0x3a42f6,_0x50bd9c){const _0x58fff3=a35_0x216b33,_0x10906c=await this[_0x58fff3(0x1a5)][_0x58fff3(0x1b9)](_0x3a42f6);if(!_0x10906c)return null;console[_0x58fff3(0x1c2)](_0x10906c[_0x58fff3(0x1ab)],_0x50bd9c,_0x58fff3(0x1a4));const _0x9172fa=await(0x0,verify_1['verify'])(_0x50bd9c,_0x10906c[_0x58fff3(0x1ab)]);if(_0x10906c&&_0x9172fa)return _0x10906c;return null;}async[a35_0x216b33(0x1b3)](_0x128741,{newPassword:_0x254481}){const _0x13553c=a35_0x216b33,_0x40fa1d=await(0x0,verify_1[_0x13553c(0x1bd)])(_0x254481);return await this[_0x13553c(0x1a5)][_0x13553c(0x1b1)](_0x128741[_0x13553c(0x1ad)],Object[_0x13553c(0x1b8)](Object[_0x13553c(0x1b8)]({},_0x128741),{'password':_0x40fa1d}));}async['login'](_0x42c7b6){const _0x21e48a=a35_0x216b33,_0xf927f={'username':_0x42c7b6[_0x21e48a(0x1a3)],'sub':_0x42c7b6['_id'],'roles':_0x42c7b6[_0x21e48a(0x1a2)],'email':_0x42c7b6[_0x21e48a(0x1b6)]};return{'access_token':this[_0x21e48a(0x19d)][_0x21e48a(0x1c3)](_0xf927f)};}};AuthService=__decorate([(0x0,common_1[a35_0x216b33(0x1b5)])(),__metadata(a35_0x216b33(0x1a9),[user_service_1['UserService'],jwt_1[a35_0x216b33(0x1c1)]])],AuthService),exports[a35_0x216b33(0x1ac)]=AuthService;