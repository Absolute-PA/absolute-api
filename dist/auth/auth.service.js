'use strict';const a35_0x44c96b=a35_0x4659;(function(_0x46a060,_0xaa746f){const _0x3cff7a=a35_0x4659,_0x7d2377=_0x46a060();while(!![]){try{const _0x6b8dc2=-parseInt(_0x3cff7a(0x91))/0x1+parseInt(_0x3cff7a(0x8d))/0x2*(-parseInt(_0x3cff7a(0x97))/0x3)+-parseInt(_0x3cff7a(0xa7))/0x4*(-parseInt(_0x3cff7a(0xae))/0x5)+-parseInt(_0x3cff7a(0xa8))/0x6+-parseInt(_0x3cff7a(0xa5))/0x7*(-parseInt(_0x3cff7a(0xb0))/0x8)+parseInt(_0x3cff7a(0x9b))/0x9+parseInt(_0x3cff7a(0xa4))/0xa;if(_0x6b8dc2===_0xaa746f)break;else _0x7d2377['push'](_0x7d2377['shift']());}catch(_0x110218){_0x7d2377['push'](_0x7d2377['shift']());}}}(a35_0x2214,0x309fd));function a35_0x4659(_0x1d0685,_0xe1f59c){const _0x221486=a35_0x2214();return a35_0x4659=function(_0x465908,_0x63b79c){_0x465908=_0x465908-0x89;let _0x385e02=_0x221486[_0x465908];return _0x385e02;},a35_0x4659(_0x1d0685,_0xe1f59c);}function a35_0x2214(){const _0x527d3a=['login','email','length','1588950kEopsU','assign','design:paramtypes','AuthService','Injectable','jwtService','userService','./verify','_id','4687580rWlArf','2786TDLtpb','findUser','56TnwXpi','2045796fOZNfA','validateUser','@nestjs/common','metadata','password','updateUser','113655SwYcJn','roles','1608iIUFsa','sign','../user/user.service','@nestjs/jwt','verify','sub','getOwnPropertyDescriptor','JwtService','log','143482gZAXAJ','__metadata','decorate','UserService','216445ISDGJE','__esModule','username','object','function','updatePassword','12AmJQnC'];a35_0x2214=function(){return _0x527d3a;};return a35_0x2214();}var __decorate=this&&this['__decorate']||function(_0x3f57f7,_0x12d2b0,_0x424e17,_0x497ba4){const _0x11da69=a35_0x4659;var _0x280b1d=arguments[_0x11da69(0x9a)],_0x4955a4=_0x280b1d<0x3?_0x12d2b0:_0x497ba4===null?_0x497ba4=Object[_0x11da69(0x8a)](_0x12d2b0,_0x424e17):_0x497ba4,_0x5c74e3;if(typeof Reflect===_0x11da69(0x94)&&typeof Reflect['decorate']===_0x11da69(0x95))_0x4955a4=Reflect[_0x11da69(0x8f)](_0x3f57f7,_0x12d2b0,_0x424e17,_0x497ba4);else{for(var _0x8edc78=_0x3f57f7[_0x11da69(0x9a)]-0x1;_0x8edc78>=0x0;_0x8edc78--)if(_0x5c74e3=_0x3f57f7[_0x8edc78])_0x4955a4=(_0x280b1d<0x3?_0x5c74e3(_0x4955a4):_0x280b1d>0x3?_0x5c74e3(_0x12d2b0,_0x424e17,_0x4955a4):_0x5c74e3(_0x12d2b0,_0x424e17))||_0x4955a4;}return _0x280b1d>0x3&&_0x4955a4&&Object['defineProperty'](_0x12d2b0,_0x424e17,_0x4955a4),_0x4955a4;},__metadata=this&&this[a35_0x44c96b(0x8e)]||function(_0x3f8024,_0x253cc9){const _0x34f442=a35_0x44c96b;if(typeof Reflect===_0x34f442(0x94)&&typeof Reflect[_0x34f442(0xab)]===_0x34f442(0x95))return Reflect[_0x34f442(0xab)](_0x3f8024,_0x253cc9);};Object['defineProperty'](exports,a35_0x44c96b(0x92),{'value':!![]}),exports[a35_0x44c96b(0x9e)]=void 0x0;const common_1=require(a35_0x44c96b(0xaa)),user_service_1=require(a35_0x44c96b(0xb2)),jwt_1=require(a35_0x44c96b(0xb3)),verify_1=require(a35_0x44c96b(0xa2));let AuthService=class AuthService{constructor(_0x1cc8e1,_0xde9c82){const _0x27de62=a35_0x44c96b;this['userService']=_0x1cc8e1,this[_0x27de62(0xa0)]=_0xde9c82;}async[a35_0x44c96b(0xa9)](_0x32525b,_0xb4ca8d){const _0x3b9983=a35_0x44c96b,_0x3de6c5=await this[_0x3b9983(0xa1)][_0x3b9983(0xa6)](_0x32525b);if(!_0x3de6c5)return null;console[_0x3b9983(0x8c)](_0x3de6c5[_0x3b9983(0xac)],_0xb4ca8d,'user.password,\x20password');const _0x530143=await(0x0,verify_1[_0x3b9983(0xb4)])(_0xb4ca8d,_0x3de6c5[_0x3b9983(0xac)]);if(_0x3de6c5&&_0x530143)return _0x3de6c5;return null;}async[a35_0x44c96b(0x96)](_0x178eb6,{newPassword:_0x17bd0d}){const _0x29fd6a=a35_0x44c96b,_0x2cc05e=await(0x0,verify_1['hash'])(_0x17bd0d);return await this['userService'][_0x29fd6a(0xad)](_0x178eb6[_0x29fd6a(0x89)],Object[_0x29fd6a(0x9c)](Object['assign']({},_0x178eb6),{'password':_0x2cc05e}));}async[a35_0x44c96b(0x98)](_0x575459){const _0x21af06=a35_0x44c96b,_0x3b4811={'username':_0x575459[_0x21af06(0x93)],'sub':_0x575459[_0x21af06(0xa3)],'roles':_0x575459[_0x21af06(0xaf)],'email':_0x575459[_0x21af06(0x99)]};return{'access_token':this[_0x21af06(0xa0)][_0x21af06(0xb1)](_0x3b4811)};}};AuthService=__decorate([(0x0,common_1[a35_0x44c96b(0x9f)])(),__metadata(a35_0x44c96b(0x9d),[user_service_1[a35_0x44c96b(0x90)],jwt_1[a35_0x44c96b(0x8b)]])],AuthService),exports[a35_0x44c96b(0x9e)]=AuthService;