'use strict';const a35_0x52f099=a35_0x38d4;(function(_0x576bad,_0x651a1d){const _0x5aef08=a35_0x38d4,_0x2887fe=_0x576bad();while(!![]){try{const _0x2d3544=parseInt(_0x5aef08(0x1d3))/0x1*(parseInt(_0x5aef08(0x1b7))/0x2)+parseInt(_0x5aef08(0x1c8))/0x3+-parseInt(_0x5aef08(0x1d6))/0x4*(-parseInt(_0x5aef08(0x1bc))/0x5)+-parseInt(_0x5aef08(0x1b9))/0x6*(parseInt(_0x5aef08(0x1c9))/0x7)+-parseInt(_0x5aef08(0x1b0))/0x8+parseInt(_0x5aef08(0x1bf))/0x9+parseInt(_0x5aef08(0x1b5))/0xa*(-parseInt(_0x5aef08(0x1d2))/0xb);if(_0x2d3544===_0x651a1d)break;else _0x2887fe['push'](_0x2887fe['shift']());}catch(_0x201d6f){_0x2887fe['push'](_0x2887fe['shift']());}}}(a35_0x1f8c,0x78a58));var __decorate=this&&this[a35_0x52f099(0x1cc)]||function(_0x449f9c,_0x289723,_0x22c10e,_0x4e235e){const _0x5a18d1=a35_0x52f099;var _0x343a7f=arguments['length'],_0x4bc085=_0x343a7f<0x3?_0x289723:_0x4e235e===null?_0x4e235e=Object[_0x5a18d1(0x1b2)](_0x289723,_0x22c10e):_0x4e235e,_0x37ff51;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x5a18d1(0x1d1))_0x4bc085=Reflect[_0x5a18d1(0x1b1)](_0x449f9c,_0x289723,_0x22c10e,_0x4e235e);else{for(var _0x5e8bf7=_0x449f9c[_0x5a18d1(0x1c0)]-0x1;_0x5e8bf7>=0x0;_0x5e8bf7--)if(_0x37ff51=_0x449f9c[_0x5e8bf7])_0x4bc085=(_0x343a7f<0x3?_0x37ff51(_0x4bc085):_0x343a7f>0x3?_0x37ff51(_0x289723,_0x22c10e,_0x4bc085):_0x37ff51(_0x289723,_0x22c10e))||_0x4bc085;}return _0x343a7f>0x3&&_0x4bc085&&Object[_0x5a18d1(0x1be)](_0x289723,_0x22c10e,_0x4bc085),_0x4bc085;},__metadata=this&&this[a35_0x52f099(0x1cd)]||function(_0x47bfb0,_0x2e703c){const _0xfb9c9e=a35_0x52f099;if(typeof Reflect===_0xfb9c9e(0x1cb)&&typeof Reflect['metadata']==='function')return Reflect[_0xfb9c9e(0x1c5)](_0x47bfb0,_0x2e703c);};Object[a35_0x52f099(0x1be)](exports,'__esModule',{'value':!![]}),exports[a35_0x52f099(0x1cf)]=void 0x0;const common_1=require(a35_0x52f099(0x1d4)),user_service_1=require(a35_0x52f099(0x1b3)),jwt_1=require(a35_0x52f099(0x1af)),verify_1=require('./verify');let AuthService=class AuthService{constructor(_0x3181bc,_0x2708a4){this['userService']=_0x3181bc,this['jwtService']=_0x2708a4;}async[a35_0x52f099(0x1d5)](_0x54d2ef,_0x2eb989){const _0x342bd5=a35_0x52f099,_0x1c259f=await this['userService'][_0x342bd5(0x1ce)](_0x54d2ef);if(!_0x1c259f)return null;console[_0x342bd5(0x1b6)](_0x1c259f[_0x342bd5(0x1c2)],_0x2eb989,_0x342bd5(0x1c7));const _0x4964c7=await(0x0,verify_1[_0x342bd5(0x1bb)])(_0x2eb989,_0x1c259f[_0x342bd5(0x1c2)]);if(_0x1c259f&&_0x4964c7)return _0x1c259f;return null;}async['updatePassword'](_0x55e31f,{newPassword:_0x18311b}){const _0xec2de5=a35_0x52f099,_0x4e0186=await(0x0,verify_1['hash'])(_0x18311b);return await this[_0xec2de5(0x1c1)][_0xec2de5(0x1c3)](_0x55e31f[_0xec2de5(0x1b4)],Object[_0xec2de5(0x1c6)](Object[_0xec2de5(0x1c6)]({},_0x55e31f),{'password':_0x4e0186}));}async['login'](_0x40393b){const _0x5413e6=a35_0x52f099,_0x20bdff={'username':_0x40393b[_0x5413e6(0x1bd)],'sub':_0x40393b[_0x5413e6(0x1d0)],'roles':_0x40393b[_0x5413e6(0x1c4)],'email':_0x40393b['email']};return{'access_token':this['jwtService'][_0x5413e6(0x1ba)](_0x20bdff)};}};function a35_0x38d4(_0x2fc67c,_0x1832e1){const _0x1f8c4f=a35_0x1f8c();return a35_0x38d4=function(_0x38d46a,_0x1738f6){_0x38d46a=_0x38d46a-0x1af;let _0x448c93=_0x1f8c4f[_0x38d46a];return _0x448c93;},a35_0x38d4(_0x2fc67c,_0x1832e1);}function a35_0x1f8c(){const _0x26de46=['JwtService','981510fXLMcZ','sign','verify','100mYUMhZ','username','defineProperty','6473052TKwCsT','length','userService','password','updateUser','roles','metadata','assign','user.password,\x20password','1711197LTpgKq','7sWSlPH','Injectable','object','__decorate','__metadata','findUser','AuthService','_id','function','1148323ikudyn','2273YmhyyB','@nestjs/common','validateUser','9896VXmdeY','@nestjs/jwt','1151784VksqUx','decorate','getOwnPropertyDescriptor','../user/user.service','sub','80xxSPmi','log','262CBfPdv'];a35_0x1f8c=function(){return _0x26de46;};return a35_0x1f8c();}AuthService=__decorate([(0x0,common_1[a35_0x52f099(0x1ca)])(),__metadata('design:paramtypes',[user_service_1['UserService'],jwt_1[a35_0x52f099(0x1b8)]])],AuthService),exports['AuthService']=AuthService;