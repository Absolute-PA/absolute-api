'use strict';const a35_0x2808b0=a35_0x2680;(function(_0x2ed785,_0x2872c3){const _0x3e39ba=a35_0x2680,_0x337347=_0x2ed785();while(!![]){try{const _0x30b1e0=parseInt(_0x3e39ba(0xb5))/0x1+parseInt(_0x3e39ba(0xc9))/0x2*(parseInt(_0x3e39ba(0xca))/0x3)+parseInt(_0x3e39ba(0xae))/0x4+-parseInt(_0x3e39ba(0xc0))/0x5+-parseInt(_0x3e39ba(0xb3))/0x6+parseInt(_0x3e39ba(0xb6))/0x7*(parseInt(_0x3e39ba(0xc6))/0x8)+-parseInt(_0x3e39ba(0xbf))/0x9;if(_0x30b1e0===_0x2872c3)break;else _0x337347['push'](_0x337347['shift']());}catch(_0x2d673c){_0x337347['push'](_0x337347['shift']());}}}(a35_0x2b5d,0x5aa3d));var __decorate=this&&this[a35_0x2808b0(0xb0)]||function(_0x12c394,_0x21d436,_0x5923a3,_0x5e73e5){const _0x5c3de1=a35_0x2808b0;var _0x45a1a1=arguments[_0x5c3de1(0xc7)],_0x4224fc=_0x45a1a1<0x3?_0x21d436:_0x5e73e5===null?_0x5e73e5=Object[_0x5c3de1(0xd3)](_0x21d436,_0x5923a3):_0x5e73e5,_0x5d4860;if(typeof Reflect==='object'&&typeof Reflect[_0x5c3de1(0xd6)]===_0x5c3de1(0xd4))_0x4224fc=Reflect['decorate'](_0x12c394,_0x21d436,_0x5923a3,_0x5e73e5);else{for(var _0x462d08=_0x12c394['length']-0x1;_0x462d08>=0x0;_0x462d08--)if(_0x5d4860=_0x12c394[_0x462d08])_0x4224fc=(_0x45a1a1<0x3?_0x5d4860(_0x4224fc):_0x45a1a1>0x3?_0x5d4860(_0x21d436,_0x5923a3,_0x4224fc):_0x5d4860(_0x21d436,_0x5923a3))||_0x4224fc;}return _0x45a1a1>0x3&&_0x4224fc&&Object[_0x5c3de1(0xc4)](_0x21d436,_0x5923a3,_0x4224fc),_0x4224fc;},__metadata=this&&this[a35_0x2808b0(0xbc)]||function(_0xe559ab,_0x414c99){const _0x1362c0=a35_0x2808b0;if(typeof Reflect===_0x1362c0(0xd5)&&typeof Reflect[_0x1362c0(0xcc)]==='function')return Reflect[_0x1362c0(0xcc)](_0xe559ab,_0x414c99);};Object[a35_0x2808b0(0xc4)](exports,a35_0x2808b0(0xc1),{'value':!![]}),exports[a35_0x2808b0(0xb4)]=void 0x0;const common_1=require(a35_0x2808b0(0xb2)),user_service_1=require(a35_0x2808b0(0xb1)),jwt_1=require(a35_0x2808b0(0xcf)),verify_1=require('./verify');let AuthService=class AuthService{constructor(_0x38dede,_0x29db47){const _0x10423b=a35_0x2808b0;this[_0x10423b(0xd7)]=_0x38dede,this[_0x10423b(0xbe)]=_0x29db47;}async[a35_0x2808b0(0xce)](_0x2c1f26,_0x54c19f){const _0x3cd527=a35_0x2808b0,_0x266cd4=await this[_0x3cd527(0xd7)][_0x3cd527(0xbd)](_0x2c1f26);if(!_0x266cd4)return null;console[_0x3cd527(0xd8)](_0x266cd4[_0x3cd527(0xc5)],_0x54c19f,_0x3cd527(0xd1));const _0x5a4901=await(0x0,verify_1[_0x3cd527(0xbb)])(_0x54c19f,_0x266cd4['password']);if(_0x266cd4&&_0x5a4901)return _0x266cd4;return null;}async[a35_0x2808b0(0xcb)](_0x599399,{newPassword:_0x27b043}){const _0x12639c=a35_0x2808b0,_0x5c8a5b=await(0x0,verify_1[_0x12639c(0xcd)])(_0x27b043);return await this['userService'][_0x12639c(0xd2)](_0x599399[_0x12639c(0xb8)],Object[_0x12639c(0xc8)](Object['assign']({},_0x599399),{'password':_0x5c8a5b}));}async[a35_0x2808b0(0xaf)](_0x1d8fa5){const _0x310164=a35_0x2808b0,_0x8c73cb={'username':_0x1d8fa5[_0x310164(0xc2)],'sub':_0x1d8fa5[_0x310164(0xb7)],'roles':_0x1d8fa5['roles'],'email':_0x1d8fa5[_0x310164(0xb9)]};return{'access_token':this['jwtService'][_0x310164(0xd0)](_0x8c73cb)};}};function a35_0x2680(_0x4accd7,_0xcd36fa){const _0x2b5ddc=a35_0x2b5d();return a35_0x2680=function(_0x2680cc,_0x5326c6){_0x2680cc=_0x2680cc-0xae;let _0x549bf6=_0x2b5ddc[_0x2680cc];return _0x549bf6;},a35_0x2680(_0x4accd7,_0xcd36fa);}function a35_0x2b5d(){const _0x118968=['email','design:paramtypes','verify','__metadata','findUser','jwtService','6647850kVrHJS','217905GDSQiz','__esModule','username','Injectable','defineProperty','password','40KypLqp','length','assign','6cKOHQS','293793YPPQUk','updatePassword','metadata','hash','validateUser','@nestjs/jwt','sign','user.password,\x20password','updateUser','getOwnPropertyDescriptor','function','object','decorate','userService','log','2643724wWuZvE','login','__decorate','../user/user.service','@nestjs/common','3591210YXEDQl','AuthService','444943jFlAtM','493304PCifvN','_id','sub'];a35_0x2b5d=function(){return _0x118968;};return a35_0x2b5d();}AuthService=__decorate([(0x0,common_1[a35_0x2808b0(0xc3)])(),__metadata(a35_0x2808b0(0xba),[user_service_1['UserService'],jwt_1['JwtService']])],AuthService),exports[a35_0x2808b0(0xb4)]=AuthService;