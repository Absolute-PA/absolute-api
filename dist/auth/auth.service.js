'use strict';const a35_0x20591d=a35_0x2505;(function(_0x4c2450,_0x5617ee){const _0x20e9d0=a35_0x2505,_0x59c6c5=_0x4c2450();while(!![]){try{const _0xfd478=parseInt(_0x20e9d0(0xba))/0x1+-parseInt(_0x20e9d0(0xc0))/0x2+parseInt(_0x20e9d0(0xc3))/0x3+-parseInt(_0x20e9d0(0xcb))/0x4*(-parseInt(_0x20e9d0(0xa9))/0x5)+-parseInt(_0x20e9d0(0xc6))/0x6+-parseInt(_0x20e9d0(0xa7))/0x7*(parseInt(_0x20e9d0(0xab))/0x8)+-parseInt(_0x20e9d0(0xc2))/0x9;if(_0xfd478===_0x5617ee)break;else _0x59c6c5['push'](_0x59c6c5['shift']());}catch(_0x19cc2d){_0x59c6c5['push'](_0x59c6c5['shift']());}}}(a35_0x29e0,0xee3b8));var __decorate=this&&this[a35_0x20591d(0xad)]||function(_0x407859,_0x4459d8,_0x1d624d,_0x2c8076){const _0x212ee4=a35_0x20591d;var _0x4919cb=arguments[_0x212ee4(0xaa)],_0x259473=_0x4919cb<0x3?_0x4459d8:_0x2c8076===null?_0x2c8076=Object['getOwnPropertyDescriptor'](_0x4459d8,_0x1d624d):_0x2c8076,_0x4bd0c1;if(typeof Reflect===_0x212ee4(0xbb)&&typeof Reflect[_0x212ee4(0xb1)]===_0x212ee4(0xbc))_0x259473=Reflect['decorate'](_0x407859,_0x4459d8,_0x1d624d,_0x2c8076);else{for(var _0x15aff3=_0x407859[_0x212ee4(0xaa)]-0x1;_0x15aff3>=0x0;_0x15aff3--)if(_0x4bd0c1=_0x407859[_0x15aff3])_0x259473=(_0x4919cb<0x3?_0x4bd0c1(_0x259473):_0x4919cb>0x3?_0x4bd0c1(_0x4459d8,_0x1d624d,_0x259473):_0x4bd0c1(_0x4459d8,_0x1d624d))||_0x259473;}return _0x4919cb>0x3&&_0x259473&&Object[_0x212ee4(0xb5)](_0x4459d8,_0x1d624d,_0x259473),_0x259473;},__metadata=this&&this[a35_0x20591d(0xb4)]||function(_0x22ceb9,_0x4cf895){const _0x340ece=a35_0x20591d;if(typeof Reflect===_0x340ece(0xbb)&&typeof Reflect[_0x340ece(0xa4)]===_0x340ece(0xbc))return Reflect[_0x340ece(0xa4)](_0x22ceb9,_0x4cf895);};Object[a35_0x20591d(0xb5)](exports,a35_0x20591d(0xc9),{'value':!![]}),exports['AuthService']=void 0x0;const common_1=require('@nestjs/common'),user_service_1=require(a35_0x20591d(0xb7)),jwt_1=require('@nestjs/jwt'),verify_1=require('./verify');let AuthService=class AuthService{constructor(_0x34fc8f,_0x424c9d){const _0x26523a=a35_0x20591d;this[_0x26523a(0xa6)]=_0x34fc8f,this[_0x26523a(0xc5)]=_0x424c9d;}async[a35_0x20591d(0xbd)](_0x37a89c,_0x166c1c){const _0x16042a=a35_0x20591d,_0x3b363b=await this[_0x16042a(0xa6)][_0x16042a(0xae)](_0x37a89c);if(!_0x3b363b)return null;console[_0x16042a(0xb8)](_0x3b363b[_0x16042a(0xbf)],_0x166c1c,_0x16042a(0xc7));const _0x3d222b=await(0x0,verify_1['verify'])(_0x166c1c,_0x3b363b[_0x16042a(0xbf)]);if(_0x3b363b&&_0x3d222b)return _0x3b363b;return null;}async[a35_0x20591d(0xb9)](_0x4fa4bc,{newPassword:_0x3c9a58}){const _0x3296c5=a35_0x20591d,_0x3b3657=await(0x0,verify_1[_0x3296c5(0xb2)])(_0x3c9a58);return await this[_0x3296c5(0xa6)][_0x3296c5(0xaf)](_0x4fa4bc[_0x3296c5(0xc1)],Object[_0x3296c5(0xb0)](Object[_0x3296c5(0xb0)]({},_0x4fa4bc),{'password':_0x3b3657}));}async[a35_0x20591d(0xbe)](_0x5388fe){const _0x4535fb=a35_0x20591d,_0x2ea6cd={'username':_0x5388fe[_0x4535fb(0xa5)],'sub':_0x5388fe[_0x4535fb(0xac)],'roles':_0x5388fe[_0x4535fb(0xca)],'email':_0x5388fe[_0x4535fb(0xc4)]};return{'access_token':this['jwtService'][_0x4535fb(0xa8)](_0x2ea6cd)};}};function a35_0x29e0(){const _0x5deb3=['jwtService','1705842BqOlLb','user.password,\x20password','JwtService','__esModule','roles','304cdgqGP','metadata','username','userService','7QMALkw','sign','71290ksxJpA','length','10495544sdhvTz','_id','__decorate','findUser','updateUser','assign','decorate','hash','Injectable','__metadata','defineProperty','design:paramtypes','../user/user.service','log','updatePassword','1125439iVlgaw','object','function','validateUser','login','password','566380JUcWVB','sub','4923162QBMrBT','3579633gSPAdl','email'];a35_0x29e0=function(){return _0x5deb3;};return a35_0x29e0();}function a35_0x2505(_0x43b83c,_0x3e7b8b){const _0x29e028=a35_0x29e0();return a35_0x2505=function(_0x250525,_0x7a20a2){_0x250525=_0x250525-0xa4;let _0x27c93f=_0x29e028[_0x250525];return _0x27c93f;},a35_0x2505(_0x43b83c,_0x3e7b8b);}AuthService=__decorate([(0x0,common_1[a35_0x20591d(0xb3)])(),__metadata(a35_0x20591d(0xb6),[user_service_1['UserService'],jwt_1[a35_0x20591d(0xc8)]])],AuthService),exports['AuthService']=AuthService;