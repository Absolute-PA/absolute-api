'use strict';const a105_0x2869d3=a105_0x1106;(function(_0x56faba,_0x253225){const _0x327eec=a105_0x1106,_0xb24970=_0x56faba();while(!![]){try{const _0x3ad395=-parseInt(_0x327eec(0x189))/0x1*(parseInt(_0x327eec(0x17c))/0x2)+parseInt(_0x327eec(0x188))/0x3*(-parseInt(_0x327eec(0x177))/0x4)+-parseInt(_0x327eec(0x178))/0x5+-parseInt(_0x327eec(0x179))/0x6+parseInt(_0x327eec(0x172))/0x7+-parseInt(_0x327eec(0x16f))/0x8+parseInt(_0x327eec(0x181))/0x9;if(_0x3ad395===_0x253225)break;else _0xb24970['push'](_0xb24970['shift']());}catch(_0x4d5e5b){_0xb24970['push'](_0xb24970['shift']());}}}(a105_0xf78b,0x96c52));function a105_0xf78b(){const _0x2d2a9b=['updatedAtUtc','findIndex','646QROvsO','findById','__param','scheduleModel','removeEvent','24984747yszlCG','events','length','design:paramtypes','decorate','function','addEvent','18330OIKhEM','423xBxven','@nestjs/mongoose','EventService','object','mongoose','exec','metadata','Schedule','Injectable','InjectModel','2364056vWqXkt','defineProperty','push','5924492alFpyo','__decorate','save','__esModule','__metadata','740jxeaAu','3763590FZyPUa','4138086gdXMpU'];a105_0xf78b=function(){return _0x2d2a9b;};return a105_0xf78b();}var __decorate=this&&this[a105_0x2869d3(0x173)]||function(_0x1657bc,_0x3db561,_0x2613a3,_0x9d94ea){const _0x50ab7b=a105_0x2869d3;var _0x3ec8bb=arguments[_0x50ab7b(0x183)],_0x1807cf=_0x3ec8bb<0x3?_0x3db561:_0x9d94ea===null?_0x9d94ea=Object['getOwnPropertyDescriptor'](_0x3db561,_0x2613a3):_0x9d94ea,_0x4454c0;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x50ab7b(0x186))_0x1807cf=Reflect[_0x50ab7b(0x185)](_0x1657bc,_0x3db561,_0x2613a3,_0x9d94ea);else{for(var _0x4e1e54=_0x1657bc[_0x50ab7b(0x183)]-0x1;_0x4e1e54>=0x0;_0x4e1e54--)if(_0x4454c0=_0x1657bc[_0x4e1e54])_0x1807cf=(_0x3ec8bb<0x3?_0x4454c0(_0x1807cf):_0x3ec8bb>0x3?_0x4454c0(_0x3db561,_0x2613a3,_0x1807cf):_0x4454c0(_0x3db561,_0x2613a3))||_0x1807cf;}return _0x3ec8bb>0x3&&_0x1807cf&&Object[_0x50ab7b(0x170)](_0x3db561,_0x2613a3,_0x1807cf),_0x1807cf;},__metadata=this&&this[a105_0x2869d3(0x176)]||function(_0x9394a0,_0x2ebdec){const _0x28eac4=a105_0x2869d3;if(typeof Reflect===_0x28eac4(0x18c)&&typeof Reflect[_0x28eac4(0x18f)]==='function')return Reflect['metadata'](_0x9394a0,_0x2ebdec);},__param=this&&this[a105_0x2869d3(0x17e)]||function(_0x3b60d9,_0x2315b6){return function(_0x2d7cdb,_0x7faceb){_0x2315b6(_0x2d7cdb,_0x7faceb,_0x3b60d9);};};Object[a105_0x2869d3(0x170)](exports,a105_0x2869d3(0x175),{'value':!![]}),exports[a105_0x2869d3(0x18b)]=void 0x0;function a105_0x1106(_0x2b8b80,_0x103cca){const _0xf78b62=a105_0xf78b();return a105_0x1106=function(_0x110684,_0x225261){_0x110684=_0x110684-0x16f;let _0x52a465=_0xf78b62[_0x110684];return _0x52a465;},a105_0x1106(_0x2b8b80,_0x103cca);}const common_1=require('@nestjs/common'),mongoose_1=require(a105_0x2869d3(0x18a)),mongoose_2=require(a105_0x2869d3(0x18d));let EventService=class EventService{constructor(_0x3a4b34){this['scheduleModel']=_0x3a4b34;}async[a105_0x2869d3(0x187)](_0x28be27,_0x134bd1){const _0x3f0747=a105_0x2869d3,_0x3091ed=await this['scheduleModel'][_0x3f0747(0x17d)](_0x28be27)['exec']();return _0x3091ed[_0x3f0747(0x182)][_0x3f0747(0x171)](_0x134bd1),_0x3091ed[_0x3f0747(0x17a)]=new Date(),_0x3091ed['save']();}async[a105_0x2869d3(0x180)](_0x21ebc0,_0x401c8d){const _0x10618f=a105_0x2869d3,_0x545da5=await this[_0x10618f(0x17f)][_0x10618f(0x17d)](_0x21ebc0)[_0x10618f(0x18e)]();return _0x545da5[_0x10618f(0x182)]=_0x545da5[_0x10618f(0x182)]['filter'](_0x1271b1=>_0x1271b1['id']!==_0x401c8d),_0x545da5['updatedAtUtc']=new Date(),_0x545da5[_0x10618f(0x174)]();}async['updateEvent'](_0x18b583,_0x160914){const _0x38345e=a105_0x2869d3,_0x40961d=await this['scheduleModel'][_0x38345e(0x17d)](_0x18b583)['exec'](),_0x5deb14=_0x40961d['events'][_0x38345e(0x17b)](_0x370e48=>_0x370e48['id']===_0x160914['id']);return _0x40961d[_0x38345e(0x182)][_0x5deb14]=_0x160914,_0x40961d[_0x38345e(0x17a)]=new Date(),_0x40961d['save']();}};EventService=__decorate([(0x0,common_1[a105_0x2869d3(0x191)])(),__param(0x0,(0x0,mongoose_1[a105_0x2869d3(0x192)])(a105_0x2869d3(0x190))),__metadata(a105_0x2869d3(0x184),[mongoose_2['Model']])],EventService),exports[a105_0x2869d3(0x18b)]=EventService;