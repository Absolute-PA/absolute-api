'use strict';function a102_0x2dd3(_0x21e405,_0x357361){const _0x38e9c6=a102_0x38e9();return a102_0x2dd3=function(_0x2dd32d,_0x39ec65){_0x2dd32d=_0x2dd32d-0x172;let _0x303989=_0x38e9c6[_0x2dd32d];return _0x303989;},a102_0x2dd3(_0x21e405,_0x357361);}const a102_0x89301b=a102_0x2dd3;(function(_0x19757d,_0xcfe94e){const _0x577b0c=a102_0x2dd3,_0x50da2e=_0x19757d();while(!![]){try{const _0x2931ec=parseInt(_0x577b0c(0x190))/0x1+-parseInt(_0x577b0c(0x184))/0x2+parseInt(_0x577b0c(0x174))/0x3+parseInt(_0x577b0c(0x189))/0x4+parseInt(_0x577b0c(0x18b))/0x5*(parseInt(_0x577b0c(0x185))/0x6)+parseInt(_0x577b0c(0x17b))/0x7*(-parseInt(_0x577b0c(0x17d))/0x8)+-parseInt(_0x577b0c(0x193))/0x9*(parseInt(_0x577b0c(0x186))/0xa);if(_0x2931ec===_0xcfe94e)break;else _0x50da2e['push'](_0x50da2e['shift']());}catch(_0x573297){_0x50da2e['push'](_0x50da2e['shift']());}}}(a102_0x38e9,0xe53f0));var __decorate=this&&this['__decorate']||function(_0x2515d6,_0x4a8d89,_0x409eba,_0x1ac528){const _0x25c3a0=a102_0x2dd3;var _0x5b60d7=arguments[_0x25c3a0(0x172)],_0x5d1906=_0x5b60d7<0x3?_0x4a8d89:_0x1ac528===null?_0x1ac528=Object['getOwnPropertyDescriptor'](_0x4a8d89,_0x409eba):_0x1ac528,_0x1d0f15;if(typeof Reflect===_0x25c3a0(0x17c)&&typeof Reflect[_0x25c3a0(0x179)]===_0x25c3a0(0x18f))_0x5d1906=Reflect['decorate'](_0x2515d6,_0x4a8d89,_0x409eba,_0x1ac528);else{for(var _0x4e2d45=_0x2515d6[_0x25c3a0(0x172)]-0x1;_0x4e2d45>=0x0;_0x4e2d45--)if(_0x1d0f15=_0x2515d6[_0x4e2d45])_0x5d1906=(_0x5b60d7<0x3?_0x1d0f15(_0x5d1906):_0x5b60d7>0x3?_0x1d0f15(_0x4a8d89,_0x409eba,_0x5d1906):_0x1d0f15(_0x4a8d89,_0x409eba))||_0x5d1906;}return _0x5b60d7>0x3&&_0x5d1906&&Object[_0x25c3a0(0x188)](_0x4a8d89,_0x409eba,_0x5d1906),_0x5d1906;},__metadata=this&&this[a102_0x89301b(0x183)]||function(_0x152809,_0x3358f4){const _0x2b341c=a102_0x89301b;if(typeof Reflect===_0x2b341c(0x17c)&&typeof Reflect[_0x2b341c(0x180)]==='function')return Reflect[_0x2b341c(0x180)](_0x152809,_0x3358f4);},__param=this&&this[a102_0x89301b(0x177)]||function(_0xcfa6ba,_0x524468){return function(_0x2d5bd7,_0x21cc9e){_0x524468(_0x2d5bd7,_0x21cc9e,_0xcfa6ba);};};Object[a102_0x89301b(0x188)](exports,a102_0x89301b(0x176),{'value':!![]}),exports[a102_0x89301b(0x18e)]=void 0x0;function a102_0x38e9(){const _0x3e7a14=['function','1789712HWlDqJ','@nestjs/mongoose','filter','713421TZvxdZ','push','length','exec','956241OtbEqR','updatedAtUtc','__esModule','__param','save','decorate','findById','154KIQJvx','object','75704qRqEii','design:paramtypes','scheduleModel','metadata','InjectModel','mongoose','__metadata','3062568vYeFpA','6lMcrjK','10iMAarc','events','defineProperty','851276mTMKKi','@nestjs/common','2182265jdTnZC','Model','Injectable','EventService'];a102_0x38e9=function(){return _0x3e7a14;};return a102_0x38e9();}const common_1=require(a102_0x89301b(0x18a)),mongoose_1=require(a102_0x89301b(0x191)),mongoose_2=require(a102_0x89301b(0x182));let EventService=class EventService{constructor(_0x4d31c3){const _0x5b85b7=a102_0x89301b;this[_0x5b85b7(0x17f)]=_0x4d31c3;}async['addEvent'](_0x14580f,_0x1fef08){const _0x2aac44=a102_0x89301b,_0x45d72b=await this['scheduleModel'][_0x2aac44(0x17a)](_0x14580f)[_0x2aac44(0x173)]();return _0x45d72b[_0x2aac44(0x187)][_0x2aac44(0x194)](_0x1fef08),_0x45d72b[_0x2aac44(0x175)]=new Date(),_0x45d72b[_0x2aac44(0x178)]();}async['removeEvent'](_0x5ebea9,_0x4939dd){const _0x22dee3=a102_0x89301b,_0xbad258=await this[_0x22dee3(0x17f)][_0x22dee3(0x17a)](_0x5ebea9)[_0x22dee3(0x173)]();return _0xbad258['events']=_0xbad258[_0x22dee3(0x187)][_0x22dee3(0x192)](_0xce5ecf=>_0xce5ecf['id']!==_0x4939dd),_0xbad258[_0x22dee3(0x175)]=new Date(),_0xbad258[_0x22dee3(0x178)]();}async['updateEvent'](_0x37236d,_0x2a23e1){const _0x26342c=a102_0x89301b,_0x5bf694=await this[_0x26342c(0x17f)][_0x26342c(0x17a)](_0x37236d)[_0x26342c(0x173)](),_0x1753eb=_0x5bf694['events']['findIndex'](_0x3384dc=>_0x3384dc['id']===_0x2a23e1['id']);return _0x5bf694['events'][_0x1753eb]=_0x2a23e1,_0x5bf694['updatedAtUtc']=new Date(),_0x5bf694[_0x26342c(0x178)]();}};EventService=__decorate([(0x0,common_1[a102_0x89301b(0x18d)])(),__param(0x0,(0x0,mongoose_1[a102_0x89301b(0x181)])('Schedule')),__metadata(a102_0x89301b(0x17e),[mongoose_2[a102_0x89301b(0x18c)]])],EventService),exports['EventService']=EventService;