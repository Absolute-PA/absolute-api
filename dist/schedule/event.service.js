'use strict';function a102_0x2015(_0x7a73a2,_0x2ac2be){const _0x5901bf=a102_0x5901();return a102_0x2015=function(_0x201526,_0x43333a){_0x201526=_0x201526-0x14b;let _0x2e4198=_0x5901bf[_0x201526];return _0x2e4198;},a102_0x2015(_0x7a73a2,_0x2ac2be);}const a102_0x176541=a102_0x2015;(function(_0x3c2e30,_0x40bee6){const _0x3a593b=a102_0x2015,_0x25f326=_0x3c2e30();while(!![]){try{const _0x2a9adb=-parseInt(_0x3a593b(0x169))/0x1+-parseInt(_0x3a593b(0x161))/0x2*(-parseInt(_0x3a593b(0x150))/0x3)+-parseInt(_0x3a593b(0x167))/0x4+-parseInt(_0x3a593b(0x160))/0x5*(parseInt(_0x3a593b(0x16c))/0x6)+-parseInt(_0x3a593b(0x153))/0x7*(parseInt(_0x3a593b(0x15e))/0x8)+-parseInt(_0x3a593b(0x15f))/0x9+parseInt(_0x3a593b(0x165))/0xa*(parseInt(_0x3a593b(0x163))/0xb);if(_0x2a9adb===_0x40bee6)break;else _0x25f326['push'](_0x25f326['shift']());}catch(_0xb29976){_0x25f326['push'](_0x25f326['shift']());}}}(a102_0x5901,0xbde3f));var __decorate=this&&this[a102_0x176541(0x154)]||function(_0x173d89,_0x4dfb63,_0x58134c,_0x59e77b){const _0x153ec4=a102_0x176541;var _0x34b5e9=arguments['length'],_0x35f34e=_0x34b5e9<0x3?_0x4dfb63:_0x59e77b===null?_0x59e77b=Object[_0x153ec4(0x164)](_0x4dfb63,_0x58134c):_0x59e77b,_0x4b139b;if(typeof Reflect===_0x153ec4(0x157)&&typeof Reflect['decorate']==='function')_0x35f34e=Reflect[_0x153ec4(0x16f)](_0x173d89,_0x4dfb63,_0x58134c,_0x59e77b);else{for(var _0xda83f4=_0x173d89[_0x153ec4(0x14c)]-0x1;_0xda83f4>=0x0;_0xda83f4--)if(_0x4b139b=_0x173d89[_0xda83f4])_0x35f34e=(_0x34b5e9<0x3?_0x4b139b(_0x35f34e):_0x34b5e9>0x3?_0x4b139b(_0x4dfb63,_0x58134c,_0x35f34e):_0x4b139b(_0x4dfb63,_0x58134c))||_0x35f34e;}return _0x34b5e9>0x3&&_0x35f34e&&Object['defineProperty'](_0x4dfb63,_0x58134c,_0x35f34e),_0x35f34e;},__metadata=this&&this[a102_0x176541(0x170)]||function(_0x533dc9,_0x3c822d){const _0x231c63=a102_0x176541;if(typeof Reflect===_0x231c63(0x157)&&typeof Reflect[_0x231c63(0x14e)]===_0x231c63(0x151))return Reflect[_0x231c63(0x14e)](_0x533dc9,_0x3c822d);},__param=this&&this[a102_0x176541(0x162)]||function(_0x5a4ff5,_0x118528){return function(_0x1ffea6,_0x43690f){_0x118528(_0x1ffea6,_0x43690f,_0x5a4ff5);};};Object[a102_0x176541(0x15c)](exports,a102_0x176541(0x159),{'value':!![]}),exports[a102_0x176541(0x15a)]=void 0x0;function a102_0x5901(){const _0x3fcff0=['exec','611811HmLgqm','scheduleModel','@nestjs/mongoose','484998PFuNVh','filter','Model','decorate','__metadata','findById','length','Schedule','metadata','save','33JytsWi','function','updatedAtUtc','434qlpguJ','__decorate','InjectModel','Injectable','object','addEvent','__esModule','EventService','mongoose','defineProperty','findIndex','114760GMwHKk','3209652LOJrwi','5GnlCjd','74868vMlBMk','__param','27852twzpvt','getOwnPropertyDescriptor','15140pLFbqF','design:paramtypes','6115076YUxyuX'];a102_0x5901=function(){return _0x3fcff0;};return a102_0x5901();}const common_1=require('@nestjs/common'),mongoose_1=require(a102_0x176541(0x16b)),mongoose_2=require(a102_0x176541(0x15b));let EventService=class EventService{constructor(_0x28db13){const _0x303619=a102_0x176541;this[_0x303619(0x16a)]=_0x28db13;}async[a102_0x176541(0x158)](_0x1a1fff,_0x5cd25c){const _0x5a21a4=a102_0x176541,_0x183e9c=await this['scheduleModel'][_0x5a21a4(0x14b)](_0x1a1fff)[_0x5a21a4(0x168)]();return _0x183e9c['events']['push'](_0x5cd25c),_0x183e9c[_0x5a21a4(0x152)]=new Date(),_0x183e9c['save']();}async['removeEvent'](_0x349bfe,_0x157c89){const _0x22612d=a102_0x176541,_0x3ab690=await this[_0x22612d(0x16a)]['findById'](_0x349bfe)['exec']();return _0x3ab690['events']=_0x3ab690['events'][_0x22612d(0x16d)](_0x443f06=>_0x443f06['id']!==_0x157c89),_0x3ab690['updatedAtUtc']=new Date(),_0x3ab690[_0x22612d(0x14f)]();}async['updateEvent'](_0x564ab4,_0x27d260){const _0x2d321e=a102_0x176541,_0x27836d=await this[_0x2d321e(0x16a)][_0x2d321e(0x14b)](_0x564ab4)['exec'](),_0x33bce2=_0x27836d['events'][_0x2d321e(0x15d)](_0x1461e6=>_0x1461e6['id']===_0x27d260['id']);return _0x27836d['events'][_0x33bce2]=_0x27d260,_0x27836d['updatedAtUtc']=new Date(),_0x27836d[_0x2d321e(0x14f)]();}};EventService=__decorate([(0x0,common_1[a102_0x176541(0x156)])(),__param(0x0,(0x0,mongoose_1[a102_0x176541(0x155)])(a102_0x176541(0x14d))),__metadata(a102_0x176541(0x166),[mongoose_2[a102_0x176541(0x16e)]])],EventService),exports[a102_0x176541(0x15a)]=EventService;