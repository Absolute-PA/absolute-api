'use strict';const a105_0x169ef7=a105_0x4d1a;(function(_0x5c5e6c,_0xfb87be){const _0x25cbef=a105_0x4d1a,_0x14412b=_0x5c5e6c();while(!![]){try{const _0x4ad3a1=-parseInt(_0x25cbef(0x168))/0x1+parseInt(_0x25cbef(0x167))/0x2+-parseInt(_0x25cbef(0x150))/0x3+-parseInt(_0x25cbef(0x151))/0x4+-parseInt(_0x25cbef(0x159))/0x5+-parseInt(_0x25cbef(0x15b))/0x6*(-parseInt(_0x25cbef(0x165))/0x7)+parseInt(_0x25cbef(0x154))/0x8;if(_0x4ad3a1===_0xfb87be)break;else _0x14412b['push'](_0x14412b['shift']());}catch(_0x19e0e3){_0x14412b['push'](_0x14412b['shift']());}}}(a105_0x5d69,0x46026));var __decorate=this&&this[a105_0x169ef7(0x160)]||function(_0xb29547,_0x5a0642,_0x1c1f8d,_0x327686){const _0x220511=a105_0x169ef7;var _0x3473dd=arguments[_0x220511(0x164)],_0x3afdb5=_0x3473dd<0x3?_0x5a0642:_0x327686===null?_0x327686=Object[_0x220511(0x161)](_0x5a0642,_0x1c1f8d):_0x327686,_0xcdfc87;if(typeof Reflect==='object'&&typeof Reflect[_0x220511(0x162)]===_0x220511(0x166))_0x3afdb5=Reflect[_0x220511(0x162)](_0xb29547,_0x5a0642,_0x1c1f8d,_0x327686);else{for(var _0x5b7946=_0xb29547['length']-0x1;_0x5b7946>=0x0;_0x5b7946--)if(_0xcdfc87=_0xb29547[_0x5b7946])_0x3afdb5=(_0x3473dd<0x3?_0xcdfc87(_0x3afdb5):_0x3473dd>0x3?_0xcdfc87(_0x5a0642,_0x1c1f8d,_0x3afdb5):_0xcdfc87(_0x5a0642,_0x1c1f8d))||_0x3afdb5;}return _0x3473dd>0x3&&_0x3afdb5&&Object[_0x220511(0x15e)](_0x5a0642,_0x1c1f8d,_0x3afdb5),_0x3afdb5;},__metadata=this&&this['__metadata']||function(_0x1d2617,_0x55a414){const _0x409f7a=a105_0x169ef7;if(typeof Reflect===_0x409f7a(0x15a)&&typeof Reflect[_0x409f7a(0x15d)]===_0x409f7a(0x166))return Reflect[_0x409f7a(0x15d)](_0x1d2617,_0x55a414);},__param=this&&this[a105_0x169ef7(0x155)]||function(_0x15d083,_0x2f5c59){return function(_0x3f3e1b,_0x1a9089){_0x2f5c59(_0x3f3e1b,_0x1a9089,_0x15d083);};};function a105_0x5d69(){const _0x1e2149=['function','285620zcqbBC','170245hnVGhi','findById','exec','addEvent','Schedule','events','updatedAtUtc','removeEvent','push','design:paramtypes','329667QAPDiC','1414656bkoPYF','scheduleModel','InjectModel','3536088zJXsyJ','__param','save','updateEvent','Injectable','418200VfSUSB','object','2516250AHwwBt','Model','metadata','defineProperty','EventService','__decorate','getOwnPropertyDescriptor','decorate','__esModule','length','7ybPLjN'];a105_0x5d69=function(){return _0x1e2149;};return a105_0x5d69();}function a105_0x4d1a(_0x118414,_0x90fbd6){const _0x5d6907=a105_0x5d69();return a105_0x4d1a=function(_0x4d1ab0,_0x1629ad){_0x4d1ab0=_0x4d1ab0-0x149;let _0x451981=_0x5d6907[_0x4d1ab0];return _0x451981;},a105_0x4d1a(_0x118414,_0x90fbd6);}Object[a105_0x169ef7(0x15e)](exports,a105_0x169ef7(0x163),{'value':!![]}),exports[a105_0x169ef7(0x15f)]=void 0x0;const common_1=require('@nestjs/common'),mongoose_1=require('@nestjs/mongoose'),mongoose_2=require('mongoose');let EventService=class EventService{constructor(_0x3f21ff){this['scheduleModel']=_0x3f21ff;}async[a105_0x169ef7(0x149)](_0x52125f,_0x4e91d9){const _0x3b623a=a105_0x169ef7,_0x292f7c=await this['scheduleModel'][_0x3b623a(0x169)](_0x52125f)[_0x3b623a(0x16a)]();return _0x292f7c['events'][_0x3b623a(0x14e)](_0x4e91d9),_0x292f7c[_0x3b623a(0x14c)]=new Date(),_0x292f7c[_0x3b623a(0x156)]();}async[a105_0x169ef7(0x14d)](_0x2ed01b,_0x41e6cc){const _0x117743=a105_0x169ef7,_0x39c620=await this[_0x117743(0x152)][_0x117743(0x169)](_0x2ed01b)[_0x117743(0x16a)]();return _0x39c620[_0x117743(0x14b)]=_0x39c620['events']['filter'](_0x4f5ce6=>_0x4f5ce6['id']!==_0x41e6cc),_0x39c620[_0x117743(0x14c)]=new Date(),_0x39c620[_0x117743(0x156)]();}async[a105_0x169ef7(0x157)](_0x494516,_0x47cddb){const _0x429c53=a105_0x169ef7,_0x309b3a=await this['scheduleModel']['findById'](_0x494516)[_0x429c53(0x16a)](),_0x5b4b0c=_0x309b3a['events']['findIndex'](_0x5c08ab=>_0x5c08ab['id']===_0x47cddb['id']);return _0x309b3a[_0x429c53(0x14b)][_0x5b4b0c]=_0x47cddb,_0x309b3a[_0x429c53(0x14c)]=new Date(),_0x309b3a[_0x429c53(0x156)]();}};EventService=__decorate([(0x0,common_1[a105_0x169ef7(0x158)])(),__param(0x0,(0x0,mongoose_1[a105_0x169ef7(0x153)])(a105_0x169ef7(0x14a))),__metadata(a105_0x169ef7(0x14f),[mongoose_2[a105_0x169ef7(0x15c)]])],EventService),exports[a105_0x169ef7(0x15f)]=EventService;