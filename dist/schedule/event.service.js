'use strict';const a105_0x9864a8=a105_0x1baf;(function(_0x204d76,_0x433d62){const _0x48b090=a105_0x1baf,_0x178137=_0x204d76();while(!![]){try{const _0x296b26=parseInt(_0x48b090(0x112))/0x1+-parseInt(_0x48b090(0x12e))/0x2*(-parseInt(_0x48b090(0x11a))/0x3)+parseInt(_0x48b090(0x131))/0x4+parseInt(_0x48b090(0x126))/0x5*(-parseInt(_0x48b090(0x128))/0x6)+parseInt(_0x48b090(0x129))/0x7+-parseInt(_0x48b090(0x12a))/0x8+-parseInt(_0x48b090(0x117))/0x9;if(_0x296b26===_0x433d62)break;else _0x178137['push'](_0x178137['shift']());}catch(_0x8d8a96){_0x178137['push'](_0x178137['shift']());}}}(a105_0x2cda,0x730b2));var __decorate=this&&this[a105_0x9864a8(0x122)]||function(_0x2ae377,_0xf96639,_0x170c38,_0x290904){const _0x26317f=a105_0x9864a8;var _0x3f9b27=arguments[_0x26317f(0x120)],_0x31d0b3=_0x3f9b27<0x3?_0xf96639:_0x290904===null?_0x290904=Object[_0x26317f(0x123)](_0xf96639,_0x170c38):_0x290904,_0x243d7e;if(typeof Reflect===_0x26317f(0x115)&&typeof Reflect[_0x26317f(0x11e)]===_0x26317f(0x111))_0x31d0b3=Reflect[_0x26317f(0x11e)](_0x2ae377,_0xf96639,_0x170c38,_0x290904);else{for(var _0x443e2c=_0x2ae377[_0x26317f(0x120)]-0x1;_0x443e2c>=0x0;_0x443e2c--)if(_0x243d7e=_0x2ae377[_0x443e2c])_0x31d0b3=(_0x3f9b27<0x3?_0x243d7e(_0x31d0b3):_0x3f9b27>0x3?_0x243d7e(_0xf96639,_0x170c38,_0x31d0b3):_0x243d7e(_0xf96639,_0x170c38))||_0x31d0b3;}return _0x3f9b27>0x3&&_0x31d0b3&&Object[_0x26317f(0x10f)](_0xf96639,_0x170c38,_0x31d0b3),_0x31d0b3;},__metadata=this&&this[a105_0x9864a8(0x127)]||function(_0x318488,_0x302d7d){const _0x29c8df=a105_0x9864a8;if(typeof Reflect===_0x29c8df(0x115)&&typeof Reflect[_0x29c8df(0x130)]===_0x29c8df(0x111))return Reflect[_0x29c8df(0x130)](_0x318488,_0x302d7d);},__param=this&&this[a105_0x9864a8(0x114)]||function(_0x13060e,_0x5dfeaa){return function(_0x25ded0,_0x2124df){_0x5dfeaa(_0x25ded0,_0x2124df,_0x13060e);};};function a105_0x1baf(_0x5a3d7,_0x3d564b){const _0x2cda1f=a105_0x2cda();return a105_0x1baf=function(_0x1baf4f,_0x4519bf){_0x1baf4f=_0x1baf4f-0x10f;let _0x1e04cd=_0x2cda1f[_0x1baf4f];return _0x1e04cd;},a105_0x1baf(_0x5a3d7,_0x3d564b);}Object[a105_0x9864a8(0x10f)](exports,a105_0x9864a8(0x121),{'value':!![]}),exports[a105_0x9864a8(0x110)]=void 0x0;function a105_0x2cda(){const _0xdd7f98=['__decorate','getOwnPropertyDescriptor','findById','@nestjs/common','15qrqaNf','__metadata','478764wwgqEi','1648801UwlzdE','1423848nPUvwV','updatedAtUtc','Model','design:paramtypes','2WzCdrg','save','metadata','1239784LxxXDM','defineProperty','EventService','function','359930oqseUV','exec','__param','object','scheduleModel','3627306FqQAbu','events','Injectable','1158588idBArt','Schedule','addEvent','updateEvent','decorate','filter','length','__esModule'];a105_0x2cda=function(){return _0xdd7f98;};return a105_0x2cda();}const common_1=require(a105_0x9864a8(0x125)),mongoose_1=require('@nestjs/mongoose'),mongoose_2=require('mongoose');let EventService=class EventService{constructor(_0x1f4b72){const _0x48d938=a105_0x9864a8;this[_0x48d938(0x116)]=_0x1f4b72;}async[a105_0x9864a8(0x11c)](_0x4fd4b5,_0x3b35aa){const _0x4355aa=a105_0x9864a8,_0x1e7908=await this['scheduleModel'][_0x4355aa(0x124)](_0x4fd4b5)['exec']();return _0x1e7908['events']['push'](_0x3b35aa),_0x1e7908['updatedAtUtc']=new Date(),_0x1e7908[_0x4355aa(0x12f)]();}async['removeEvent'](_0x22dd52,_0x3b0dc1){const _0x45d13f=a105_0x9864a8,_0x3f5555=await this['scheduleModel']['findById'](_0x22dd52)['exec']();return _0x3f5555['events']=_0x3f5555['events'][_0x45d13f(0x11f)](_0xbc3dd=>_0xbc3dd['id']!==_0x3b0dc1),_0x3f5555[_0x45d13f(0x12b)]=new Date(),_0x3f5555[_0x45d13f(0x12f)]();}async[a105_0x9864a8(0x11d)](_0x30a3ee,_0x2fb8dd){const _0x39a820=a105_0x9864a8,_0x32a81f=await this['scheduleModel'][_0x39a820(0x124)](_0x30a3ee)[_0x39a820(0x113)](),_0x4003a6=_0x32a81f['events']['findIndex'](_0x101efa=>_0x101efa['id']===_0x2fb8dd['id']);return _0x32a81f[_0x39a820(0x118)][_0x4003a6]=_0x2fb8dd,_0x32a81f['updatedAtUtc']=new Date(),_0x32a81f['save']();}};EventService=__decorate([(0x0,common_1[a105_0x9864a8(0x119)])(),__param(0x0,(0x0,mongoose_1['InjectModel'])(a105_0x9864a8(0x11b))),__metadata(a105_0x9864a8(0x12d),[mongoose_2[a105_0x9864a8(0x12c)]])],EventService),exports['EventService']=EventService;