'use strict';const a102_0x436135=a102_0x38ba;function a102_0x2373(){const _0x14b7d1=['filter','design:paramtypes','function','7zLRYts','18869792UqyVch','2165436hLbdYv','1944888TFOyfg','1555430rKQFRE','Model','__esModule','EventService','updatedAtUtc','getOwnPropertyDescriptor','updateEvent','59586EOUfmi','@nestjs/mongoose','length','push','Injectable','__metadata','defineProperty','mongoose','scheduleModel','object','decorate','exec','save','1209835dZmrMO','findById','1607022GmsmTQ','events','@nestjs/common','metadata','findIndex'];a102_0x2373=function(){return _0x14b7d1;};return a102_0x2373();}function a102_0x38ba(_0xfc53e4,_0x19a49c){const _0x2373e5=a102_0x2373();return a102_0x38ba=function(_0x38ba99,_0x5a3005){_0x38ba99=_0x38ba99-0x1a7;let _0x1e5a59=_0x2373e5[_0x38ba99];return _0x1e5a59;},a102_0x38ba(_0xfc53e4,_0x19a49c);}(function(_0x38925f,_0x38726a){const _0x599aab=a102_0x38ba,_0x2785dd=_0x38925f();while(!![]){try{const _0x405375=-parseInt(_0x599aab(0x1b0))/0x1+parseInt(_0x599aab(0x1af))/0x2+-parseInt(_0x599aab(0x1c6))/0x3+-parseInt(_0x599aab(0x1ae))/0x4+parseInt(_0x599aab(0x1c4))/0x5+parseInt(_0x599aab(0x1b7))/0x6*(-parseInt(_0x599aab(0x1ac))/0x7)+parseInt(_0x599aab(0x1ad))/0x8;if(_0x405375===_0x38726a)break;else _0x2785dd['push'](_0x2785dd['shift']());}catch(_0xa1e1d0){_0x2785dd['push'](_0x2785dd['shift']());}}}(a102_0x2373,0xe33b5));var __decorate=this&&this['__decorate']||function(_0x4aaee0,_0x43ac9c,_0x326b04,_0x2355d1){const _0x23ece8=a102_0x38ba;var _0x877809=arguments[_0x23ece8(0x1b9)],_0x3d416d=_0x877809<0x3?_0x43ac9c:_0x2355d1===null?_0x2355d1=Object[_0x23ece8(0x1b5)](_0x43ac9c,_0x326b04):_0x2355d1,_0x2e2625;if(typeof Reflect===_0x23ece8(0x1c0)&&typeof Reflect[_0x23ece8(0x1c1)]===_0x23ece8(0x1ab))_0x3d416d=Reflect[_0x23ece8(0x1c1)](_0x4aaee0,_0x43ac9c,_0x326b04,_0x2355d1);else{for(var _0x1bd335=_0x4aaee0[_0x23ece8(0x1b9)]-0x1;_0x1bd335>=0x0;_0x1bd335--)if(_0x2e2625=_0x4aaee0[_0x1bd335])_0x3d416d=(_0x877809<0x3?_0x2e2625(_0x3d416d):_0x877809>0x3?_0x2e2625(_0x43ac9c,_0x326b04,_0x3d416d):_0x2e2625(_0x43ac9c,_0x326b04))||_0x3d416d;}return _0x877809>0x3&&_0x3d416d&&Object[_0x23ece8(0x1bd)](_0x43ac9c,_0x326b04,_0x3d416d),_0x3d416d;},__metadata=this&&this[a102_0x436135(0x1bc)]||function(_0x55d9c4,_0x54f115){const _0x475e48=a102_0x436135;if(typeof Reflect===_0x475e48(0x1c0)&&typeof Reflect['metadata']===_0x475e48(0x1ab))return Reflect[_0x475e48(0x1a7)](_0x55d9c4,_0x54f115);},__param=this&&this['__param']||function(_0x4daa4b,_0xde7d86){return function(_0x36e7ba,_0x3c28eb){_0xde7d86(_0x36e7ba,_0x3c28eb,_0x4daa4b);};};Object[a102_0x436135(0x1bd)](exports,a102_0x436135(0x1b2),{'value':!![]}),exports['EventService']=void 0x0;const common_1=require(a102_0x436135(0x1c8)),mongoose_1=require(a102_0x436135(0x1b8)),mongoose_2=require(a102_0x436135(0x1be));let EventService=class EventService{constructor(_0x54ea41){const _0x290356=a102_0x436135;this[_0x290356(0x1bf)]=_0x54ea41;}async['addEvent'](_0xaaf2e2,_0x11c87a){const _0x1d6901=a102_0x436135,_0x4e9c63=await this[_0x1d6901(0x1bf)]['findById'](_0xaaf2e2)[_0x1d6901(0x1c2)]();return _0x4e9c63[_0x1d6901(0x1c7)][_0x1d6901(0x1ba)](_0x11c87a),_0x4e9c63[_0x1d6901(0x1b4)]=new Date(),_0x4e9c63[_0x1d6901(0x1c3)]();}async['removeEvent'](_0x1e3c60,_0x4853b7){const _0x260e2d=a102_0x436135,_0x11fa4b=await this['scheduleModel'][_0x260e2d(0x1c5)](_0x1e3c60)[_0x260e2d(0x1c2)]();return _0x11fa4b[_0x260e2d(0x1c7)]=_0x11fa4b[_0x260e2d(0x1c7)][_0x260e2d(0x1a9)](_0x334733=>_0x334733['id']!==_0x4853b7),_0x11fa4b['updatedAtUtc']=new Date(),_0x11fa4b[_0x260e2d(0x1c3)]();}async[a102_0x436135(0x1b6)](_0xbb0aea,_0x3ad4a3){const _0x4e77b4=a102_0x436135,_0x5dd909=await this['scheduleModel'][_0x4e77b4(0x1c5)](_0xbb0aea)[_0x4e77b4(0x1c2)](),_0x59e105=_0x5dd909['events'][_0x4e77b4(0x1a8)](_0x3a99f6=>_0x3a99f6['id']===_0x3ad4a3['id']);return _0x5dd909['events'][_0x59e105]=_0x3ad4a3,_0x5dd909[_0x4e77b4(0x1b4)]=new Date(),_0x5dd909[_0x4e77b4(0x1c3)]();}};EventService=__decorate([(0x0,common_1[a102_0x436135(0x1bb)])(),__param(0x0,(0x0,mongoose_1['InjectModel'])('Schedule')),__metadata(a102_0x436135(0x1aa),[mongoose_2[a102_0x436135(0x1b1)]])],EventService),exports[a102_0x436135(0x1b3)]=EventService;