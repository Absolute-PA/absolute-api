'use strict';const a49_0x50b500=a49_0x2904;(function(_0x4dba34,_0x4a0971){const _0x2ca2a4=a49_0x2904,_0x21c0cc=_0x4dba34();while(!![]){try{const _0x4a5a1a=parseInt(_0x2ca2a4(0x1a7))/0x1*(-parseInt(_0x2ca2a4(0x1af))/0x2)+-parseInt(_0x2ca2a4(0x1ba))/0x3+-parseInt(_0x2ca2a4(0x1a6))/0x4+-parseInt(_0x2ca2a4(0x19f))/0x5*(parseInt(_0x2ca2a4(0x19a))/0x6)+parseInt(_0x2ca2a4(0x1b4))/0x7*(parseInt(_0x2ca2a4(0x1bb))/0x8)+parseInt(_0x2ca2a4(0x1bc))/0x9+parseInt(_0x2ca2a4(0x1c2))/0xa;if(_0x4a5a1a===_0x4a0971)break;else _0x21c0cc['push'](_0x21c0cc['shift']());}catch(_0x3c966d){_0x21c0cc['push'](_0x21c0cc['shift']());}}}(a49_0x210b,0xa01b4));var __decorate=this&&this[a49_0x50b500(0x1a0)]||function(_0x4375ee,_0x98eb54,_0x2ff56c,_0x2b6238){const _0x9b985d=a49_0x50b500;var _0x223812=arguments['length'],_0xf34160=_0x223812<0x3?_0x98eb54:_0x2b6238===null?_0x2b6238=Object[_0x9b985d(0x19c)](_0x98eb54,_0x2ff56c):_0x2b6238,_0x6583f4;if(typeof Reflect===_0x9b985d(0x1a5)&&typeof Reflect[_0x9b985d(0x1ac)]===_0x9b985d(0x19e))_0xf34160=Reflect[_0x9b985d(0x1ac)](_0x4375ee,_0x98eb54,_0x2ff56c,_0x2b6238);else{for(var _0x32a1e8=_0x4375ee[_0x9b985d(0x1b2)]-0x1;_0x32a1e8>=0x0;_0x32a1e8--)if(_0x6583f4=_0x4375ee[_0x32a1e8])_0xf34160=(_0x223812<0x3?_0x6583f4(_0xf34160):_0x223812>0x3?_0x6583f4(_0x98eb54,_0x2ff56c,_0xf34160):_0x6583f4(_0x98eb54,_0x2ff56c))||_0xf34160;}return _0x223812>0x3&&_0xf34160&&Object[_0x9b985d(0x1c1)](_0x98eb54,_0x2ff56c,_0xf34160),_0xf34160;},__metadata=this&&this[a49_0x50b500(0x1ad)]||function(_0x207d9d,_0x28e22c){const _0x4afa44=a49_0x50b500;if(typeof Reflect==='object'&&typeof Reflect[_0x4afa44(0x1bf)]===_0x4afa44(0x19e))return Reflect['metadata'](_0x207d9d,_0x28e22c);};Object[a49_0x50b500(0x1c1)](exports,a49_0x50b500(0x1aa),{'value':!![]}),exports[a49_0x50b500(0x1ae)]=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x50b500(0x1a3));function a49_0x2904(_0x45060c,_0x22a566){const _0x210b7b=a49_0x210b();return a49_0x2904=function(_0x2904a2,_0xbb7a4c){_0x2904a2=_0x2904a2-0x19a;let _0x4c0ae7=_0x210b7b[_0x2904a2];return _0x4c0ae7;},a49_0x2904(_0x45060c,_0x22a566);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x40b2a2){const _0x34a3bd=a49_0x50b500;this[_0x34a3bd(0x1a9)]=_0x40b2a2;}async['catch'](_0x1e5a91,_0x10b734){const _0x228b54=a49_0x50b500,_0x46400f=_0x10b734[_0x228b54(0x1b6)](),_0x30179d=_0x46400f[_0x228b54(0x1b5)]();if(_0x1e5a91 instanceof common_1['HttpException'])_0x30179d[_0x228b54(0x19d)](_0x1e5a91[_0x228b54(0x1a2)]())[_0x228b54(0x1b3)](_0x1e5a91[_0x228b54(0x1b5)]());else{const _0x13614d=new Date()['toISOString'](),_0x2d5c83=_0x228b54(0x1a1)+_0x13614d+':\x0a'+_0x1e5a91[_0x228b54(0x1ab)],_0x3591a3=process[_0x228b54(0x1b8)][_0x228b54(0x1b0)],_0x2949c6=process[_0x228b54(0x1b8)][_0x228b54(0x1a8)],_0x4cbf6c=_0x228b54(0x1b7)+_0x2949c6+'-'+_0x13614d+_0x228b54(0x1bd);try{const _0x12e8ec=await this['s3Service'][_0x228b54(0x1a4)](Buffer['from'](_0x2d5c83),_0x3591a3,_0x4cbf6c);console[_0x228b54(0x1b1)](_0x228b54(0x1b9)+_0x12e8ec);}catch(_0x44bafd){console[_0x228b54(0x1b1)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x44bafd[_0x228b54(0x1be)]);}_0x30179d[_0x228b54(0x19d)](0x1f4)[_0x228b54(0x1b3)]({'statusCode':0x1f4,'message':_0x228b54(0x1c3)});}}};function a49_0x210b(){const _0x2f3169=['defineProperty','11695060iteUoF','Internal\x20Server\x20Error','6zbOzFn','design:paramtypes','getOwnPropertyDescriptor','status','function','3408465AoWQzY','__decorate','Exception\x20occurred\x20at\x20','getStatus','./s3.service','uploadFile','object','741552sOhDtq','1UNhRqb','PI_NAME','s3Service','__esModule','stack','decorate','__metadata','S3ExceptionFilter','1127156vQIPBr','LOG_BUCKET_NAME','error','length','json','7343dHHltj','getResponse','switchToHttp','exception-','env','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','2270844bMiWZI','3184nZXBag','11307555JyUeKl','.log','message','metadata','Catch'];a49_0x210b=function(){return _0x2f3169;};return a49_0x210b();}S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x50b500(0x1c0)])(),__metadata(a49_0x50b500(0x19b),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;