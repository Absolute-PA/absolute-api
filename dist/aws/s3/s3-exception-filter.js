'use strict';const a49_0x3b6443=a49_0x5755;(function(_0x1853be,_0x1334ee){const _0x1a4dd8=a49_0x5755,_0x5e4e45=_0x1853be();while(!![]){try{const _0x5d98f5=-parseInt(_0x1a4dd8(0xed))/0x1*(-parseInt(_0x1a4dd8(0xe6))/0x2)+-parseInt(_0x1a4dd8(0xd9))/0x3+parseInt(_0x1a4dd8(0xd1))/0x4+-parseInt(_0x1a4dd8(0xcb))/0x5+-parseInt(_0x1a4dd8(0xe0))/0x6*(-parseInt(_0x1a4dd8(0xee))/0x7)+-parseInt(_0x1a4dd8(0xdb))/0x8*(-parseInt(_0x1a4dd8(0xeb))/0x9)+parseInt(_0x1a4dd8(0xd3))/0xa;if(_0x5d98f5===_0x1334ee)break;else _0x5e4e45['push'](_0x5e4e45['shift']());}catch(_0x4e3245){_0x5e4e45['push'](_0x5e4e45['shift']());}}}(a49_0xae24,0xc2bb8));function a49_0x5755(_0x454069,_0x53ee20){const _0xae2436=a49_0xae24();return a49_0x5755=function(_0x575509,_0x551a2b){_0x575509=_0x575509-0xc8;let _0x54876d=_0xae2436[_0x575509];return _0x54876d;},a49_0x5755(_0x454069,_0x53ee20);}var __decorate=this&&this['__decorate']||function(_0x22ca04,_0x4a14d1,_0x4ee702,_0x4449ae){const _0x4dac15=a49_0x5755;var _0x3da0b2=arguments[_0x4dac15(0xcc)],_0x23c61f=_0x3da0b2<0x3?_0x4a14d1:_0x4449ae===null?_0x4449ae=Object[_0x4dac15(0xec)](_0x4a14d1,_0x4ee702):_0x4449ae,_0x51eb85;if(typeof Reflect===_0x4dac15(0xe7)&&typeof Reflect['decorate']===_0x4dac15(0xe2))_0x23c61f=Reflect[_0x4dac15(0xef)](_0x22ca04,_0x4a14d1,_0x4ee702,_0x4449ae);else{for(var _0x3bb101=_0x22ca04[_0x4dac15(0xcc)]-0x1;_0x3bb101>=0x0;_0x3bb101--)if(_0x51eb85=_0x22ca04[_0x3bb101])_0x23c61f=(_0x3da0b2<0x3?_0x51eb85(_0x23c61f):_0x3da0b2>0x3?_0x51eb85(_0x4a14d1,_0x4ee702,_0x23c61f):_0x51eb85(_0x4a14d1,_0x4ee702))||_0x23c61f;}return _0x3da0b2>0x3&&_0x23c61f&&Object[_0x4dac15(0xd0)](_0x4a14d1,_0x4ee702,_0x23c61f),_0x23c61f;},__metadata=this&&this['__metadata']||function(_0x4dd80c,_0x15fcad){const _0x2b76c6=a49_0x5755;if(typeof Reflect===_0x2b76c6(0xe7)&&typeof Reflect[_0x2b76c6(0xe8)]===_0x2b76c6(0xe2))return Reflect[_0x2b76c6(0xe8)](_0x4dd80c,_0x15fcad);};Object[a49_0x3b6443(0xd0)](exports,a49_0x3b6443(0xe5),{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;const common_1=require(a49_0x3b6443(0xde)),s3_service_1=require(a49_0x3b6443(0xda));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x379b34){const _0x5d035e=a49_0x3b6443;this[_0x5d035e(0xc9)]=_0x379b34;}async[a49_0x3b6443(0xf0)](_0x355ce1,_0x744b78){const _0x35e313=a49_0x3b6443,_0x4e8844=_0x744b78[_0x35e313(0xd7)](),_0x5f198e=_0x4e8844[_0x35e313(0xc8)]();if(_0x355ce1 instanceof common_1[_0x35e313(0xcf)])_0x5f198e['status'](_0x355ce1[_0x35e313(0xd6)]())[_0x35e313(0xd4)](_0x355ce1[_0x35e313(0xc8)]());else{const _0x41f0f6=new Date()[_0x35e313(0xf1)](),_0x5ced8c=_0x35e313(0xdf)+_0x41f0f6+':\x0a'+_0x355ce1[_0x35e313(0xca)],_0x5c65dd=process[_0x35e313(0xea)][_0x35e313(0xe3)],_0x4a7682=process['env'][_0x35e313(0xe9)],_0x1773ea=_0x35e313(0xce)+_0x4a7682+'-'+_0x41f0f6+_0x35e313(0xf2);try{const _0x516e1f=await this['s3Service'][_0x35e313(0xd5)](Buffer[_0x35e313(0xe4)](_0x5ced8c),_0x5c65dd,_0x1773ea);console[_0x35e313(0xd8)](_0x35e313(0xd2)+_0x516e1f);}catch(_0x51cefe){console['error'](_0x35e313(0xdd)+_0x51cefe[_0x35e313(0xdc)]);}_0x5f198e[_0x35e313(0xe1)](0x1f4)[_0x35e313(0xd4)]({'statusCode':0x1f4,'message':_0x35e313(0xcd)});}}};S3ExceptionFilter=__decorate([(0x0,common_1['Catch'])(),__metadata('design:paramtypes',[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;function a49_0xae24(){const _0x7f1400=['247264TZOAfz','922901pGuKlK','decorate','catch','toISOString','.log','getResponse','s3Service','stack','4724440QoRUVj','length','Internal\x20Server\x20Error','exception-','HttpException','defineProperty','1551164NFMABm','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','6837440FwhvnI','json','uploadFile','getStatus','switchToHttp','error','1272363LkiDHa','./s3.service','5727928HPAVap','message','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','@nestjs/common','Exception\x20occurred\x20at\x20','6EjXpHN','status','function','LOG_BUCKET_NAME','from','__esModule','2RaOFXO','object','metadata','PI_NAME','env','9HzbbCJ','getOwnPropertyDescriptor'];a49_0xae24=function(){return _0x7f1400;};return a49_0xae24();}