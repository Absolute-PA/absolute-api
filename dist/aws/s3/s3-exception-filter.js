'use strict';const a49_0x3f5011=a49_0x132a;function a49_0x10ee(){const _0x20da1c=['2501148lrQEkT','stack','13104870FctAle','function','switchToHttp','__decorate','LOG_BUCKET_NAME','s3Service','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','design:paramtypes','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','./s3.service','getStatus','751832qoNThb','from','Catch','__esModule','52zbKHMP','error','message','HttpException','26702588EVDOhn','.log','45saQNTK','object','length','status','15304HaNBtC','PI_NAME','4MaiSAW','exception-','env','__metadata','3960035eDswiW','getOwnPropertyDescriptor','7zHWSDA','getResponse','catch','uploadFile','json','Internal\x20Server\x20Error','2609868PhZvgw','Exception\x20occurred\x20at\x20'];a49_0x10ee=function(){return _0x20da1c;};return a49_0x10ee();}(function(_0x20224c,_0x5253e9){const _0x2d2dfa=a49_0x132a,_0x51dd88=_0x20224c();while(!![]){try{const _0x2459b5=parseInt(_0x2d2dfa(0x183))/0x1*(-parseInt(_0x2d2dfa(0x18d))/0x2)+-parseInt(_0x2d2dfa(0x19b))/0x3+parseInt(_0x2d2dfa(0x18f))/0x4*(parseInt(_0x2d2dfa(0x193))/0x5)+parseInt(_0x2d2dfa(0x19d))/0x6*(-parseInt(_0x2d2dfa(0x195))/0x7)+-parseInt(_0x2d2dfa(0x17f))/0x8*(-parseInt(_0x2d2dfa(0x189))/0x9)+-parseInt(_0x2d2dfa(0x19f))/0xa+parseInt(_0x2d2dfa(0x187))/0xb;if(_0x2459b5===_0x5253e9)break;else _0x51dd88['push'](_0x51dd88['shift']());}catch(_0x5898d0){_0x51dd88['push'](_0x51dd88['shift']());}}}(a49_0x10ee,0xa97bd));var __decorate=this&&this[a49_0x3f5011(0x1a2)]||function(_0x383a95,_0xe9dcd8,_0x3f4775,_0x489d78){const _0x1d464b=a49_0x3f5011;var _0x583af4=arguments['length'],_0x4c2ac3=_0x583af4<0x3?_0xe9dcd8:_0x489d78===null?_0x489d78=Object[_0x1d464b(0x194)](_0xe9dcd8,_0x3f4775):_0x489d78,_0xd7f9ce;if(typeof Reflect===_0x1d464b(0x18a)&&typeof Reflect['decorate']===_0x1d464b(0x1a0))_0x4c2ac3=Reflect['decorate'](_0x383a95,_0xe9dcd8,_0x3f4775,_0x489d78);else{for(var _0x5639b9=_0x383a95[_0x1d464b(0x18b)]-0x1;_0x5639b9>=0x0;_0x5639b9--)if(_0xd7f9ce=_0x383a95[_0x5639b9])_0x4c2ac3=(_0x583af4<0x3?_0xd7f9ce(_0x4c2ac3):_0x583af4>0x3?_0xd7f9ce(_0xe9dcd8,_0x3f4775,_0x4c2ac3):_0xd7f9ce(_0xe9dcd8,_0x3f4775))||_0x4c2ac3;}return _0x583af4>0x3&&_0x4c2ac3&&Object['defineProperty'](_0xe9dcd8,_0x3f4775,_0x4c2ac3),_0x4c2ac3;},__metadata=this&&this[a49_0x3f5011(0x192)]||function(_0x19737d,_0x3167c7){const _0x5b5188=a49_0x3f5011;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5b5188(0x1a0))return Reflect['metadata'](_0x19737d,_0x3167c7);};Object['defineProperty'](exports,a49_0x3f5011(0x182),{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;function a49_0x132a(_0xe264de,_0x2e9087){const _0x10eeeb=a49_0x10ee();return a49_0x132a=function(_0x132a3a,_0x511a49){_0x132a3a=_0x132a3a-0x17e;let _0x26a3bc=_0x10eeeb[_0x132a3a];return _0x26a3bc;},a49_0x132a(_0xe264de,_0x2e9087);}const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x3f5011(0x1a8));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x361a59){const _0x9af28b=a49_0x3f5011;this[_0x9af28b(0x1a4)]=_0x361a59;}async[a49_0x3f5011(0x197)](_0x2c3f06,_0x18f0f1){const _0x45f5de=a49_0x3f5011,_0x3a97c2=_0x18f0f1[_0x45f5de(0x1a1)](),_0x1bd12e=_0x3a97c2[_0x45f5de(0x196)]();if(_0x2c3f06 instanceof common_1[_0x45f5de(0x186)])_0x1bd12e['status'](_0x2c3f06[_0x45f5de(0x17e)]())[_0x45f5de(0x199)](_0x2c3f06[_0x45f5de(0x196)]());else{const _0x56c099=new Date()['toISOString'](),_0x722af4=_0x45f5de(0x19c)+_0x56c099+':\x0a'+_0x2c3f06[_0x45f5de(0x19e)],_0x59b700=process[_0x45f5de(0x191)][_0x45f5de(0x1a3)],_0x2dfc94=process['env'][_0x45f5de(0x18e)],_0x5244a4=_0x45f5de(0x190)+_0x2dfc94+'-'+_0x56c099+_0x45f5de(0x188);try{const _0x2bad06=await this['s3Service'][_0x45f5de(0x198)](Buffer[_0x45f5de(0x180)](_0x722af4),_0x59b700,_0x5244a4);console[_0x45f5de(0x184)](_0x45f5de(0x1a5)+_0x2bad06);}catch(_0xcac058){console[_0x45f5de(0x184)](_0x45f5de(0x1a7)+_0xcac058[_0x45f5de(0x185)]);}_0x1bd12e[_0x45f5de(0x18c)](0x1f4)['json']({'statusCode':0x1f4,'message':_0x45f5de(0x19a)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x3f5011(0x181)])(),__metadata(a49_0x3f5011(0x1a6),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;