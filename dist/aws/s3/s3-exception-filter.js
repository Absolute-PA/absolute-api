'use strict';const a49_0x7807b8=a49_0x118e;(function(_0x28278b,_0x1da0cb){const _0x281ddb=a49_0x118e,_0x1eab6e=_0x28278b();while(!![]){try{const _0x349cbb=-parseInt(_0x281ddb(0x1ec))/0x1*(-parseInt(_0x281ddb(0x1fe))/0x2)+-parseInt(_0x281ddb(0x1ea))/0x3*(parseInt(_0x281ddb(0x206))/0x4)+-parseInt(_0x281ddb(0x200))/0x5*(-parseInt(_0x281ddb(0x208))/0x6)+parseInt(_0x281ddb(0x202))/0x7*(parseInt(_0x281ddb(0x20a))/0x8)+-parseInt(_0x281ddb(0x201))/0x9*(parseInt(_0x281ddb(0x1ef))/0xa)+-parseInt(_0x281ddb(0x203))/0xb*(-parseInt(_0x281ddb(0x1f1))/0xc)+parseInt(_0x281ddb(0x1fd))/0xd;if(_0x349cbb===_0x1da0cb)break;else _0x1eab6e['push'](_0x1eab6e['shift']());}catch(_0x788eb4){_0x1eab6e['push'](_0x1eab6e['shift']());}}}(a49_0x36d2,0xd614d));function a49_0x36d2(){const _0x49d25e=['948tiECOL','toISOString','48tiyKBV','getOwnPropertyDescriptor','28456VuJsph','.log','getResponse','S3Service','getStatus','exception-','__decorate','object','switchToHttp','5121VChuyO','HttpException','1JbnxSm','env','S3ExceptionFilter','313910soXOhu','catch','3024KsxxoY','metadata','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','status','defineProperty','@nestjs/common','s3Service','length','stack','function','./s3.service','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','21892975bTVOnQ','48446gZyJfh','decorate','339520JIbcPU','423PclxEf','553nHWpNF','9790KzgNhB','message','json'];a49_0x36d2=function(){return _0x49d25e;};return a49_0x36d2();}var __decorate=this&&this[a49_0x7807b8(0x210)]||function(_0x26c4fe,_0x1200a8,_0x2f7776,_0x5b5fe7){const _0x2bec51=a49_0x7807b8;var _0x201e40=arguments[_0x2bec51(0x1f8)],_0x34166c=_0x201e40<0x3?_0x1200a8:_0x5b5fe7===null?_0x5b5fe7=Object[_0x2bec51(0x209)](_0x1200a8,_0x2f7776):_0x5b5fe7,_0x17a052;if(typeof Reflect===_0x2bec51(0x211)&&typeof Reflect['decorate']===_0x2bec51(0x1fa))_0x34166c=Reflect[_0x2bec51(0x1ff)](_0x26c4fe,_0x1200a8,_0x2f7776,_0x5b5fe7);else{for(var _0x42e9a6=_0x26c4fe[_0x2bec51(0x1f8)]-0x1;_0x42e9a6>=0x0;_0x42e9a6--)if(_0x17a052=_0x26c4fe[_0x42e9a6])_0x34166c=(_0x201e40<0x3?_0x17a052(_0x34166c):_0x201e40>0x3?_0x17a052(_0x1200a8,_0x2f7776,_0x34166c):_0x17a052(_0x1200a8,_0x2f7776))||_0x34166c;}return _0x201e40>0x3&&_0x34166c&&Object[_0x2bec51(0x1f5)](_0x1200a8,_0x2f7776,_0x34166c),_0x34166c;},__metadata=this&&this['__metadata']||function(_0x2a0aef,_0x393829){const _0x220b46=a49_0x7807b8;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x220b46(0x1fa))return Reflect[_0x220b46(0x1f2)](_0x2a0aef,_0x393829);};Object[a49_0x7807b8(0x1f5)](exports,'__esModule',{'value':!![]}),exports[a49_0x7807b8(0x1ee)]=void 0x0;const common_1=require(a49_0x7807b8(0x1f6)),s3_service_1=require(a49_0x7807b8(0x1fb));function a49_0x118e(_0x4aa85b,_0x40454f){const _0x36d2a7=a49_0x36d2();return a49_0x118e=function(_0x118e14,_0x585553){_0x118e14=_0x118e14-0x1e9;let _0x2cfcc7=_0x36d2a7[_0x118e14];return _0x2cfcc7;},a49_0x118e(_0x4aa85b,_0x40454f);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x597871){const _0x570cc6=a49_0x7807b8;this[_0x570cc6(0x1f7)]=_0x597871;}async[a49_0x7807b8(0x1f0)](_0x3f8380,_0x2fa2ed){const _0x5567bf=a49_0x7807b8,_0x6b1c18=_0x2fa2ed[_0x5567bf(0x1e9)](),_0x299780=_0x6b1c18['getResponse']();if(_0x3f8380 instanceof common_1[_0x5567bf(0x1eb)])_0x299780[_0x5567bf(0x1f4)](_0x3f8380[_0x5567bf(0x20e)]())[_0x5567bf(0x205)](_0x3f8380[_0x5567bf(0x20c)]());else{const _0x6449d6=new Date()[_0x5567bf(0x207)](),_0x3b1630='Exception\x20occurred\x20at\x20'+_0x6449d6+':\x0a'+_0x3f8380[_0x5567bf(0x1f9)],_0x4a2e16=process[_0x5567bf(0x1ed)]['LOG_BUCKET_NAME'],_0x4b0edc=process[_0x5567bf(0x1ed)]['PI_NAME'],_0x3ccefd=_0x5567bf(0x20f)+_0x4b0edc+'-'+_0x6449d6+_0x5567bf(0x20b);try{const _0x12ea16=await this[_0x5567bf(0x1f7)]['uploadFile'](Buffer['from'](_0x3b1630),_0x4a2e16,_0x3ccefd);console['error'](_0x5567bf(0x1fc)+_0x12ea16);}catch(_0x48eb5c){console['error'](_0x5567bf(0x1f3)+_0x48eb5c[_0x5567bf(0x204)]);}_0x299780['status'](0x1f4)[_0x5567bf(0x205)]({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1['Catch'])(),__metadata('design:paramtypes',[s3_service_1[a49_0x7807b8(0x20d)]])],S3ExceptionFilter),exports[a49_0x7807b8(0x1ee)]=S3ExceptionFilter;