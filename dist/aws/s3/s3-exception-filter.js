'use strict';const a49_0x3d469d=a49_0x4921;(function(_0x1c1631,_0x27b234){const _0x250d84=a49_0x4921,_0x45cdc3=_0x1c1631();while(!![]){try{const _0x39a30f=parseInt(_0x250d84(0x99))/0x1*(parseInt(_0x250d84(0xaa))/0x2)+-parseInt(_0x250d84(0xaf))/0x3*(-parseInt(_0x250d84(0x9a))/0x4)+parseInt(_0x250d84(0xb1))/0x5*(-parseInt(_0x250d84(0xa8))/0x6)+parseInt(_0x250d84(0x9f))/0x7*(-parseInt(_0x250d84(0xbb))/0x8)+-parseInt(_0x250d84(0xb4))/0x9*(-parseInt(_0x250d84(0xb6))/0xa)+-parseInt(_0x250d84(0xa9))/0xb+parseInt(_0x250d84(0xbd))/0xc;if(_0x39a30f===_0x27b234)break;else _0x45cdc3['push'](_0x45cdc3['shift']());}catch(_0x48d373){_0x45cdc3['push'](_0x45cdc3['shift']());}}}(a49_0x5420,0xcbf24));function a49_0x4921(_0x5b6d5d,_0x24b423){const _0x5420c8=a49_0x5420();return a49_0x4921=function(_0x492141,_0x3a3955){_0x492141=_0x492141-0x96;let _0x20aa57=_0x5420c8[_0x492141];return _0x20aa57;},a49_0x4921(_0x5b6d5d,_0x24b423);}function a49_0x5420(){const _0x4f4bd5=['error','s3Service','.log','from','207300lTUotB','Catch','4585XxSQpk','toISOString','catch','758718SInNPX','Internal\x20Server\x20Error','40xsRJaj','env','decorate','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','21152cAVbWx','@nestjs/common','11720076oGYcCF','json','./s3.service','__decorate','__esModule','LOG_BUCKET_NAME','exception-','Exception\x20occurred\x20at\x20','switchToHttp','object','HttpException','1SjyCsx','84OkkLJX','function','S3ExceptionFilter','metadata','message','777CoTwwV','getOwnPropertyDescriptor','defineProperty','status','getResponse','S3Service','getStatus','design:paramtypes','__metadata','2808rRTaUK','16092582GBWGVt','511970YrfPTg'];a49_0x5420=function(){return _0x4f4bd5;};return a49_0x5420();}var __decorate=this&&this[a49_0x3d469d(0xc0)]||function(_0x1b5e1a,_0x429279,_0x1c4320,_0x33bd8f){const _0x245361=a49_0x3d469d;var _0x56a9bb=arguments['length'],_0x576e1a=_0x56a9bb<0x3?_0x429279:_0x33bd8f===null?_0x33bd8f=Object[_0x245361(0xa0)](_0x429279,_0x1c4320):_0x33bd8f,_0x4646bf;if(typeof Reflect==='object'&&typeof Reflect[_0x245361(0xb8)]===_0x245361(0x9b))_0x576e1a=Reflect[_0x245361(0xb8)](_0x1b5e1a,_0x429279,_0x1c4320,_0x33bd8f);else{for(var _0x51f042=_0x1b5e1a['length']-0x1;_0x51f042>=0x0;_0x51f042--)if(_0x4646bf=_0x1b5e1a[_0x51f042])_0x576e1a=(_0x56a9bb<0x3?_0x4646bf(_0x576e1a):_0x56a9bb>0x3?_0x4646bf(_0x429279,_0x1c4320,_0x576e1a):_0x4646bf(_0x429279,_0x1c4320))||_0x576e1a;}return _0x56a9bb>0x3&&_0x576e1a&&Object[_0x245361(0xa1)](_0x429279,_0x1c4320,_0x576e1a),_0x576e1a;},__metadata=this&&this[a49_0x3d469d(0xa7)]||function(_0x178951,_0x553e97){const _0x237e9c=a49_0x3d469d;if(typeof Reflect===_0x237e9c(0x97)&&typeof Reflect[_0x237e9c(0x9d)]===_0x237e9c(0x9b))return Reflect[_0x237e9c(0x9d)](_0x178951,_0x553e97);};Object[a49_0x3d469d(0xa1)](exports,a49_0x3d469d(0xc1),{'value':!![]}),exports[a49_0x3d469d(0x9c)]=void 0x0;const common_1=require(a49_0x3d469d(0xbc)),s3_service_1=require(a49_0x3d469d(0xbf));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x15212b){this['s3Service']=_0x15212b;}async[a49_0x3d469d(0xb3)](_0x178268,_0x38cd0a){const _0x1f2219=a49_0x3d469d,_0xf2fd91=_0x38cd0a[_0x1f2219(0x96)](),_0x22fb9a=_0xf2fd91[_0x1f2219(0xa3)]();if(_0x178268 instanceof common_1[_0x1f2219(0x98)])_0x22fb9a[_0x1f2219(0xa2)](_0x178268[_0x1f2219(0xa5)]())[_0x1f2219(0xbe)](_0x178268['getResponse']());else{const _0x4087d0=new Date()[_0x1f2219(0xb2)](),_0x27c1b1=_0x1f2219(0xc4)+_0x4087d0+':\x0a'+_0x178268['stack'],_0x8613bd=process['env'][_0x1f2219(0xc2)],_0x14e23d=process[_0x1f2219(0xb7)]['PI_NAME'],_0x5b8e0=_0x1f2219(0xc3)+_0x14e23d+'-'+_0x4087d0+_0x1f2219(0xad);try{const _0x135158=await this[_0x1f2219(0xac)]['uploadFile'](Buffer[_0x1f2219(0xae)](_0x27c1b1),_0x8613bd,_0x5b8e0);console[_0x1f2219(0xab)](_0x1f2219(0xba)+_0x135158);}catch(_0x4b1506){console[_0x1f2219(0xab)](_0x1f2219(0xb9)+_0x4b1506[_0x1f2219(0x9e)]);}_0x22fb9a[_0x1f2219(0xa2)](0x1f4)[_0x1f2219(0xbe)]({'statusCode':0x1f4,'message':_0x1f2219(0xb5)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x3d469d(0xb0)])(),__metadata(a49_0x3d469d(0xa6),[s3_service_1[a49_0x3d469d(0xa4)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;