'use strict';function a49_0x5990(_0x5827d1,_0x36ff14){const _0x5d461d=a49_0x5d46();return a49_0x5990=function(_0x599072,_0x5d180f){_0x599072=_0x599072-0xd4;let _0x20aac0=_0x5d461d[_0x599072];return _0x20aac0;},a49_0x5990(_0x5827d1,_0x36ff14);}const a49_0x78badf=a49_0x5990;(function(_0x80729d,_0x2b4809){const _0x5a483d=a49_0x5990,_0x298e95=_0x80729d();while(!![]){try{const _0x524adc=parseInt(_0x5a483d(0xe3))/0x1+parseInt(_0x5a483d(0xed))/0x2*(parseInt(_0x5a483d(0xea))/0x3)+parseInt(_0x5a483d(0xdf))/0x4*(-parseInt(_0x5a483d(0xda))/0x5)+parseInt(_0x5a483d(0xde))/0x6*(-parseInt(_0x5a483d(0xd4))/0x7)+-parseInt(_0x5a483d(0xdc))/0x8+-parseInt(_0x5a483d(0xf0))/0x9*(-parseInt(_0x5a483d(0xd8))/0xa)+parseInt(_0x5a483d(0xee))/0xb*(-parseInt(_0x5a483d(0xf5))/0xc);if(_0x524adc===_0x2b4809)break;else _0x298e95['push'](_0x298e95['shift']());}catch(_0x520a26){_0x298e95['push'](_0x298e95['shift']());}}}(a49_0x5d46,0xe2c24));var __decorate=this&&this['__decorate']||function(_0x58d4da,_0x5d7e3b,_0x55bdf0,_0x2db322){const _0x47c230=a49_0x5990;var _0x49893c=arguments[_0x47c230(0xd9)],_0x142ef8=_0x49893c<0x3?_0x5d7e3b:_0x2db322===null?_0x2db322=Object['getOwnPropertyDescriptor'](_0x5d7e3b,_0x55bdf0):_0x2db322,_0x677422;if(typeof Reflect===_0x47c230(0xf1)&&typeof Reflect[_0x47c230(0xfc)]===_0x47c230(0xe7))_0x142ef8=Reflect[_0x47c230(0xfc)](_0x58d4da,_0x5d7e3b,_0x55bdf0,_0x2db322);else{for(var _0xd7ca9d=_0x58d4da[_0x47c230(0xd9)]-0x1;_0xd7ca9d>=0x0;_0xd7ca9d--)if(_0x677422=_0x58d4da[_0xd7ca9d])_0x142ef8=(_0x49893c<0x3?_0x677422(_0x142ef8):_0x49893c>0x3?_0x677422(_0x5d7e3b,_0x55bdf0,_0x142ef8):_0x677422(_0x5d7e3b,_0x55bdf0))||_0x142ef8;}return _0x49893c>0x3&&_0x142ef8&&Object['defineProperty'](_0x5d7e3b,_0x55bdf0,_0x142ef8),_0x142ef8;},__metadata=this&&this[a49_0x78badf(0xf4)]||function(_0x5860c1,_0x3572e5){const _0xedffac=a49_0x78badf;if(typeof Reflect===_0xedffac(0xf1)&&typeof Reflect[_0xedffac(0xdb)]===_0xedffac(0xe7))return Reflect[_0xedffac(0xdb)](_0x5860c1,_0x3572e5);};Object[a49_0x78badf(0xf7)](exports,a49_0x78badf(0xe0),{'value':!![]}),exports[a49_0x78badf(0xe1)]=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x78badf(0xe2));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x13af57){const _0x4d4efd=a49_0x78badf;this[_0x4d4efd(0xd7)]=_0x13af57;}async[a49_0x78badf(0xef)](_0x57e1f9,_0x2c19dd){const _0x50330c=a49_0x78badf,_0x16801a=_0x2c19dd['switchToHttp'](),_0x25a98d=_0x16801a['getResponse']();if(_0x57e1f9 instanceof common_1[_0x50330c(0xf9)])_0x25a98d['status'](_0x57e1f9['getStatus']())[_0x50330c(0xf6)](_0x57e1f9['getResponse']());else{const _0x37b513=new Date()[_0x50330c(0xd5)](),_0x460df3=_0x50330c(0xe5)+_0x37b513+':\x0a'+_0x57e1f9[_0x50330c(0xf8)],_0x15db6b=process[_0x50330c(0xe9)][_0x50330c(0xfb)],_0x399a82=process[_0x50330c(0xe9)][_0x50330c(0xeb)],_0x34435b=_0x50330c(0xf2)+_0x399a82+'-'+_0x37b513+'.log';try{const _0xfc5486=await this[_0x50330c(0xd7)][_0x50330c(0xd6)](Buffer['from'](_0x460df3),_0x15db6b,_0x34435b);console['error'](_0x50330c(0xfa)+_0xfc5486);}catch(_0x3c6230){console['error'](_0x50330c(0xec)+_0x3c6230[_0x50330c(0xe8)]);}_0x25a98d[_0x50330c(0xe4)](0x1f4)[_0x50330c(0xf6)]({'statusCode':0x1f4,'message':_0x50330c(0xf3)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x78badf(0xdd)])(),__metadata('design:paramtypes',[s3_service_1[a49_0x78badf(0xe6)]])],S3ExceptionFilter),exports[a49_0x78badf(0xe1)]=S3ExceptionFilter;function a49_0x5d46(){const _0x436c48=['env','3OiwhEf','PI_NAME','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','2943218YCaEDm','11xckUmr','catch','18zABaOA','object','exception-','Internal\x20Server\x20Error','__metadata','10485732awidpN','json','defineProperty','stack','HttpException','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','LOG_BUCKET_NAME','decorate','117103rnaWFr','toISOString','uploadFile','s3Service','8439740pUZPLP','length','125115ToZcbr','metadata','2967408kgyoaR','Catch','408pvTJBm','180MvGOMb','__esModule','S3ExceptionFilter','./s3.service','1277591pJrrRv','status','Exception\x20occurred\x20at\x20','S3Service','function','message'];a49_0x5d46=function(){return _0x436c48;};return a49_0x5d46();}