'use strict';const a49_0x23da45=a49_0x3c40;(function(_0x201d56,_0x117015){const _0x17e177=a49_0x3c40,_0x2c8603=_0x201d56();while(!![]){try{const _0x1e5e73=parseInt(_0x17e177(0x1e3))/0x1+parseInt(_0x17e177(0x1eb))/0x2+parseInt(_0x17e177(0x1df))/0x3*(parseInt(_0x17e177(0x1fa))/0x4)+parseInt(_0x17e177(0x1f8))/0x5*(-parseInt(_0x17e177(0x1e7))/0x6)+parseInt(_0x17e177(0x1f9))/0x7+parseInt(_0x17e177(0x1ec))/0x8+parseInt(_0x17e177(0x1ed))/0x9*(-parseInt(_0x17e177(0x1f7))/0xa);if(_0x1e5e73===_0x117015)break;else _0x2c8603['push'](_0x2c8603['shift']());}catch(_0x1fa52f){_0x2c8603['push'](_0x2c8603['shift']());}}}(a49_0x4388,0xec08a));function a49_0x3c40(_0x916fa8,_0x549448){const _0x43885a=a49_0x4388();return a49_0x3c40=function(_0x3c40a0,_0x6aaa75){_0x3c40a0=_0x3c40a0-0x1d9;let _0x2b8f95=_0x43885a[_0x3c40a0];return _0x2b8f95;},a49_0x3c40(_0x916fa8,_0x549448);}function a49_0x4388(){const _0x2cd4c0=['exception-','decorate','switchToHttp','getResponse','status','object','error','metadata','15MJIBGu','s3Service','./s3.service','defineProperty','1196871jFdrxJ','Exception\x20occurred\x20at\x20','S3ExceptionFilter','from','2654364uScFWR','catch','.log','design:paramtypes','1388356Ribrjn','243256jWdmwW','132417qYeaHt','getStatus','S3Service','Catch','Internal\x20Server\x20Error','toISOString','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','env','__decorate','message','1630TfhNKr','5cCHvhE','2862797HikEjv','1181584lJWHNY','function','__metadata','@nestjs/common','length','json'];a49_0x4388=function(){return _0x2cd4c0;};return a49_0x4388();}var __decorate=this&&this[a49_0x23da45(0x1f5)]||function(_0x4f268e,_0x36b154,_0x42eb15,_0x514f71){const _0x43c2fe=a49_0x23da45;var _0x41d182=arguments[_0x43c2fe(0x1fe)],_0x2d218f=_0x41d182<0x3?_0x36b154:_0x514f71===null?_0x514f71=Object['getOwnPropertyDescriptor'](_0x36b154,_0x42eb15):_0x514f71,_0xb43850;if(typeof Reflect==='object'&&typeof Reflect[_0x43c2fe(0x201)]===_0x43c2fe(0x1fb))_0x2d218f=Reflect[_0x43c2fe(0x201)](_0x4f268e,_0x36b154,_0x42eb15,_0x514f71);else{for(var _0x361bfe=_0x4f268e[_0x43c2fe(0x1fe)]-0x1;_0x361bfe>=0x0;_0x361bfe--)if(_0xb43850=_0x4f268e[_0x361bfe])_0x2d218f=(_0x41d182<0x3?_0xb43850(_0x2d218f):_0x41d182>0x3?_0xb43850(_0x36b154,_0x42eb15,_0x2d218f):_0xb43850(_0x36b154,_0x42eb15))||_0x2d218f;}return _0x41d182>0x3&&_0x2d218f&&Object[_0x43c2fe(0x1e2)](_0x36b154,_0x42eb15,_0x2d218f),_0x2d218f;},__metadata=this&&this[a49_0x23da45(0x1fc)]||function(_0x3bb6d3,_0x5b65b8){const _0x3b6d86=a49_0x23da45;if(typeof Reflect===_0x3b6d86(0x1dc)&&typeof Reflect['metadata']===_0x3b6d86(0x1fb))return Reflect[_0x3b6d86(0x1de)](_0x3bb6d3,_0x5b65b8);};Object[a49_0x23da45(0x1e2)](exports,'__esModule',{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;const common_1=require(a49_0x23da45(0x1fd)),s3_service_1=require(a49_0x23da45(0x1e1));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x286514){const _0x573e16=a49_0x23da45;this[_0x573e16(0x1e0)]=_0x286514;}async[a49_0x23da45(0x1e8)](_0x3e1aeb,_0x1d470a){const _0x4741d1=a49_0x23da45,_0x5d0739=_0x1d470a[_0x4741d1(0x1d9)](),_0x516298=_0x5d0739[_0x4741d1(0x1da)]();if(_0x3e1aeb instanceof common_1['HttpException'])_0x516298['status'](_0x3e1aeb[_0x4741d1(0x1ee)]())[_0x4741d1(0x1ff)](_0x3e1aeb[_0x4741d1(0x1da)]());else{const _0x574855=new Date()[_0x4741d1(0x1f2)](),_0x441691=_0x4741d1(0x1e4)+_0x574855+':\x0a'+_0x3e1aeb['stack'],_0x54c6b1=process[_0x4741d1(0x1f4)]['LOG_BUCKET_NAME'],_0x1a4385=process[_0x4741d1(0x1f4)]['PI_NAME'],_0x21062b=_0x4741d1(0x200)+_0x1a4385+'-'+_0x574855+_0x4741d1(0x1e9);try{const _0x57f321=await this[_0x4741d1(0x1e0)]['uploadFile'](Buffer[_0x4741d1(0x1e6)](_0x441691),_0x54c6b1,_0x21062b);console['error'](_0x4741d1(0x1f3)+_0x57f321);}catch(_0x207ca4){console[_0x4741d1(0x1dd)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x207ca4[_0x4741d1(0x1f6)]);}_0x516298[_0x4741d1(0x1db)](0x1f4)['json']({'statusCode':0x1f4,'message':_0x4741d1(0x1f1)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x23da45(0x1f0)])(),__metadata(a49_0x23da45(0x1ea),[s3_service_1[a49_0x23da45(0x1ef)]])],S3ExceptionFilter),exports[a49_0x23da45(0x1e5)]=S3ExceptionFilter;