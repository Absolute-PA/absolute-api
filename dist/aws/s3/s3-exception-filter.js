'use strict';const a49_0x1197f1=a49_0x2b0d;(function(_0x45b463,_0x365efb){const _0x40d2b0=a49_0x2b0d,_0x1c6a4e=_0x45b463();while(!![]){try{const _0x2e043a=parseInt(_0x40d2b0(0x1c6))/0x1+-parseInt(_0x40d2b0(0x1bc))/0x2+parseInt(_0x40d2b0(0x1ce))/0x3+parseInt(_0x40d2b0(0x1c1))/0x4*(parseInt(_0x40d2b0(0x1c0))/0x5)+-parseInt(_0x40d2b0(0x1cf))/0x6*(-parseInt(_0x40d2b0(0x1d4))/0x7)+-parseInt(_0x40d2b0(0x1c7))/0x8+parseInt(_0x40d2b0(0x1b9))/0x9*(parseInt(_0x40d2b0(0x1c9))/0xa);if(_0x2e043a===_0x365efb)break;else _0x1c6a4e['push'](_0x1c6a4e['shift']());}catch(_0x2e9429){_0x1c6a4e['push'](_0x1c6a4e['shift']());}}}(a49_0x648d,0x4cc82));function a49_0x648d(){const _0x52a5d1=['20ARgBWI','length','metadata','stack','uploadFile','183966GmRHwD','4903272jmkwQG','env','50IuhMWi','decorate','LOG_BUCKET_NAME','switchToHttp','getOwnPropertyDescriptor','262176xUlQqa','821166QUIBcC','json','from','.log','toISOString','14MijFPe','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','status','catch','message','__metadata','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','s3Service','defineProperty','function','exception-','object','getStatus','969453XngWbh','Catch','PI_NAME','347346VIEeFn','error','design:paramtypes','getResponse','17415ruAcFQ'];a49_0x648d=function(){return _0x52a5d1;};return a49_0x648d();}var __decorate=this&&this['__decorate']||function(_0x33aac9,_0x1ebf81,_0x3821b5,_0x21d2c5){const _0x30a0c3=a49_0x2b0d;var _0x1f0a3d=arguments[_0x30a0c3(0x1c2)],_0x46fa3e=_0x1f0a3d<0x3?_0x1ebf81:_0x21d2c5===null?_0x21d2c5=Object[_0x30a0c3(0x1cd)](_0x1ebf81,_0x3821b5):_0x21d2c5,_0x3fe90b;if(typeof Reflect===_0x30a0c3(0x1b7)&&typeof Reflect[_0x30a0c3(0x1ca)]==='function')_0x46fa3e=Reflect[_0x30a0c3(0x1ca)](_0x33aac9,_0x1ebf81,_0x3821b5,_0x21d2c5);else{for(var _0x225779=_0x33aac9[_0x30a0c3(0x1c2)]-0x1;_0x225779>=0x0;_0x225779--)if(_0x3fe90b=_0x33aac9[_0x225779])_0x46fa3e=(_0x1f0a3d<0x3?_0x3fe90b(_0x46fa3e):_0x1f0a3d>0x3?_0x3fe90b(_0x1ebf81,_0x3821b5,_0x46fa3e):_0x3fe90b(_0x1ebf81,_0x3821b5))||_0x46fa3e;}return _0x1f0a3d>0x3&&_0x46fa3e&&Object['defineProperty'](_0x1ebf81,_0x3821b5,_0x46fa3e),_0x46fa3e;},__metadata=this&&this[a49_0x1197f1(0x1b1)]||function(_0x596e91,_0x19a7fd){const _0x464ca4=a49_0x1197f1;if(typeof Reflect===_0x464ca4(0x1b7)&&typeof Reflect[_0x464ca4(0x1c3)]===_0x464ca4(0x1b5))return Reflect[_0x464ca4(0x1c3)](_0x596e91,_0x19a7fd);};Object[a49_0x1197f1(0x1b4)](exports,'__esModule',{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require('./s3.service');function a49_0x2b0d(_0xdb50f7,_0x965f32){const _0x648d7e=a49_0x648d();return a49_0x2b0d=function(_0x2b0de9,_0x550b0a){_0x2b0de9=_0x2b0de9-0x1ad;let _0x21551b=_0x648d7e[_0x2b0de9];return _0x21551b;},a49_0x2b0d(_0xdb50f7,_0x965f32);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x109300){const _0xe031ff=a49_0x1197f1;this[_0xe031ff(0x1b3)]=_0x109300;}async[a49_0x1197f1(0x1af)](_0x4035cc,_0x14950a){const _0x5ffa7b=a49_0x1197f1,_0x5180b7=_0x14950a[_0x5ffa7b(0x1cc)](),_0x34869d=_0x5180b7[_0x5ffa7b(0x1bf)]();if(_0x4035cc instanceof common_1['HttpException'])_0x34869d[_0x5ffa7b(0x1ae)](_0x4035cc[_0x5ffa7b(0x1b8)]())[_0x5ffa7b(0x1d0)](_0x4035cc[_0x5ffa7b(0x1bf)]());else{const _0x241f29=new Date()[_0x5ffa7b(0x1d3)](),_0x657e67='Exception\x20occurred\x20at\x20'+_0x241f29+':\x0a'+_0x4035cc[_0x5ffa7b(0x1c4)],_0x9b447b=process[_0x5ffa7b(0x1c8)][_0x5ffa7b(0x1cb)],_0x3c2e87=process[_0x5ffa7b(0x1c8)][_0x5ffa7b(0x1bb)],_0x12955b=_0x5ffa7b(0x1b6)+_0x3c2e87+'-'+_0x241f29+_0x5ffa7b(0x1d2);try{const _0x305e6a=await this[_0x5ffa7b(0x1b3)][_0x5ffa7b(0x1c5)](Buffer[_0x5ffa7b(0x1d1)](_0x657e67),_0x9b447b,_0x12955b);console[_0x5ffa7b(0x1bd)](_0x5ffa7b(0x1ad)+_0x305e6a);}catch(_0x3371cd){console['error'](_0x5ffa7b(0x1b2)+_0x3371cd[_0x5ffa7b(0x1b0)]);}_0x34869d['status'](0x1f4)[_0x5ffa7b(0x1d0)]({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x1197f1(0x1ba)])(),__metadata(a49_0x1197f1(0x1be),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;