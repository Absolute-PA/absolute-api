'use strict';const a49_0x40b1db=a49_0x31f7;function a49_0x31f7(_0x41e7db,_0x28367f){const _0x32811c=a49_0x3281();return a49_0x31f7=function(_0x31f773,_0x3b6ac6){_0x31f773=_0x31f773-0x71;let _0x17cfc7=_0x32811c[_0x31f773];return _0x17cfc7;},a49_0x31f7(_0x41e7db,_0x28367f);}(function(_0x1d055e,_0x13e0af){const _0x5c5922=a49_0x31f7,_0x19d277=_0x1d055e();while(!![]){try{const _0x2f45f0=-parseInt(_0x5c5922(0x91))/0x1*(-parseInt(_0x5c5922(0x86))/0x2)+-parseInt(_0x5c5922(0x78))/0x3*(parseInt(_0x5c5922(0x96))/0x4)+-parseInt(_0x5c5922(0x8e))/0x5+-parseInt(_0x5c5922(0x77))/0x6*(parseInt(_0x5c5922(0x82))/0x7)+parseInt(_0x5c5922(0x80))/0x8*(parseInt(_0x5c5922(0x94))/0x9)+parseInt(_0x5c5922(0x73))/0xa+-parseInt(_0x5c5922(0x87))/0xb*(parseInt(_0x5c5922(0x75))/0xc);if(_0x2f45f0===_0x13e0af)break;else _0x19d277['push'](_0x19d277['shift']());}catch(_0x283988){_0x19d277['push'](_0x19d277['shift']());}}}(a49_0x3281,0x372e5));var __decorate=this&&this[a49_0x40b1db(0x95)]||function(_0x2b79b9,_0x2906b7,_0x35f5ae,_0x336ac4){const _0x587a38=a49_0x40b1db;var _0x3a2d85=arguments['length'],_0x3f7dd6=_0x3a2d85<0x3?_0x2906b7:_0x336ac4===null?_0x336ac4=Object[_0x587a38(0x8c)](_0x2906b7,_0x35f5ae):_0x336ac4,_0x1429eb;if(typeof Reflect==='object'&&typeof Reflect[_0x587a38(0x83)]===_0x587a38(0x90))_0x3f7dd6=Reflect[_0x587a38(0x83)](_0x2b79b9,_0x2906b7,_0x35f5ae,_0x336ac4);else{for(var _0x19656a=_0x2b79b9['length']-0x1;_0x19656a>=0x0;_0x19656a--)if(_0x1429eb=_0x2b79b9[_0x19656a])_0x3f7dd6=(_0x3a2d85<0x3?_0x1429eb(_0x3f7dd6):_0x3a2d85>0x3?_0x1429eb(_0x2906b7,_0x35f5ae,_0x3f7dd6):_0x1429eb(_0x2906b7,_0x35f5ae))||_0x3f7dd6;}return _0x3a2d85>0x3&&_0x3f7dd6&&Object[_0x587a38(0x8d)](_0x2906b7,_0x35f5ae,_0x3f7dd6),_0x3f7dd6;},__metadata=this&&this[a49_0x40b1db(0x7b)]||function(_0xc2b733,_0x2c1dbf){const _0x2fad90=a49_0x40b1db;if(typeof Reflect===_0x2fad90(0x7c)&&typeof Reflect[_0x2fad90(0x79)]===_0x2fad90(0x90))return Reflect[_0x2fad90(0x79)](_0xc2b733,_0x2c1dbf);};function a49_0x3281(){const _0xa480f3=['status','13116ITqNmd','switchToHttp','5814kmVeVB','3yTXlgu','metadata','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','__metadata','object','S3ExceptionFilter','Catch','HttpException','32njfYYm','s3Service','1092SifdFw','decorate','getResponse','@nestjs/common','2346DsdSct','3377EhRusc','env','.log','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','Exception\x20occurred\x20at\x20','getOwnPropertyDescriptor','defineProperty','556520xfHgGi','design:paramtypes','function','322ZHythR','from','PI_NAME','814077tITzGo','__decorate','533876dnbkKR','uploadFile','__esModule','json','error','Internal\x20Server\x20Error','exception-','stack','getStatus','LOG_BUCKET_NAME','2179910uPavkH'];a49_0x3281=function(){return _0xa480f3;};return a49_0x3281();}Object['defineProperty'](exports,a49_0x40b1db(0x98),{'value':!![]}),exports[a49_0x40b1db(0x7d)]=void 0x0;const common_1=require(a49_0x40b1db(0x85)),s3_service_1=require('./s3.service');let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x3ed9ad){const _0x56beea=a49_0x40b1db;this[_0x56beea(0x81)]=_0x3ed9ad;}async['catch'](_0x5a71e9,_0x3417e7){const _0x3f5dfd=a49_0x40b1db,_0x35c9ee=_0x3417e7[_0x3f5dfd(0x76)](),_0x455323=_0x35c9ee[_0x3f5dfd(0x84)]();if(_0x5a71e9 instanceof common_1[_0x3f5dfd(0x7f)])_0x455323['status'](_0x5a71e9[_0x3f5dfd(0x71)]())['json'](_0x5a71e9[_0x3f5dfd(0x84)]());else{const _0x540d40=new Date()['toISOString'](),_0x180c67=_0x3f5dfd(0x8b)+_0x540d40+':\x0a'+_0x5a71e9[_0x3f5dfd(0x9d)],_0x464d39=process[_0x3f5dfd(0x88)][_0x3f5dfd(0x72)],_0x4de47e=process[_0x3f5dfd(0x88)][_0x3f5dfd(0x93)],_0x3bb046=_0x3f5dfd(0x9c)+_0x4de47e+'-'+_0x540d40+_0x3f5dfd(0x89);try{const _0x1880ea=await this['s3Service'][_0x3f5dfd(0x97)](Buffer[_0x3f5dfd(0x92)](_0x180c67),_0x464d39,_0x3bb046);console[_0x3f5dfd(0x9a)](_0x3f5dfd(0x7a)+_0x1880ea);}catch(_0x541036){console[_0x3f5dfd(0x9a)](_0x3f5dfd(0x8a)+_0x541036['message']);}_0x455323[_0x3f5dfd(0x74)](0x1f4)[_0x3f5dfd(0x99)]({'statusCode':0x1f4,'message':_0x3f5dfd(0x9b)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x40b1db(0x7e)])(),__metadata(a49_0x40b1db(0x8f),[s3_service_1['S3Service']])],S3ExceptionFilter),exports[a49_0x40b1db(0x7d)]=S3ExceptionFilter;