'use strict';const a49_0x486f88=a49_0x50c0;(function(_0x31ddc3,_0x2075fa){const _0xf78c25=a49_0x50c0,_0x4cec3c=_0x31ddc3();while(!![]){try{const _0x185bd2=parseInt(_0xf78c25(0xde))/0x1+parseInt(_0xf78c25(0xd8))/0x2+-parseInt(_0xf78c25(0xf5))/0x3*(-parseInt(_0xf78c25(0xdf))/0x4)+-parseInt(_0xf78c25(0xe7))/0x5*(parseInt(_0xf78c25(0xcf))/0x6)+-parseInt(_0xf78c25(0xdc))/0x7*(-parseInt(_0xf78c25(0xf2))/0x8)+parseInt(_0xf78c25(0xe2))/0x9*(-parseInt(_0xf78c25(0xe8))/0xa)+-parseInt(_0xf78c25(0xf0))/0xb*(parseInt(_0xf78c25(0xf3))/0xc);if(_0x185bd2===_0x2075fa)break;else _0x4cec3c['push'](_0x4cec3c['shift']());}catch(_0x2f9f62){_0x4cec3c['push'](_0x4cec3c['shift']());}}}(a49_0x228f,0x303a5));var __decorate=this&&this['__decorate']||function(_0x427bef,_0x527b93,_0xc4b5b5,_0x51b164){const _0x39916c=a49_0x50c0;var _0x13a73a=arguments[_0x39916c(0xf4)],_0x1221ac=_0x13a73a<0x3?_0x527b93:_0x51b164===null?_0x51b164=Object[_0x39916c(0xe5)](_0x527b93,_0xc4b5b5):_0x51b164,_0x59fd4e;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x1221ac=Reflect[_0x39916c(0xd4)](_0x427bef,_0x527b93,_0xc4b5b5,_0x51b164);else{for(var _0x597484=_0x427bef['length']-0x1;_0x597484>=0x0;_0x597484--)if(_0x59fd4e=_0x427bef[_0x597484])_0x1221ac=(_0x13a73a<0x3?_0x59fd4e(_0x1221ac):_0x13a73a>0x3?_0x59fd4e(_0x527b93,_0xc4b5b5,_0x1221ac):_0x59fd4e(_0x527b93,_0xc4b5b5))||_0x1221ac;}return _0x13a73a>0x3&&_0x1221ac&&Object[_0x39916c(0xd3)](_0x527b93,_0xc4b5b5,_0x1221ac),_0x1221ac;},__metadata=this&&this[a49_0x486f88(0xd6)]||function(_0x2e94d3,_0x3b86c9){const _0x489e04=a49_0x486f88;if(typeof Reflect===_0x489e04(0xf6)&&typeof Reflect[_0x489e04(0xe4)]==='function')return Reflect[_0x489e04(0xe4)](_0x2e94d3,_0x3b86c9);};Object[a49_0x486f88(0xd3)](exports,'__esModule',{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;function a49_0x50c0(_0x491092,_0x2e660f){const _0x228fc0=a49_0x228f();return a49_0x50c0=function(_0x50c0a7,_0x4b09a6){_0x50c0a7=_0x50c0a7-0xcf;let _0x1d04b2=_0x228fc0[_0x50c0a7];return _0x1d04b2;},a49_0x50c0(_0x491092,_0x2e660f);}const common_1=require(a49_0x486f88(0xec)),s3_service_1=require(a49_0x486f88(0xd5));function a49_0x228f(){const _0x51b795=['catch','15570vcPUEP','from','.log','design:paramtypes','defineProperty','decorate','./s3.service','__metadata','PI_NAME','716760MXVDJU','Catch','Exception\x20occurred\x20at\x20','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','5292TZktqo','error','316348rsWrBR','4UwRAbE','message','status','1941957bUSBtE','toISOString','metadata','getOwnPropertyDescriptor','stack','175lEkpFJ','10ONweNV','switchToHttp','getStatus','json','@nestjs/common','s3Service','env','getResponse','4370894mDAsoK','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','216kAbAsh','12hgBgli','length','619059QAbRLG','object'];a49_0x228f=function(){return _0x51b795;};return a49_0x228f();}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x10d21e){const _0x3be888=a49_0x486f88;this[_0x3be888(0xed)]=_0x10d21e;}async[a49_0x486f88(0xf7)](_0x328805,_0x2a59f9){const _0x1f7ae1=a49_0x486f88,_0x55f037=_0x2a59f9[_0x1f7ae1(0xe9)](),_0x3c4db9=_0x55f037[_0x1f7ae1(0xef)]();if(_0x328805 instanceof common_1['HttpException'])_0x3c4db9[_0x1f7ae1(0xe1)](_0x328805[_0x1f7ae1(0xea)]())[_0x1f7ae1(0xeb)](_0x328805[_0x1f7ae1(0xef)]());else{const _0x33d796=new Date()[_0x1f7ae1(0xe3)](),_0x239c33=_0x1f7ae1(0xda)+_0x33d796+':\x0a'+_0x328805[_0x1f7ae1(0xe6)],_0x54a474=process['env']['LOG_BUCKET_NAME'],_0x32e235=process[_0x1f7ae1(0xee)][_0x1f7ae1(0xd7)],_0x357939='exception-'+_0x32e235+'-'+_0x33d796+_0x1f7ae1(0xd1);try{const _0x5a1733=await this['s3Service']['uploadFile'](Buffer[_0x1f7ae1(0xd0)](_0x239c33),_0x54a474,_0x357939);console[_0x1f7ae1(0xdd)](_0x1f7ae1(0xdb)+_0x5a1733);}catch(_0x30be36){console[_0x1f7ae1(0xdd)](_0x1f7ae1(0xf1)+_0x30be36[_0x1f7ae1(0xe0)]);}_0x3c4db9[_0x1f7ae1(0xe1)](0x1f4)[_0x1f7ae1(0xeb)]({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x486f88(0xd9)])(),__metadata(a49_0x486f88(0xd2),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;