'use strict';const a49_0x3fa6b8=a49_0x7228;(function(_0x3f54e2,_0x44d61e){const _0x373d45=a49_0x7228,_0x393480=_0x3f54e2();while(!![]){try{const _0x3ce0a7=-parseInt(_0x373d45(0x1e1))/0x1*(-parseInt(_0x373d45(0x1f3))/0x2)+-parseInt(_0x373d45(0x1d6))/0x3+parseInt(_0x373d45(0x1d8))/0x4+-parseInt(_0x373d45(0x1d1))/0x5+-parseInt(_0x373d45(0x1e2))/0x6+-parseInt(_0x373d45(0x1ca))/0x7*(-parseInt(_0x373d45(0x1e0))/0x8)+parseInt(_0x373d45(0x1f0))/0x9*(-parseInt(_0x373d45(0x1e5))/0xa);if(_0x3ce0a7===_0x44d61e)break;else _0x393480['push'](_0x393480['shift']());}catch(_0x11b146){_0x393480['push'](_0x393480['shift']());}}}(a49_0x470d,0xe9a96));var __decorate=this&&this[a49_0x3fa6b8(0x1e3)]||function(_0x54b9b2,_0x26a153,_0x556817,_0xb229ab){const _0x57618f=a49_0x3fa6b8;var _0x381291=arguments[_0x57618f(0x1ed)],_0x542771=_0x381291<0x3?_0x26a153:_0xb229ab===null?_0xb229ab=Object[_0x57618f(0x1d0)](_0x26a153,_0x556817):_0xb229ab,_0x218604;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x57618f(0x1d7))_0x542771=Reflect[_0x57618f(0x1d4)](_0x54b9b2,_0x26a153,_0x556817,_0xb229ab);else{for(var _0x344f55=_0x54b9b2[_0x57618f(0x1ed)]-0x1;_0x344f55>=0x0;_0x344f55--)if(_0x218604=_0x54b9b2[_0x344f55])_0x542771=(_0x381291<0x3?_0x218604(_0x542771):_0x381291>0x3?_0x218604(_0x26a153,_0x556817,_0x542771):_0x218604(_0x26a153,_0x556817))||_0x542771;}return _0x381291>0x3&&_0x542771&&Object[_0x57618f(0x1d5)](_0x26a153,_0x556817,_0x542771),_0x542771;},__metadata=this&&this[a49_0x3fa6b8(0x1de)]||function(_0x3bf30d,_0x4073e4){const _0x3321b0=a49_0x3fa6b8;if(typeof Reflect===_0x3321b0(0x1e9)&&typeof Reflect[_0x3321b0(0x1dc)]===_0x3321b0(0x1d7))return Reflect[_0x3321b0(0x1dc)](_0x3bf30d,_0x4073e4);};Object[a49_0x3fa6b8(0x1d5)](exports,a49_0x3fa6b8(0x1ea),{'value':!![]}),exports[a49_0x3fa6b8(0x1c8)]=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x3fa6b8(0x1d9));function a49_0x7228(_0x27c094,_0x44d647){const _0x470d0c=a49_0x470d();return a49_0x7228=function(_0x722876,_0x233876){_0x722876=_0x722876-0x1c8;let _0x10a3e9=_0x470d0c[_0x722876];return _0x10a3e9;},a49_0x7228(_0x27c094,_0x44d647);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x2a1bde){const _0x4f151c=a49_0x3fa6b8;this[_0x4f151c(0x1dd)]=_0x2a1bde;}async[a49_0x3fa6b8(0x1e4)](_0x30f11c,_0x59536c){const _0x409c9c=a49_0x3fa6b8,_0x1db5a1=_0x59536c[_0x409c9c(0x1ef)](),_0x239205=_0x1db5a1[_0x409c9c(0x1e8)]();if(_0x30f11c instanceof common_1[_0x409c9c(0x1d2)])_0x239205[_0x409c9c(0x1eb)](_0x30f11c['getStatus']())[_0x409c9c(0x1cd)](_0x30f11c['getResponse']());else{const _0x85799a=new Date()['toISOString'](),_0x5de838=_0x409c9c(0x1c9)+_0x85799a+':\x0a'+_0x30f11c[_0x409c9c(0x1cf)],_0x4f8f6f=process[_0x409c9c(0x1d3)][_0x409c9c(0x1f2)],_0x49e35c=process['env'][_0x409c9c(0x1ce)],_0x54a6a8=_0x409c9c(0x1cc)+_0x49e35c+'-'+_0x85799a+_0x409c9c(0x1e7);try{const _0x444ac0=await this['s3Service'][_0x409c9c(0x1da)](Buffer['from'](_0x5de838),_0x4f8f6f,_0x54a6a8);console['error'](_0x409c9c(0x1ec)+_0x444ac0);}catch(_0x33b5b4){console[_0x409c9c(0x1e6)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x33b5b4[_0x409c9c(0x1ee)]);}_0x239205['status'](0x1f4)[_0x409c9c(0x1cd)]({'statusCode':0x1f4,'message':_0x409c9c(0x1df)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x3fa6b8(0x1cb)])(),__metadata(a49_0x3fa6b8(0x1f1),[s3_service_1[a49_0x3fa6b8(0x1db)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;function a49_0x470d(){const _0x357c52=['function','3173444AeFJNn','./s3.service','uploadFile','S3Service','metadata','s3Service','__metadata','Internal\x20Server\x20Error','8VzbtTM','1oJhIQa','329610OfpaTX','__decorate','catch','82980kAUZhJ','error','.log','getResponse','object','__esModule','status','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','length','message','switchToHttp','1296XqoKaF','design:paramtypes','LOG_BUCKET_NAME','1501718Xnnjux','S3ExceptionFilter','Exception\x20occurred\x20at\x20','8074969iCTiPt','Catch','exception-','json','PI_NAME','stack','getOwnPropertyDescriptor','74350ffDqtJ','HttpException','env','decorate','defineProperty','1427976BKQriC'];a49_0x470d=function(){return _0x357c52;};return a49_0x470d();}