'use strict';const a49_0x10cbce=a49_0x4591;(function(_0x48400a,_0x1ab1ac){const _0x4b9f22=a49_0x4591,_0x426fdb=_0x48400a();while(!![]){try{const _0x2836f4=-parseInt(_0x4b9f22(0xf6))/0x1*(-parseInt(_0x4b9f22(0x10b))/0x2)+parseInt(_0x4b9f22(0x110))/0x3*(parseInt(_0x4b9f22(0x103))/0x4)+parseInt(_0x4b9f22(0x113))/0x5+-parseInt(_0x4b9f22(0xfc))/0x6+parseInt(_0x4b9f22(0x107))/0x7+-parseInt(_0x4b9f22(0x10d))/0x8+parseInt(_0x4b9f22(0x10c))/0x9*(-parseInt(_0x4b9f22(0x11d))/0xa);if(_0x2836f4===_0x1ab1ac)break;else _0x426fdb['push'](_0x426fdb['shift']());}catch(_0x2b8f1f){_0x426fdb['push'](_0x426fdb['shift']());}}}(a49_0x2626,0xaa122));var __decorate=this&&this['__decorate']||function(_0x24448c,_0x2c9511,_0x18c671,_0xfbecea){const _0x351df2=a49_0x4591;var _0x5d14f2=arguments[_0x351df2(0x116)],_0x15e9e1=_0x5d14f2<0x3?_0x2c9511:_0xfbecea===null?_0xfbecea=Object[_0x351df2(0x102)](_0x2c9511,_0x18c671):_0xfbecea,_0x5e384f;if(typeof Reflect===_0x351df2(0xfd)&&typeof Reflect[_0x351df2(0x11a)]===_0x351df2(0x101))_0x15e9e1=Reflect['decorate'](_0x24448c,_0x2c9511,_0x18c671,_0xfbecea);else{for(var _0x1bb287=_0x24448c['length']-0x1;_0x1bb287>=0x0;_0x1bb287--)if(_0x5e384f=_0x24448c[_0x1bb287])_0x15e9e1=(_0x5d14f2<0x3?_0x5e384f(_0x15e9e1):_0x5d14f2>0x3?_0x5e384f(_0x2c9511,_0x18c671,_0x15e9e1):_0x5e384f(_0x2c9511,_0x18c671))||_0x15e9e1;}return _0x5d14f2>0x3&&_0x15e9e1&&Object[_0x351df2(0x108)](_0x2c9511,_0x18c671,_0x15e9e1),_0x15e9e1;},__metadata=this&&this[a49_0x10cbce(0x11c)]||function(_0x27dbf5,_0x1d484e){const _0x4f7932=a49_0x10cbce;if(typeof Reflect===_0x4f7932(0xfd)&&typeof Reflect[_0x4f7932(0xfa)]===_0x4f7932(0x101))return Reflect[_0x4f7932(0xfa)](_0x27dbf5,_0x1d484e);};Object[a49_0x10cbce(0x108)](exports,a49_0x10cbce(0x11b),{'value':!![]}),exports[a49_0x10cbce(0x112)]=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x10cbce(0x10e));function a49_0x2626(){const _0x57d52c=['error','Exception\x20occurred\x20at\x20','length','getResponse','uploadFile','Catch','decorate','__esModule','__metadata','1090FjrMWX','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','1iLtSzh','S3Service','json','LOG_BUCKET_NAME','metadata','env','5847366hgZMCY','object','design:paramtypes','getStatus','message','function','getOwnPropertyDescriptor','634948kysQwQ','.log','status','from','9561426NPIydE','defineProperty','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','toISOString','1468754ngbjCQ','24093pRrKKW','9668952sDIGCi','./s3.service','HttpException','6LkPdZY','Internal\x20Server\x20Error','S3ExceptionFilter','3769070WnybqZ'];a49_0x2626=function(){return _0x57d52c;};return a49_0x2626();}function a49_0x4591(_0x58e2e1,_0x2cf4ea){const _0x262608=a49_0x2626();return a49_0x4591=function(_0x459172,_0x14e2a7){_0x459172=_0x459172-0xf5;let _0xee80c=_0x262608[_0x459172];return _0xee80c;},a49_0x4591(_0x58e2e1,_0x2cf4ea);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x473a72){this['s3Service']=_0x473a72;}async['catch'](_0xa01493,_0x1d04d8){const _0x388cf7=a49_0x10cbce,_0x2a1b4a=_0x1d04d8['switchToHttp'](),_0x16e933=_0x2a1b4a[_0x388cf7(0x117)]();if(_0xa01493 instanceof common_1[_0x388cf7(0x10f)])_0x16e933[_0x388cf7(0x105)](_0xa01493[_0x388cf7(0xff)]())[_0x388cf7(0xf8)](_0xa01493[_0x388cf7(0x117)]());else{const _0x9949fe=new Date()[_0x388cf7(0x10a)](),_0x3ffe59=_0x388cf7(0x115)+_0x9949fe+':\x0a'+_0xa01493['stack'],_0x1d9e5c=process[_0x388cf7(0xfb)][_0x388cf7(0xf9)],_0x5d6310=process[_0x388cf7(0xfb)]['PI_NAME'],_0x8cdd6e='exception-'+_0x5d6310+'-'+_0x9949fe+_0x388cf7(0x104);try{const _0x1b7afe=await this['s3Service'][_0x388cf7(0x118)](Buffer[_0x388cf7(0x106)](_0x3ffe59),_0x1d9e5c,_0x8cdd6e);console[_0x388cf7(0x114)](_0x388cf7(0xf5)+_0x1b7afe);}catch(_0x477830){console[_0x388cf7(0x114)](_0x388cf7(0x109)+_0x477830[_0x388cf7(0x100)]);}_0x16e933[_0x388cf7(0x105)](0x1f4)['json']({'statusCode':0x1f4,'message':_0x388cf7(0x111)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x10cbce(0x119)])(),__metadata(a49_0x10cbce(0xfe),[s3_service_1[a49_0x10cbce(0xf7)]])],S3ExceptionFilter),exports[a49_0x10cbce(0x112)]=S3ExceptionFilter;