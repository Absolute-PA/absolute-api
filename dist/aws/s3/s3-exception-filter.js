'use strict';const a49_0x47ed08=a49_0x561a;(function(_0x1cb05e,_0x43e413){const _0x1dd1d8=a49_0x561a,_0x27ed93=_0x1cb05e();while(!![]){try{const _0x25fcff=parseInt(_0x1dd1d8(0xc5))/0x1*(-parseInt(_0x1dd1d8(0xd2))/0x2)+-parseInt(_0x1dd1d8(0xc9))/0x3*(-parseInt(_0x1dd1d8(0xd1))/0x4)+-parseInt(_0x1dd1d8(0xdd))/0x5*(parseInt(_0x1dd1d8(0xe6))/0x6)+-parseInt(_0x1dd1d8(0xdb))/0x7+parseInt(_0x1dd1d8(0xc2))/0x8*(-parseInt(_0x1dd1d8(0xe7))/0x9)+-parseInt(_0x1dd1d8(0xc7))/0xa+parseInt(_0x1dd1d8(0xd4))/0xb;if(_0x25fcff===_0x43e413)break;else _0x27ed93['push'](_0x27ed93['shift']());}catch(_0x348a16){_0x27ed93['push'](_0x27ed93['shift']());}}}(a49_0x3cad,0x198c0));var __decorate=this&&this['__decorate']||function(_0x58c80d,_0x883cf3,_0x42aa3a,_0x625991){const _0x26fe35=a49_0x561a;var _0x3a7ba8=arguments[_0x26fe35(0xe2)],_0x687a4d=_0x3a7ba8<0x3?_0x883cf3:_0x625991===null?_0x625991=Object[_0x26fe35(0xdf)](_0x883cf3,_0x42aa3a):_0x625991,_0x13d5c3;if(typeof Reflect===_0x26fe35(0xcc)&&typeof Reflect[_0x26fe35(0xd8)]===_0x26fe35(0xe5))_0x687a4d=Reflect[_0x26fe35(0xd8)](_0x58c80d,_0x883cf3,_0x42aa3a,_0x625991);else{for(var _0x333f46=_0x58c80d[_0x26fe35(0xe2)]-0x1;_0x333f46>=0x0;_0x333f46--)if(_0x13d5c3=_0x58c80d[_0x333f46])_0x687a4d=(_0x3a7ba8<0x3?_0x13d5c3(_0x687a4d):_0x3a7ba8>0x3?_0x13d5c3(_0x883cf3,_0x42aa3a,_0x687a4d):_0x13d5c3(_0x883cf3,_0x42aa3a))||_0x687a4d;}return _0x3a7ba8>0x3&&_0x687a4d&&Object[_0x26fe35(0xe3)](_0x883cf3,_0x42aa3a,_0x687a4d),_0x687a4d;},__metadata=this&&this[a49_0x47ed08(0xdc)]||function(_0x5539f5,_0x133f6f){const _0x7d3060=a49_0x47ed08;if(typeof Reflect===_0x7d3060(0xcc)&&typeof Reflect['metadata']===_0x7d3060(0xe5))return Reflect[_0x7d3060(0xcb)](_0x5539f5,_0x133f6f);};Object[a49_0x47ed08(0xe3)](exports,a49_0x47ed08(0xd9),{'value':!![]}),exports[a49_0x47ed08(0xc6)]=void 0x0;const common_1=require(a49_0x47ed08(0xc4)),s3_service_1=require(a49_0x47ed08(0xcf));function a49_0x3cad(){const _0x38b584=['length','defineProperty','uploadFile','function','6MsPwlx','27mZdmeN','LOG_BUCKET_NAME','Exception\x20occurred\x20at\x20','design:paramtypes','error','147480nGZnax','HttpException','@nestjs/common','3331ZbggFV','S3ExceptionFilter','1842090dsWnTn','S3Service','135189MuiTZH','status','metadata','object','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','stack','./s3.service','.log','4YchyrW','92JRrTiu','env','6391484CCHWwV','s3Service','catch','getStatus','decorate','__esModule','Catch','382011TvhVvX','__metadata','370770XUSpOX','switchToHttp','getOwnPropertyDescriptor','getResponse','exception-'];a49_0x3cad=function(){return _0x38b584;};return a49_0x3cad();}function a49_0x561a(_0x1cf491,_0x2ac314){const _0x3cade3=a49_0x3cad();return a49_0x561a=function(_0x561a45,_0x3c7078){_0x561a45=_0x561a45-0xbe;let _0x37534f=_0x3cade3[_0x561a45];return _0x37534f;},a49_0x561a(_0x1cf491,_0x2ac314);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x358ff2){this['s3Service']=_0x358ff2;}async[a49_0x47ed08(0xd6)](_0x859ad0,_0x3d9960){const _0x5c6224=a49_0x47ed08,_0x3540b2=_0x3d9960[_0x5c6224(0xde)](),_0x969d77=_0x3540b2[_0x5c6224(0xe0)]();if(_0x859ad0 instanceof common_1[_0x5c6224(0xc3)])_0x969d77[_0x5c6224(0xca)](_0x859ad0[_0x5c6224(0xd7)]())['json'](_0x859ad0[_0x5c6224(0xe0)]());else{const _0x307a8d=new Date()['toISOString'](),_0x26dbef=_0x5c6224(0xbf)+_0x307a8d+':\x0a'+_0x859ad0[_0x5c6224(0xce)],_0x137fe2=process[_0x5c6224(0xd3)][_0x5c6224(0xbe)],_0x401f43=process[_0x5c6224(0xd3)]['PI_NAME'],_0x2e7027=_0x5c6224(0xe1)+_0x401f43+'-'+_0x307a8d+_0x5c6224(0xd0);try{const _0x47d89d=await this[_0x5c6224(0xd5)][_0x5c6224(0xe4)](Buffer['from'](_0x26dbef),_0x137fe2,_0x2e7027);console[_0x5c6224(0xc1)](_0x5c6224(0xcd)+_0x47d89d);}catch(_0x3e615f){console[_0x5c6224(0xc1)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x3e615f['message']);}_0x969d77[_0x5c6224(0xca)](0x1f4)['json']({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x47ed08(0xda)])(),__metadata(a49_0x47ed08(0xc0),[s3_service_1[a49_0x47ed08(0xc8)]])],S3ExceptionFilter),exports[a49_0x47ed08(0xc6)]=S3ExceptionFilter;