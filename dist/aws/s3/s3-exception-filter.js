'use strict';const a49_0x226735=a49_0x5ca1;(function(_0x265df2,_0x3f0f1c){const _0x47d4ce=a49_0x5ca1,_0x1e5d54=_0x265df2();while(!![]){try{const _0x445fbb=parseInt(_0x47d4ce(0xdc))/0x1+parseInt(_0x47d4ce(0xea))/0x2*(-parseInt(_0x47d4ce(0xe0))/0x3)+-parseInt(_0x47d4ce(0xe3))/0x4+parseInt(_0x47d4ce(0xd4))/0x5+-parseInt(_0x47d4ce(0xef))/0x6+parseInt(_0x47d4ce(0xed))/0x7+parseInt(_0x47d4ce(0xd5))/0x8;if(_0x445fbb===_0x3f0f1c)break;else _0x1e5d54['push'](_0x1e5d54['shift']());}catch(_0x26affd){_0x1e5d54['push'](_0x1e5d54['shift']());}}}(a49_0x5de3,0x9de9b));var __decorate=this&&this[a49_0x226735(0xeb)]||function(_0x3e6776,_0x523dfc,_0x323dea,_0x4bd3bd){const _0x476359=a49_0x226735;var _0x529661=arguments[_0x476359(0xdd)],_0x419aa7=_0x529661<0x3?_0x523dfc:_0x4bd3bd===null?_0x4bd3bd=Object[_0x476359(0xdb)](_0x523dfc,_0x323dea):_0x4bd3bd,_0xaed192;if(typeof Reflect===_0x476359(0xd0)&&typeof Reflect['decorate']===_0x476359(0xd7))_0x419aa7=Reflect[_0x476359(0xd9)](_0x3e6776,_0x523dfc,_0x323dea,_0x4bd3bd);else{for(var _0x1d1f06=_0x3e6776[_0x476359(0xdd)]-0x1;_0x1d1f06>=0x0;_0x1d1f06--)if(_0xaed192=_0x3e6776[_0x1d1f06])_0x419aa7=(_0x529661<0x3?_0xaed192(_0x419aa7):_0x529661>0x3?_0xaed192(_0x523dfc,_0x323dea,_0x419aa7):_0xaed192(_0x523dfc,_0x323dea))||_0x419aa7;}return _0x529661>0x3&&_0x419aa7&&Object[_0x476359(0xd3)](_0x523dfc,_0x323dea,_0x419aa7),_0x419aa7;},__metadata=this&&this[a49_0x226735(0xf5)]||function(_0x571a60,_0x3d8c7c){const _0x33f29f=a49_0x226735;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x33f29f(0xd7))return Reflect['metadata'](_0x571a60,_0x3d8c7c);};Object[a49_0x226735(0xd3)](exports,a49_0x226735(0xf1),{'value':!![]}),exports[a49_0x226735(0xdf)]=void 0x0;function a49_0x5de3(){const _0x13806d=['error','getOwnPropertyDescriptor','543931BARWFU','length','design:paramtypes','S3ExceptionFilter','1311yTkzdw','json','status','2706240aIPGnC','Catch','LOG_BUCKET_NAME','exception-','PI_NAME','Internal\x20Server\x20Error','from','4842hkYiJC','__decorate','env','2931908CLouht','HttpException','2062188KidFTT','catch','__esModule','switchToHttp','getStatus','.log','__metadata','./s3.service','object','stack','getResponse','defineProperty','2631430FoZhjf','9887880WryyNr','S3Service','function','s3Service','decorate'];a49_0x5de3=function(){return _0x13806d;};return a49_0x5de3();}const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x226735(0xf6));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x1b0945){const _0x56d74a=a49_0x226735;this[_0x56d74a(0xd8)]=_0x1b0945;}async[a49_0x226735(0xf0)](_0x238694,_0x41d3c8){const _0x524cef=a49_0x226735,_0x1165a1=_0x41d3c8[_0x524cef(0xf2)](),_0x4de2f7=_0x1165a1[_0x524cef(0xd2)]();if(_0x238694 instanceof common_1[_0x524cef(0xee)])_0x4de2f7[_0x524cef(0xe2)](_0x238694[_0x524cef(0xf3)]())[_0x524cef(0xe1)](_0x238694['getResponse']());else{const _0x45e610=new Date()['toISOString'](),_0x49b25d='Exception\x20occurred\x20at\x20'+_0x45e610+':\x0a'+_0x238694[_0x524cef(0xd1)],_0xb82820=process['env'][_0x524cef(0xe5)],_0xd16119=process[_0x524cef(0xec)][_0x524cef(0xe7)],_0x2015b5=_0x524cef(0xe6)+_0xd16119+'-'+_0x45e610+_0x524cef(0xf4);try{const _0x4835b1=await this['s3Service']['uploadFile'](Buffer[_0x524cef(0xe9)](_0x49b25d),_0xb82820,_0x2015b5);console[_0x524cef(0xda)]('Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20'+_0x4835b1);}catch(_0x1265f1){console[_0x524cef(0xda)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x1265f1['message']);}_0x4de2f7[_0x524cef(0xe2)](0x1f4)[_0x524cef(0xe1)]({'statusCode':0x1f4,'message':_0x524cef(0xe8)});}}};function a49_0x5ca1(_0x1509fb,_0x565f1b){const _0x5de343=a49_0x5de3();return a49_0x5ca1=function(_0x5ca1fe,_0x35218d){_0x5ca1fe=_0x5ca1fe-0xd0;let _0x22ba46=_0x5de343[_0x5ca1fe];return _0x22ba46;},a49_0x5ca1(_0x1509fb,_0x565f1b);}S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x226735(0xe4)])(),__metadata(a49_0x226735(0xde),[s3_service_1[a49_0x226735(0xd6)]])],S3ExceptionFilter),exports[a49_0x226735(0xdf)]=S3ExceptionFilter;