'use strict';const a49_0x14bbf0=a49_0x3d70;(function(_0x573659,_0x4860b0){const _0xfa5cf7=a49_0x3d70,_0x5c5362=_0x573659();while(!![]){try{const _0x1af85b=parseInt(_0xfa5cf7(0xa3))/0x1*(-parseInt(_0xfa5cf7(0xc7))/0x2)+-parseInt(_0xfa5cf7(0xbd))/0x3*(-parseInt(_0xfa5cf7(0xb5))/0x4)+parseInt(_0xfa5cf7(0xb1))/0x5*(-parseInt(_0xfa5cf7(0xa9))/0x6)+-parseInt(_0xfa5cf7(0xb8))/0x7*(parseInt(_0xfa5cf7(0xc3))/0x8)+-parseInt(_0xfa5cf7(0xbc))/0x9*(-parseInt(_0xfa5cf7(0xb3))/0xa)+parseInt(_0xfa5cf7(0xc1))/0xb*(-parseInt(_0xfa5cf7(0xa7))/0xc)+parseInt(_0xfa5cf7(0xad))/0xd;if(_0x1af85b===_0x4860b0)break;else _0x5c5362['push'](_0x5c5362['shift']());}catch(_0x21013c){_0x5c5362['push'](_0x5c5362['shift']());}}}(a49_0x35b6,0xc32a9));function a49_0x3d70(_0x59257d,_0xcd4455){const _0x35b6a3=a49_0x35b6();return a49_0x3d70=function(_0x3d703f,_0x1046ef){_0x3d703f=_0x3d703f-0xa1;let _0x542fca=_0x35b6a3[_0x3d703f];return _0x542fca;},a49_0x3d70(_0x59257d,_0xcd4455);}var __decorate=this&&this[a49_0x14bbf0(0xab)]||function(_0x52c07e,_0x4bf758,_0x566abb,_0x212f0c){const _0x3fb5e8=a49_0x14bbf0;var _0x4de399=arguments[_0x3fb5e8(0xc5)],_0x659702=_0x4de399<0x3?_0x4bf758:_0x212f0c===null?_0x212f0c=Object[_0x3fb5e8(0xa8)](_0x4bf758,_0x566abb):_0x212f0c,_0x192718;if(typeof Reflect===_0x3fb5e8(0xb7)&&typeof Reflect[_0x3fb5e8(0xa4)]===_0x3fb5e8(0xae))_0x659702=Reflect[_0x3fb5e8(0xa4)](_0x52c07e,_0x4bf758,_0x566abb,_0x212f0c);else{for(var _0x43ae33=_0x52c07e[_0x3fb5e8(0xc5)]-0x1;_0x43ae33>=0x0;_0x43ae33--)if(_0x192718=_0x52c07e[_0x43ae33])_0x659702=(_0x4de399<0x3?_0x192718(_0x659702):_0x4de399>0x3?_0x192718(_0x4bf758,_0x566abb,_0x659702):_0x192718(_0x4bf758,_0x566abb))||_0x659702;}return _0x4de399>0x3&&_0x659702&&Object[_0x3fb5e8(0xbf)](_0x4bf758,_0x566abb,_0x659702),_0x659702;},__metadata=this&&this[a49_0x14bbf0(0xa2)]||function(_0x2b6237,_0x49ced9){const _0x21cee3=a49_0x14bbf0;if(typeof Reflect===_0x21cee3(0xb7)&&typeof Reflect[_0x21cee3(0xa5)]===_0x21cee3(0xae))return Reflect[_0x21cee3(0xa5)](_0x2b6237,_0x49ced9);};Object[a49_0x14bbf0(0xbf)](exports,a49_0x14bbf0(0xc6),{'value':!![]}),exports[a49_0x14bbf0(0xa6)]=void 0x0;const common_1=require(a49_0x14bbf0(0xcc)),s3_service_1=require('./s3.service');let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x4bc401){const _0x5c16ec=a49_0x14bbf0;this[_0x5c16ec(0xcd)]=_0x4bc401;}async[a49_0x14bbf0(0xb6)](_0x2e39cb,_0x69ef9b){const _0x598819=a49_0x14bbf0,_0x69e02c=_0x69ef9b['switchToHttp'](),_0x57aa06=_0x69e02c[_0x598819(0xc8)]();if(_0x2e39cb instanceof common_1['HttpException'])_0x57aa06['status'](_0x2e39cb[_0x598819(0xc2)]())['json'](_0x2e39cb[_0x598819(0xc8)]());else{const _0x42cc23=new Date()['toISOString'](),_0x17e34d=_0x598819(0xbe)+_0x42cc23+':\x0a'+_0x2e39cb[_0x598819(0xce)],_0x1569a5=process[_0x598819(0xac)][_0x598819(0xa1)],_0x3dc614=process['env'][_0x598819(0xbb)],_0x26e89f='exception-'+_0x3dc614+'-'+_0x42cc23+_0x598819(0xca);try{const _0x9f1ffa=await this[_0x598819(0xcd)][_0x598819(0xc9)](Buffer[_0x598819(0xc4)](_0x17e34d),_0x1569a5,_0x26e89f);console[_0x598819(0xc0)](_0x598819(0xba)+_0x9f1ffa);}catch(_0x43d022){console[_0x598819(0xc0)](_0x598819(0xb2)+_0x43d022[_0x598819(0xaf)]);}_0x57aa06[_0x598819(0xcb)](0x1f4)[_0x598819(0xb4)]({'statusCode':0x1f4,'message':_0x598819(0xaa)});}}};function a49_0x35b6(){const _0x3229ac=['Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','PI_NAME','1648386mgYNnD','864636lGHDOs','Exception\x20occurred\x20at\x20','defineProperty','error','9933IwGJaE','getStatus','440sPdHGr','from','length','__esModule','2415076atVWXq','getResponse','uploadFile','.log','status','@nestjs/common','s3Service','stack','LOG_BUCKET_NAME','__metadata','1EHMuJu','decorate','metadata','S3ExceptionFilter','4020OuoUYH','getOwnPropertyDescriptor','160914ObwHDP','Internal\x20Server\x20Error','__decorate','env','41856581NrNNge','function','message','S3Service','245xoNikv','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','40eAUMWT','json','4IZXPka','catch','object','78526uVWMDa','design:paramtypes'];a49_0x35b6=function(){return _0x3229ac;};return a49_0x35b6();}S3ExceptionFilter=__decorate([(0x0,common_1['Catch'])(),__metadata(a49_0x14bbf0(0xb9),[s3_service_1[a49_0x14bbf0(0xb0)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;