'use strict';const a49_0x555f42=a49_0x344e;(function(_0x3678f9,_0x124a38){const _0x35f368=a49_0x344e,_0x4cf974=_0x3678f9();while(!![]){try{const _0x45336e=-parseInt(_0x35f368(0x1ad))/0x1*(parseInt(_0x35f368(0x1ab))/0x2)+parseInt(_0x35f368(0x1a2))/0x3*(-parseInt(_0x35f368(0x19d))/0x4)+parseInt(_0x35f368(0x1a0))/0x5*(parseInt(_0x35f368(0x1a5))/0x6)+parseInt(_0x35f368(0x1ac))/0x7*(-parseInt(_0x35f368(0x19e))/0x8)+-parseInt(_0x35f368(0x1a3))/0x9+parseInt(_0x35f368(0x19f))/0xa+parseInt(_0x35f368(0x197))/0xb*(parseInt(_0x35f368(0x199))/0xc);if(_0x45336e===_0x124a38)break;else _0x4cf974['push'](_0x4cf974['shift']());}catch(_0x2b62f0){_0x4cf974['push'](_0x4cf974['shift']());}}}(a49_0x2956,0x978c7));var __decorate=this&&this[a49_0x555f42(0x1aa)]||function(_0x4aa8fd,_0x381679,_0x3229c9,_0x4aed17){const _0x4844fd=a49_0x555f42;var _0x263fcc=arguments[_0x4844fd(0x1b7)],_0x1843f1=_0x263fcc<0x3?_0x381679:_0x4aed17===null?_0x4aed17=Object[_0x4844fd(0x194)](_0x381679,_0x3229c9):_0x4aed17,_0x52196;if(typeof Reflect===_0x4844fd(0x1b3)&&typeof Reflect['decorate']===_0x4844fd(0x1b2))_0x1843f1=Reflect[_0x4844fd(0x1a6)](_0x4aa8fd,_0x381679,_0x3229c9,_0x4aed17);else{for(var _0x36b7a1=_0x4aa8fd[_0x4844fd(0x1b7)]-0x1;_0x36b7a1>=0x0;_0x36b7a1--)if(_0x52196=_0x4aa8fd[_0x36b7a1])_0x1843f1=(_0x263fcc<0x3?_0x52196(_0x1843f1):_0x263fcc>0x3?_0x52196(_0x381679,_0x3229c9,_0x1843f1):_0x52196(_0x381679,_0x3229c9))||_0x1843f1;}return _0x263fcc>0x3&&_0x1843f1&&Object[_0x4844fd(0x1b1)](_0x381679,_0x3229c9,_0x1843f1),_0x1843f1;},__metadata=this&&this[a49_0x555f42(0x1bb)]||function(_0x7a90c5,_0x2ca406){const _0x34865e=a49_0x555f42;if(typeof Reflect===_0x34865e(0x1b3)&&typeof Reflect['metadata']===_0x34865e(0x1b2))return Reflect[_0x34865e(0x1a9)](_0x7a90c5,_0x2ca406);};Object[a49_0x555f42(0x1b1)](exports,'__esModule',{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;function a49_0x2956(){const _0x4cc985=['2689740Azrbui','S3Service','42agqbCZ','decorate','from','Exception\x20occurred\x20at\x20','metadata','__decorate','647738GyBSFj','346934ZbAgWA','1RoTeFV','HttpException','design:paramtypes','toISOString','defineProperty','function','object','catch','LOG_BUCKET_NAME','./s3.service','length','S3ExceptionFilter','getStatus','getResponse','__metadata','status','stack','Catch','Internal\x20Server\x20Error','getOwnPropertyDescriptor','s3Service','env','11ImLJLV','.log','9811404lGYUla','exception-','uploadFile','error','17984XfuTtL','120ScxhHr','1979270OabVTN','745210rMkPNz','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','48VSswCB'];a49_0x2956=function(){return _0x4cc985;};return a49_0x2956();}const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x555f42(0x1b6));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x2d1fdb){const _0xc823d4=a49_0x555f42;this[_0xc823d4(0x195)]=_0x2d1fdb;}async[a49_0x555f42(0x1b4)](_0x168781,_0x35aea8){const _0x5940a5=a49_0x555f42,_0x1f5073=_0x35aea8['switchToHttp'](),_0x10791a=_0x1f5073[_0x5940a5(0x1ba)]();if(_0x168781 instanceof common_1[_0x5940a5(0x1ae)])_0x10791a[_0x5940a5(0x1bc)](_0x168781[_0x5940a5(0x1b9)]())['json'](_0x168781[_0x5940a5(0x1ba)]());else{const _0x49125a=new Date()[_0x5940a5(0x1b0)](),_0x414213=_0x5940a5(0x1a8)+_0x49125a+':\x0a'+_0x168781[_0x5940a5(0x1bd)],_0x4c16cf=process['env'][_0x5940a5(0x1b5)],_0x1fc53c=process[_0x5940a5(0x196)]['PI_NAME'],_0x2db010=_0x5940a5(0x19a)+_0x1fc53c+'-'+_0x49125a+_0x5940a5(0x198);try{const _0x22bf1d=await this[_0x5940a5(0x195)][_0x5940a5(0x19b)](Buffer[_0x5940a5(0x1a7)](_0x414213),_0x4c16cf,_0x2db010);console[_0x5940a5(0x19c)](_0x5940a5(0x1a1)+_0x22bf1d);}catch(_0x39c632){console[_0x5940a5(0x19c)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x39c632['message']);}_0x10791a[_0x5940a5(0x1bc)](0x1f4)['json']({'statusCode':0x1f4,'message':_0x5940a5(0x1bf)});}}};function a49_0x344e(_0xfe2348,_0x2c3d6a){const _0x295641=a49_0x2956();return a49_0x344e=function(_0x344e87,_0x3c1b15){_0x344e87=_0x344e87-0x194;let _0x294acb=_0x295641[_0x344e87];return _0x294acb;},a49_0x344e(_0xfe2348,_0x2c3d6a);}S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x555f42(0x1be)])(),__metadata(a49_0x555f42(0x1af),[s3_service_1[a49_0x555f42(0x1a4)]])],S3ExceptionFilter),exports[a49_0x555f42(0x1b8)]=S3ExceptionFilter;