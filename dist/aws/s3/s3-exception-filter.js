'use strict';const a49_0x1582c4=a49_0x1f55;(function(_0x2d3f78,_0x5920d7){const _0x161697=a49_0x1f55,_0x552643=_0x2d3f78();while(!![]){try{const _0x2ec806=parseInt(_0x161697(0x9d))/0x1*(parseInt(_0x161697(0x85))/0x2)+parseInt(_0x161697(0x82))/0x3*(parseInt(_0x161697(0x98))/0x4)+parseInt(_0x161697(0xa0))/0x5+-parseInt(_0x161697(0x9e))/0x6+parseInt(_0x161697(0x8e))/0x7+parseInt(_0x161697(0xa8))/0x8*(-parseInt(_0x161697(0x7f))/0x9)+-parseInt(_0x161697(0x97))/0xa*(-parseInt(_0x161697(0x86))/0xb);if(_0x2ec806===_0x5920d7)break;else _0x552643['push'](_0x552643['shift']());}catch(_0x975aae){_0x552643['push'](_0x552643['shift']());}}}(a49_0x5776,0x6d231));function a49_0x5776(){const _0xddb807=['Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','message','metadata','from','design:paramtypes','length','__decorate','30VTGnIl','958512KvpBOz','error','PI_NAME','defineProperty','env','169qmkZZw','4355058cYXgsu','Exception\x20occurred\x20at\x20','3167030ARPlvf','S3ExceptionFilter','toISOString','catch','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','status','json','Catch','12144FRaySM','@nestjs/common','switchToHttp','decorate','3141CowWEo','stack','function','3aYNqrF','s3Service','exception-','5284NccnrD','680735iStaCH','getStatus','getOwnPropertyDescriptor','./s3.service','getResponse','S3Service','object','Internal\x20Server\x20Error','1382241XErNLk','uploadFile'];a49_0x5776=function(){return _0xddb807;};return a49_0x5776();}var __decorate=this&&this[a49_0x1582c4(0x96)]||function(_0x42c7f7,_0x2653a9,_0x5559a1,_0x4959f2){const _0x22233c=a49_0x1582c4;var _0x2b38ff=arguments[_0x22233c(0x95)],_0x194204=_0x2b38ff<0x3?_0x2653a9:_0x4959f2===null?_0x4959f2=Object[_0x22233c(0x88)](_0x2653a9,_0x5559a1):_0x4959f2,_0x39a245;if(typeof Reflect===_0x22233c(0x8c)&&typeof Reflect[_0x22233c(0x7e)]===_0x22233c(0x81))_0x194204=Reflect[_0x22233c(0x7e)](_0x42c7f7,_0x2653a9,_0x5559a1,_0x4959f2);else{for(var _0xf5c5d3=_0x42c7f7[_0x22233c(0x95)]-0x1;_0xf5c5d3>=0x0;_0xf5c5d3--)if(_0x39a245=_0x42c7f7[_0xf5c5d3])_0x194204=(_0x2b38ff<0x3?_0x39a245(_0x194204):_0x2b38ff>0x3?_0x39a245(_0x2653a9,_0x5559a1,_0x194204):_0x39a245(_0x2653a9,_0x5559a1))||_0x194204;}return _0x2b38ff>0x3&&_0x194204&&Object[_0x22233c(0x9b)](_0x2653a9,_0x5559a1,_0x194204),_0x194204;},__metadata=this&&this['__metadata']||function(_0x492433,_0xa5d14f){const _0x3a32c2=a49_0x1582c4;if(typeof Reflect==='object'&&typeof Reflect[_0x3a32c2(0x92)]===_0x3a32c2(0x81))return Reflect[_0x3a32c2(0x92)](_0x492433,_0xa5d14f);};Object[a49_0x1582c4(0x9b)](exports,'__esModule',{'value':!![]}),exports[a49_0x1582c4(0xa1)]=void 0x0;function a49_0x1f55(_0xd11ceb,_0x638746){const _0x57762e=a49_0x5776();return a49_0x1f55=function(_0x1f5562,_0x23de21){_0x1f5562=_0x1f5562-0x7e;let _0x4b906c=_0x57762e[_0x1f5562];return _0x4b906c;},a49_0x1f55(_0xd11ceb,_0x638746);}const common_1=require(a49_0x1582c4(0xa9)),s3_service_1=require(a49_0x1582c4(0x89));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x158c22){const _0x528f46=a49_0x1582c4;this[_0x528f46(0x83)]=_0x158c22;}async[a49_0x1582c4(0xa3)](_0x1d7c29,_0x411cbf){const _0x264606=a49_0x1582c4,_0x45b92f=_0x411cbf[_0x264606(0xaa)](),_0x55f097=_0x45b92f[_0x264606(0x8a)]();if(_0x1d7c29 instanceof common_1['HttpException'])_0x55f097[_0x264606(0xa5)](_0x1d7c29[_0x264606(0x87)]())['json'](_0x1d7c29[_0x264606(0x8a)]());else{const _0x3c194d=new Date()[_0x264606(0xa2)](),_0x41fef5=_0x264606(0x9f)+_0x3c194d+':\x0a'+_0x1d7c29[_0x264606(0x80)],_0x50d6df=process[_0x264606(0x9c)]['LOG_BUCKET_NAME'],_0x3c25f6=process[_0x264606(0x9c)][_0x264606(0x9a)],_0x4134df=_0x264606(0x84)+_0x3c25f6+'-'+_0x3c194d+'.log';try{const _0x5be07a=await this[_0x264606(0x83)][_0x264606(0x8f)](Buffer[_0x264606(0x93)](_0x41fef5),_0x50d6df,_0x4134df);console[_0x264606(0x99)](_0x264606(0xa4)+_0x5be07a);}catch(_0x4908e7){console[_0x264606(0x99)](_0x264606(0x90)+_0x4908e7[_0x264606(0x91)]);}_0x55f097['status'](0x1f4)[_0x264606(0xa6)]({'statusCode':0x1f4,'message':_0x264606(0x8d)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x1582c4(0xa7)])(),__metadata(a49_0x1582c4(0x94),[s3_service_1[a49_0x1582c4(0x8b)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;