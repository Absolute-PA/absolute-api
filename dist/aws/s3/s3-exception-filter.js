'use strict';const a49_0x212230=a49_0x43ef;(function(_0x2e7564,_0x2ada59){const _0x33e2d1=a49_0x43ef,_0x23bb84=_0x2e7564();while(!![]){try{const _0x163824=-parseInt(_0x33e2d1(0x156))/0x1+-parseInt(_0x33e2d1(0x133))/0x2+parseInt(_0x33e2d1(0x13c))/0x3+parseInt(_0x33e2d1(0x12d))/0x4*(parseInt(_0x33e2d1(0x142))/0x5)+parseInt(_0x33e2d1(0x13f))/0x6*(parseInt(_0x33e2d1(0x145))/0x7)+-parseInt(_0x33e2d1(0x157))/0x8+parseInt(_0x33e2d1(0x146))/0x9*(parseInt(_0x33e2d1(0x131))/0xa);if(_0x163824===_0x2ada59)break;else _0x23bb84['push'](_0x23bb84['shift']());}catch(_0x3f081c){_0x23bb84['push'](_0x23bb84['shift']());}}}(a49_0x377f,0x86623));var __decorate=this&&this[a49_0x212230(0x154)]||function(_0xf68872,_0x41527e,_0x15e244,_0x2acb2f){const _0x46a322=a49_0x212230;var _0xc4facb=arguments[_0x46a322(0x141)],_0x815508=_0xc4facb<0x3?_0x41527e:_0x2acb2f===null?_0x2acb2f=Object[_0x46a322(0x14f)](_0x41527e,_0x15e244):_0x2acb2f,_0x49d41b;if(typeof Reflect===_0x46a322(0x137)&&typeof Reflect[_0x46a322(0x139)]===_0x46a322(0x144))_0x815508=Reflect[_0x46a322(0x139)](_0xf68872,_0x41527e,_0x15e244,_0x2acb2f);else{for(var _0x3b2e77=_0xf68872['length']-0x1;_0x3b2e77>=0x0;_0x3b2e77--)if(_0x49d41b=_0xf68872[_0x3b2e77])_0x815508=(_0xc4facb<0x3?_0x49d41b(_0x815508):_0xc4facb>0x3?_0x49d41b(_0x41527e,_0x15e244,_0x815508):_0x49d41b(_0x41527e,_0x15e244))||_0x815508;}return _0xc4facb>0x3&&_0x815508&&Object[_0x46a322(0x158)](_0x41527e,_0x15e244,_0x815508),_0x815508;},__metadata=this&&this[a49_0x212230(0x151)]||function(_0x572bc6,_0x44192c){const _0x4aef83=a49_0x212230;if(typeof Reflect===_0x4aef83(0x137)&&typeof Reflect[_0x4aef83(0x132)]===_0x4aef83(0x144))return Reflect['metadata'](_0x572bc6,_0x44192c);};function a49_0x377f(){const _0x2f3de8=['27KUvfAv','error','PI_NAME','switchToHttp','S3Service','.log','getStatus','getResponse','S3ExceptionFilter','getOwnPropertyDescriptor','./s3.service','__metadata','status','catch','__decorate','from','869111RHDlib','8354376IVCojS','defineProperty','Internal\x20Server\x20Error','52iyXijY','json','Exception\x20occurred\x20at\x20','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','9872410vLkSCl','metadata','2187016kArQGo','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','HttpException','@nestjs/common','object','LOG_BUCKET_NAME','decorate','exception-','message','709788byIUoc','Catch','stack','66yeliOC','toISOString','length','126535wUqxlO','env','function','19117WJzdoj'];a49_0x377f=function(){return _0x2f3de8;};return a49_0x377f();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a49_0x212230(0x14e)]=void 0x0;function a49_0x43ef(_0x1b42dc,_0x4f38d3){const _0x377f21=a49_0x377f();return a49_0x43ef=function(_0x43ef38,_0x3e62d6){_0x43ef38=_0x43ef38-0x12d;let _0x3165eb=_0x377f21[_0x43ef38];return _0x3165eb;},a49_0x43ef(_0x1b42dc,_0x4f38d3);}const common_1=require(a49_0x212230(0x136)),s3_service_1=require(a49_0x212230(0x150));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x3ab066){this['s3Service']=_0x3ab066;}async[a49_0x212230(0x153)](_0x152ff1,_0x4442aa){const _0x5a485c=a49_0x212230,_0x2bde04=_0x4442aa[_0x5a485c(0x149)](),_0x28dbab=_0x2bde04[_0x5a485c(0x14d)]();if(_0x152ff1 instanceof common_1[_0x5a485c(0x135)])_0x28dbab[_0x5a485c(0x152)](_0x152ff1[_0x5a485c(0x14c)]())[_0x5a485c(0x12e)](_0x152ff1[_0x5a485c(0x14d)]());else{const _0x4aba4c=new Date()[_0x5a485c(0x140)](),_0x285315=_0x5a485c(0x12f)+_0x4aba4c+':\x0a'+_0x152ff1[_0x5a485c(0x13e)],_0x559d6e=process[_0x5a485c(0x143)][_0x5a485c(0x138)],_0x3144a8=process[_0x5a485c(0x143)][_0x5a485c(0x148)],_0x570e8d=_0x5a485c(0x13a)+_0x3144a8+'-'+_0x4aba4c+_0x5a485c(0x14b);try{const _0x1a7887=await this['s3Service']['uploadFile'](Buffer[_0x5a485c(0x155)](_0x285315),_0x559d6e,_0x570e8d);console[_0x5a485c(0x147)](_0x5a485c(0x130)+_0x1a7887);}catch(_0x1eda8d){console[_0x5a485c(0x147)](_0x5a485c(0x134)+_0x1eda8d[_0x5a485c(0x13b)]);}_0x28dbab[_0x5a485c(0x152)](0x1f4)[_0x5a485c(0x12e)]({'statusCode':0x1f4,'message':_0x5a485c(0x159)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x212230(0x13d)])(),__metadata('design:paramtypes',[s3_service_1[a49_0x212230(0x14a)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;