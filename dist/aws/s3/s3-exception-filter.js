'use strict';const a49_0x2c3112=a49_0x2b47;(function(_0x450fd8,_0x856b1b){const _0x377977=a49_0x2b47,_0x58f4f5=_0x450fd8();while(!![]){try{const _0x1845e2=parseInt(_0x377977(0x215))/0x1+-parseInt(_0x377977(0x216))/0x2+-parseInt(_0x377977(0x214))/0x3+parseInt(_0x377977(0x218))/0x4+-parseInt(_0x377977(0x1fb))/0x5+-parseInt(_0x377977(0x20c))/0x6*(-parseInt(_0x377977(0x20d))/0x7)+parseInt(_0x377977(0x206))/0x8;if(_0x1845e2===_0x856b1b)break;else _0x58f4f5['push'](_0x58f4f5['shift']());}catch(_0x4fec6a){_0x58f4f5['push'](_0x58f4f5['shift']());}}}(a49_0x5252,0xc7ff7));var __decorate=this&&this[a49_0x2c3112(0x205)]||function(_0x28fbe4,_0x19329e,_0x2ed35e,_0x41832b){const _0x4ef1ea=a49_0x2c3112;var _0x368d48=arguments[_0x4ef1ea(0x217)],_0x53973c=_0x368d48<0x3?_0x19329e:_0x41832b===null?_0x41832b=Object[_0x4ef1ea(0x20e)](_0x19329e,_0x2ed35e):_0x41832b,_0x5b505e;if(typeof Reflect===_0x4ef1ea(0x219)&&typeof Reflect[_0x4ef1ea(0x1ff)]===_0x4ef1ea(0x1f9))_0x53973c=Reflect['decorate'](_0x28fbe4,_0x19329e,_0x2ed35e,_0x41832b);else{for(var _0x5bedfc=_0x28fbe4[_0x4ef1ea(0x217)]-0x1;_0x5bedfc>=0x0;_0x5bedfc--)if(_0x5b505e=_0x28fbe4[_0x5bedfc])_0x53973c=(_0x368d48<0x3?_0x5b505e(_0x53973c):_0x368d48>0x3?_0x5b505e(_0x19329e,_0x2ed35e,_0x53973c):_0x5b505e(_0x19329e,_0x2ed35e))||_0x53973c;}return _0x368d48>0x3&&_0x53973c&&Object[_0x4ef1ea(0x210)](_0x19329e,_0x2ed35e,_0x53973c),_0x53973c;},__metadata=this&&this[a49_0x2c3112(0x212)]||function(_0x491d44,_0xdbfd99){const _0x5efaeb=a49_0x2c3112;if(typeof Reflect===_0x5efaeb(0x219)&&typeof Reflect[_0x5efaeb(0x209)]===_0x5efaeb(0x1f9))return Reflect['metadata'](_0x491d44,_0xdbfd99);};Object[a49_0x2c3112(0x210)](exports,a49_0x2c3112(0x202),{'value':!![]}),exports[a49_0x2c3112(0x1f8)]=void 0x0;const common_1=require(a49_0x2c3112(0x1f5)),s3_service_1=require(a49_0x2c3112(0x201));function a49_0x2b47(_0x14b7e8,_0x53a86e){const _0x52527b=a49_0x5252();return a49_0x2b47=function(_0x2b4723,_0x1fdfdd){_0x2b4723=_0x2b4723-0x1f4;let _0x5e15ef=_0x52527b[_0x2b4723];return _0x5e15ef;},a49_0x2b47(_0x14b7e8,_0x53a86e);}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x55fb42){const _0x2f81e2=a49_0x2c3112;this[_0x2f81e2(0x1f7)]=_0x55fb42;}async['catch'](_0x1061d2,_0x374d00){const _0x5c1a50=a49_0x2c3112,_0x5a7a75=_0x374d00['switchToHttp'](),_0x2c76ac=_0x5a7a75[_0x5c1a50(0x20f)]();if(_0x1061d2 instanceof common_1[_0x5c1a50(0x21a)])_0x2c76ac[_0x5c1a50(0x20a)](_0x1061d2['getStatus']())[_0x5c1a50(0x208)](_0x1061d2[_0x5c1a50(0x20f)]());else{const _0x3c56e4=new Date()['toISOString'](),_0x4c3d7c=_0x5c1a50(0x200)+_0x3c56e4+':\x0a'+_0x1061d2['stack'],_0x2d353c=process['env'][_0x5c1a50(0x1fd)],_0x3b46f3=process['env'][_0x5c1a50(0x1f4)],_0x4090a3=_0x5c1a50(0x211)+_0x3b46f3+'-'+_0x3c56e4+_0x5c1a50(0x207);try{const _0x534b37=await this[_0x5c1a50(0x1f7)][_0x5c1a50(0x203)](Buffer[_0x5c1a50(0x20b)](_0x4c3d7c),_0x2d353c,_0x4090a3);console[_0x5c1a50(0x213)](_0x5c1a50(0x1fe)+_0x534b37);}catch(_0x12835e){console['error']('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x12835e[_0x5c1a50(0x204)]);}_0x2c76ac['status'](0x1f4)[_0x5c1a50(0x208)]({'statusCode':0x1f4,'message':_0x5c1a50(0x1fa)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x2c3112(0x1fc)])(),__metadata(a49_0x2c3112(0x1f6),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;function a49_0x5252(){const _0x1b99cf=['Internal\x20Server\x20Error','5746225aHWeQK','Catch','LOG_BUCKET_NAME','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','decorate','Exception\x20occurred\x20at\x20','./s3.service','__esModule','uploadFile','message','__decorate','8639240dKxweW','.log','json','metadata','status','from','4221018DtCrpJ','7vQvjxH','getOwnPropertyDescriptor','getResponse','defineProperty','exception-','__metadata','error','3128517lYBHdm','1056507SHTirL','2429664jVHgRz','length','5544768xogmcX','object','HttpException','PI_NAME','@nestjs/common','design:paramtypes','s3Service','S3ExceptionFilter','function'];a49_0x5252=function(){return _0x1b99cf;};return a49_0x5252();}