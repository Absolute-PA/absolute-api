'use strict';const a49_0x40aa9e=a49_0x1db9;(function(_0x1470db,_0x3a94a3){const _0x5f17ed=a49_0x1db9,_0x169c9f=_0x1470db();while(!![]){try{const _0x21f0b0=parseInt(_0x5f17ed(0x173))/0x1*(-parseInt(_0x5f17ed(0x161))/0x2)+-parseInt(_0x5f17ed(0x176))/0x3+parseInt(_0x5f17ed(0x17a))/0x4*(parseInt(_0x5f17ed(0x182))/0x5)+parseInt(_0x5f17ed(0x186))/0x6*(-parseInt(_0x5f17ed(0x178))/0x7)+parseInt(_0x5f17ed(0x17f))/0x8+parseInt(_0x5f17ed(0x184))/0x9+parseInt(_0x5f17ed(0x165))/0xa;if(_0x21f0b0===_0x3a94a3)break;else _0x169c9f['push'](_0x169c9f['shift']());}catch(_0x2a5f73){_0x169c9f['push'](_0x169c9f['shift']());}}}(a49_0x3536,0xdd10c));var __decorate=this&&this[a49_0x40aa9e(0x181)]||function(_0x943f32,_0x20eb60,_0x45651f,_0x3e81c8){const _0x26f361=a49_0x40aa9e;var _0x5d6ac0=arguments[_0x26f361(0x17d)],_0x3f4e16=_0x5d6ac0<0x3?_0x20eb60:_0x3e81c8===null?_0x3e81c8=Object['getOwnPropertyDescriptor'](_0x20eb60,_0x45651f):_0x3e81c8,_0x4cc097;if(typeof Reflect===_0x26f361(0x16b)&&typeof Reflect[_0x26f361(0x179)]==='function')_0x3f4e16=Reflect[_0x26f361(0x179)](_0x943f32,_0x20eb60,_0x45651f,_0x3e81c8);else{for(var _0x3faf7c=_0x943f32[_0x26f361(0x17d)]-0x1;_0x3faf7c>=0x0;_0x3faf7c--)if(_0x4cc097=_0x943f32[_0x3faf7c])_0x3f4e16=(_0x5d6ac0<0x3?_0x4cc097(_0x3f4e16):_0x5d6ac0>0x3?_0x4cc097(_0x20eb60,_0x45651f,_0x3f4e16):_0x4cc097(_0x20eb60,_0x45651f))||_0x3f4e16;}return _0x5d6ac0>0x3&&_0x3f4e16&&Object[_0x26f361(0x16d)](_0x20eb60,_0x45651f,_0x3f4e16),_0x3f4e16;},__metadata=this&&this[a49_0x40aa9e(0x171)]||function(_0x5a1d25,_0x36ac44){const _0x2e3404=a49_0x40aa9e;if(typeof Reflect===_0x2e3404(0x16b)&&typeof Reflect['metadata']===_0x2e3404(0x163))return Reflect['metadata'](_0x5a1d25,_0x36ac44);};function a49_0x1db9(_0x516da5,_0x14e7a6){const _0x35369a=a49_0x3536();return a49_0x1db9=function(_0x1db99f,_0x36190e){_0x1db99f=_0x1db99f-0x161;let _0x34b394=_0x35369a[_0x1db99f];return _0x34b394;},a49_0x1db9(_0x516da5,_0x14e7a6);}Object[a49_0x40aa9e(0x16d)](exports,a49_0x40aa9e(0x16e),{'value':!![]}),exports[a49_0x40aa9e(0x183)]=void 0x0;function a49_0x3536(){const _0x503ceb=['getResponse','object','Catch','defineProperty','__esModule','Exception\x20occurred\x20at\x20','status','__metadata','uploadFile','2761MCeYgN','env','message','5316108nShOtK','stack','119fAKaUH','decorate','244VKmkLl','PI_NAME','HttpException','length','json','715808GVWwuE','getStatus','__decorate','124665iiEPSv','S3ExceptionFilter','590589WDBZSF','LOG_BUCKET_NAME','4338QBiXZA','./s3.service','s3Service','catch','design:paramtypes','toISOString','1166YhOXOK','@nestjs/common','function','.log','26234640pFqyrQ','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','error','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','from'];a49_0x3536=function(){return _0x503ceb;};return a49_0x3536();}const common_1=require(a49_0x40aa9e(0x162)),s3_service_1=require(a49_0x40aa9e(0x187));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x16dbdc){const _0x3ba484=a49_0x40aa9e;this[_0x3ba484(0x188)]=_0x16dbdc;}async[a49_0x40aa9e(0x189)](_0x14c652,_0x4da065){const _0x1c12c7=a49_0x40aa9e,_0xba2aed=_0x4da065['switchToHttp'](),_0x113266=_0xba2aed[_0x1c12c7(0x16a)]();if(_0x14c652 instanceof common_1[_0x1c12c7(0x17c)])_0x113266['status'](_0x14c652[_0x1c12c7(0x180)]())[_0x1c12c7(0x17e)](_0x14c652[_0x1c12c7(0x16a)]());else{const _0x21b53b=new Date()[_0x1c12c7(0x18b)](),_0x1fba3a=_0x1c12c7(0x16f)+_0x21b53b+':\x0a'+_0x14c652[_0x1c12c7(0x177)],_0x430aeb=process[_0x1c12c7(0x174)][_0x1c12c7(0x185)],_0xbc814a=process['env'][_0x1c12c7(0x17b)],_0x3c2a7e='exception-'+_0xbc814a+'-'+_0x21b53b+_0x1c12c7(0x164);try{const _0x509303=await this['s3Service'][_0x1c12c7(0x172)](Buffer[_0x1c12c7(0x169)](_0x1fba3a),_0x430aeb,_0x3c2a7e);console[_0x1c12c7(0x167)](_0x1c12c7(0x168)+_0x509303);}catch(_0xbf3c6){console['error'](_0x1c12c7(0x166)+_0xbf3c6[_0x1c12c7(0x175)]);}_0x113266[_0x1c12c7(0x170)](0x1f4)['json']({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x40aa9e(0x16c)])(),__metadata(a49_0x40aa9e(0x18a),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;