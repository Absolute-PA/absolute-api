'use strict';const a49_0x3651c5=a49_0x3d47;(function(_0x2e48a3,_0x2e3c1d){const _0x93e80a=a49_0x3d47,_0x4d7a9a=_0x2e48a3();while(!![]){try{const _0x5dbd0b=-parseInt(_0x93e80a(0x101))/0x1*(-parseInt(_0x93e80a(0x113))/0x2)+-parseInt(_0x93e80a(0x11f))/0x3+parseInt(_0x93e80a(0xf9))/0x4+parseInt(_0x93e80a(0xf8))/0x5*(-parseInt(_0x93e80a(0xff))/0x6)+-parseInt(_0x93e80a(0x10b))/0x7+parseInt(_0x93e80a(0x10a))/0x8+parseInt(_0x93e80a(0x10c))/0x9;if(_0x5dbd0b===_0x2e3c1d)break;else _0x4d7a9a['push'](_0x4d7a9a['shift']());}catch(_0x4a38e4){_0x4d7a9a['push'](_0x4d7a9a['shift']());}}}(a49_0x33be,0xdff06));var __decorate=this&&this['__decorate']||function(_0x8e3b4a,_0x50271a,_0x544dab,_0x2f8cc1){const _0x19381f=a49_0x3d47;var _0x65675c=arguments['length'],_0x1199e1=_0x65675c<0x3?_0x50271a:_0x2f8cc1===null?_0x2f8cc1=Object[_0x19381f(0x115)](_0x50271a,_0x544dab):_0x2f8cc1,_0x596f10;if(typeof Reflect===_0x19381f(0x107)&&typeof Reflect[_0x19381f(0x100)]===_0x19381f(0x114))_0x1199e1=Reflect[_0x19381f(0x100)](_0x8e3b4a,_0x50271a,_0x544dab,_0x2f8cc1);else{for(var _0xceb580=_0x8e3b4a['length']-0x1;_0xceb580>=0x0;_0xceb580--)if(_0x596f10=_0x8e3b4a[_0xceb580])_0x1199e1=(_0x65675c<0x3?_0x596f10(_0x1199e1):_0x65675c>0x3?_0x596f10(_0x50271a,_0x544dab,_0x1199e1):_0x596f10(_0x50271a,_0x544dab))||_0x1199e1;}return _0x65675c>0x3&&_0x1199e1&&Object['defineProperty'](_0x50271a,_0x544dab,_0x1199e1),_0x1199e1;},__metadata=this&&this['__metadata']||function(_0x28ac77,_0x3d7ef1){const _0xe16b8b=a49_0x3d47;if(typeof Reflect===_0xe16b8b(0x107)&&typeof Reflect[_0xe16b8b(0x110)]==='function')return Reflect['metadata'](_0x28ac77,_0x3d7ef1);};Object[a49_0x3651c5(0x111)](exports,a49_0x3651c5(0x106),{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;function a49_0x33be(){const _0x20e9a7=['4774482iHJOnY','405JiRykr','2743444WbpOWk','catch','message','exception-','.log','./s3.service','56328aVbgxA','decorate','1vrVrjj','from','error','status','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','__esModule','object','json','toISOString','2573768XpdlXv','8123661MnUDLG','21332412lDpRry','S3Service','switchToHttp','Internal\x20Server\x20Error','metadata','defineProperty','LOG_BUCKET_NAME','2103698kUXylB','function','getOwnPropertyDescriptor','s3Service','design:paramtypes','@nestjs/common','HttpException','getResponse','Catch','env','Exception\x20occurred\x20at\x20','stack'];a49_0x33be=function(){return _0x20e9a7;};return a49_0x33be();}const common_1=require(a49_0x3651c5(0x118)),s3_service_1=require(a49_0x3651c5(0xfe));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x51a974){const _0x51942f=a49_0x3651c5;this[_0x51942f(0x116)]=_0x51a974;}async[a49_0x3651c5(0xfa)](_0x4d2d9b,_0x526153){const _0x434a14=a49_0x3651c5,_0x26cb21=_0x526153[_0x434a14(0x10e)](),_0x3c93e0=_0x26cb21[_0x434a14(0x11a)]();if(_0x4d2d9b instanceof common_1[_0x434a14(0x119)])_0x3c93e0[_0x434a14(0x104)](_0x4d2d9b['getStatus']())['json'](_0x4d2d9b[_0x434a14(0x11a)]());else{const _0x1e972e=new Date()[_0x434a14(0x109)](),_0x53b6b8=_0x434a14(0x11d)+_0x1e972e+':\x0a'+_0x4d2d9b[_0x434a14(0x11e)],_0x508e50=process[_0x434a14(0x11c)][_0x434a14(0x112)],_0x175b11=process['env']['PI_NAME'],_0x8b4a8f=_0x434a14(0xfc)+_0x175b11+'-'+_0x1e972e+_0x434a14(0xfd);try{const _0x518b8e=await this[_0x434a14(0x116)]['uploadFile'](Buffer[_0x434a14(0x102)](_0x53b6b8),_0x508e50,_0x8b4a8f);console['error'](_0x434a14(0x105)+_0x518b8e);}catch(_0x3670a5){console[_0x434a14(0x103)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x3670a5[_0x434a14(0xfb)]);}_0x3c93e0[_0x434a14(0x104)](0x1f4)[_0x434a14(0x108)]({'statusCode':0x1f4,'message':_0x434a14(0x10f)});}}};function a49_0x3d47(_0x5ba673,_0x441b58){const _0x33be49=a49_0x33be();return a49_0x3d47=function(_0x3d4725,_0x245f15){_0x3d4725=_0x3d4725-0xf8;let _0x2ffa3a=_0x33be49[_0x3d4725];return _0x2ffa3a;},a49_0x3d47(_0x5ba673,_0x441b58);}S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x3651c5(0x11b)])(),__metadata(a49_0x3651c5(0x117),[s3_service_1[a49_0x3651c5(0x10d)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;