'use strict';const a49_0x9f97cf=a49_0xa0c8;(function(_0x321e8e,_0x1b68f9){const _0x27e738=a49_0xa0c8,_0x1dd61a=_0x321e8e();while(!![]){try{const _0x3c9952=-parseInt(_0x27e738(0x107))/0x1*(parseInt(_0x27e738(0xfe))/0x2)+-parseInt(_0x27e738(0xf5))/0x3*(parseInt(_0x27e738(0x10f))/0x4)+-parseInt(_0x27e738(0x104))/0x5*(-parseInt(_0x27e738(0xfb))/0x6)+-parseInt(_0x27e738(0x10c))/0x7*(-parseInt(_0x27e738(0x109))/0x8)+parseInt(_0x27e738(0xfd))/0x9+-parseInt(_0x27e738(0x100))/0xa*(parseInt(_0x27e738(0xf9))/0xb)+-parseInt(_0x27e738(0xf8))/0xc*(-parseInt(_0x27e738(0x111))/0xd);if(_0x3c9952===_0x1b68f9)break;else _0x1dd61a['push'](_0x1dd61a['shift']());}catch(_0x401540){_0x1dd61a['push'](_0x1dd61a['shift']());}}}(a49_0x4003,0x95e15));var __decorate=this&&this[a49_0x9f97cf(0xf7)]||function(_0x2501ab,_0x21b624,_0x333263,_0x259985){const _0x218b7c=a49_0x9f97cf;var _0x376820=arguments[_0x218b7c(0xf6)],_0x40080b=_0x376820<0x3?_0x21b624:_0x259985===null?_0x259985=Object[_0x218b7c(0x10e)](_0x21b624,_0x333263):_0x259985,_0x1fe478;if(typeof Reflect===_0x218b7c(0xe9)&&typeof Reflect[_0x218b7c(0xeb)]===_0x218b7c(0xe7))_0x40080b=Reflect[_0x218b7c(0xeb)](_0x2501ab,_0x21b624,_0x333263,_0x259985);else{for(var _0x3fb340=_0x2501ab[_0x218b7c(0xf6)]-0x1;_0x3fb340>=0x0;_0x3fb340--)if(_0x1fe478=_0x2501ab[_0x3fb340])_0x40080b=(_0x376820<0x3?_0x1fe478(_0x40080b):_0x376820>0x3?_0x1fe478(_0x21b624,_0x333263,_0x40080b):_0x1fe478(_0x21b624,_0x333263))||_0x40080b;}return _0x376820>0x3&&_0x40080b&&Object[_0x218b7c(0xf4)](_0x21b624,_0x333263,_0x40080b),_0x40080b;},__metadata=this&&this[a49_0x9f97cf(0x101)]||function(_0x56abd3,_0x3bd257){const _0x45c5b4=a49_0x9f97cf;if(typeof Reflect===_0x45c5b4(0xe9)&&typeof Reflect[_0x45c5b4(0xe8)]===_0x45c5b4(0xe7))return Reflect[_0x45c5b4(0xe8)](_0x56abd3,_0x3bd257);};Object[a49_0x9f97cf(0xf4)](exports,'__esModule',{'value':!![]}),exports[a49_0x9f97cf(0xee)]=void 0x0;const common_1=require(a49_0x9f97cf(0xea)),s3_service_1=require('./s3.service');let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x263d1f){const _0x26b226=a49_0x9f97cf;this[_0x26b226(0x10b)]=_0x263d1f;}async['catch'](_0x17134d,_0x39ec6a){const _0x2f2596=a49_0x9f97cf,_0xedc23d=_0x39ec6a[_0x2f2596(0xf0)](),_0x3bd538=_0xedc23d['getResponse']();if(_0x17134d instanceof common_1[_0x2f2596(0xef)])_0x3bd538[_0x2f2596(0x112)](_0x17134d['getStatus']())['json'](_0x17134d[_0x2f2596(0xff)]());else{const _0x4ab79c=new Date()[_0x2f2596(0xf2)](),_0x1fc3aa='Exception\x20occurred\x20at\x20'+_0x4ab79c+':\x0a'+_0x17134d['stack'],_0x227962=process[_0x2f2596(0x10a)][_0x2f2596(0x108)],_0x22ef50=process[_0x2f2596(0x10a)][_0x2f2596(0x10d)],_0x41514b=_0x2f2596(0x106)+_0x22ef50+'-'+_0x4ab79c+'.log';try{const _0x21aea9=await this[_0x2f2596(0x10b)][_0x2f2596(0x110)](Buffer[_0x2f2596(0xf1)](_0x1fc3aa),_0x227962,_0x41514b);console[_0x2f2596(0x105)](_0x2f2596(0xfa)+_0x21aea9);}catch(_0x4582e0){console['error'](_0x2f2596(0x102)+_0x4582e0[_0x2f2596(0xfc)]);}_0x3bd538[_0x2f2596(0x112)](0x1f4)[_0x2f2596(0xec)]({'statusCode':0x1f4,'message':_0x2f2596(0xf3)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x9f97cf(0xed)])(),__metadata(a49_0x9f97cf(0xe6),[s3_service_1[a49_0x9f97cf(0x103)]])],S3ExceptionFilter),exports[a49_0x9f97cf(0xee)]=S3ExceptionFilter;function a49_0xa0c8(_0x2ad58b,_0x55febc){const _0x400396=a49_0x4003();return a49_0xa0c8=function(_0xa0c817,_0x53d6c6){_0xa0c817=_0xa0c817-0xe6;let _0x33504a=_0x400396[_0xa0c817];return _0x33504a;},a49_0xa0c8(_0x2ad58b,_0x55febc);}function a49_0x4003(){const _0x281d39=['1548LJyiap','message','6286338EGRNSA','293434lIVpUq','getResponse','38120CTihmG','__metadata','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','S3Service','11035YQawYD','error','exception-','7lymszP','LOG_BUCKET_NAME','2465256uYyBhV','env','s3Service','7IuZAhS','PI_NAME','getOwnPropertyDescriptor','4sclUaa','uploadFile','793cxPpJD','status','design:paramtypes','function','metadata','object','@nestjs/common','decorate','json','Catch','S3ExceptionFilter','HttpException','switchToHttp','from','toISOString','Internal\x20Server\x20Error','defineProperty','3115974cbtdAn','length','__decorate','339324yQdUkG','1793vwdlvF','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20'];a49_0x4003=function(){return _0x281d39;};return a49_0x4003();}