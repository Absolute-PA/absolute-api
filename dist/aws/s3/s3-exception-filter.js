'use strict';const a49_0x3bc764=a49_0x6f61;(function(_0x26ccea,_0x44cecc){const _0x165b2e=a49_0x6f61,_0x2627a4=_0x26ccea();while(!![]){try{const _0x20fd06=parseInt(_0x165b2e(0x1fc))/0x1+-parseInt(_0x165b2e(0x202))/0x2*(-parseInt(_0x165b2e(0x209))/0x3)+-parseInt(_0x165b2e(0x206))/0x4*(-parseInt(_0x165b2e(0x216))/0x5)+parseInt(_0x165b2e(0x20e))/0x6*(parseInt(_0x165b2e(0x211))/0x7)+-parseInt(_0x165b2e(0x219))/0x8+parseInt(_0x165b2e(0x1f4))/0x9*(-parseInt(_0x165b2e(0x1f8))/0xa)+-parseInt(_0x165b2e(0x200))/0xb;if(_0x20fd06===_0x44cecc)break;else _0x2627a4['push'](_0x2627a4['shift']());}catch(_0x2f6ad6){_0x2627a4['push'](_0x2627a4['shift']());}}}(a49_0x35fe,0xacb6c));function a49_0x35fe(){const _0x34c87f=['object','getResponse','343524rjrhgq','defineProperty','Internal\x20Server\x20Error','3ZyDXwH','./s3.service','.log','getStatus','decorate','7380CCqYwY','env','metadata','7266ZyLWxQ','error','__esModule','catch','__decorate','10XqWFnl','status','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','6995968PZJkGx','uploadFile','__metadata','s3Service','Exception\x20occurred\x20at\x20','function','9WXdmak','json','message','length','5747590FnFoFq','@nestjs/common','design:paramtypes','exception-','127725SDkrpR','S3Service','toISOString','getOwnPropertyDescriptor','1207382lRJdJR','LOG_BUCKET_NAME','1380452WtmUYE','Catch'];a49_0x35fe=function(){return _0x34c87f;};return a49_0x35fe();}var __decorate=this&&this[a49_0x3bc764(0x215)]||function(_0x1ea88e,_0xf94774,_0xb14f0,_0x5e4211){const _0x26594f=a49_0x3bc764;var _0x510a8e=arguments[_0x26594f(0x1f7)],_0x2f73ac=_0x510a8e<0x3?_0xf94774:_0x5e4211===null?_0x5e4211=Object[_0x26594f(0x1ff)](_0xf94774,_0xb14f0):_0x5e4211,_0x4a8ced;if(typeof Reflect===_0x26594f(0x204)&&typeof Reflect[_0x26594f(0x20d)]==='function')_0x2f73ac=Reflect[_0x26594f(0x20d)](_0x1ea88e,_0xf94774,_0xb14f0,_0x5e4211);else{for(var _0x960e22=_0x1ea88e[_0x26594f(0x1f7)]-0x1;_0x960e22>=0x0;_0x960e22--)if(_0x4a8ced=_0x1ea88e[_0x960e22])_0x2f73ac=(_0x510a8e<0x3?_0x4a8ced(_0x2f73ac):_0x510a8e>0x3?_0x4a8ced(_0xf94774,_0xb14f0,_0x2f73ac):_0x4a8ced(_0xf94774,_0xb14f0))||_0x2f73ac;}return _0x510a8e>0x3&&_0x2f73ac&&Object[_0x26594f(0x207)](_0xf94774,_0xb14f0,_0x2f73ac),_0x2f73ac;},__metadata=this&&this[a49_0x3bc764(0x1f0)]||function(_0x10ec31,_0xa7f533){const _0x1b4e38=a49_0x3bc764;if(typeof Reflect===_0x1b4e38(0x204)&&typeof Reflect[_0x1b4e38(0x210)]===_0x1b4e38(0x1f3))return Reflect['metadata'](_0x10ec31,_0xa7f533);};function a49_0x6f61(_0x5256a6,_0x2e115e){const _0x35fe48=a49_0x35fe();return a49_0x6f61=function(_0x6f61ba,_0xa51958){_0x6f61ba=_0x6f61ba-0x1f0;let _0x4322c9=_0x35fe48[_0x6f61ba];return _0x4322c9;},a49_0x6f61(_0x5256a6,_0x2e115e);}Object[a49_0x3bc764(0x207)](exports,a49_0x3bc764(0x213),{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;const common_1=require(a49_0x3bc764(0x1f9)),s3_service_1=require(a49_0x3bc764(0x20a));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x119174){const _0x345228=a49_0x3bc764;this[_0x345228(0x1f1)]=_0x119174;}async[a49_0x3bc764(0x214)](_0x2138ec,_0x403ff3){const _0x34ba45=a49_0x3bc764,_0x16d2ce=_0x403ff3['switchToHttp'](),_0x53dedd=_0x16d2ce[_0x34ba45(0x205)]();if(_0x2138ec instanceof common_1['HttpException'])_0x53dedd[_0x34ba45(0x217)](_0x2138ec[_0x34ba45(0x20c)]())[_0x34ba45(0x1f5)](_0x2138ec[_0x34ba45(0x205)]());else{const _0x114fa3=new Date()[_0x34ba45(0x1fe)](),_0x24a79e=_0x34ba45(0x1f2)+_0x114fa3+':\x0a'+_0x2138ec['stack'],_0x2b9c3f=process[_0x34ba45(0x20f)][_0x34ba45(0x201)],_0x40b59c=process[_0x34ba45(0x20f)]['PI_NAME'],_0xa4a60e=_0x34ba45(0x1fb)+_0x40b59c+'-'+_0x114fa3+_0x34ba45(0x20b);try{const _0x29da37=await this['s3Service'][_0x34ba45(0x21a)](Buffer['from'](_0x24a79e),_0x2b9c3f,_0xa4a60e);console[_0x34ba45(0x212)](_0x34ba45(0x218)+_0x29da37);}catch(_0x20b1f6){console[_0x34ba45(0x212)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x20b1f6[_0x34ba45(0x1f6)]);}_0x53dedd['status'](0x1f4)['json']({'statusCode':0x1f4,'message':_0x34ba45(0x208)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x3bc764(0x203)])(),__metadata(a49_0x3bc764(0x1fa),[s3_service_1[a49_0x3bc764(0x1fd)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;