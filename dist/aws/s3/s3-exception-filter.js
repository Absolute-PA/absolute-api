'use strict';const a49_0x2687b1=a49_0x1598;(function(_0x279494,_0x3fd284){const _0x3aaeb3=a49_0x1598,_0x418cb3=_0x279494();while(!![]){try{const _0xa231ab=parseInt(_0x3aaeb3(0x96))/0x1*(-parseInt(_0x3aaeb3(0x87))/0x2)+-parseInt(_0x3aaeb3(0x8f))/0x3+-parseInt(_0x3aaeb3(0x7b))/0x4+parseInt(_0x3aaeb3(0x7e))/0x5*(-parseInt(_0x3aaeb3(0x9a))/0x6)+-parseInt(_0x3aaeb3(0x7d))/0x7*(-parseInt(_0x3aaeb3(0x84))/0x8)+-parseInt(_0x3aaeb3(0xa0))/0x9+parseInt(_0x3aaeb3(0x79))/0xa;if(_0xa231ab===_0x3fd284)break;else _0x418cb3['push'](_0x418cb3['shift']());}catch(_0x1a5f1c){_0x418cb3['push'](_0x418cb3['shift']());}}}(a49_0x5437,0x23099));var __decorate=this&&this['__decorate']||function(_0x201ad3,_0x2d4676,_0x4a9605,_0x2abf00){const _0x451eac=a49_0x1598;var _0x9e1cb4=arguments[_0x451eac(0x8d)],_0x3d6b3f=_0x9e1cb4<0x3?_0x2d4676:_0x2abf00===null?_0x2abf00=Object[_0x451eac(0x89)](_0x2d4676,_0x4a9605):_0x2abf00,_0x8c53c9;if(typeof Reflect===_0x451eac(0xa1)&&typeof Reflect['decorate']===_0x451eac(0x82))_0x3d6b3f=Reflect[_0x451eac(0x95)](_0x201ad3,_0x2d4676,_0x4a9605,_0x2abf00);else{for(var _0x26faaa=_0x201ad3[_0x451eac(0x8d)]-0x1;_0x26faaa>=0x0;_0x26faaa--)if(_0x8c53c9=_0x201ad3[_0x26faaa])_0x3d6b3f=(_0x9e1cb4<0x3?_0x8c53c9(_0x3d6b3f):_0x9e1cb4>0x3?_0x8c53c9(_0x2d4676,_0x4a9605,_0x3d6b3f):_0x8c53c9(_0x2d4676,_0x4a9605))||_0x3d6b3f;}return _0x9e1cb4>0x3&&_0x3d6b3f&&Object[_0x451eac(0x91)](_0x2d4676,_0x4a9605,_0x3d6b3f),_0x3d6b3f;},__metadata=this&&this['__metadata']||function(_0x155c05,_0x43882){const _0x57e722=a49_0x1598;if(typeof Reflect===_0x57e722(0xa1)&&typeof Reflect[_0x57e722(0x8c)]==='function')return Reflect[_0x57e722(0x8c)](_0x155c05,_0x43882);};Object['defineProperty'](exports,a49_0x2687b1(0x9f),{'value':!![]}),exports[a49_0x2687b1(0x9d)]=void 0x0;function a49_0x1598(_0x34b930,_0xc2f0fb){const _0x5437a9=a49_0x5437();return a49_0x1598=function(_0x159895,_0x1d7275){_0x159895=_0x159895-0x79;let _0x38e021=_0x5437a9[_0x159895];return _0x38e021;},a49_0x1598(_0x34b930,_0xc2f0fb);}const common_1=require(a49_0x2687b1(0x93)),s3_service_1=require(a49_0x2687b1(0x7f));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x450f1f){const _0x25695f=a49_0x2687b1;this[_0x25695f(0x86)]=_0x450f1f;}async[a49_0x2687b1(0x9c)](_0x457333,_0x3c4984){const _0x2db58e=a49_0x2687b1,_0x2c3a63=_0x3c4984['switchToHttp'](),_0x37fb2f=_0x2c3a63['getResponse']();if(_0x457333 instanceof common_1['HttpException'])_0x37fb2f['status'](_0x457333[_0x2db58e(0x90)]())['json'](_0x457333[_0x2db58e(0x85)]());else{const _0x103ff7=new Date()[_0x2db58e(0x8a)](),_0x326133=_0x2db58e(0x99)+_0x103ff7+':\x0a'+_0x457333['stack'],_0x4ff2fd=process['env'][_0x2db58e(0x8e)],_0x3b7c87=process[_0x2db58e(0x94)]['PI_NAME'],_0x487f0=_0x2db58e(0x81)+_0x3b7c87+'-'+_0x103ff7+_0x2db58e(0x7c);try{const _0x59d398=await this[_0x2db58e(0x86)][_0x2db58e(0x7a)](Buffer[_0x2db58e(0x97)](_0x326133),_0x4ff2fd,_0x487f0);console[_0x2db58e(0x92)](_0x2db58e(0x98)+_0x59d398);}catch(_0x4a673b){console[_0x2db58e(0x92)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x4a673b['message']);}_0x37fb2f[_0x2db58e(0x80)](0x1f4)[_0x2db58e(0x9e)]({'statusCode':0x1f4,'message':_0x2db58e(0x8b)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x2687b1(0x88)])(),__metadata(a49_0x2687b1(0x83),[s3_service_1[a49_0x2687b1(0x9b)]])],S3ExceptionFilter),exports[a49_0x2687b1(0x9d)]=S3ExceptionFilter;function a49_0x5437(){const _0x5beeda=['object','5029080ExXsUK','uploadFile','614992tlPXns','.log','1477959uNxQvC','35cvFnfg','./s3.service','status','exception-','function','design:paramtypes','8lXTSMb','getResponse','s3Service','38254ILaEiM','Catch','getOwnPropertyDescriptor','toISOString','Internal\x20Server\x20Error','metadata','length','LOG_BUCKET_NAME','227022zbePwk','getStatus','defineProperty','error','@nestjs/common','env','decorate','11oaQDvk','from','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','Exception\x20occurred\x20at\x20','96990aSYTTm','S3Service','catch','S3ExceptionFilter','json','__esModule','158022bajaay'];a49_0x5437=function(){return _0x5beeda;};return a49_0x5437();}