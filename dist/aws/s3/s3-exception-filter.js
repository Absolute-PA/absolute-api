'use strict';const a49_0x485c4d=a49_0x2761;function a49_0x2761(_0x41f8c9,_0x281355){const _0x43f2f3=a49_0x43f2();return a49_0x2761=function(_0x276144,_0xe05058){_0x276144=_0x276144-0x121;let _0x57982e=_0x43f2f3[_0x276144];return _0x57982e;},a49_0x2761(_0x41f8c9,_0x281355);}(function(_0x4fe73b,_0x113c55){const _0x15dbf0=a49_0x2761,_0x50654e=_0x4fe73b();while(!![]){try{const _0x1a6a63=parseInt(_0x15dbf0(0x148))/0x1+-parseInt(_0x15dbf0(0x147))/0x2+parseInt(_0x15dbf0(0x137))/0x3*(-parseInt(_0x15dbf0(0x128))/0x4)+parseInt(_0x15dbf0(0x139))/0x5*(parseInt(_0x15dbf0(0x12b))/0x6)+-parseInt(_0x15dbf0(0x138))/0x7+parseInt(_0x15dbf0(0x13e))/0x8+parseInt(_0x15dbf0(0x132))/0x9*(parseInt(_0x15dbf0(0x144))/0xa);if(_0x1a6a63===_0x113c55)break;else _0x50654e['push'](_0x50654e['shift']());}catch(_0x25f1f4){_0x50654e['push'](_0x50654e['shift']());}}}(a49_0x43f2,0x9798a));var __decorate=this&&this[a49_0x485c4d(0x12c)]||function(_0x280b99,_0x16eb7b,_0x5f2865,_0x244b8f){const _0x5cafb9=a49_0x485c4d;var _0x69db4d=arguments['length'],_0x2ca1fc=_0x69db4d<0x3?_0x16eb7b:_0x244b8f===null?_0x244b8f=Object[_0x5cafb9(0x133)](_0x16eb7b,_0x5f2865):_0x244b8f,_0x12f4f7;if(typeof Reflect===_0x5cafb9(0x14c)&&typeof Reflect[_0x5cafb9(0x13f)]==='function')_0x2ca1fc=Reflect[_0x5cafb9(0x13f)](_0x280b99,_0x16eb7b,_0x5f2865,_0x244b8f);else{for(var _0x110aa4=_0x280b99[_0x5cafb9(0x124)]-0x1;_0x110aa4>=0x0;_0x110aa4--)if(_0x12f4f7=_0x280b99[_0x110aa4])_0x2ca1fc=(_0x69db4d<0x3?_0x12f4f7(_0x2ca1fc):_0x69db4d>0x3?_0x12f4f7(_0x16eb7b,_0x5f2865,_0x2ca1fc):_0x12f4f7(_0x16eb7b,_0x5f2865))||_0x2ca1fc;}return _0x69db4d>0x3&&_0x2ca1fc&&Object[_0x5cafb9(0x145)](_0x16eb7b,_0x5f2865,_0x2ca1fc),_0x2ca1fc;},__metadata=this&&this[a49_0x485c4d(0x142)]||function(_0x12765c,_0x12f838){const _0xec686e=a49_0x485c4d;if(typeof Reflect===_0xec686e(0x14c)&&typeof Reflect[_0xec686e(0x13b)]===_0xec686e(0x141))return Reflect[_0xec686e(0x13b)](_0x12765c,_0x12f838);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['S3ExceptionFilter']=void 0x0;const common_1=require(a49_0x485c4d(0x13d)),s3_service_1=require('./s3.service');let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x581d5e){const _0x48e3f0=a49_0x485c4d;this[_0x48e3f0(0x12d)]=_0x581d5e;}async[a49_0x485c4d(0x12f)](_0x1d25e9,_0x271dff){const _0xbb0843=a49_0x485c4d,_0x5594b1=_0x271dff[_0xbb0843(0x121)](),_0x1e348f=_0x5594b1[_0xbb0843(0x13a)]();if(_0x1d25e9 instanceof common_1['HttpException'])_0x1e348f['status'](_0x1d25e9[_0xbb0843(0x129)]())[_0xbb0843(0x149)](_0x1d25e9[_0xbb0843(0x13a)]());else{const _0x5c4847=new Date()[_0xbb0843(0x13c)](),_0x5b803a=_0xbb0843(0x127)+_0x5c4847+':\x0a'+_0x1d25e9[_0xbb0843(0x123)],_0x2a33a3=process[_0xbb0843(0x14b)]['LOG_BUCKET_NAME'],_0x4c9d18=process[_0xbb0843(0x14b)][_0xbb0843(0x125)],_0x17564d=_0xbb0843(0x134)+_0x4c9d18+'-'+_0x5c4847+_0xbb0843(0x146);try{const _0x2e06ce=await this[_0xbb0843(0x12d)][_0xbb0843(0x126)](Buffer[_0xbb0843(0x131)](_0x5b803a),_0x2a33a3,_0x17564d);console[_0xbb0843(0x12e)](_0xbb0843(0x143)+_0x2e06ce);}catch(_0x5db0ec){console[_0xbb0843(0x12e)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x5db0ec[_0xbb0843(0x12a)]);}_0x1e348f[_0xbb0843(0x122)](0x1f4)['json']({'statusCode':0x1f4,'message':_0xbb0843(0x140)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x485c4d(0x136)])(),__metadata(a49_0x485c4d(0x130),[s3_service_1[a49_0x485c4d(0x14a)]])],S3ExceptionFilter),exports[a49_0x485c4d(0x135)]=S3ExceptionFilter;function a49_0x43f2(){const _0x5a3ead=['decorate','Internal\x20Server\x20Error','function','__metadata','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','26310XAcrMd','defineProperty','.log','1663052HsQKdX','721198UAIWrg','json','S3Service','env','object','switchToHttp','status','stack','length','PI_NAME','uploadFile','Exception\x20occurred\x20at\x20','4onhqqq','getStatus','message','48MDilGY','__decorate','s3Service','error','catch','design:paramtypes','from','2637ynTnpM','getOwnPropertyDescriptor','exception-','S3ExceptionFilter','Catch','314913eldvDq','4303054skDIaO','108590wtvgbJ','getResponse','metadata','toISOString','@nestjs/common','4050656veDUdx'];a49_0x43f2=function(){return _0x5a3ead;};return a49_0x43f2();}