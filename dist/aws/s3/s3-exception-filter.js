'use strict';const a49_0x22d6d4=a49_0x1bcf;(function(_0x5e4347,_0x55870b){const _0x56f787=a49_0x1bcf,_0x5c18dd=_0x5e4347();while(!![]){try{const _0x1dd9f2=-parseInt(_0x56f787(0x15d))/0x1+parseInt(_0x56f787(0x155))/0x2*(parseInt(_0x56f787(0x15c))/0x3)+parseInt(_0x56f787(0x167))/0x4+-parseInt(_0x56f787(0x146))/0x5*(parseInt(_0x56f787(0x147))/0x6)+-parseInt(_0x56f787(0x154))/0x7*(parseInt(_0x56f787(0x153))/0x8)+parseInt(_0x56f787(0x16a))/0x9+parseInt(_0x56f787(0x149))/0xa;if(_0x1dd9f2===_0x55870b)break;else _0x5c18dd['push'](_0x5c18dd['shift']());}catch(_0xbfae63){_0x5c18dd['push'](_0x5c18dd['shift']());}}}(a49_0xedac,0xde698));function a49_0xedac(){const _0x3d62a0=['Internal\x20Server\x20Error','s3Service','S3ExceptionFilter','toISOString','269718qKJItJ','1777151mvoWWl','__decorate','exception-','getOwnPropertyDescriptor','LOG_BUCKET_NAME','error','status','Exception\x20occurred\x20at\x20','env','catch','5081792DeNdPH','function','defineProperty','10968579iioweG','length','message','decorate','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','design:paramtypes','168085PhCQNv','174rRRvhl','object','19270690huKsGa','metadata','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','PI_NAME','json','__metadata','@nestjs/common','Catch','__esModule','getResponse','64iwuTXx','1445731kjepGl','20SQURHi','stack','uploadFile'];a49_0xedac=function(){return _0x3d62a0;};return a49_0xedac();}function a49_0x1bcf(_0x459560,_0x234682){const _0xedac3a=a49_0xedac();return a49_0x1bcf=function(_0x1bcf2e,_0x1b5af8){_0x1bcf2e=_0x1bcf2e-0x144;let _0x46ce69=_0xedac3a[_0x1bcf2e];return _0x46ce69;},a49_0x1bcf(_0x459560,_0x234682);}var __decorate=this&&this[a49_0x22d6d4(0x15e)]||function(_0x7e09a2,_0x314bb2,_0x142951,_0xd7dba5){const _0x282a1e=a49_0x22d6d4;var _0x4fe3a1=arguments[_0x282a1e(0x16b)],_0x2eb99e=_0x4fe3a1<0x3?_0x314bb2:_0xd7dba5===null?_0xd7dba5=Object[_0x282a1e(0x160)](_0x314bb2,_0x142951):_0xd7dba5,_0xa8b8b8;if(typeof Reflect===_0x282a1e(0x148)&&typeof Reflect[_0x282a1e(0x16d)]==='function')_0x2eb99e=Reflect[_0x282a1e(0x16d)](_0x7e09a2,_0x314bb2,_0x142951,_0xd7dba5);else{for(var _0x1e00f7=_0x7e09a2['length']-0x1;_0x1e00f7>=0x0;_0x1e00f7--)if(_0xa8b8b8=_0x7e09a2[_0x1e00f7])_0x2eb99e=(_0x4fe3a1<0x3?_0xa8b8b8(_0x2eb99e):_0x4fe3a1>0x3?_0xa8b8b8(_0x314bb2,_0x142951,_0x2eb99e):_0xa8b8b8(_0x314bb2,_0x142951))||_0x2eb99e;}return _0x4fe3a1>0x3&&_0x2eb99e&&Object[_0x282a1e(0x169)](_0x314bb2,_0x142951,_0x2eb99e),_0x2eb99e;},__metadata=this&&this[a49_0x22d6d4(0x14e)]||function(_0x1ef3ac,_0x112608){const _0x146efb=a49_0x22d6d4;if(typeof Reflect===_0x146efb(0x148)&&typeof Reflect['metadata']===_0x146efb(0x168))return Reflect[_0x146efb(0x14a)](_0x1ef3ac,_0x112608);};Object[a49_0x22d6d4(0x169)](exports,a49_0x22d6d4(0x151),{'value':!![]}),exports[a49_0x22d6d4(0x15a)]=void 0x0;const common_1=require(a49_0x22d6d4(0x14f)),s3_service_1=require('./s3.service');let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x2ae0aa){this['s3Service']=_0x2ae0aa;}async[a49_0x22d6d4(0x166)](_0x3168b0,_0x4f19c1){const _0x41ea34=a49_0x22d6d4,_0x4255d4=_0x4f19c1['switchToHttp'](),_0x508b41=_0x4255d4['getResponse']();if(_0x3168b0 instanceof common_1['HttpException'])_0x508b41[_0x41ea34(0x163)](_0x3168b0['getStatus']())['json'](_0x3168b0[_0x41ea34(0x152)]());else{const _0x5979fa=new Date()[_0x41ea34(0x15b)](),_0x59a4b6=_0x41ea34(0x164)+_0x5979fa+':\x0a'+_0x3168b0[_0x41ea34(0x156)],_0x2a2bb4=process['env'][_0x41ea34(0x161)],_0x529e4f=process[_0x41ea34(0x165)][_0x41ea34(0x14c)],_0x26aeb3=_0x41ea34(0x15f)+_0x529e4f+'-'+_0x5979fa+'.log';try{const _0x1553cb=await this[_0x41ea34(0x159)][_0x41ea34(0x157)](Buffer['from'](_0x59a4b6),_0x2a2bb4,_0x26aeb3);console[_0x41ea34(0x162)](_0x41ea34(0x14b)+_0x1553cb);}catch(_0x399516){console[_0x41ea34(0x162)](_0x41ea34(0x144)+_0x399516[_0x41ea34(0x16c)]);}_0x508b41[_0x41ea34(0x163)](0x1f4)[_0x41ea34(0x14d)]({'statusCode':0x1f4,'message':_0x41ea34(0x158)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x22d6d4(0x150)])(),__metadata(a49_0x22d6d4(0x145),[s3_service_1['S3Service']])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;