'use strict';const a49_0x4a3425=a49_0x197c;(function(_0x2cd47c,_0x5c173b){const _0x1c764a=a49_0x197c,_0x56b21a=_0x2cd47c();while(!![]){try{const _0x46a2c9=-parseInt(_0x1c764a(0x137))/0x1+-parseInt(_0x1c764a(0x146))/0x2+-parseInt(_0x1c764a(0x148))/0x3*(-parseInt(_0x1c764a(0x135))/0x4)+-parseInt(_0x1c764a(0x143))/0x5+-parseInt(_0x1c764a(0x13b))/0x6*(parseInt(_0x1c764a(0x145))/0x7)+parseInt(_0x1c764a(0x134))/0x8*(-parseInt(_0x1c764a(0x14f))/0x9)+parseInt(_0x1c764a(0x13c))/0xa;if(_0x46a2c9===_0x5c173b)break;else _0x56b21a['push'](_0x56b21a['shift']());}catch(_0x14411a){_0x56b21a['push'](_0x56b21a['shift']());}}}(a49_0x35b2,0x43f76));function a49_0x197c(_0x403b09,_0x2caeb6){const _0x35b21b=a49_0x35b2();return a49_0x197c=function(_0x197c67,_0x209201){_0x197c67=_0x197c67-0x12d;let _0x202ded=_0x35b21b[_0x197c67];return _0x202ded;},a49_0x197c(_0x403b09,_0x2caeb6);}var __decorate=this&&this[a49_0x4a3425(0x157)]||function(_0x33e739,_0x4a358e,_0x31322f,_0x1ffd1f){const _0x5c8bdb=a49_0x4a3425;var _0x5cba1f=arguments[_0x5c8bdb(0x138)],_0x3c278d=_0x5cba1f<0x3?_0x4a358e:_0x1ffd1f===null?_0x1ffd1f=Object[_0x5c8bdb(0x136)](_0x4a358e,_0x31322f):_0x1ffd1f,_0x187fa6;if(typeof Reflect===_0x5c8bdb(0x13a)&&typeof Reflect[_0x5c8bdb(0x14c)]===_0x5c8bdb(0x14e))_0x3c278d=Reflect[_0x5c8bdb(0x14c)](_0x33e739,_0x4a358e,_0x31322f,_0x1ffd1f);else{for(var _0x1f3410=_0x33e739[_0x5c8bdb(0x138)]-0x1;_0x1f3410>=0x0;_0x1f3410--)if(_0x187fa6=_0x33e739[_0x1f3410])_0x3c278d=(_0x5cba1f<0x3?_0x187fa6(_0x3c278d):_0x5cba1f>0x3?_0x187fa6(_0x4a358e,_0x31322f,_0x3c278d):_0x187fa6(_0x4a358e,_0x31322f))||_0x3c278d;}return _0x5cba1f>0x3&&_0x3c278d&&Object['defineProperty'](_0x4a358e,_0x31322f,_0x3c278d),_0x3c278d;},__metadata=this&&this[a49_0x4a3425(0x150)]||function(_0x14ca8f,_0x568d56){const _0x1ce7b0=a49_0x4a3425;if(typeof Reflect===_0x1ce7b0(0x13a)&&typeof Reflect['metadata']==='function')return Reflect[_0x1ce7b0(0x154)](_0x14ca8f,_0x568d56);};Object[a49_0x4a3425(0x14a)](exports,a49_0x4a3425(0x155),{'value':!![]}),exports[a49_0x4a3425(0x140)]=void 0x0;function a49_0x35b2(){const _0x16d6ab=['getResponse','message','S3ExceptionFilter','from','env','1675870yFmONh','LOG_BUCKET_NAME','2893009DeiTZr','50450ZQwAqi','json','528414kAjXME','getStatus','defineProperty','@nestjs/common','decorate','uploadFile','function','9YMzvXF','__metadata','s3Service','error','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','metadata','__esModule','HttpException','__decorate','./s3.service','exception-','status','S3Service','switchToHttp','Exception\x20occurred\x20at\x20','catch','PI_NAME','735152mdPypn','12VRTlQb','getOwnPropertyDescriptor','351370fJBnrw','length','Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20','object','6UDmNEm','9669260nyEPEP','.log'];a49_0x35b2=function(){return _0x16d6ab;};return a49_0x35b2();}const common_1=require(a49_0x4a3425(0x14b)),s3_service_1=require(a49_0x4a3425(0x158));let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x40d6fa){const _0x596930=a49_0x4a3425;this[_0x596930(0x151)]=_0x40d6fa;}async[a49_0x4a3425(0x132)](_0x95bde8,_0x527ea2){const _0xd107aa=a49_0x4a3425,_0x358588=_0x527ea2[_0xd107aa(0x130)](),_0x5f14fb=_0x358588[_0xd107aa(0x13e)]();if(_0x95bde8 instanceof common_1[_0xd107aa(0x156)])_0x5f14fb[_0xd107aa(0x12e)](_0x95bde8[_0xd107aa(0x149)]())[_0xd107aa(0x147)](_0x95bde8['getResponse']());else{const _0x3bed1f=new Date()['toISOString'](),_0x24fd56=_0xd107aa(0x131)+_0x3bed1f+':\x0a'+_0x95bde8['stack'],_0x51cde8=process['env'][_0xd107aa(0x144)],_0x100207=process[_0xd107aa(0x142)][_0xd107aa(0x133)],_0x4c218f=_0xd107aa(0x12d)+_0x100207+'-'+_0x3bed1f+_0xd107aa(0x13d);try{const _0x229048=await this[_0xd107aa(0x151)][_0xd107aa(0x14d)](Buffer[_0xd107aa(0x141)](_0x24fd56),_0x51cde8,_0x4c218f);console[_0xd107aa(0x152)](_0xd107aa(0x153)+_0x229048);}catch(_0x1bdaec){console[_0xd107aa(0x152)](_0xd107aa(0x139)+_0x1bdaec[_0xd107aa(0x13f)]);}_0x5f14fb[_0xd107aa(0x12e)](0x1f4)[_0xd107aa(0x147)]({'statusCode':0x1f4,'message':'Internal\x20Server\x20Error'});}}};S3ExceptionFilter=__decorate([(0x0,common_1['Catch'])(),__metadata('design:paramtypes',[s3_service_1[a49_0x4a3425(0x12f)]])],S3ExceptionFilter),exports[a49_0x4a3425(0x140)]=S3ExceptionFilter;