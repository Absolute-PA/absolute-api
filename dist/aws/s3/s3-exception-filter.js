'use strict';const a49_0x215fb7=a49_0x3fa0;(function(_0x4a1f07,_0x1ab0a4){const _0x36ad43=a49_0x3fa0,_0x60c587=_0x4a1f07();while(!![]){try{const _0x187cbb=-parseInt(_0x36ad43(0xce))/0x1*(-parseInt(_0x36ad43(0xcf))/0x2)+-parseInt(_0x36ad43(0xec))/0x3*(parseInt(_0x36ad43(0xda))/0x4)+-parseInt(_0x36ad43(0xf4))/0x5*(parseInt(_0x36ad43(0xdf))/0x6)+parseInt(_0x36ad43(0xf2))/0x7*(-parseInt(_0x36ad43(0xd7))/0x8)+-parseInt(_0x36ad43(0xf0))/0x9+-parseInt(_0x36ad43(0xeb))/0xa+parseInt(_0x36ad43(0xf6))/0xb;if(_0x187cbb===_0x1ab0a4)break;else _0x60c587['push'](_0x60c587['shift']());}catch(_0xab426c){_0x60c587['push'](_0x60c587['shift']());}}}(a49_0x3510,0x5a19e));function a49_0x3fa0(_0x2d75f4,_0x23d31f){const _0x351023=a49_0x3510();return a49_0x3fa0=function(_0x3fa099,_0x1a012f){_0x3fa099=_0x3fa099-0xcd;let _0x524db8=_0x351023[_0x3fa099];return _0x524db8;},a49_0x3fa0(_0x2d75f4,_0x23d31f);}var __decorate=this&&this[a49_0x215fb7(0xde)]||function(_0x15c125,_0x1279de,_0x369431,_0x450df3){const _0x14356a=a49_0x215fb7;var _0xbf4ce1=arguments[_0x14356a(0xdc)],_0x224e0a=_0xbf4ce1<0x3?_0x1279de:_0x450df3===null?_0x450df3=Object[_0x14356a(0xf7)](_0x1279de,_0x369431):_0x450df3,_0x1418db;if(typeof Reflect===_0x14356a(0xed)&&typeof Reflect[_0x14356a(0xe9)]===_0x14356a(0xd9))_0x224e0a=Reflect[_0x14356a(0xe9)](_0x15c125,_0x1279de,_0x369431,_0x450df3);else{for(var _0x38261c=_0x15c125[_0x14356a(0xdc)]-0x1;_0x38261c>=0x0;_0x38261c--)if(_0x1418db=_0x15c125[_0x38261c])_0x224e0a=(_0xbf4ce1<0x3?_0x1418db(_0x224e0a):_0xbf4ce1>0x3?_0x1418db(_0x1279de,_0x369431,_0x224e0a):_0x1418db(_0x1279de,_0x369431))||_0x224e0a;}return _0xbf4ce1>0x3&&_0x224e0a&&Object[_0x14356a(0xd3)](_0x1279de,_0x369431,_0x224e0a),_0x224e0a;},__metadata=this&&this[a49_0x215fb7(0xe3)]||function(_0x170b0a,_0x9ff642){const _0x2791cf=a49_0x215fb7;if(typeof Reflect===_0x2791cf(0xed)&&typeof Reflect[_0x2791cf(0xd0)]===_0x2791cf(0xd9))return Reflect[_0x2791cf(0xd0)](_0x170b0a,_0x9ff642);};Object['defineProperty'](exports,a49_0x215fb7(0xd4),{'value':!![]}),exports[a49_0x215fb7(0xe2)]=void 0x0;const common_1=require('@nestjs/common'),s3_service_1=require(a49_0x215fb7(0xd8));function a49_0x3510(){const _0x44ca6b=['status','decorate','S3Service','6831730uxinqd','3EgLBse','object','PI_NAME','getStatus','2551977CPAYar','Catch','1989995bZCpkx','catch','10arLsMp','.log','18871754njuZkx','getOwnPropertyDescriptor','error','2mFsHjX','346282NaIMXA','metadata','from','uploadFile','defineProperty','__esModule','stack','env','8PqstOI','./s3.service','function','816076slUZuy','s3Service','length','LOG_BUCKET_NAME','__decorate','713436lHGpqF','Exception\x20logged\x20and\x20uploaded\x20to\x20S3:\x20','exception-','S3ExceptionFilter','__metadata','HttpException','Internal\x20Server\x20Error','getResponse','json'];a49_0x3510=function(){return _0x44ca6b;};return a49_0x3510();}let S3ExceptionFilter=class S3ExceptionFilter{constructor(_0x85d8bc){const _0x834814=a49_0x215fb7;this[_0x834814(0xdb)]=_0x85d8bc;}async[a49_0x215fb7(0xf3)](_0x4e6cc1,_0x4ba55e){const _0x1956e9=a49_0x215fb7,_0x3e36ff=_0x4ba55e['switchToHttp'](),_0x5c6743=_0x3e36ff[_0x1956e9(0xe6)]();if(_0x4e6cc1 instanceof common_1[_0x1956e9(0xe4)])_0x5c6743[_0x1956e9(0xe8)](_0x4e6cc1[_0x1956e9(0xef)]())[_0x1956e9(0xe7)](_0x4e6cc1[_0x1956e9(0xe6)]());else{const _0x2e0d2f=new Date()['toISOString'](),_0x11eba5='Exception\x20occurred\x20at\x20'+_0x2e0d2f+':\x0a'+_0x4e6cc1[_0x1956e9(0xd5)],_0x20b064=process[_0x1956e9(0xd6)][_0x1956e9(0xdd)],_0x550449=process[_0x1956e9(0xd6)][_0x1956e9(0xee)],_0x15a7af=_0x1956e9(0xe1)+_0x550449+'-'+_0x2e0d2f+_0x1956e9(0xf5);try{const _0x4424b8=await this['s3Service'][_0x1956e9(0xd2)](Buffer[_0x1956e9(0xd1)](_0x11eba5),_0x20b064,_0x15a7af);console[_0x1956e9(0xcd)](_0x1956e9(0xe0)+_0x4424b8);}catch(_0x2b41b4){console[_0x1956e9(0xcd)]('Failed\x20to\x20upload\x20exception\x20log\x20to\x20S3:\x20'+_0x2b41b4['message']);}_0x5c6743[_0x1956e9(0xe8)](0x1f4)[_0x1956e9(0xe7)]({'statusCode':0x1f4,'message':_0x1956e9(0xe5)});}}};S3ExceptionFilter=__decorate([(0x0,common_1[a49_0x215fb7(0xf1)])(),__metadata('design:paramtypes',[s3_service_1[a49_0x215fb7(0xea)]])],S3ExceptionFilter),exports['S3ExceptionFilter']=S3ExceptionFilter;