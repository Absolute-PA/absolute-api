'use strict';function a26_0x310b(){const _0x54d532=['Injectable','find','__param','__esModule','InjectModel','__metadata','design:paramtypes','length','@nestjs/common','getOwnPropertyDescriptor','auditModel','exec','ceil','1187681wNFVqw','decorate','create','__decorate','countDocuments','27563oyhqOT','4165694vOiAat','234451hOjijI','10uhJnlo','32BdCNrE','map','56gGjqic','metadata','object','function','22WCNCFA','119778bQowzg','2962494ciObdN','18dHlSLd','12FPeYwL','653750dKeAVr','mapToAuditDto','AuditService','skip'];a26_0x310b=function(){return _0x54d532;};return a26_0x310b();}const a26_0x291025=a26_0x4d28;(function(_0x238aa7,_0x4bb816){const _0x53576e=a26_0x4d28,_0x173bde=_0x238aa7();while(!![]){try{const _0x1ed878=-parseInt(_0x53576e(0xa4))/0x1*(-parseInt(_0x53576e(0xae))/0x2)+-parseInt(_0x53576e(0xaf))/0x3*(parseInt(_0x53576e(0xa8))/0x4)+-parseInt(_0x53576e(0xb3))/0x5*(-parseInt(_0x53576e(0xb1))/0x6)+-parseInt(_0x53576e(0xa6))/0x7*(parseInt(_0x53576e(0xaa))/0x8)+parseInt(_0x53576e(0xb0))/0x9+-parseInt(_0x53576e(0xa7))/0xa*(-parseInt(_0x53576e(0x9f))/0xb)+parseInt(_0x53576e(0xb2))/0xc*(-parseInt(_0x53576e(0xa5))/0xd);if(_0x1ed878===_0x4bb816)break;else _0x173bde['push'](_0x173bde['shift']());}catch(_0x2121af){_0x173bde['push'](_0x173bde['shift']());}}}(a26_0x310b,0x3f0eb));function a26_0x4d28(_0x2a50d3,_0x1e6462){const _0x310b6d=a26_0x310b();return a26_0x4d28=function(_0x4d283d,_0x22a96a){_0x4d283d=_0x4d283d-0x9d;let _0x2b88b0=_0x310b6d[_0x4d283d];return _0x2b88b0;},a26_0x4d28(_0x2a50d3,_0x1e6462);}var __decorate=this&&this[a26_0x291025(0xa2)]||function(_0x2ca040,_0x10ab24,_0xaee659,_0x2c9ab3){const _0x3d25a3=a26_0x291025;var _0x368835=arguments[_0x3d25a3(0xbe)],_0x2e2a36=_0x368835<0x3?_0x10ab24:_0x2c9ab3===null?_0x2c9ab3=Object[_0x3d25a3(0xc0)](_0x10ab24,_0xaee659):_0x2c9ab3,_0x1f5edb;if(typeof Reflect===_0x3d25a3(0xac)&&typeof Reflect[_0x3d25a3(0xa0)]==='function')_0x2e2a36=Reflect['decorate'](_0x2ca040,_0x10ab24,_0xaee659,_0x2c9ab3);else{for(var _0x16d938=_0x2ca040[_0x3d25a3(0xbe)]-0x1;_0x16d938>=0x0;_0x16d938--)if(_0x1f5edb=_0x2ca040[_0x16d938])_0x2e2a36=(_0x368835<0x3?_0x1f5edb(_0x2e2a36):_0x368835>0x3?_0x1f5edb(_0x10ab24,_0xaee659,_0x2e2a36):_0x1f5edb(_0x10ab24,_0xaee659))||_0x2e2a36;}return _0x368835>0x3&&_0x2e2a36&&Object['defineProperty'](_0x10ab24,_0xaee659,_0x2e2a36),_0x2e2a36;},__metadata=this&&this[a26_0x291025(0xbc)]||function(_0x377d6e,_0x131266){const _0x5059dd=a26_0x291025;if(typeof Reflect===_0x5059dd(0xac)&&typeof Reflect['metadata']===_0x5059dd(0xad))return Reflect[_0x5059dd(0xab)](_0x377d6e,_0x131266);},__param=this&&this[a26_0x291025(0xb9)]||function(_0x4a11f6,_0x5ac840){return function(_0x33a3c4,_0x4f56b5){_0x5ac840(_0x33a3c4,_0x4f56b5,_0x4a11f6);};};Object['defineProperty'](exports,a26_0x291025(0xba),{'value':!![]}),exports['AuditService']=void 0x0;const common_1=require(a26_0x291025(0xbf)),mongoose_1=require('@nestjs/mongoose'),mongoose_2=require('mongoose'),mappers_1=require('./mappers');let AuditService=class AuditService{constructor(_0xfada4f){const _0x347644=a26_0x291025;this[_0x347644(0xc1)]=_0xfada4f;}async[a26_0x291025(0xa1)](_0x5ac45c){const _0x237e07=a26_0x291025,_0x63b3af=await this['auditModel'][_0x237e07(0xa1)](_0x5ac45c);return _0x63b3af['save']();}async['findAuditsPaginated'](_0x590e94=0x1,_0x23c6e7=0x1e){const _0x5c07db=a26_0x291025,_0x2b6476=_0x23c6e7*(_0x590e94-0x1),_0x5660b3=await this[_0x5c07db(0xc1)][_0x5c07db(0xa3)](),_0x2fb530=Math[_0x5c07db(0x9e)](_0x5660b3/_0x23c6e7),_0xa4e9b8=await this[_0x5c07db(0xc1)][_0x5c07db(0xb8)]()['sort']({'createdAtUtc':-0x1})[_0x5c07db(0xb6)](_0x2b6476)['limit'](_0x23c6e7)[_0x5c07db(0x9d)]();return{'data':_0xa4e9b8[_0x5c07db(0xa9)](mappers_1[_0x5c07db(0xb4)]),'totalItems':_0x5660b3,'currentPage':_0x590e94,'totalPages':_0x2fb530};}};AuditService=__decorate([(0x0,common_1[a26_0x291025(0xb7)])(),__param(0x0,(0x0,mongoose_1[a26_0x291025(0xbb)])('Audit')),__metadata(a26_0x291025(0xbd),[mongoose_2['Model']])],AuditService),exports[a26_0x291025(0xb5)]=AuditService;