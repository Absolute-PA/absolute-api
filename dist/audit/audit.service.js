'use strict';const a26_0x10548e=a26_0x482d;function a26_0x482d(_0x2f98bd,_0x4b8405){const _0xc66d17=a26_0xc66d();return a26_0x482d=function(_0x482dcb,_0x181ab1){_0x482dcb=_0x482dcb-0x12a;let _0x5edc64=_0xc66d17[_0x482dcb];return _0x5edc64;},a26_0x482d(_0x2f98bd,_0x4b8405);}(function(_0x5752ad,_0x1f240d){const _0x49e62c=a26_0x482d,_0x38ddc7=_0x5752ad();while(!![]){try{const _0x5430eb=-parseInt(_0x49e62c(0x133))/0x1+parseInt(_0x49e62c(0x13b))/0x2+parseInt(_0x49e62c(0x12e))/0x3+parseInt(_0x49e62c(0x13d))/0x4+-parseInt(_0x49e62c(0x12a))/0x5+parseInt(_0x49e62c(0x132))/0x6+-parseInt(_0x49e62c(0x146))/0x7;if(_0x5430eb===_0x1f240d)break;else _0x38ddc7['push'](_0x38ddc7['shift']());}catch(_0x41b017){_0x38ddc7['push'](_0x38ddc7['shift']());}}}(a26_0xc66d,0x87e05));var __decorate=this&&this[a26_0x10548e(0x142)]||function(_0x325d8c,_0x1e0b4a,_0x4d45a4,_0x10c1c8){const _0x16dce8=a26_0x10548e;var _0x456ec8=arguments[_0x16dce8(0x12f)],_0x4231c3=_0x456ec8<0x3?_0x1e0b4a:_0x10c1c8===null?_0x10c1c8=Object[_0x16dce8(0x147)](_0x1e0b4a,_0x4d45a4):_0x10c1c8,_0x1efeb7;if(typeof Reflect==='object'&&typeof Reflect[_0x16dce8(0x134)]===_0x16dce8(0x140))_0x4231c3=Reflect[_0x16dce8(0x134)](_0x325d8c,_0x1e0b4a,_0x4d45a4,_0x10c1c8);else{for(var _0x42dc89=_0x325d8c[_0x16dce8(0x12f)]-0x1;_0x42dc89>=0x0;_0x42dc89--)if(_0x1efeb7=_0x325d8c[_0x42dc89])_0x4231c3=(_0x456ec8<0x3?_0x1efeb7(_0x4231c3):_0x456ec8>0x3?_0x1efeb7(_0x1e0b4a,_0x4d45a4,_0x4231c3):_0x1efeb7(_0x1e0b4a,_0x4d45a4))||_0x4231c3;}return _0x456ec8>0x3&&_0x4231c3&&Object[_0x16dce8(0x149)](_0x1e0b4a,_0x4d45a4,_0x4231c3),_0x4231c3;},__metadata=this&&this[a26_0x10548e(0x13e)]||function(_0x23b48f,_0x2807b0){const _0x427d8b=a26_0x10548e;if(typeof Reflect===_0x427d8b(0x13f)&&typeof Reflect[_0x427d8b(0x144)]===_0x427d8b(0x140))return Reflect['metadata'](_0x23b48f,_0x2807b0);},__param=this&&this['__param']||function(_0x1984b9,_0xb0bbd2){return function(_0x3491dc,_0x18735a){_0xb0bbd2(_0x3491dc,_0x18735a,_0x1984b9);};};function a26_0xc66d(){const _0x2b7fb7=['@nestjs/common','design:paramtypes','create','InjectModel','1918852WzvIWy','countDocuments','2942508YNoezq','__metadata','object','function','Injectable','__decorate','AuditService','metadata','Model','7731962oLuqZI','getOwnPropertyDescriptor','findAuditsPaginated','defineProperty','4846125zPIRWi','find','ceil','sort','3316536SjfiOK','length','skip','exec','741546YNYmdd','293816lceIJb','decorate','mapToAuditDto','auditModel'];a26_0xc66d=function(){return _0x2b7fb7;};return a26_0xc66d();}Object[a26_0x10548e(0x149)](exports,'__esModule',{'value':!![]}),exports['AuditService']=void 0x0;const common_1=require(a26_0x10548e(0x137)),mongoose_1=require('@nestjs/mongoose'),mongoose_2=require('mongoose'),mappers_1=require('./mappers');let AuditService=class AuditService{constructor(_0xbfe2a5){const _0x277450=a26_0x10548e;this[_0x277450(0x136)]=_0xbfe2a5;}async[a26_0x10548e(0x139)](_0x1b17e6){const _0xe100b9=a26_0x10548e,_0x45d6db=await this[_0xe100b9(0x136)][_0xe100b9(0x139)](_0x1b17e6);return _0x45d6db['save']();}async[a26_0x10548e(0x148)](_0x35bc47=0x1,_0x3369b5=0x1e){const _0x4aa9f7=a26_0x10548e,_0x2bafa8=_0x3369b5*(_0x35bc47-0x1),_0x5b11d3=await this['auditModel'][_0x4aa9f7(0x13c)](),_0x47a7cf=Math[_0x4aa9f7(0x12c)](_0x5b11d3/_0x3369b5),_0x45dcb4=await this['auditModel'][_0x4aa9f7(0x12b)]()[_0x4aa9f7(0x12d)]({'createdAtUtc':-0x1})[_0x4aa9f7(0x130)](_0x2bafa8)['limit'](_0x3369b5)[_0x4aa9f7(0x131)]();return{'data':_0x45dcb4['map'](mappers_1[_0x4aa9f7(0x135)]),'totalItems':_0x5b11d3,'currentPage':_0x35bc47,'totalPages':_0x47a7cf};}};AuditService=__decorate([(0x0,common_1[a26_0x10548e(0x141)])(),__param(0x0,(0x0,mongoose_1[a26_0x10548e(0x13a)])('Audit')),__metadata(a26_0x10548e(0x138),[mongoose_2[a26_0x10548e(0x145)]])],AuditService),exports[a26_0x10548e(0x143)]=AuditService;