'use strict';function a26_0x78c7(_0x14c180,_0x45f1e8){const _0x30cb25=a26_0x30cb();return a26_0x78c7=function(_0x78c7e1,_0x5f0922){_0x78c7e1=_0x78c7e1-0x1a0;let _0x3a8da2=_0x30cb25[_0x78c7e1];return _0x3a8da2;},a26_0x78c7(_0x14c180,_0x45f1e8);}const a26_0x5aaa0c=a26_0x78c7;function a26_0x30cb(){const _0xe84242=['__metadata','__esModule','1114768YeAOLL','21PQxiCG','decorate','defineProperty','ceil','__param','findAuditsPaginated','Audit','1062874tQydaQ','auditModel','@nestjs/common','AuditService','getOwnPropertyDescriptor','function','@nestjs/mongoose','countDocuments','57282YdfECy','1935dHnRqt','18KMDxaQ','map','265BPsCZA','2974180BJOlBJ','1158920TXLOqr','sort','create','1345950wjelbB','Model','9736ikesXT','design:paramtypes','object','metadata','find','exec'];a26_0x30cb=function(){return _0xe84242;};return a26_0x30cb();}(function(_0x2daeca,_0x5a13f1){const _0x3c6f0e=a26_0x78c7,_0x58881e=_0x2daeca();while(!![]){try{const _0x4b411f=-parseInt(_0x3c6f0e(0x1a3))/0x1+-parseInt(_0x3c6f0e(0x1b4))/0x2+parseInt(_0x3c6f0e(0x1ac))/0x3*(parseInt(_0x3c6f0e(0x1b6))/0x4)+-parseInt(_0x3c6f0e(0x1af))/0x5*(-parseInt(_0x3c6f0e(0x1ab))/0x6)+parseInt(_0x3c6f0e(0x1bf))/0x7*(parseInt(_0x3c6f0e(0x1be))/0x8)+-parseInt(_0x3c6f0e(0x1ad))/0x9*(parseInt(_0x3c6f0e(0x1b1))/0xa)+parseInt(_0x3c6f0e(0x1b0))/0xb;if(_0x4b411f===_0x5a13f1)break;else _0x58881e['push'](_0x58881e['shift']());}catch(_0x90e3f6){_0x58881e['push'](_0x58881e['shift']());}}}(a26_0x30cb,0xc2822));var __decorate=this&&this['__decorate']||function(_0x12a233,_0x2c9b2e,_0x20b0f5,_0x564773){const _0x1abef2=a26_0x78c7;var _0x19366d=arguments['length'],_0xce7356=_0x19366d<0x3?_0x2c9b2e:_0x564773===null?_0x564773=Object[_0x1abef2(0x1a7)](_0x2c9b2e,_0x20b0f5):_0x564773,_0x1bd869;if(typeof Reflect===_0x1abef2(0x1b8)&&typeof Reflect[_0x1abef2(0x1c0)]==='function')_0xce7356=Reflect[_0x1abef2(0x1c0)](_0x12a233,_0x2c9b2e,_0x20b0f5,_0x564773);else{for(var _0x8a8db2=_0x12a233['length']-0x1;_0x8a8db2>=0x0;_0x8a8db2--)if(_0x1bd869=_0x12a233[_0x8a8db2])_0xce7356=(_0x19366d<0x3?_0x1bd869(_0xce7356):_0x19366d>0x3?_0x1bd869(_0x2c9b2e,_0x20b0f5,_0xce7356):_0x1bd869(_0x2c9b2e,_0x20b0f5))||_0xce7356;}return _0x19366d>0x3&&_0xce7356&&Object[_0x1abef2(0x1c1)](_0x2c9b2e,_0x20b0f5,_0xce7356),_0xce7356;},__metadata=this&&this[a26_0x5aaa0c(0x1bc)]||function(_0x1f5ee2,_0x55fad0){const _0x3d37bb=a26_0x5aaa0c;if(typeof Reflect==='object'&&typeof Reflect[_0x3d37bb(0x1b9)]===_0x3d37bb(0x1a8))return Reflect['metadata'](_0x1f5ee2,_0x55fad0);},__param=this&&this[a26_0x5aaa0c(0x1a0)]||function(_0x307c69,_0x3e1244){return function(_0x532343,_0x1faf80){_0x3e1244(_0x532343,_0x1faf80,_0x307c69);};};Object['defineProperty'](exports,a26_0x5aaa0c(0x1bd),{'value':!![]}),exports['AuditService']=void 0x0;const common_1=require(a26_0x5aaa0c(0x1a5)),mongoose_1=require(a26_0x5aaa0c(0x1a9)),mongoose_2=require('mongoose'),mappers_1=require('./mappers');let AuditService=class AuditService{constructor(_0x44ad0f){this['auditModel']=_0x44ad0f;}async[a26_0x5aaa0c(0x1b3)](_0x4c517d){const _0x2b52ae=a26_0x5aaa0c,_0x2a39c7=await this[_0x2b52ae(0x1a4)][_0x2b52ae(0x1b3)](_0x4c517d);return _0x2a39c7['save']();}async[a26_0x5aaa0c(0x1a1)](_0x2aa1ab=0x1,_0x189c84=0x1e){const _0x547dc3=a26_0x5aaa0c,_0x762e78=_0x189c84*(_0x2aa1ab-0x1),_0x35e106=await this[_0x547dc3(0x1a4)][_0x547dc3(0x1aa)](),_0x454a42=Math[_0x547dc3(0x1c2)](_0x35e106/_0x189c84),_0x43104c=await this['auditModel'][_0x547dc3(0x1ba)]()[_0x547dc3(0x1b2)]({'createdAtUtc':-0x1})['skip'](_0x762e78)['limit'](_0x189c84)[_0x547dc3(0x1bb)]();return{'data':_0x43104c[_0x547dc3(0x1ae)](mappers_1['mapToAuditDto']),'totalItems':_0x35e106,'currentPage':_0x2aa1ab,'totalPages':_0x454a42};}};AuditService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,mongoose_1['InjectModel'])(a26_0x5aaa0c(0x1a2))),__metadata(a26_0x5aaa0c(0x1b7),[mongoose_2[a26_0x5aaa0c(0x1b5)]])],AuditService),exports[a26_0x5aaa0c(0x1a6)]=AuditService;